{
  "version": 3,
  "sources": ["../../@react-aria/utils/node_modules/@react-aria/ssr/dist/packages/@react-aria/ssr/src/index.ts", "../../@react-aria/utils/node_modules/@react-aria/ssr/dist/packages/@react-aria/ssr/src/SSRProvider.tsx", "../../clsx/dist/clsx.mjs", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/index.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useId.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useLayoutEffect.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useValueEffect.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useEffectEvent.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/chain.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/domHelpers.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/mergeProps.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/mergeRefs.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/filterDOMProps.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/focusWithoutScrolling.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/getOffset.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/openLink.tsx", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/platform.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/runAfterTransition.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useDrag1D.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useGlobalListeners.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useLabels.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useObjectRef.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useUpdateEffect.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useResizeObserver.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useSyncRef.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/getScrollParent.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useViewportSize.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useDescription.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useEvent.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/scrollIntoView.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/isVirtualEvent.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useDeepMemo.ts", "../../@react-aria/utils/dist/packages/@react-aria/utils/src/useFormReset.ts", "../../@swc/helpers/esm/_class_apply_descriptor_get.js", "../../@swc/helpers/esm/_class_extract_field_descriptor.js", "../../@swc/helpers/esm/_class_private_field_get.js", "../../@swc/helpers/esm/_check_private_redeclaration.js", "../../@swc/helpers/esm/_class_private_field_init.js", "../../@swc/helpers/esm/_class_apply_descriptor_set.js", "../../@swc/helpers/esm/_class_private_field_set.js", "../../@react-aria/focus/node_modules/@react-aria/ssr/dist/packages/@react-aria/ssr/src/index.ts", "../../@react-aria/focus/node_modules/@react-aria/ssr/dist/packages/@react-aria/ssr/src/SSRProvider.tsx", "../../@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/index.ts", "../../@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/Pressable.tsx", "../../@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/usePress.ts", "../../@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/textSelection.ts", "../../@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/context.ts", "../../@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/PressResponder.tsx", "../../@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useFocus.ts", "../../@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/utils.ts", "../../@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useFocusVisible.ts", "../../@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useFocusWithin.ts", "../../@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useHover.ts", "../../@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useInteractOutside.ts", "../../@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useKeyboard.ts", "../../@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/createEventHandler.ts", "../../@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useMove.ts", "../../@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useScrollWheel.ts", "../../@react-aria/focus/node_modules/@react-aria/interactions/dist/packages/@react-aria/interactions/src/useLongPress.ts", "../../@react-aria/focus/dist/packages/@react-aria/focus/src/index.ts", "../../@react-aria/focus/dist/packages/@react-aria/focus/src/FocusScope.tsx", "../../@react-aria/focus/dist/packages/@react-aria/focus/src/focusSafely.ts", "../../@react-aria/focus/dist/packages/@react-aria/focus/src/isElementVisible.ts", "../../@react-aria/focus/dist/packages/@react-aria/focus/src/FocusRing.tsx", "../../@react-aria/focus/dist/packages/@react-aria/focus/src/useFocusRing.ts", "../../@react-aria/focus/dist/packages/@react-aria/focus/src/useFocusable.tsx", "../../@react-aria/focus/dist/packages/@react-aria/focus/src/useHasTabbableChild.ts", "../../@react-aria/ssr/dist/packages/@react-aria/ssr/src/index.ts", "../../@react-aria/ssr/dist/packages/@react-aria/ssr/src/SSRProvider.tsx", "../../@react-aria/interactions/node_modules/clsx/dist/clsx.m.js", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/index.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useId.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useLayoutEffect.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useValueEffect.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useEffectEvent.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/chain.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/domHelpers.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/mergeProps.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/mergeRefs.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/filterDOMProps.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/focusWithoutScrolling.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/getOffset.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/openLink.tsx", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/platform.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/runAfterTransition.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useDrag1D.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useGlobalListeners.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useLabels.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useObjectRef.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useUpdateEffect.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useResizeObserver.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useSyncRef.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/getScrollParent.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useViewportSize.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useDescription.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useEvent.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/scrollIntoView.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/isVirtualEvent.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useDeepMemo.ts", "../../@react-aria/interactions/node_modules/@react-aria/utils/dist/packages/@react-aria/utils/src/useFormReset.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/index.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/Pressable.tsx", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/usePress.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/textSelection.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/context.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/PressResponder.tsx", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/useFocus.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/utils.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/useFocusVisible.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/useFocusWithin.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/useHover.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/useInteractOutside.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/useKeyboard.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/createEventHandler.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/useMove.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/useScrollWheel.ts", "../../@react-aria/interactions/dist/packages/@react-aria/interactions/src/useLongPress.ts", "../../@headlessui/react/dist/components/button/button.js", "../../@headlessui/react/dist/hooks/use-active-press.js", "../../@headlessui/react/dist/utils/env.js", "../../@headlessui/react/dist/utils/owner.js", "../../@headlessui/react/dist/utils/platform.js", "../../@headlessui/react/dist/use-sync-external-store-shim/index.js", "../../@headlessui/react/dist/use-sync-external-store-shim/useSyncExternalStoreShimClient.js", "../../@headlessui/react/dist/use-sync-external-store-shim/useSyncExternalStoreShimServer.js", "../../@headlessui/react/dist/hooks/use-store.js", "../../@headlessui/react/dist/hooks/use-iso-morphic-effect.js", "../../@headlessui/react/dist/utils/micro-task.js", "../../@headlessui/react/dist/utils/disposables.js", "../../@headlessui/react/dist/utils/store.js", "../../@headlessui/react/dist/hooks/document-overflow/adjust-scrollbar-padding.js", "../../@headlessui/react/dist/hooks/document-overflow/handle-ios-locking.js", "../../@headlessui/react/dist/hooks/document-overflow/prevent-scroll.js", "../../@headlessui/react/dist/hooks/document-overflow/overflow-store.js", "../../@headlessui/react/dist/hooks/document-overflow/use-document-overflow.js", "../../@headlessui/react/dist/hooks/use-disposables.js", "../../@headlessui/react/dist/hooks/use-event.js", "../../@headlessui/react/dist/hooks/use-latest-value.js", "../../@headlessui/react/dist/hooks/use-is-touch-device.js", "../../@headlessui/react/dist/hooks/use-owner.js", "../../@headlessui/react/dist/internal/disabled.js", "../../@headlessui/react/dist/utils/render.js", "../../@headlessui/react/dist/utils/class-names.js", "../../@headlessui/react/dist/utils/match.js", "../../@headlessui/react/dist/components/checkbox/checkbox.js", "../../@headlessui/react/dist/hooks/use-controllable.js", "../../@headlessui/react/dist/hooks/use-id.js", "../../@headlessui/react/dist/hooks/use-server-handoff-complete.js", "../../@headlessui/react/dist/internal/form-fields.js", "../../@headlessui/react/dist/utils/form.js", "../../@headlessui/react/dist/internal/hidden.js", "../../@headlessui/react/dist/internal/id.js", "../../@headlessui/react/dist/utils/bugs.js", "../../@headlessui/react/dist/components/description/description.js", "../../@headlessui/react/dist/hooks/use-sync-refs.js", "../../@headlessui/react/dist/components/keyboard.js", "../../@headlessui/react/dist/components/label/label.js", "../../@tanstack/react-virtual/build/lib/_virtual/_rollupPluginBabelHelpers.mjs", "../../@tanstack/virtual-core/build/lib/_virtual/_rollupPluginBabelHelpers.mjs", "../../@tanstack/virtual-core/src/utils.ts", "../../@tanstack/virtual-core/src/index.ts", "../../@tanstack/react-virtual/src/index.tsx", "../../@headlessui/react/dist/components/combobox/combobox.js", "../../@headlessui/react/dist/hooks/use-by-comparator.js", "../../@headlessui/react/dist/hooks/use-outside-click.js", "../../@headlessui/react/dist/utils/focus-management.js", "../../@headlessui/react/dist/hooks/use-document-event.js", "../../@headlessui/react/dist/hooks/use-window-event.js", "../../@headlessui/react/dist/hooks/use-resolve-button-type.js", "../../@headlessui/react/dist/hooks/use-tracked-pointer.js", "../../@headlessui/react/dist/hooks/use-tree-walker.js", "../../@headlessui/react/dist/hooks/use-watch.js", "../../@floating-ui/react/dist/floating-ui.react.mjs", "../../@floating-ui/utils/dist/floating-ui.utils.dom.mjs", "../../@floating-ui/react/dist/floating-ui.react.utils.mjs", "../../@floating-ui/utils/dist/floating-ui.utils.mjs", "../../@floating-ui/core/dist/floating-ui.core.mjs", "../../@floating-ui/dom/dist/floating-ui.dom.mjs", "../../@floating-ui/react-dom/dist/floating-ui.react-dom.mjs", "../../tabbable/src/index.js", "../../@headlessui/react/dist/internal/floating.js", "../../@headlessui/react/dist/internal/open-closed.js", "../../@headlessui/react/dist/utils/document-ready.js", "../../@headlessui/react/dist/utils/active-element-history.js", "../../@headlessui/react/dist/utils/calculate-active-index.js", "../../@headlessui/react/dist/components/data-interactive/data-interactive.js", "../../@headlessui/react/dist/components/dialog/dialog.js", "../../@headlessui/react/dist/hooks/use-event-listener.js", "../../@headlessui/react/dist/hooks/use-inert.js", "../../@headlessui/react/dist/hooks/use-root-containers.js", "../../@headlessui/react/dist/internal/portal-force-root.js", "../../@headlessui/react/dist/internal/stack-context.js", "../../@headlessui/react/dist/components/focus-trap/focus-trap.js", "../../@headlessui/react/dist/hooks/use-is-mounted.js", "../../@headlessui/react/dist/hooks/use-on-unmount.js", "../../@headlessui/react/dist/hooks/use-tab-direction.js", "../../@headlessui/react/dist/components/portal/portal.js", "../../@headlessui/react/dist/components/disclosure/disclosure.js", "../../@headlessui/react/dist/utils/start-transition.js", "../../@headlessui/react/dist/components/field/field.js", "../../@headlessui/react/dist/components/fieldset/fieldset.js", "../../@headlessui/react/dist/components/input/input.js", "../../@headlessui/react/dist/components/legend/legend.js", "../../@headlessui/react/dist/components/listbox/listbox.js", "../../@headlessui/react/dist/hooks/use-computed.js", "../../@headlessui/react/dist/hooks/use-element-size.js", "../../@headlessui/react/dist/hooks/use-text-value.js", "../../@headlessui/react/dist/utils/get-text-value.js", "../../@headlessui/react/dist/internal/modal.js", "../../@headlessui/react/dist/components/menu/menu.js", "../../@headlessui/react/dist/hooks/use-did-element-move.js", "../../@headlessui/react/dist/components/popover/popover.js", "../../@headlessui/react/dist/components/radio-group/radio-group.js", "../../@headlessui/react/dist/components/select/select.js", "../../@headlessui/react/dist/components/switch/switch.js", "../../@headlessui/react/dist/components/tabs/tabs.js", "../../@headlessui/react/dist/internal/focus-sentinel.js", "../../@headlessui/react/dist/utils/stable-collection.js", "../../@headlessui/react/dist/components/textarea/textarea.js", "../../@headlessui/react/dist/components/transition/transition.js", "../../@headlessui/react/dist/hooks/use-flags.js", "../../@headlessui/react/dist/utils/once.js", "../../@headlessui/react/dist/components/transition/utils/transition.js", "../../@headlessui/react/dist/hooks/use-transition.js"],
  "sourcesContent": ["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nexport {SSRProvider, useSSRSafeId, useIsSSR} from './SSRProvider';\nexport type {SSRProviderProps} from './SSRProvider';\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// We must avoid a circular dependency with @react-aria/utils, and this useLayoutEffect is\n// guarded by a check that it only runs on the client side.\n// eslint-disable-next-line rulesdir/useLayoutEffectRule\nimport React, {JSX, ReactNode, useContext, useLayoutEffect, useMemo, useRef, useState} from 'react';\n\n// To support SSR, the auto incrementing id counter is stored in a context. This allows\n// it to be reset on every request to ensure the client and server are consistent.\n// There is also a prefix string that is used to support async loading components\n// Each async boundary must be wrapped in an SSR provider, which appends to the prefix\n// and resets the current id counter. This ensures that async loaded components have\n// consistent ids regardless of the loading order.\ninterface SSRContextValue {\n  prefix: string,\n  current: number\n}\n\n// Default context value to use in case there is no SSRProvider. This is fine for\n// client-only apps. In order to support multiple copies of React Aria potentially\n// being on the page at once, the prefix is set to a random number. SSRProvider\n// will reset this to zero for consistency between server and client, so in the\n// SSR case multiple copies of React Aria is not supported.\nconst defaultContext: SSRContextValue = {\n  prefix: String(Math.round(Math.random() * 10000000000)),\n  current: 0\n};\n\nconst SSRContext = React.createContext<SSRContextValue>(defaultContext);\nconst IsSSRContext = React.createContext(false);\n\nexport interface SSRProviderProps {\n  /** Your application here. */\n  children: ReactNode\n}\n\n// This is only used in React < 18.\nfunction LegacySSRProvider(props: SSRProviderProps): JSX.Element {\n  let cur = useContext(SSRContext);\n  let counter = useCounter(cur === defaultContext);\n  let [isSSR, setIsSSR] = useState(true);\n  let value: SSRContextValue = useMemo(() => ({\n    // If this is the first SSRProvider, start with an empty string prefix, otherwise\n    // append and increment the counter.\n    prefix: cur === defaultContext ? '' : `${cur.prefix}-${counter}`,\n    current: 0\n  }), [cur, counter]);\n\n  // If on the client, and the component was initially server rendered,\n  // then schedule a layout effect to update the component after hydration.\n  if (typeof document !== 'undefined') {\n    // This if statement technically breaks the rules of hooks, but is safe\n    // because the condition never changes after mounting.\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useLayoutEffect(() => {\n      setIsSSR(false);\n    }, []);\n  }\n\n  return (\n    <SSRContext.Provider value={value}>\n      <IsSSRContext.Provider value={isSSR}>\n        {props.children}\n      </IsSSRContext.Provider>\n    </SSRContext.Provider>\n  );\n}\n\nlet warnedAboutSSRProvider = false;\n\n/**\n * When using SSR with React Aria in React 16 or 17, applications must be wrapped in an SSRProvider.\n * This ensures that auto generated ids are consistent between the client and server.\n */\nexport function SSRProvider(props: SSRProviderProps): JSX.Element {\n  if (typeof React['useId'] === 'function') {\n    if (process.env.NODE_ENV !== 'test' && !warnedAboutSSRProvider) {\n      console.warn('In React 18, SSRProvider is not necessary and is a noop. You can remove it from your app.');\n      warnedAboutSSRProvider = true;\n    }\n    return <>{props.children}</>;\n  }\n  return <LegacySSRProvider {...props} />;\n}\n\nlet canUseDOM = Boolean(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n\nlet componentIds = new WeakMap();\n\nfunction useCounter(isDisabled = false) {\n  let ctx = useContext(SSRContext);\n  let ref = useRef<number | null>(null);\n  // eslint-disable-next-line rulesdir/pure-render\n  if (ref.current === null && !isDisabled) {\n    // In strict mode, React renders components twice, and the ref will be reset to null on the second render.\n    // This means our id counter will be incremented twice instead of once. This is a problem because on the\n    // server, components are only rendered once and so ids generated on the server won't match the client.\n    // In React 18, useId was introduced to solve this, but it is not available in older versions. So to solve this\n    // we need to use some React internals to access the underlying Fiber instance, which is stable between renders.\n    // This is exposed as ReactCurrentOwner in development, which is all we need since StrictMode only runs in development.\n    // To ensure that we only increment the global counter once, we store the starting id for this component in\n    // a weak map associated with the Fiber. On the second render, we reset the global counter to this value.\n    // Since React runs the second render immediately after the first, this is safe.\n    // @ts-ignore\n    let currentOwner = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED?.ReactCurrentOwner?.current;\n    if (currentOwner) {\n      let prevComponentValue = componentIds.get(currentOwner);\n      if (prevComponentValue == null) {\n        // On the first render, and first call to useId, store the id and state in our weak map.\n        componentIds.set(currentOwner, {\n          id: ctx.current,\n          state: currentOwner.memoizedState\n        });\n      } else if (currentOwner.memoizedState !== prevComponentValue.state) {\n        // On the second render, the memoizedState gets reset by React.\n        // Reset the counter, and remove from the weak map so we don't\n        // do this for subsequent useId calls.\n        ctx.current = prevComponentValue.id;\n        componentIds.delete(currentOwner);\n      }\n    }\n\n    // eslint-disable-next-line rulesdir/pure-render\n    ref.current = ++ctx.current;\n  }\n\n  // eslint-disable-next-line rulesdir/pure-render\n  return ref.current;\n}\n\nfunction useLegacySSRSafeId(defaultId?: string): string {\n  let ctx = useContext(SSRContext);\n\n  // If we are rendering in a non-DOM environment, and there's no SSRProvider,\n  // provide a warning to hint to the developer to add one.\n  if (ctx === defaultContext && !canUseDOM) {\n    console.warn('When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.');\n  }\n\n  let counter = useCounter(!!defaultId);\n  let prefix = ctx === defaultContext && process.env.NODE_ENV === 'test' ? 'react-aria' : `react-aria${ctx.prefix}`;\n  return defaultId || `${prefix}-${counter}`;\n}\n\nfunction useModernSSRSafeId(defaultId?: string): string {\n  // @ts-ignore\n  let id = React.useId();\n  let [didSSR] = useState(useIsSSR());\n  let prefix = didSSR || process.env.NODE_ENV === 'test' ? 'react-aria' : `react-aria${defaultContext.prefix}`;\n  return defaultId || `${prefix}-${id}`;\n}\n\n// Use React.useId in React 18 if available, otherwise fall back to our old implementation.\n/** @private */\nexport const useSSRSafeId = typeof React['useId'] === 'function' ? useModernSSRSafeId : useLegacySSRSafeId;\n\nfunction getSnapshot() {\n  return false;\n}\n\nfunction getServerSnapshot() {\n  return true;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction subscribe(onStoreChange: () => void): () => void {\n  // noop\n  return () => {};\n}\n\n/**\n * Returns whether the component is currently being server side rendered or\n * hydrated on the client. Can be used to delay browser-specific rendering\n * until after hydration.\n */\nexport function useIsSSR(): boolean {\n  // In React 18, we can use useSyncExternalStore to detect if we're server rendering or hydrating.\n  if (typeof React['useSyncExternalStore'] === 'function') {\n    return React['useSyncExternalStore'](subscribe, getSnapshot, getServerSnapshot);\n  }\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  return useContext(IsSSRContext);\n}\n", "function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nexport {useId, mergeIds, useSlotId} from './useId';\nexport {chain} from './chain';\nexport {getOwnerDocument, getOwnerWindow} from './domHelpers';\nexport {mergeProps} from './mergeProps';\nexport {mergeRefs} from './mergeRefs';\nexport {filterDOMProps} from './filterDOMProps';\nexport {focusWithoutScrolling} from './focusWithoutScrolling';\nexport {getOffset} from './getOffset';\nexport {openLink, getSyntheticLinkProps, RouterProvider, shouldClientNavigate, useRouter} from './openLink';\nexport {runAfterTransition} from './runAfterTransition';\nexport {useDrag1D} from './useDrag1D';\nexport {useGlobalListeners} from './useGlobalListeners';\nexport {useLabels} from './useLabels';\nexport {useObjectRef} from './useObjectRef';\nexport {useUpdateEffect} from './useUpdateEffect';\nexport {useLayoutEffect} from './useLayoutEffect';\nexport {useResizeObserver} from './useResizeObserver';\nexport {useSyncRef} from './useSyncRef';\nexport {getScrollParent, isScrollable} from './getScrollParent';\nexport {useViewportSize} from './useViewportSize';\nexport {useDescription} from './useDescription';\nexport {isMac, isIPhone, isIPad, isIOS, isAppleDevice, isWebKit, isChrome, isAndroid, isFirefox} from './platform';\nexport {useEvent} from './useEvent';\nexport {useValueEffect} from './useValueEffect';\nexport {scrollIntoView, scrollIntoViewport} from './scrollIntoView';\nexport {clamp, snapValueToStep} from '@react-stately/utils';\nexport {isVirtualClick, isVirtualPointerEvent} from './isVirtualEvent';\nexport {useEffectEvent} from './useEffectEvent';\nexport {useDeepMemo} from './useDeepMemo';\nexport {useFormReset} from './useFormReset';\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useCallback, useEffect, useRef, useState} from 'react';\nimport {useLayoutEffect} from './useLayoutEffect';\nimport {useSSRSafeId} from '@react-aria/ssr';\nimport {useValueEffect} from './';\n\n// copied from SSRProvider.tsx to reduce exports, if needed again, consider sharing\nlet canUseDOM = Boolean(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n\nlet idsUpdaterMap: Map<string, (v: string) => void> = new Map();\n\n/**\n * If a default is not provided, generate an id.\n * @param defaultId - Default component id.\n */\nexport function useId(defaultId?: string): string {\n  let [value, setValue] = useState(defaultId);\n  let nextId = useRef(null);\n\n  let res = useSSRSafeId(value);\n\n  let updateValue = useCallback((val) => {\n    nextId.current = val;\n  }, []);\n\n  if (canUseDOM) {\n    idsUpdaterMap.set(res, updateValue);\n  }\n\n  useLayoutEffect(() => {\n    let r = res;\n    return () => {\n      idsUpdaterMap.delete(r);\n    };\n  }, [res]);\n\n  // This cannot cause an infinite loop because the ref is updated first.\n  // eslint-disable-next-line\n  useEffect(() => {\n    let newId = nextId.current;\n    if (newId) {\n      nextId.current = null;\n      setValue(newId);\n    }\n  });\n\n  return res;\n}\n\n/**\n * Merges two ids.\n * Different ids will trigger a side-effect and re-render components hooked up with `useId`.\n */\nexport function mergeIds(idA: string, idB: string): string {\n  if (idA === idB) {\n    return idA;\n  }\n\n  let setIdA = idsUpdaterMap.get(idA);\n  if (setIdA) {\n    setIdA(idB);\n    return idB;\n  }\n\n  let setIdB = idsUpdaterMap.get(idB);\n  if (setIdB) {\n    setIdB(idA);\n    return idA;\n  }\n\n  return idB;\n}\n\n/**\n * Used to generate an id, and after render, check if that id is rendered so we know\n * if we can use it in places such as labelledby.\n * @param depArray - When to recalculate if the id is in the DOM.\n */\nexport function useSlotId(depArray: ReadonlyArray<any> = []): string {\n  let id = useId();\n  let [resolvedId, setResolvedId] = useValueEffect(id);\n  let updateId = useCallback(() => {\n    setResolvedId(function *() {\n      yield id;\n\n      yield document.getElementById(id) ? id : undefined;\n    });\n  }, [id, setResolvedId]);\n\n  useLayoutEffect(updateId, [id, updateId, ...depArray]);\n\n  return resolvedId;\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport React from 'react';\n\n// During SSR, React emits a warning when calling useLayoutEffect.\n// Since neither useLayoutEffect nor useEffect run on the server,\n// we can suppress this by replace it with a noop on the server.\nexport const useLayoutEffect = typeof document !== 'undefined'\n  ? React.useLayoutEffect\n  : () => {};\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Dispatch, MutableRefObject, useRef, useState} from 'react';\nimport {useEffectEvent, useLayoutEffect} from './';\n\ntype SetValueAction<S> = (prev: S) => Generator<any, void, unknown>;\n\n// This hook works like `useState`, but when setting the value, you pass a generator function\n// that can yield multiple values. Each yielded value updates the state and waits for the next\n// layout effect, then continues the generator. This allows sequential updates to state to be\n// written linearly.\nexport function useValueEffect<S>(defaultValue: S | (() => S)): [S, Dispatch<SetValueAction<S>>] {\n  let [value, setValue] = useState(defaultValue);\n  let effect: MutableRefObject<Generator<S> | null> = useRef<Generator<S> | null>(null);\n\n  // Store the function in a ref so we can always access the current version\n  // which has the proper `value` in scope.\n  let nextRef = useEffectEvent(() => {\n    if (!effect.current) {\n      return;\n    }\n    // Run the generator to the next yield.\n    let newValue = effect.current.next();\n\n    // If the generator is done, reset the effect.\n    if (newValue.done) {\n      effect.current = null;\n      return;\n    }\n\n    // If the value is the same as the current value,\n    // then continue to the next yield. Otherwise,\n    // set the value in state and wait for the next layout effect.\n    if (value === newValue.value) {\n      nextRef();\n    } else {\n      setValue(newValue.value);\n    }\n  });\n\n  useLayoutEffect(() => {\n    // If there is an effect currently running, continue to the next yield.\n    if (effect.current) {\n      nextRef();\n    }\n  });\n\n  let queue = useEffectEvent(fn => {\n    effect.current = fn(value);\n    nextRef();\n  });\n\n  return [value, queue];\n}\n", "/*\n * Copyright 2023 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useCallback, useRef} from 'react';\nimport {useLayoutEffect} from './useLayoutEffect';\n\nexport function useEffectEvent<T extends Function>(fn?: T): T {\n  const ref = useRef<T | null | undefined>(null);\n  useLayoutEffect(() => {\n    ref.current = fn;\n  }, [fn]);\n  // @ts-ignore\n  return useCallback<T>((...args) => {\n    const f = ref.current!;\n    return f?.(...args);\n  }, []);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n/**\n * Calls all functions in the order they were chained with the same arguments.\n */\nexport function chain(...callbacks: any[]): (...args: any[]) => void {\n  return (...args: any[]) => {\n    for (let callback of callbacks) {\n      if (typeof callback === 'function') {\n        callback(...args);\n      }\n    }\n  };\n}\n", "export const getOwnerDocument = (el: Element | null | undefined): Document => {\n  return el?.ownerDocument ?? document;\n};\n\nexport const getOwnerWindow = (\n  el: (Window & typeof global) | Element | null | undefined\n): Window & typeof global => {\n  if (el && 'window' in el && el.window === el) {\n    return el;\n  }\n\n  const doc = getOwnerDocument(el as Element | null | undefined);\n  return doc.defaultView || window;\n};\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {chain} from './chain';\nimport clsx from 'clsx';\nimport {mergeIds} from './useId';\n\ninterface Props {\n  [key: string]: any\n}\n\ntype PropsArg = Props | null | undefined;\n\n// taken from: https://stackoverflow.com/questions/51603250/typescript-3-parameter-list-intersection-type/51604379#51604379\ntype TupleTypes<T> = { [P in keyof T]: T[P] } extends { [key: number]: infer V } ? NullToObject<V> : never;\ntype NullToObject<T> = T extends (null | undefined) ? {} : T;\n// eslint-disable-next-line no-undef, @typescript-eslint/no-unused-vars\ntype UnionToIntersection<U> = (U extends any ? (k: U) => void : never) extends ((k: infer I) => void) ? I : never;\n\n/**\n * Merges multiple props objects together. Event handlers are chained,\n * classNames are combined, and ids are deduplicated - different ids\n * will trigger a side-effect and re-render components hooked up with `useId`.\n * For all other props, the last prop object overrides all previous ones.\n * @param args - Multiple sets of props to merge together.\n */\nexport function mergeProps<T extends PropsArg[]>(...args: T): UnionToIntersection<TupleTypes<T>> {\n  // Start with a base clone of the first argument. This is a lot faster than starting\n  // with an empty object and adding properties as we go.\n  let result: Props = {...args[0]};\n  for (let i = 1; i < args.length; i++) {\n    let props = args[i];\n    for (let key in props) {\n      let a = result[key];\n      let b = props[key];\n\n      // Chain events\n      if (\n        typeof a === 'function' &&\n        typeof b === 'function' &&\n        // This is a lot faster than a regex.\n        key[0] === 'o' &&\n        key[1] === 'n' &&\n        key.charCodeAt(2) >= /* 'A' */ 65 &&\n        key.charCodeAt(2) <= /* 'Z' */ 90\n      ) {\n        result[key] = chain(a, b);\n\n        // Merge classnames, sometimes classNames are empty string which eval to false, so we just need to do a type check\n      } else if (\n        (key === 'className' || key === 'UNSAFE_className') &&\n        typeof a === 'string' &&\n        typeof b === 'string'\n      ) {\n        result[key] = clsx(a, b);\n      } else if (key === 'id' && a && b) {\n        result.id = mergeIds(a, b);\n        // Override others\n      } else {\n        result[key] = b !== undefined ? b : a;\n      }\n    }\n  }\n\n  return result as UnionToIntersection<TupleTypes<T>>;\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {ForwardedRef} from 'react';\n\n/**\n * Merges multiple refs into one. Works with either callback or object refs.\n */\nexport function mergeRefs<T>(...refs: ForwardedRef<T>[]): ForwardedRef<T> {\n  if (refs.length === 1) {\n    return refs[0];\n  }\n\n  return (value: T | null) => {\n    for (let ref of refs) {\n      if (typeof ref === 'function') {\n        ref(value);\n      } else if (ref != null) {\n        ref.current = value;\n      }\n    }\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaLabelingProps, DOMProps, LinkDOMProps} from '@react-types/shared';\n\nconst DOMPropNames = new Set([\n  'id'\n]);\n\nconst labelablePropNames = new Set([\n  'aria-label',\n  'aria-labelledby',\n  'aria-describedby',\n  'aria-details'\n]);\n\n// See LinkDOMProps in dom.d.ts.\nconst linkPropNames = new Set([\n  'href',\n  'target',\n  'rel',\n  'download',\n  'ping',\n  'referrerPolicy'\n]);\n\ninterface Options {\n  /**\n   * If labelling associated aria properties should be included in the filter.\n   */\n  labelable?: boolean,\n  /** Whether the element is a link and should include DOM props for <a> elements. */\n  isLink?: boolean,\n  /**\n   * A Set of other property names that should be included in the filter.\n   */\n  propNames?: Set<string>\n}\n\nconst propRe = /^(data-.*)$/;\n\n/**\n * Filters out all props that aren't valid DOM props or defined via override prop obj.\n * @param props - The component props to be filtered.\n * @param opts - Props to override.\n */\nexport function filterDOMProps(props: DOMProps & AriaLabelingProps & LinkDOMProps, opts: Options = {}): DOMProps & AriaLabelingProps {\n  let {labelable, isLink, propNames} = opts;\n  let filteredProps = {};\n\n  for (const prop in props) {\n    if (\n      Object.prototype.hasOwnProperty.call(props, prop) && (\n        DOMPropNames.has(prop) ||\n        (labelable && labelablePropNames.has(prop)) ||\n        (isLink && linkPropNames.has(prop)) ||\n        propNames?.has(prop) ||\n        propRe.test(prop)\n      )\n    ) {\n      filteredProps[prop] = props[prop];\n    }\n  }\n\n  return filteredProps;\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableElement} from '@react-types/shared';\n\n// This is a polyfill for element.focus({preventScroll: true});\n// Currently necessary for Safari and old Edge:\n// https://caniuse.com/#feat=mdn-api_htmlelement_focus_preventscroll_option\n// See https://bugs.webkit.org/show_bug.cgi?id=178583\n//\n\n// Original licensing for the following methods can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/calvellido/focus-options-polyfill\n\ninterface ScrollableElement {\n  element: HTMLElement,\n  scrollTop: number,\n  scrollLeft: number\n}\n\nexport function focusWithoutScrolling(element: FocusableElement) {\n  if (supportsPreventScroll()) {\n    element.focus({preventScroll: true});\n  } else {\n    let scrollableElements = getScrollableElements(element);\n    element.focus();\n    restoreScrollPosition(scrollableElements);\n  }\n}\n\nlet supportsPreventScrollCached: boolean | null = null;\nfunction supportsPreventScroll() {\n  if (supportsPreventScrollCached == null) {\n    supportsPreventScrollCached = false;\n    try {\n      let focusElem = document.createElement('div');\n      focusElem.focus({\n        get preventScroll() {\n          supportsPreventScrollCached = true;\n          return true;\n        }\n      });\n    } catch (e) {\n      // Ignore\n    }\n  }\n\n  return supportsPreventScrollCached;\n}\n\nfunction getScrollableElements(element: FocusableElement): ScrollableElement[] {\n  let parent = element.parentNode;\n  let scrollableElements: ScrollableElement[] = [];\n  let rootScrollingElement = document.scrollingElement || document.documentElement;\n\n  while (parent instanceof HTMLElement && parent !== rootScrollingElement) {\n    if (\n      parent.offsetHeight < parent.scrollHeight ||\n      parent.offsetWidth < parent.scrollWidth\n    ) {\n      scrollableElements.push({\n        element: parent,\n        scrollTop: parent.scrollTop,\n        scrollLeft: parent.scrollLeft\n      });\n    }\n    parent = parent.parentNode;\n  }\n\n  if (rootScrollingElement instanceof HTMLElement) {\n    scrollableElements.push({\n      element: rootScrollingElement,\n      scrollTop: rootScrollingElement.scrollTop,\n      scrollLeft: rootScrollingElement.scrollLeft\n    });\n  }\n\n  return scrollableElements;\n}\n\nfunction restoreScrollPosition(scrollableElements: ScrollableElement[]) {\n  for (let {element, scrollTop, scrollLeft} of scrollableElements) {\n    element.scrollTop = scrollTop;\n    element.scrollLeft = scrollLeft;\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport function getOffset(element, reverse, orientation = 'horizontal') {\n  let rect = element.getBoundingClientRect();\n  if (reverse) {\n    return orientation === 'horizontal' ? rect.right : rect.bottom;\n  }\n  return orientation === 'horizontal' ? rect.left : rect.top;\n}\n", "/*\n * Copyright 2023 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {focusWithoutScrolling, isMac, isWebKit} from './index';\nimport {isFirefox, isIPad} from './platform';\nimport {LinkDOMProps} from '@react-types/shared';\nimport React, {createContext, ReactNode, useContext, useMemo} from 'react';\n\ninterface Router {\n  isNative: boolean,\n  open: (target: Element, modifiers: Modifiers) => void\n}\n\nconst RouterContext = createContext<Router>({\n  isNative: true,\n  open: openSyntheticLink\n});\n\ninterface RouterProviderProps {\n  navigate: (path: string) => void,\n  children: ReactNode\n}\n\n/**\n * A RouterProvider accepts a `navigate` function from a framework or client side router,\n * and provides it to all nested React Aria links to enable client side navigation.\n */\nexport function RouterProvider(props: RouterProviderProps) {\n  let {children, navigate} = props;\n\n  let ctx = useMemo(() => ({\n    isNative: false,\n    open: (target: Element, modifiers: Modifiers) => {\n      getSyntheticLink(target, link => {\n        if (shouldClientNavigate(link, modifiers)) {\n          navigate(link.pathname + link.search + link.hash);\n        } else {\n          openLink(link, modifiers);\n        }\n      });\n    }\n  }), [navigate]);\n\n  return (\n    <RouterContext.Provider value={ctx}>\n      {children}\n    </RouterContext.Provider>\n  );\n}\n\nexport function useRouter(): Router {\n  return useContext(RouterContext);\n}\n\ninterface Modifiers {\n  metaKey?: boolean,\n  ctrlKey?: boolean,\n  altKey?: boolean,\n  shiftKey?: boolean\n}\n\nexport function shouldClientNavigate(link: HTMLAnchorElement, modifiers: Modifiers) {\n  // Use getAttribute here instead of link.target. Firefox will default link.target to \"_parent\" when inside an iframe.\n  let target = link.getAttribute('target');\n  return (\n    (!target || target === '_self') &&\n    link.origin === location.origin &&\n    !link.hasAttribute('download') &&\n    !modifiers.metaKey && // open in new tab (mac)\n    !modifiers.ctrlKey && // open in new tab (windows)\n    !modifiers.altKey && // download\n    !modifiers.shiftKey\n  );\n}\n\nexport function openLink(target: HTMLAnchorElement, modifiers: Modifiers, setOpening = true) {\n  let {metaKey, ctrlKey, altKey, shiftKey} = modifiers;\n\n  // Firefox does not recognize keyboard events as a user action by default, and the popup blocker\n  // will prevent links with target=\"_blank\" from opening. However, it does allow the event if the\n  // Command/Control key is held, which opens the link in a background tab. This seems like the best we can do.\n  // See https://bugzilla.mozilla.org/show_bug.cgi?id=257870 and https://bugzilla.mozilla.org/show_bug.cgi?id=746640.\n  if (isFirefox() && window.event?.type?.startsWith('key') && target.target === '_blank') {\n    if (isMac()) {\n      metaKey = true;\n    } else {\n      ctrlKey = true;\n    }\n  }\n\n  // WebKit does not support firing click events with modifier keys, but does support keyboard events.\n  // https://github.com/WebKit/WebKit/blob/c03d0ac6e6db178f90923a0a63080b5ca210d25f/Source/WebCore/html/HTMLAnchorElement.cpp#L184\n  let event = isWebKit() && isMac() && !isIPad() && process.env.NODE_ENV !== 'test'\n    // @ts-ignore - keyIdentifier is a non-standard property, but it's what webkit expects\n    ? new KeyboardEvent('keydown', {keyIdentifier: 'Enter', metaKey, ctrlKey, altKey, shiftKey})\n    : new MouseEvent('click', {metaKey, ctrlKey, altKey, shiftKey, bubbles: true, cancelable: true});\n  (openLink as any).isOpening = setOpening;\n  focusWithoutScrolling(target);\n  target.dispatchEvent(event);\n  (openLink as any).isOpening = false;\n}\n// https://github.com/parcel-bundler/parcel/issues/8724\n(openLink as any).isOpening = false;\n\nfunction getSyntheticLink(target: Element, open: (link: HTMLAnchorElement) => void) {\n  if (target instanceof HTMLAnchorElement) {\n    open(target);\n  } else if (target.hasAttribute('data-href')) {\n    let link = document.createElement('a');\n    link.href = target.getAttribute('data-href')!;\n    if (target.hasAttribute('data-target')) {\n      link.target = target.getAttribute('data-target')!;\n    }\n    if (target.hasAttribute('data-rel')) {\n      link.rel = target.getAttribute('data-rel')!;\n    }\n    if (target.hasAttribute('data-download')) {\n      link.download = target.getAttribute('data-download')!;\n    }\n    if (target.hasAttribute('data-ping')) {\n      link.ping = target.getAttribute('data-ping')!;\n    }\n    if (target.hasAttribute('data-referrer-policy')) {\n      link.referrerPolicy = target.getAttribute('data-referrer-policy')!;\n    }\n    target.appendChild(link);\n    open(link);\n    target.removeChild(link);\n  }\n}\n\nfunction openSyntheticLink(target: Element, modifiers: Modifiers) {\n  getSyntheticLink(target, link => openLink(link, modifiers));\n}\n\nexport function getSyntheticLinkProps(props: LinkDOMProps) {\n  return {\n    'data-href': props.href,\n    'data-target': props.target,\n    'data-rel': props.rel,\n    'data-download': props.download,\n    'data-ping': props.ping,\n    'data-referrer-policy': props.referrerPolicy\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nfunction testUserAgent(re: RegExp) {\n  if (typeof window === 'undefined' || window.navigator == null) {\n    return false;\n  }\n  return (\n    window.navigator['userAgentData']?.brands.some((brand: {brand: string, version: string}) => re.test(brand.brand))\n  ) ||\n  re.test(window.navigator.userAgent);\n}\n\nfunction testPlatform(re: RegExp) {\n  return typeof window !== 'undefined' && window.navigator != null\n    ? re.test(window.navigator['userAgentData']?.platform || window.navigator.platform)\n    : false;\n}\n\nexport function isMac() {\n  return testPlatform(/^Mac/i);\n}\n\nexport function isIPhone() {\n  return testPlatform(/^iPhone/i);\n}\n\nexport function isIPad() {\n  return testPlatform(/^iPad/i) ||\n    // iPadOS 13 lies and says it's a Mac, but we can distinguish by detecting touch support.\n    (isMac() && navigator.maxTouchPoints > 1);\n}\n\nexport function isIOS() {\n  return isIPhone() || isIPad();\n}\n\nexport function isAppleDevice() {\n  return isMac() || isIOS();\n}\n\nexport function isWebKit() {\n  return testUserAgent(/AppleWebKit/i) && !isChrome();\n}\n\nexport function isChrome() {\n  return testUserAgent(/Chrome/i);\n}\n\nexport function isAndroid() {\n  return testUserAgent(/Android/i);\n}\n\nexport function isFirefox() {\n  return testUserAgent(/Firefox/i);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// We store a global list of elements that are currently transitioning,\n// mapped to a set of CSS properties that are transitioning for that element.\n// This is necessary rather than a simple count of transitions because of browser\n// bugs, e.g. Chrome sometimes fires both transitionend and transitioncancel rather\n// than one or the other. So we need to track what's actually transitioning so that\n// we can ignore these duplicate events.\nlet transitionsByElement = new Map<EventTarget, Set<string>>();\n\n// A list of callbacks to call once there are no transitioning elements.\nlet transitionCallbacks = new Set<() => void>();\n\nfunction setupGlobalEvents() {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  function isTransitionEvent(event: Event): event is TransitionEvent {\n    return 'propertyName' in event;\n  }\n\n  let onTransitionStart = (e: Event) => {\n    if (!isTransitionEvent(e) || !e.target) {\n      return;\n    }\n    // Add the transitioning property to the list for this element.\n    let transitions = transitionsByElement.get(e.target);\n    if (!transitions) {\n      transitions = new Set();\n      transitionsByElement.set(e.target, transitions);\n\n      // The transitioncancel event must be registered on the element itself, rather than as a global\n      // event. This enables us to handle when the node is deleted from the document while it is transitioning.\n      // In that case, the cancel event would have nowhere to bubble to so we need to handle it directly.\n      e.target.addEventListener('transitioncancel', onTransitionEnd, {\n        once: true\n      });\n    }\n\n    transitions.add(e.propertyName);\n  };\n\n  let onTransitionEnd = (e: Event) => {\n    if (!isTransitionEvent(e) || !e.target) {\n      return;\n    }\n    // Remove property from list of transitioning properties.\n    let properties = transitionsByElement.get(e.target);\n    if (!properties) {\n      return;\n    }\n\n    properties.delete(e.propertyName);\n\n    // If empty, remove transitioncancel event, and remove the element from the list of transitioning elements.\n    if (properties.size === 0) {\n      e.target.removeEventListener('transitioncancel', onTransitionEnd);\n      transitionsByElement.delete(e.target);\n    }\n\n    // If no transitioning elements, call all of the queued callbacks.\n    if (transitionsByElement.size === 0) {\n      for (let cb of transitionCallbacks) {\n        cb();\n      }\n\n      transitionCallbacks.clear();\n    }\n  };\n\n  document.body.addEventListener('transitionrun', onTransitionStart);\n  document.body.addEventListener('transitionend', onTransitionEnd);\n}\n\nif (typeof document !== 'undefined') {\n  if (document.readyState !== 'loading') {\n    setupGlobalEvents();\n  } else {\n    document.addEventListener('DOMContentLoaded', setupGlobalEvents);\n  }\n}\n\nexport function runAfterTransition(fn: () => void) {\n  // Wait one frame to see if an animation starts, e.g. a transition on mount.\n  requestAnimationFrame(() => {\n    // If no transitions are running, call the function immediately.\n    // Otherwise, add it to a list of callbacks to run at the end of the animation.\n    if (transitionsByElement.size === 0) {\n      fn();\n    } else {\n      transitionCallbacks.add(fn);\n    }\n  });\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n /* eslint-disable rulesdir/pure-render */\n\nimport {getOffset} from './getOffset';\nimport {Orientation} from '@react-types/shared';\nimport React, {HTMLAttributes, MutableRefObject, useRef} from 'react';\n\ninterface UseDrag1DProps {\n  containerRef: MutableRefObject<HTMLElement>,\n  reverse?: boolean,\n  orientation?: Orientation,\n  onHover?: (hovered: boolean) => void,\n  onDrag?: (dragging: boolean) => void,\n  onPositionChange?: (position: number) => void,\n  onIncrement?: () => void,\n  onDecrement?: () => void,\n  onIncrementToMax?: () => void,\n  onDecrementToMin?: () => void,\n  onCollapseToggle?: () => void\n}\n\n// Keep track of elements that we are currently handling dragging for via useDrag1D.\n// If there's an ancestor and a descendant both using useDrag1D(), and the user starts\n// dragging the descendant, we don't want useDrag1D events to fire for the ancestor.\nconst draggingElements: HTMLElement[] = [];\n\n// created for splitview, this should be reusable for things like sliders/dials\n// It also handles keyboard events on the target allowing for increment/decrement by a given stepsize as well as minifying/maximizing and toggling between minified and previous size\n// It can also take a 'reverse' param to say if we should measure from the right/bottom instead of the top/left\n// It can also handle either a vertical or horizontal movement, but not both at the same time\n\nexport function useDrag1D(props: UseDrag1DProps): HTMLAttributes<HTMLElement> {\n  console.warn('useDrag1D is deprecated, please use `useMove` instead https://react-spectrum.adobe.com/react-aria/useMove.html');\n  let {containerRef, reverse, orientation, onHover, onDrag, onPositionChange, onIncrement, onDecrement, onIncrementToMax, onDecrementToMin, onCollapseToggle} = props;\n  let getPosition = (e) => orientation === 'horizontal' ? e.clientX : e.clientY;\n  let getNextOffset = (e: MouseEvent) => {\n    let containerOffset = getOffset(containerRef.current, reverse, orientation);\n    let mouseOffset = getPosition(e);\n    let nextOffset = reverse ? containerOffset - mouseOffset : mouseOffset - containerOffset;\n    return nextOffset;\n  };\n  let dragging = useRef(false);\n  let prevPosition = useRef(0);\n\n  // Keep track of the current handlers in a ref so that the events can access them.\n  let handlers = useRef({onPositionChange, onDrag});\n  handlers.current.onDrag = onDrag;\n  handlers.current.onPositionChange = onPositionChange;\n\n  let onMouseDragged = (e: MouseEvent) => {\n    e.preventDefault();\n    let nextOffset = getNextOffset(e);\n    if (!dragging.current) {\n      dragging.current = true;\n      if (handlers.current.onDrag) {\n        handlers.current.onDrag(true);\n      }\n      if (handlers.current.onPositionChange) {\n        handlers.current.onPositionChange(nextOffset);\n      }\n    }\n    if (prevPosition.current === nextOffset) {\n      return;\n    }\n    prevPosition.current = nextOffset;\n    if (onPositionChange) {\n      onPositionChange(nextOffset);\n    }\n  };\n\n  let onMouseUp = (e: MouseEvent) => {\n    const target = e.target as HTMLElement;\n    dragging.current = false;\n    let nextOffset = getNextOffset(e);\n    if (handlers.current.onDrag) {\n      handlers.current.onDrag(false);\n    }\n    if (handlers.current.onPositionChange) {\n      handlers.current.onPositionChange(nextOffset);\n    }\n\n    draggingElements.splice(draggingElements.indexOf(target), 1);\n    window.removeEventListener('mouseup', onMouseUp, false);\n    window.removeEventListener('mousemove', onMouseDragged, false);\n  };\n\n  let onMouseDown = (e: React.MouseEvent<HTMLElement>) => {\n    const target = e.currentTarget;\n    // If we're already handling dragging on a descendant with useDrag1D, then\n    // we don't want to handle the drag motion on this target as well.\n    if (draggingElements.some(elt => target.contains(elt))) {\n      return;\n    }\n    draggingElements.push(target);\n    window.addEventListener('mousemove', onMouseDragged, false);\n    window.addEventListener('mouseup', onMouseUp, false);\n  };\n\n  let onMouseEnter = () => {\n    if (onHover) {\n      onHover(true);\n    }\n  };\n\n  let onMouseOut = () => {\n    if (onHover) {\n      onHover(false);\n    }\n  };\n\n  let onKeyDown = (e) => {\n    switch (e.key) {\n      case 'Left':\n      case 'ArrowLeft':\n        if (orientation === 'horizontal') {\n          e.preventDefault();\n          if (onDecrement && !reverse) {\n            onDecrement();\n          } else if (onIncrement && reverse) {\n            onIncrement();\n          }\n        }\n        break;\n      case 'Up':\n      case 'ArrowUp':\n        if (orientation === 'vertical') {\n          e.preventDefault();\n          if (onDecrement && !reverse) {\n            onDecrement();\n          } else if (onIncrement && reverse) {\n            onIncrement();\n          }\n        }\n        break;\n      case 'Right':\n      case 'ArrowRight':\n        if (orientation === 'horizontal') {\n          e.preventDefault();\n          if (onIncrement && !reverse) {\n            onIncrement();\n          } else if (onDecrement && reverse) {\n            onDecrement();\n          }\n        }\n        break;\n      case 'Down':\n      case 'ArrowDown':\n        if (orientation === 'vertical') {\n          e.preventDefault();\n          if (onIncrement && !reverse) {\n            onIncrement();\n          } else if (onDecrement && reverse) {\n            onDecrement();\n          }\n        }\n        break;\n      case 'Home':\n        e.preventDefault();\n        if (onDecrementToMin) {\n          onDecrementToMin();\n        }\n        break;\n      case 'End':\n        e.preventDefault();\n        if (onIncrementToMax) {\n          onIncrementToMax();\n        }\n        break;\n      case 'Enter':\n        e.preventDefault();\n        if (onCollapseToggle) {\n          onCollapseToggle();\n        }\n        break;\n    }\n  };\n\n  return {onMouseDown, onMouseEnter, onMouseOut, onKeyDown};\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useCallback, useEffect, useRef} from 'react';\n\ninterface GlobalListeners {\n  addGlobalListener<K extends keyof DocumentEventMap>(el: EventTarget, type: K, listener: (this: Document, ev: DocumentEventMap[K]) => any, options?: boolean | AddEventListenerOptions): void,\n  addGlobalListener(el: EventTarget, type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions): void,\n  removeGlobalListener<K extends keyof DocumentEventMap>(el: EventTarget, type: K, listener: (this: Document, ev: DocumentEventMap[K]) => any, options?: boolean | EventListenerOptions): void,\n  removeGlobalListener(el: EventTarget, type: string, listener: EventListenerOrEventListenerObject, options?: boolean | EventListenerOptions): void,\n  removeAllGlobalListeners(): void\n}\n\nexport function useGlobalListeners(): GlobalListeners {\n  let globalListeners = useRef(new Map());\n  let addGlobalListener = useCallback((eventTarget, type, listener, options) => {\n    // Make sure we remove the listener after it is called with the `once` option.\n    let fn = options?.once ? (...args) => {\n      globalListeners.current.delete(listener);\n      listener(...args);\n    } : listener;\n    globalListeners.current.set(listener, {type, eventTarget, fn, options});\n    eventTarget.addEventListener(type, listener, options);\n  }, []);\n  let removeGlobalListener = useCallback((eventTarget, type, listener, options) => {\n    let fn = globalListeners.current.get(listener)?.fn || listener;\n    eventTarget.removeEventListener(type, fn, options);\n    globalListeners.current.delete(listener);\n  }, []);\n  let removeAllGlobalListeners = useCallback(() => {\n    globalListeners.current.forEach((value, key) => {\n      removeGlobalListener(value.eventTarget, value.type, key, value.options);\n    });\n  }, [removeGlobalListener]);\n\n  // eslint-disable-next-line arrow-body-style\n  useEffect(() => {\n    return removeAllGlobalListeners;\n  }, [removeAllGlobalListeners]);\n\n  return {addGlobalListener, removeGlobalListener, removeAllGlobalListeners};\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaLabelingProps, DOMProps} from '@react-types/shared';\nimport {useId} from './useId';\n\n/**\n * Merges aria-label and aria-labelledby into aria-labelledby when both exist.\n * @param props - Aria label props.\n * @param defaultLabel - Default value for aria-label when not present.\n */\nexport function useLabels(props: DOMProps & AriaLabelingProps, defaultLabel?: string): DOMProps & AriaLabelingProps {\n  let {\n    id,\n    'aria-label': label,\n    'aria-labelledby': labelledBy\n  } = props;\n\n  // If there is both an aria-label and aria-labelledby,\n  // combine them by pointing to the element itself.\n  id = useId(id);\n  if (labelledBy && label) {\n    let ids = new Set([id, ...labelledBy.trim().split(/\\s+/)]);\n    labelledBy = [...ids].join(' ');\n  } else if (labelledBy) {\n    labelledBy = labelledBy.trim().split(/\\s+/).join(' ');\n  }\n\n  // If no labels are provided, use the default\n  if (!label && !labelledBy && defaultLabel) {\n    label = defaultLabel;\n  }\n\n  return {\n    id,\n    'aria-label': label,\n    'aria-labelledby': labelledBy\n  };\n}\n", "/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {MutableRefObject, useMemo, useRef} from 'react';\n\n/**\n * Offers an object ref for a given callback ref or an object ref. Especially\n * helfpul when passing forwarded refs (created using `React.forwardRef`) to\n * React Aria hooks.\n *\n * @param forwardedRef The original ref intended to be used.\n * @returns An object ref that updates the given ref.\n * @see https://reactjs.org/docs/forwarding-refs.html\n */\nexport function useObjectRef<T>(forwardedRef?: ((instance: T | null) => void) | MutableRefObject<T | null> | null): MutableRefObject<T | null> {\n  const objRef: MutableRefObject<T | null> = useRef<T>(null);\n  return useMemo(() => ({\n    get current() {\n      return objRef.current;\n    },\n    set current(value) {\n      objRef.current = value;\n      if (typeof forwardedRef === 'function') {\n        forwardedRef(value);\n      } else if (forwardedRef) {\n        forwardedRef.current = value;\n      }\n    }\n  }), [forwardedRef]);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {EffectCallback, useEffect, useRef} from 'react';\n\n// Like useEffect, but only called for updates after the initial render.\nexport function useUpdateEffect(effect: EffectCallback, dependencies: any[]) {\n  const isInitialMount = useRef(true);\n  const lastDeps = useRef<any[] | null>(null);\n\n  useEffect(() => {\n    isInitialMount.current = true;\n    return () => {\n      isInitialMount.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n    } else if (!lastDeps.current || dependencies.some((dep, i) => !Object.is(dep, lastDeps[i]))) {\n      effect();\n    }\n    lastDeps.current = dependencies;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, dependencies);\n}\n", "import {RefObject, useEffect} from 'react';\n\nfunction hasResizeObserver() {\n  return typeof window.ResizeObserver !== 'undefined';\n}\n\ntype useResizeObserverOptionsType<T> = {\n  ref: RefObject<T | undefined> | undefined,\n  onResize: () => void\n}\n\nexport function useResizeObserver<T extends Element>(options: useResizeObserverOptionsType<T>) {\n  const {ref, onResize} = options;\n\n  useEffect(() => {\n    let element = ref?.current;\n    if (!element) {\n      return;\n    }\n\n    if (!hasResizeObserver()) {\n      window.addEventListener('resize', onResize, false);\n      return () => {\n        window.removeEventListener('resize', onResize, false);\n      };\n    } else {\n\n      const resizeObserverInstance = new window.ResizeObserver((entries) => {\n        if (!entries.length) {\n          return;\n        }\n\n        onResize();\n      });\n      resizeObserverInstance.observe(element);\n\n      return () => {\n        if (element) {\n          resizeObserverInstance.unobserve(element);\n        }\n      };\n    }\n\n  }, [onResize, ref]);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {MutableRefObject, RefObject} from 'react';\nimport {useLayoutEffect} from './';\n\ninterface ContextValue<T> {\n  ref?: MutableRefObject<T | null>\n}\n\n// Syncs ref from context with ref passed to hook\nexport function useSyncRef<T>(context?: ContextValue<T> | null, ref?: RefObject<T>) {\n  useLayoutEffect(() => {\n    if (context && context.ref && ref) {\n      context.ref.current = ref.current;\n      return () => {\n        if (context.ref) {\n          context.ref.current = null;\n        }\n      };\n    }\n  });\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport function getScrollParent(node: Element, checkForOverflow?: boolean): Element {\n  let scrollableNode: Element | null = node;\n  if (isScrollable(scrollableNode, checkForOverflow)) {\n    scrollableNode = scrollableNode.parentElement;\n  }\n\n  while (scrollableNode && !isScrollable(scrollableNode, checkForOverflow)) {\n    scrollableNode = scrollableNode.parentElement;\n  }\n\n  return scrollableNode || document.scrollingElement || document.documentElement;\n}\n\nexport function isScrollable(node: Element, checkForOverflow?: boolean): boolean {\n  let style = window.getComputedStyle(node);\n  let isScrollable = /(auto|scroll)/.test(style.overflow + style.overflowX + style.overflowY);\n\n  if (isScrollable && checkForOverflow) {\n    isScrollable = node.scrollHeight !== node.clientHeight || node.scrollWidth !== node.clientWidth;\n  }\n\n  return isScrollable;\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useEffect, useState} from 'react';\nimport {useIsSSR} from '@react-aria/ssr';\n\ninterface ViewportSize {\n  width: number,\n  height: number\n}\n\n// @ts-ignore\nlet visualViewport = typeof document !== 'undefined' && window.visualViewport;\n\nexport function useViewportSize(): ViewportSize {\n  let isSSR = useIsSSR();\n  let [size, setSize] = useState(() => isSSR ? {width: 0, height: 0} : getViewportSize());\n\n  useEffect(() => {\n    // Use visualViewport api to track available height even on iOS virtual keyboard opening\n    let onResize = () => {\n      setSize(size => {\n        let newSize = getViewportSize();\n        if (newSize.width === size.width && newSize.height === size.height) {\n          return size;\n        }\n        return newSize;\n      });\n    };\n\n    if (!visualViewport) {\n      window.addEventListener('resize', onResize);\n    } else {\n      visualViewport.addEventListener('resize', onResize);\n    }\n\n    return () => {\n      if (!visualViewport) {\n        window.removeEventListener('resize', onResize);\n      } else {\n        visualViewport.removeEventListener('resize', onResize);\n      }\n    };\n  }, []);\n\n  return size;\n}\n\nfunction getViewportSize(): ViewportSize {\n  return {\n    width: (visualViewport && visualViewport?.width) || window.innerWidth,\n    height: (visualViewport && visualViewport?.height) || window.innerHeight\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaLabelingProps} from '@react-types/shared';\nimport {useLayoutEffect} from './useLayoutEffect';\nimport {useState} from 'react';\n\nlet descriptionId = 0;\nconst descriptionNodes = new Map<string, {refCount: number, element: Element}>();\n\nexport function useDescription(description?: string): AriaLabelingProps {\n  let [id, setId] = useState<string | undefined>();\n\n  useLayoutEffect(() => {\n    if (!description) {\n      return;\n    }\n\n    let desc = descriptionNodes.get(description);\n    if (!desc) {\n      let id = `react-aria-description-${descriptionId++}`;\n      setId(id);\n\n      let node = document.createElement('div');\n      node.id = id;\n      node.style.display = 'none';\n      node.textContent = description;\n      document.body.appendChild(node);\n      desc = {refCount: 0, element: node};\n      descriptionNodes.set(description, desc);\n    } else {\n      setId(desc.element.id);\n    }\n\n    desc.refCount++;\n    return () => {\n      if (desc && --desc.refCount === 0) {\n        desc.element.remove();\n        descriptionNodes.delete(description);\n      }\n    };\n  }, [description]);\n\n  return {\n    'aria-describedby': description ? id : undefined\n  };\n}\n", "/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {RefObject, useEffect} from 'react';\nimport {useEffectEvent} from './useEffectEvent';\n\nexport function useEvent<K extends keyof GlobalEventHandlersEventMap>(\n  ref: RefObject<EventTarget>,\n  event: K,\n  handler?: (this: Document, ev: GlobalEventHandlersEventMap[K]) => any,\n  options?: boolean | AddEventListenerOptions\n) {\n  let handleEvent = useEffectEvent(handler);\n  let isDisabled = handler == null;\n\n  useEffect(() => {\n    if (isDisabled || !ref.current) {\n      return;\n    }\n\n    let element = ref.current;\n    element.addEventListener(event, handleEvent as EventListener, options);\n    return () => {\n      element.removeEventListener(event, handleEvent as EventListener, options);\n    };\n  }, [ref, event, options, isDisabled, handleEvent]);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {getScrollParent} from './';\n\ninterface ScrollIntoViewportOpts {\n  /** The optional containing element of the target to be centered in the viewport. */\n  containingElement?: Element\n}\n\n/**\n * Scrolls `scrollView` so that `element` is visible.\n * Similar to `element.scrollIntoView({block: 'nearest'})` (not supported in Edge),\n * but doesn't affect parents above `scrollView`.\n */\nexport function scrollIntoView(scrollView: HTMLElement, element: HTMLElement) {\n  let offsetX = relativeOffset(scrollView, element, 'left');\n  let offsetY = relativeOffset(scrollView, element, 'top');\n  let width = element.offsetWidth;\n  let height = element.offsetHeight;\n  let x = scrollView.scrollLeft;\n  let y = scrollView.scrollTop;\n\n  // Account for top/left border offsetting the scroll top/Left\n  let {borderTopWidth, borderLeftWidth} = getComputedStyle(scrollView);\n  let borderAdjustedX = scrollView.scrollLeft + parseInt(borderLeftWidth, 10);\n  let borderAdjustedY = scrollView.scrollTop + parseInt(borderTopWidth, 10);\n  // Ignore end/bottom border via clientHeight/Width instead of offsetHeight/Width\n  let maxX = borderAdjustedX + scrollView.clientWidth;\n  let maxY = borderAdjustedY + scrollView.clientHeight;\n\n  if (offsetX <= x) {\n    x = offsetX - parseInt(borderLeftWidth, 10);\n  } else if (offsetX + width > maxX) {\n    x += offsetX + width - maxX;\n  }\n  if (offsetY <= borderAdjustedY) {\n    y = offsetY - parseInt(borderTopWidth, 10);\n  } else if (offsetY + height > maxY) {\n    y += offsetY + height - maxY;\n  }\n  scrollView.scrollLeft = x;\n  scrollView.scrollTop = y;\n}\n\n/**\n * Computes the offset left or top from child to ancestor by accumulating\n * offsetLeft or offsetTop through intervening offsetParents.\n */\nfunction relativeOffset(ancestor: HTMLElement, child: HTMLElement, axis: 'left'|'top') {\n  const prop = axis === 'left' ? 'offsetLeft' : 'offsetTop';\n  let sum = 0;\n  while (child.offsetParent) {\n    sum += child[prop];\n    if (child.offsetParent === ancestor) {\n      // Stop once we have found the ancestor we are interested in.\n      break;\n    } else if (child.offsetParent.contains(ancestor)) {\n      // If the ancestor is not `position:relative`, then we stop at\n      // _its_ offset parent, and we subtract off _its_ offset, so that\n      // we end up with the proper offset from child to ancestor.\n      sum -= ancestor[prop];\n      break;\n    }\n    child = child.offsetParent as HTMLElement;\n  }\n  return sum;\n}\n\n/**\n * Scrolls the `targetElement` so it is visible in the viewport. Accepts an optional `opts.containingElement`\n * that will be centered in the viewport prior to scrolling the targetElement into view. If scrolling is prevented on\n * the body (e.g. targetElement is in a popover), this will only scroll the scroll parents of the targetElement up to but not including the body itself.\n */\nexport function scrollIntoViewport(targetElement: Element, opts?: ScrollIntoViewportOpts) {\n  if (document.contains(targetElement)) {\n    let root = document.scrollingElement || document.documentElement;\n    let isScrollPrevented = window.getComputedStyle(root).overflow === 'hidden';\n    // If scrolling is not currently prevented then we aren’t in a overlay nor is a overlay open, just use element.scrollIntoView to bring the element into view\n    if (!isScrollPrevented) {\n      let {left: originalLeft, top: originalTop} = targetElement.getBoundingClientRect();\n\n      // use scrollIntoView({block: 'nearest'}) instead of .focus to check if the element is fully in view or not since .focus()\n      // won't cause a scroll if the element is already focused and doesn't behave consistently when an element is partially out of view horizontally vs vertically\n      targetElement?.scrollIntoView?.({block: 'nearest'});\n      let {left: newLeft, top: newTop} = targetElement.getBoundingClientRect();\n      // Account for sub pixel differences from rounding\n      if ((Math.abs(originalLeft - newLeft) > 1) || (Math.abs(originalTop - newTop) > 1)) {\n        opts?.containingElement?.scrollIntoView?.({block: 'center', inline: 'center'});\n        targetElement.scrollIntoView?.({block: 'nearest'});\n      }\n    } else {\n      let scrollParent = getScrollParent(targetElement);\n      // If scrolling is prevented, we don't want to scroll the body since it might move the overlay partially offscreen and the user can't scroll it back into view.\n      while (targetElement && scrollParent && targetElement !== root && scrollParent !== root) {\n        scrollIntoView(scrollParent as HTMLElement, targetElement as HTMLElement);\n        targetElement = scrollParent;\n        scrollParent = getScrollParent(targetElement);\n      }\n    }\n  }\n}\n", "/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {isAndroid} from './platform';\n\n// Original licensing for the following method can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/blob/3c713d513195a53788b3f8bb4b70279d68b15bcc/packages/react-interactions/events/src/dom/shared/index.js#L74-L87\n\n// Keyboards, Assistive Technologies, and element.click() all produce a \"virtual\"\n// click event. This is a method of inferring such clicks. Every browser except\n// IE 11 only sets a zero value of \"detail\" for click events that are \"virtual\".\n// However, IE 11 uses a zero value for all click events. For IE 11 we rely on\n// the quirk that it produces click events that are of type PointerEvent, and\n// where only the \"virtual\" click lacks a pointerType field.\n\nexport function isVirtualClick(event: MouseEvent | PointerEvent): boolean {\n  // JAWS/NVDA with Firefox.\n  if ((event as any).mozInputSource === 0 && event.isTrusted) {\n    return true;\n  }\n\n  // Android TalkBack's detail value varies depending on the event listener providing the event so we have specific logic here instead\n  // If pointerType is defined, event is from a click listener. For events from mousedown listener, detail === 0 is a sufficient check\n  // to detect TalkBack virtual clicks.\n  if (isAndroid() && (event as PointerEvent).pointerType) {\n    return event.type === 'click' && event.buttons === 1;\n  }\n\n  return event.detail === 0 && !(event as PointerEvent).pointerType;\n}\n\nexport function isVirtualPointerEvent(event: PointerEvent) {\n  // If the pointer size is zero, then we assume it's from a screen reader.\n  // Android TalkBack double tap will sometimes return a event with width and height of 1\n  // and pointerType === 'mouse' so we need to check for a specific combination of event attributes.\n  // Cannot use \"event.pressure === 0\" as the sole check due to Safari pointer events always returning pressure === 0\n  // instead of .5, see https://bugs.webkit.org/show_bug.cgi?id=206216. event.pointerType === 'mouse' is to distingush\n  // Talkback double tap from Windows Firefox touch screen press\n  return (\n    (!isAndroid() && event.width === 0 && event.height === 0) ||\n    (event.width === 1 &&\n      event.height === 1 &&\n      event.pressure === 0 &&\n      event.detail === 0 &&\n      event.pointerType === 'mouse'\n    )\n  );\n}\n", "/*\n * Copyright 2023 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n/* eslint-disable rulesdir/pure-render */\n\nimport {useRef} from 'react';\n\nexport function useDeepMemo<T>(value: T, isEqual: (a: T, b: T) => boolean): T {\n  // Using a ref during render is ok here because it's only an optimization – both values are equivalent.\n  // If a render is thrown away, it'll still work the same no matter if the next render is the same or not.\n  let lastValue = useRef<T | null>(null);\n  if (value && lastValue.current && isEqual(value, lastValue.current)) {\n    value = lastValue.current;\n  }\n\n  lastValue.current = value;\n  return value;\n}\n", "/*\n * Copyright 2023 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nimport {RefObject, useEffect, useRef} from 'react';\nimport {useEffectEvent} from './useEffectEvent';\n\nexport function useFormReset<T>(\n  ref: RefObject<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>,\n  initialValue: T,\n  onReset: (value: T) => void\n) {\n  let resetValue = useRef(initialValue);\n  let handleReset = useEffectEvent(() => {\n    if (onReset) {\n      onReset(resetValue.current);\n    }\n  });\n\n  useEffect(() => {\n    let form = ref?.current?.form;\n    form?.addEventListener('reset', handleReset);\n    return () => {\n      form?.removeEventListener('reset', handleReset);\n    };\n  }, [ref, handleReset]);\n}\n", "export function _class_apply_descriptor_get(receiver, descriptor) {\n    if (descriptor.get) return descriptor.get.call(receiver);\n\n    return descriptor.value;\n}\nexport { _class_apply_descriptor_get as _ };\n", "export function _class_extract_field_descriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n\n    return privateMap.get(receiver);\n}\nexport { _class_extract_field_descriptor as _ };\n", "import { _class_apply_descriptor_get } from \"./_class_apply_descriptor_get.js\";\nimport { _class_extract_field_descriptor } from \"./_class_extract_field_descriptor.js\";\n\nexport function _class_private_field_get(receiver, privateMap) {\n    var descriptor = _class_extract_field_descriptor(receiver, privateMap, \"get\");\n    return _class_apply_descriptor_get(receiver, descriptor);\n}\nexport { _class_private_field_get as _ };\n", "export function _check_private_redeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\nexport { _check_private_redeclaration as _ };\n", "import { _check_private_redeclaration } from \"./_check_private_redeclaration.js\";\n\nexport function _class_private_field_init(obj, privateMap, value) {\n    _check_private_redeclaration(obj, privateMap);\n    privateMap.set(obj, value);\n}\nexport { _class_private_field_init as _ };\n", "export function _class_apply_descriptor_set(receiver, descriptor, value) {\n    if (descriptor.set) descriptor.set.call(receiver, value);\n    else {\n        if (!descriptor.writable) {\n            // This should only throw in strict mode, but class bodies are\n            // always strict and private fields can only be used inside\n            // class bodies.\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\nexport { _class_apply_descriptor_set as _ };\n", "import { _class_apply_descriptor_set } from \"./_class_apply_descriptor_set.js\";\nimport { _class_extract_field_descriptor } from \"./_class_extract_field_descriptor.js\";\n\nexport function _class_private_field_set(receiver, privateMap, value) {\n    var descriptor = _class_extract_field_descriptor(receiver, privateMap, \"set\");\n    _class_apply_descriptor_set(receiver, descriptor, value);\n    return value;\n}\nexport { _class_private_field_set as _ };\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nexport {SSRProvider, useSSRSafeId, useIsSSR} from './SSRProvider';\nexport type {SSRProviderProps} from './SSRProvider';\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// We must avoid a circular dependency with @react-aria/utils, and this useLayoutEffect is\n// guarded by a check that it only runs on the client side.\n// eslint-disable-next-line rulesdir/useLayoutEffectRule\nimport React, {JSX, ReactNode, useContext, useLayoutEffect, useMemo, useRef, useState} from 'react';\n\n// To support SSR, the auto incrementing id counter is stored in a context. This allows\n// it to be reset on every request to ensure the client and server are consistent.\n// There is also a prefix string that is used to support async loading components\n// Each async boundary must be wrapped in an SSR provider, which appends to the prefix\n// and resets the current id counter. This ensures that async loaded components have\n// consistent ids regardless of the loading order.\ninterface SSRContextValue {\n  prefix: string,\n  current: number\n}\n\n// Default context value to use in case there is no SSRProvider. This is fine for\n// client-only apps. In order to support multiple copies of React Aria potentially\n// being on the page at once, the prefix is set to a random number. SSRProvider\n// will reset this to zero for consistency between server and client, so in the\n// SSR case multiple copies of React Aria is not supported.\nconst defaultContext: SSRContextValue = {\n  prefix: String(Math.round(Math.random() * 10000000000)),\n  current: 0\n};\n\nconst SSRContext = React.createContext<SSRContextValue>(defaultContext);\nconst IsSSRContext = React.createContext(false);\n\nexport interface SSRProviderProps {\n  /** Your application here. */\n  children: ReactNode\n}\n\n// This is only used in React < 18.\nfunction LegacySSRProvider(props: SSRProviderProps): JSX.Element {\n  let cur = useContext(SSRContext);\n  let counter = useCounter(cur === defaultContext);\n  let [isSSR, setIsSSR] = useState(true);\n  let value: SSRContextValue = useMemo(() => ({\n    // If this is the first SSRProvider, start with an empty string prefix, otherwise\n    // append and increment the counter.\n    prefix: cur === defaultContext ? '' : `${cur.prefix}-${counter}`,\n    current: 0\n  }), [cur, counter]);\n\n  // If on the client, and the component was initially server rendered,\n  // then schedule a layout effect to update the component after hydration.\n  if (typeof document !== 'undefined') {\n    // This if statement technically breaks the rules of hooks, but is safe\n    // because the condition never changes after mounting.\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useLayoutEffect(() => {\n      setIsSSR(false);\n    }, []);\n  }\n\n  return (\n    <SSRContext.Provider value={value}>\n      <IsSSRContext.Provider value={isSSR}>\n        {props.children}\n      </IsSSRContext.Provider>\n    </SSRContext.Provider>\n  );\n}\n\nlet warnedAboutSSRProvider = false;\n\n/**\n * When using SSR with React Aria in React 16 or 17, applications must be wrapped in an SSRProvider.\n * This ensures that auto generated ids are consistent between the client and server.\n */\nexport function SSRProvider(props: SSRProviderProps): JSX.Element {\n  if (typeof React['useId'] === 'function') {\n    if (process.env.NODE_ENV !== 'test' && !warnedAboutSSRProvider) {\n      console.warn('In React 18, SSRProvider is not necessary and is a noop. You can remove it from your app.');\n      warnedAboutSSRProvider = true;\n    }\n    return <>{props.children}</>;\n  }\n  return <LegacySSRProvider {...props} />;\n}\n\nlet canUseDOM = Boolean(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n\nlet componentIds = new WeakMap();\n\nfunction useCounter(isDisabled = false) {\n  let ctx = useContext(SSRContext);\n  let ref = useRef<number | null>(null);\n  // eslint-disable-next-line rulesdir/pure-render\n  if (ref.current === null && !isDisabled) {\n    // In strict mode, React renders components twice, and the ref will be reset to null on the second render.\n    // This means our id counter will be incremented twice instead of once. This is a problem because on the\n    // server, components are only rendered once and so ids generated on the server won't match the client.\n    // In React 18, useId was introduced to solve this, but it is not available in older versions. So to solve this\n    // we need to use some React internals to access the underlying Fiber instance, which is stable between renders.\n    // This is exposed as ReactCurrentOwner in development, which is all we need since StrictMode only runs in development.\n    // To ensure that we only increment the global counter once, we store the starting id for this component in\n    // a weak map associated with the Fiber. On the second render, we reset the global counter to this value.\n    // Since React runs the second render immediately after the first, this is safe.\n    // @ts-ignore\n    let currentOwner = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED?.ReactCurrentOwner?.current;\n    if (currentOwner) {\n      let prevComponentValue = componentIds.get(currentOwner);\n      if (prevComponentValue == null) {\n        // On the first render, and first call to useId, store the id and state in our weak map.\n        componentIds.set(currentOwner, {\n          id: ctx.current,\n          state: currentOwner.memoizedState\n        });\n      } else if (currentOwner.memoizedState !== prevComponentValue.state) {\n        // On the second render, the memoizedState gets reset by React.\n        // Reset the counter, and remove from the weak map so we don't\n        // do this for subsequent useId calls.\n        ctx.current = prevComponentValue.id;\n        componentIds.delete(currentOwner);\n      }\n    }\n\n    // eslint-disable-next-line rulesdir/pure-render\n    ref.current = ++ctx.current;\n  }\n\n  // eslint-disable-next-line rulesdir/pure-render\n  return ref.current;\n}\n\nfunction useLegacySSRSafeId(defaultId?: string): string {\n  let ctx = useContext(SSRContext);\n\n  // If we are rendering in a non-DOM environment, and there's no SSRProvider,\n  // provide a warning to hint to the developer to add one.\n  if (ctx === defaultContext && !canUseDOM) {\n    console.warn('When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.');\n  }\n\n  let counter = useCounter(!!defaultId);\n  let prefix = ctx === defaultContext && process.env.NODE_ENV === 'test' ? 'react-aria' : `react-aria${ctx.prefix}`;\n  return defaultId || `${prefix}-${counter}`;\n}\n\nfunction useModernSSRSafeId(defaultId?: string): string {\n  // @ts-ignore\n  let id = React.useId();\n  let [didSSR] = useState(useIsSSR());\n  let prefix = didSSR || process.env.NODE_ENV === 'test' ? 'react-aria' : `react-aria${defaultContext.prefix}`;\n  return defaultId || `${prefix}-${id}`;\n}\n\n// Use React.useId in React 18 if available, otherwise fall back to our old implementation.\n/** @private */\nexport const useSSRSafeId = typeof React['useId'] === 'function' ? useModernSSRSafeId : useLegacySSRSafeId;\n\nfunction getSnapshot() {\n  return false;\n}\n\nfunction getServerSnapshot() {\n  return true;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction subscribe(onStoreChange: () => void): () => void {\n  // noop\n  return () => {};\n}\n\n/**\n * Returns whether the component is currently being server side rendered or\n * hydrated on the client. Can be used to delay browser-specific rendering\n * until after hydration.\n */\nexport function useIsSSR(): boolean {\n  // In React 18, we can use useSyncExternalStore to detect if we're server rendering or hydrating.\n  if (typeof React['useSyncExternalStore'] === 'function') {\n    return React['useSyncExternalStore'](subscribe, getSnapshot, getServerSnapshot);\n  }\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  return useContext(IsSSRContext);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport {Pressable} from './Pressable';\nexport {PressResponder, ClearPressResponder} from './PressResponder';\nexport {useFocus} from './useFocus';\nexport {\n  isFocusVisible,\n  getInteractionModality,\n  setInteractionModality,\n  addWindowFocusTracking,\n  useInteractionModality,\n  useFocusVisible,\n  useFocusVisibleListener\n} from './useFocusVisible';\nexport {useFocusWithin} from './useFocusWithin';\nexport {useHover} from './useHover';\nexport {useInteractOutside} from './useInteractOutside';\nexport {useKeyboard} from './useKeyboard';\nexport {useMove} from './useMove';\nexport {usePress} from './usePress';\nexport {useScrollWheel} from './useScrollWheel';\nexport {useLongPress} from './useLongPress';\n\nexport type {FocusProps, FocusResult} from './useFocus';\nexport type {FocusVisibleHandler, FocusVisibleProps, FocusVisibleResult, Modality} from './useFocusVisible';\nexport type {FocusWithinProps, FocusWithinResult} from './useFocusWithin';\nexport type {HoverProps, HoverResult} from './useHover';\nexport type {InteractOutsideProps} from './useInteractOutside';\nexport type {KeyboardProps, KeyboardResult} from './useKeyboard';\nexport type {PressProps, PressHookProps, PressResult} from './usePress';\nexport type {PressEvent, PressEvents, MoveStartEvent, MoveMoveEvent, MoveEndEvent, MoveEvents, HoverEvent, HoverEvents, FocusEvents, KeyboardEvents} from '@react-types/shared';\nexport type {MoveResult} from './useMove';\nexport type {LongPressProps, LongPressResult} from './useLongPress';\nexport type {ScrollWheelProps} from './useScrollWheel';\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {DOMAttributes} from '@react-types/shared';\nimport {mergeProps, useObjectRef} from '@react-aria/utils';\nimport {PressProps, usePress} from './usePress';\nimport React, {ForwardedRef, ReactElement} from 'react';\n\ninterface PressableProps extends PressProps {\n  children: ReactElement<DOMAttributes, string>\n}\n\nexport const Pressable = React.forwardRef(({children, ...props}: PressableProps, ref: ForwardedRef<HTMLElement>) => {\n  ref = useObjectRef(ref);\n  let {pressProps} = usePress({...props, ref});\n  let child = React.Children.only(children);\n  return React.cloneElement(\n    child,\n    // @ts-ignore\n    {ref, ...mergeProps(child.props, pressProps)}\n  );\n});\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {chain, focusWithoutScrolling, getOwnerDocument, getOwnerWindow, isMac, isVirtualClick, isVirtualPointerEvent, mergeProps, openLink, useEffectEvent, useGlobalListeners, useSyncRef} from '@react-aria/utils';\nimport {disableTextSelection, restoreTextSelection} from './textSelection';\nimport {DOMAttributes, FocusableElement, PressEvent as IPressEvent, PointerType, PressEvents} from '@react-types/shared';\nimport {PressResponderContext} from './context';\nimport {RefObject, useContext, useEffect, useMemo, useRef, useState} from 'react';\n\nexport interface PressProps extends PressEvents {\n  /** Whether the target is in a controlled press state (e.g. an overlay it triggers is open). */\n  isPressed?: boolean,\n  /** Whether the press events should be disabled. */\n  isDisabled?: boolean,\n  /** Whether the target should not receive focus on press. */\n  preventFocusOnPress?: boolean,\n  /**\n   * Whether press events should be canceled when the pointer leaves the target while pressed.\n   * By default, this is `false`, which means if the pointer returns back over the target while\n   * still pressed, onPressStart will be fired again. If set to `true`, the press is canceled\n   * when the pointer leaves the target and onPressStart will not be fired if the pointer returns.\n   */\n  shouldCancelOnPointerExit?: boolean,\n  /** Whether text selection should be enabled on the pressable element. */\n  allowTextSelectionOnPress?: boolean\n}\n\nexport interface PressHookProps extends PressProps {\n  /** A ref to the target element. */\n  ref?: RefObject<Element>\n}\n\ninterface PressState {\n  isPressed: boolean,\n  ignoreEmulatedMouseEvents: boolean,\n  ignoreClickAfterPress: boolean,\n  didFirePressStart: boolean,\n  isTriggeringEvent: boolean,\n  activePointerId: any,\n  target: FocusableElement | null,\n  isOverTarget: boolean,\n  pointerType: PointerType | null,\n  userSelect?: string,\n  metaKeyEvents?: Map<string, KeyboardEvent>\n}\n\ninterface EventBase {\n  currentTarget: EventTarget | null,\n  shiftKey: boolean,\n  ctrlKey: boolean,\n  metaKey: boolean,\n  altKey: boolean\n}\n\nexport interface PressResult {\n  /** Whether the target is currently pressed. */\n  isPressed: boolean,\n  /** Props to spread on the target element. */\n  pressProps: DOMAttributes\n}\n\nfunction usePressResponderContext(props: PressHookProps): PressHookProps {\n  // Consume context from <PressResponder> and merge with props.\n  let context = useContext(PressResponderContext);\n  if (context) {\n    let {register, ...contextProps} = context;\n    props = mergeProps(contextProps, props) as PressHookProps;\n    register();\n  }\n  useSyncRef(context, props.ref);\n\n  return props;\n}\n\nclass PressEvent implements IPressEvent {\n  type: IPressEvent['type'];\n  pointerType: PointerType;\n  target: Element;\n  shiftKey: boolean;\n  ctrlKey: boolean;\n  metaKey: boolean;\n  altKey: boolean;\n  #shouldStopPropagation = true;\n\n  constructor(type: IPressEvent['type'], pointerType: PointerType, originalEvent: EventBase) {\n    this.type = type;\n    this.pointerType = pointerType;\n    this.target = originalEvent.currentTarget as Element;\n    this.shiftKey = originalEvent.shiftKey;\n    this.metaKey = originalEvent.metaKey;\n    this.ctrlKey = originalEvent.ctrlKey;\n    this.altKey = originalEvent.altKey;\n  }\n\n  continuePropagation() {\n    this.#shouldStopPropagation = false;\n  }\n\n  get shouldStopPropagation() {\n    return this.#shouldStopPropagation;\n  }\n}\n\nconst LINK_CLICKED = Symbol('linkClicked');\n\n/**\n * Handles press interactions across mouse, touch, keyboard, and screen readers.\n * It normalizes behavior across browsers and platforms, and handles many nuances\n * of dealing with pointer and keyboard events.\n */\nexport function usePress(props: PressHookProps): PressResult {\n  let {\n    onPress,\n    onPressChange,\n    onPressStart,\n    onPressEnd,\n    onPressUp,\n    isDisabled,\n    isPressed: isPressedProp,\n    preventFocusOnPress,\n    shouldCancelOnPointerExit,\n    allowTextSelectionOnPress,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ref: _, // Removing `ref` from `domProps` because TypeScript is dumb\n    ...domProps\n  } = usePressResponderContext(props);\n\n  let [isPressed, setPressed] = useState(false);\n  let ref = useRef<PressState>({\n    isPressed: false,\n    ignoreEmulatedMouseEvents: false,\n    ignoreClickAfterPress: false,\n    didFirePressStart: false,\n    isTriggeringEvent: false,\n    activePointerId: null,\n    target: null,\n    isOverTarget: false,\n    pointerType: null\n  });\n\n  let {addGlobalListener, removeAllGlobalListeners} = useGlobalListeners();\n\n  let triggerPressStart = useEffectEvent((originalEvent: EventBase, pointerType: PointerType) => {\n    let state = ref.current;\n    if (isDisabled || state.didFirePressStart) {\n      return false;\n    }\n\n    let shouldStopPropagation = true;\n    state.isTriggeringEvent = true;\n    if (onPressStart) {\n      let event = new PressEvent('pressstart', pointerType, originalEvent);\n      onPressStart(event);\n      shouldStopPropagation = event.shouldStopPropagation;\n    }\n\n    if (onPressChange) {\n      onPressChange(true);\n    }\n\n    state.isTriggeringEvent = false;\n    state.didFirePressStart = true;\n    setPressed(true);\n    return shouldStopPropagation;\n  });\n\n  let triggerPressEnd = useEffectEvent((originalEvent: EventBase, pointerType: PointerType, wasPressed = true) => {\n    let state = ref.current;\n    if (!state.didFirePressStart) {\n      return false;\n    }\n\n    state.ignoreClickAfterPress = true;\n    state.didFirePressStart = false;\n    state.isTriggeringEvent = true;\n\n    let shouldStopPropagation = true;\n    if (onPressEnd) {\n      let event = new PressEvent('pressend', pointerType, originalEvent);\n      onPressEnd(event);\n      shouldStopPropagation = event.shouldStopPropagation;\n    }\n\n    if (onPressChange) {\n      onPressChange(false);\n    }\n\n    setPressed(false);\n\n    if (onPress && wasPressed && !isDisabled) {\n      let event = new PressEvent('press', pointerType, originalEvent);\n      onPress(event);\n      shouldStopPropagation &&= event.shouldStopPropagation;\n    }\n\n    state.isTriggeringEvent = false;\n    return shouldStopPropagation;\n  });\n\n  let triggerPressUp = useEffectEvent((originalEvent: EventBase, pointerType: PointerType) => {\n    let state = ref.current;\n    if (isDisabled) {\n      return false;\n    }\n\n    if (onPressUp) {\n      state.isTriggeringEvent = true;\n      let event = new PressEvent('pressup', pointerType, originalEvent);\n      onPressUp(event);\n      state.isTriggeringEvent = false;\n      return event.shouldStopPropagation;\n    }\n\n    return true;\n  });\n\n  let cancel = useEffectEvent((e: EventBase) => {\n    let state = ref.current;\n    if (state.isPressed && state.target) {\n      if (state.isOverTarget && state.pointerType != null) {\n        triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n      }\n      state.isPressed = false;\n      state.isOverTarget = false;\n      state.activePointerId = null;\n      state.pointerType = null;\n      removeAllGlobalListeners();\n      if (!allowTextSelectionOnPress) {\n        restoreTextSelection(state.target);\n      }\n    }\n  });\n\n  let cancelOnPointerExit = useEffectEvent((e: EventBase) => {\n    if (shouldCancelOnPointerExit) {\n      cancel(e);\n    }\n  });\n\n  let pressProps = useMemo(() => {\n    let state = ref.current;\n    let pressProps: DOMAttributes = {\n      onKeyDown(e) {\n        if (isValidKeyboardEvent(e.nativeEvent, e.currentTarget) && e.currentTarget.contains(e.target as Element)) {\n          if (shouldPreventDefaultKeyboard(e.target as Element, e.key)) {\n            e.preventDefault();\n          }\n\n          // If the event is repeating, it may have started on a different element\n          // after which focus moved to the current element. Ignore these events and\n          // only handle the first key down event.\n          let shouldStopPropagation = true;\n          if (!state.isPressed && !e.repeat) {\n            state.target = e.currentTarget;\n            state.isPressed = true;\n            shouldStopPropagation = triggerPressStart(e, 'keyboard');\n\n            // Focus may move before the key up event, so register the event on the document\n            // instead of the same element where the key down event occurred. Make it capturing so that it will trigger\n            // before stopPropagation from useKeyboard on a child element may happen and thus we can still call triggerPress for the parent element.\n            let originalTarget = e.currentTarget;\n            let pressUp = (e) => {\n              if (isValidKeyboardEvent(e, originalTarget) && !e.repeat && originalTarget.contains(e.target as Element) && state.target) {\n                triggerPressUp(createEvent(state.target, e), 'keyboard');\n              }\n            };\n\n            addGlobalListener(getOwnerDocument(e.currentTarget), 'keyup', chain(pressUp, onKeyUp), true);\n          }\n\n          if (shouldStopPropagation) {\n            e.stopPropagation();\n          }\n\n          // Keep track of the keydown events that occur while the Meta (e.g. Command) key is held.\n          // macOS has a bug where keyup events are not fired while the Meta key is down.\n          // When the Meta key itself is released we will get an event for that, and we'll act as if\n          // all of these other keys were released as well.\n          // https://bugs.chromium.org/p/chromium/issues/detail?id=1393524\n          // https://bugs.webkit.org/show_bug.cgi?id=55291\n          // https://bugzilla.mozilla.org/show_bug.cgi?id=1299553\n          if (e.metaKey && isMac()) {\n            state.metaKeyEvents?.set(e.key, e.nativeEvent);\n          }\n        } else if (e.key === 'Meta') {\n          state.metaKeyEvents = new Map();\n        }\n      },\n      onClick(e) {\n        if (e && !e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        if (e && e.button === 0 && !state.isTriggeringEvent && !(openLink as any).isOpening) {\n          let shouldStopPropagation = true;\n          if (isDisabled) {\n            e.preventDefault();\n          }\n\n          // If triggered from a screen reader or by using element.click(),\n          // trigger as if it were a keyboard click.\n          if (!state.ignoreClickAfterPress && !state.ignoreEmulatedMouseEvents && !state.isPressed && (state.pointerType === 'virtual' || isVirtualClick(e.nativeEvent))) {\n            // Ensure the element receives focus (VoiceOver on iOS does not do this)\n            if (!isDisabled && !preventFocusOnPress) {\n              focusWithoutScrolling(e.currentTarget);\n            }\n\n            let stopPressStart = triggerPressStart(e, 'virtual');\n            let stopPressUp = triggerPressUp(e, 'virtual');\n            let stopPressEnd = triggerPressEnd(e, 'virtual');\n            shouldStopPropagation = stopPressStart && stopPressUp && stopPressEnd;\n          }\n\n          state.ignoreEmulatedMouseEvents = false;\n          state.ignoreClickAfterPress = false;\n          if (shouldStopPropagation) {\n            e.stopPropagation();\n          }\n        }\n      }\n    };\n\n    let onKeyUp = (e: KeyboardEvent) => {\n      if (state.isPressed && state.target && isValidKeyboardEvent(e, state.target)) {\n        if (shouldPreventDefaultKeyboard(e.target as Element, e.key)) {\n          e.preventDefault();\n        }\n\n        let target = e.target as Element;\n        triggerPressEnd(createEvent(state.target, e), 'keyboard', state.target.contains(target));\n        removeAllGlobalListeners();\n\n        // If a link was triggered with a key other than Enter, open the URL ourselves.\n        // This means the link has a role override, and the default browser behavior\n        // only applies when using the Enter key.\n        if (e.key !== 'Enter' && isHTMLAnchorLink(state.target) && state.target.contains(target) && !e[LINK_CLICKED]) {\n          // Store a hidden property on the event so we only trigger link click once,\n          // even if there are multiple usePress instances attached to the element.\n          e[LINK_CLICKED] = true;\n          openLink(state.target, e, false);\n        }\n\n        state.isPressed = false;\n        state.metaKeyEvents?.delete(e.key);\n      } else if (e.key === 'Meta' && state.metaKeyEvents?.size) {\n        // If we recorded keydown events that occurred while the Meta key was pressed,\n        // and those haven't received keyup events already, fire keyup events ourselves.\n        // See comment above for more info about the macOS bug causing this.\n        let events = state.metaKeyEvents;\n        state.metaKeyEvents = undefined;\n        for (let event of events.values()) {\n          state.target?.dispatchEvent(new KeyboardEvent('keyup', event));\n        }\n      }\n    };\n\n    if (typeof PointerEvent !== 'undefined') {\n      pressProps.onPointerDown = (e) => {\n        // Only handle left clicks, and ignore events that bubbled through portals.\n        if (e.button !== 0 || !e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        // iOS safari fires pointer events from VoiceOver with incorrect coordinates/target.\n        // Ignore and let the onClick handler take care of it instead.\n        // https://bugs.webkit.org/show_bug.cgi?id=222627\n        // https://bugs.webkit.org/show_bug.cgi?id=223202\n        if (isVirtualPointerEvent(e.nativeEvent)) {\n          state.pointerType = 'virtual';\n          return;\n        }\n\n        // Due to browser inconsistencies, especially on mobile browsers, we prevent\n        // default on pointer down and handle focusing the pressable element ourselves.\n        if (shouldPreventDefault(e.currentTarget as Element)) {\n          e.preventDefault();\n        }\n\n        state.pointerType = e.pointerType;\n\n        let shouldStopPropagation = true;\n        if (!state.isPressed) {\n          state.isPressed = true;\n          state.isOverTarget = true;\n          state.activePointerId = e.pointerId;\n          state.target = e.currentTarget;\n\n          if (!isDisabled && !preventFocusOnPress) {\n            focusWithoutScrolling(e.currentTarget);\n          }\n\n          if (!allowTextSelectionOnPress) {\n            disableTextSelection(state.target);\n          }\n\n          shouldStopPropagation = triggerPressStart(e, state.pointerType);\n\n          addGlobalListener(getOwnerDocument(e.currentTarget), 'pointermove', onPointerMove, false);\n          addGlobalListener(getOwnerDocument(e.currentTarget), 'pointerup', onPointerUp, false);\n          addGlobalListener(getOwnerDocument(e.currentTarget), 'pointercancel', onPointerCancel, false);\n        }\n\n        if (shouldStopPropagation) {\n          e.stopPropagation();\n        }\n      };\n\n      pressProps.onMouseDown = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        if (e.button === 0) {\n          // Chrome and Firefox on touch Windows devices require mouse down events\n          // to be canceled in addition to pointer events, or an extra asynchronous\n          // focus event will be fired.\n          if (shouldPreventDefault(e.currentTarget as Element)) {\n            e.preventDefault();\n          }\n\n          e.stopPropagation();\n        }\n      };\n\n      pressProps.onPointerUp = (e) => {\n        // iOS fires pointerup with zero width and height, so check the pointerType recorded during pointerdown.\n        if (!e.currentTarget.contains(e.target as Element) || state.pointerType === 'virtual') {\n          return;\n        }\n\n        // Only handle left clicks\n        // Safari on iOS sometimes fires pointerup events, even\n        // when the touch isn't over the target, so double check.\n        if (e.button === 0 && isOverTarget(e, e.currentTarget)) {\n          triggerPressUp(e, state.pointerType || e.pointerType);\n        }\n      };\n\n      // Safari on iOS < 13.2 does not implement pointerenter/pointerleave events correctly.\n      // Use pointer move events instead to implement our own hit testing.\n      // See https://bugs.webkit.org/show_bug.cgi?id=199803\n      let onPointerMove = (e: PointerEvent) => {\n        if (e.pointerId !== state.activePointerId) {\n          return;\n        }\n\n        if (state.target && isOverTarget(e, state.target)) {\n          if (!state.isOverTarget && state.pointerType != null) {\n            state.isOverTarget = true;\n            triggerPressStart(createEvent(state.target, e), state.pointerType);\n          }\n        } else if (state.target && state.isOverTarget && state.pointerType != null) {\n          state.isOverTarget = false;\n          triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n          cancelOnPointerExit(e);\n        }\n      };\n\n      let onPointerUp = (e: PointerEvent) => {\n        if (e.pointerId === state.activePointerId && state.isPressed && e.button === 0 && state.target) {\n          if (isOverTarget(e, state.target) && state.pointerType != null) {\n            triggerPressEnd(createEvent(state.target, e), state.pointerType);\n          } else if (state.isOverTarget && state.pointerType != null) {\n            triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n          }\n\n          state.isPressed = false;\n          state.isOverTarget = false;\n          state.activePointerId = null;\n          state.pointerType = null;\n          removeAllGlobalListeners();\n          if (!allowTextSelectionOnPress) {\n            restoreTextSelection(state.target);\n          }\n        }\n      };\n\n      let onPointerCancel = (e: PointerEvent) => {\n        cancel(e);\n      };\n\n      pressProps.onDragStart = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        // Safari does not call onPointerCancel when a drag starts, whereas Chrome and Firefox do.\n        cancel(e);\n      };\n    } else {\n      pressProps.onMouseDown = (e) => {\n        // Only handle left clicks\n        if (e.button !== 0 || !e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        // Due to browser inconsistencies, especially on mobile browsers, we prevent\n        // default on mouse down and handle focusing the pressable element ourselves.\n        if (shouldPreventDefault(e.currentTarget)) {\n          e.preventDefault();\n        }\n\n        if (state.ignoreEmulatedMouseEvents) {\n          e.stopPropagation();\n          return;\n        }\n\n        state.isPressed = true;\n        state.isOverTarget = true;\n        state.target = e.currentTarget;\n        state.pointerType = isVirtualClick(e.nativeEvent) ? 'virtual' : 'mouse';\n\n        if (!isDisabled && !preventFocusOnPress) {\n          focusWithoutScrolling(e.currentTarget);\n        }\n\n        let shouldStopPropagation = triggerPressStart(e, state.pointerType);\n        if (shouldStopPropagation) {\n          e.stopPropagation();\n        }\n\n        addGlobalListener(getOwnerDocument(e.currentTarget), 'mouseup', onMouseUp, false);\n      };\n\n      pressProps.onMouseEnter = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        let shouldStopPropagation = true;\n        if (state.isPressed && !state.ignoreEmulatedMouseEvents && state.pointerType != null) {\n          state.isOverTarget = true;\n          shouldStopPropagation = triggerPressStart(e, state.pointerType);\n        }\n\n        if (shouldStopPropagation) {\n          e.stopPropagation();\n        }\n      };\n\n      pressProps.onMouseLeave = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        let shouldStopPropagation = true;\n        if (state.isPressed && !state.ignoreEmulatedMouseEvents && state.pointerType != null) {\n          state.isOverTarget = false;\n          shouldStopPropagation = triggerPressEnd(e, state.pointerType, false);\n          cancelOnPointerExit(e);\n        }\n\n        if (shouldStopPropagation) {\n          e.stopPropagation();\n        }\n      };\n\n      pressProps.onMouseUp = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        if (!state.ignoreEmulatedMouseEvents && e.button === 0) {\n          triggerPressUp(e, state.pointerType || 'mouse');\n        }\n      };\n\n      let onMouseUp = (e: MouseEvent) => {\n        // Only handle left clicks\n        if (e.button !== 0) {\n          return;\n        }\n\n        state.isPressed = false;\n        removeAllGlobalListeners();\n\n        if (state.ignoreEmulatedMouseEvents) {\n          state.ignoreEmulatedMouseEvents = false;\n          return;\n        }\n\n        if (state.target && isOverTarget(e, state.target) && state.pointerType != null) {\n          triggerPressEnd(createEvent(state.target, e), state.pointerType);\n        } else if (state.target && state.isOverTarget && state.pointerType != null) {\n          triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n        }\n\n        state.isOverTarget = false;\n      };\n\n      pressProps.onTouchStart = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        let touch = getTouchFromEvent(e.nativeEvent);\n        if (!touch) {\n          return;\n        }\n        state.activePointerId = touch.identifier;\n        state.ignoreEmulatedMouseEvents = true;\n        state.isOverTarget = true;\n        state.isPressed = true;\n        state.target = e.currentTarget;\n        state.pointerType = 'touch';\n\n        // Due to browser inconsistencies, especially on mobile browsers, we prevent default\n        // on the emulated mouse event and handle focusing the pressable element ourselves.\n        if (!isDisabled && !preventFocusOnPress) {\n          focusWithoutScrolling(e.currentTarget);\n        }\n\n        if (!allowTextSelectionOnPress) {\n          disableTextSelection(state.target);\n        }\n\n        let shouldStopPropagation = triggerPressStart(e, state.pointerType);\n        if (shouldStopPropagation) {\n          e.stopPropagation();\n        }\n\n        addGlobalListener(getOwnerWindow(e.currentTarget), 'scroll', onScroll, true);\n      };\n\n      pressProps.onTouchMove = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        if (!state.isPressed) {\n          e.stopPropagation();\n          return;\n        }\n\n        let touch = getTouchById(e.nativeEvent, state.activePointerId);\n        let shouldStopPropagation = true;\n        if (touch && isOverTarget(touch, e.currentTarget)) {\n          if (!state.isOverTarget && state.pointerType != null) {\n            state.isOverTarget = true;\n            shouldStopPropagation = triggerPressStart(e, state.pointerType);\n          }\n        } else if (state.isOverTarget && state.pointerType != null) {\n          state.isOverTarget = false;\n          shouldStopPropagation = triggerPressEnd(e, state.pointerType, false);\n          cancelOnPointerExit(e);\n        }\n\n        if (shouldStopPropagation) {\n          e.stopPropagation();\n        }\n      };\n\n      pressProps.onTouchEnd = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        if (!state.isPressed) {\n          e.stopPropagation();\n          return;\n        }\n\n        let touch = getTouchById(e.nativeEvent, state.activePointerId);\n        let shouldStopPropagation = true;\n        if (touch && isOverTarget(touch, e.currentTarget) && state.pointerType != null) {\n          triggerPressUp(e, state.pointerType);\n          shouldStopPropagation = triggerPressEnd(e, state.pointerType);\n        } else if (state.isOverTarget && state.pointerType != null) {\n          shouldStopPropagation = triggerPressEnd(e, state.pointerType, false);\n        }\n\n        if (shouldStopPropagation) {\n          e.stopPropagation();\n        }\n\n        state.isPressed = false;\n        state.activePointerId = null;\n        state.isOverTarget = false;\n        state.ignoreEmulatedMouseEvents = true;\n        if (state.target && !allowTextSelectionOnPress) {\n          restoreTextSelection(state.target);\n        }\n        removeAllGlobalListeners();\n      };\n\n      pressProps.onTouchCancel = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (state.isPressed) {\n          cancel(e);\n        }\n      };\n\n      let onScroll = (e: Event) => {\n        if (state.isPressed && (e.target as Element).contains(state.target)) {\n          cancel({\n            currentTarget: state.target,\n            shiftKey: false,\n            ctrlKey: false,\n            metaKey: false,\n            altKey: false\n          });\n        }\n      };\n\n      pressProps.onDragStart = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        cancel(e);\n      };\n    }\n\n    return pressProps;\n  }, [\n    addGlobalListener,\n    isDisabled,\n    preventFocusOnPress,\n    removeAllGlobalListeners,\n    allowTextSelectionOnPress,\n    cancel,\n    cancelOnPointerExit,\n    triggerPressEnd,\n    triggerPressStart,\n    triggerPressUp\n  ]);\n\n  // Remove user-select: none in case component unmounts immediately after pressStart\n  // eslint-disable-next-line arrow-body-style\n  useEffect(() => {\n    return () => {\n      if (!allowTextSelectionOnPress) {\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        restoreTextSelection(ref.current.target ?? undefined);\n      }\n    };\n  }, [allowTextSelectionOnPress]);\n\n  return {\n    isPressed: isPressedProp || isPressed,\n    pressProps: mergeProps(domProps, pressProps)\n  };\n}\n\nfunction isHTMLAnchorLink(target: Element): target is HTMLAnchorElement {\n  return target.tagName === 'A' && target.hasAttribute('href');\n}\n\nfunction isValidKeyboardEvent(event: KeyboardEvent, currentTarget: Element): boolean {\n  const {key, code} = event;\n  const element = currentTarget as HTMLElement;\n  const role = element.getAttribute('role');\n  // Accessibility for keyboards. Space and Enter only.\n  // \"Spacebar\" is for IE 11\n  return (\n    (key === 'Enter' || key === ' ' || key === 'Spacebar' || code === 'Space') &&\n    !((element instanceof getOwnerWindow(element).HTMLInputElement && !isValidInputKey(element, key)) ||\n      element instanceof getOwnerWindow(element).HTMLTextAreaElement ||\n      element.isContentEditable) &&\n    // Links should only trigger with Enter key\n    !((role === 'link' || (!role && isHTMLAnchorLink(element))) && key !== 'Enter')\n  );\n}\n\nfunction getTouchFromEvent(event: TouchEvent): Touch | null {\n  const {targetTouches} = event;\n  if (targetTouches.length > 0) {\n    return targetTouches[0];\n  }\n  return null;\n}\n\nfunction getTouchById(\n  event: TouchEvent,\n  pointerId: null | number\n): null | Touch {\n  const changedTouches = event.changedTouches;\n  for (let i = 0; i < changedTouches.length; i++) {\n    const touch = changedTouches[i];\n    if (touch.identifier === pointerId) {\n      return touch;\n    }\n  }\n  return null;\n}\n\nfunction createEvent(target: FocusableElement, e: EventBase): EventBase {\n  return {\n    currentTarget: target,\n    shiftKey: e.shiftKey,\n    ctrlKey: e.ctrlKey,\n    metaKey: e.metaKey,\n    altKey: e.altKey\n  };\n}\n\ninterface Rect {\n  top: number,\n  right: number,\n  bottom: number,\n  left: number\n}\n\ninterface EventPoint {\n  clientX: number,\n  clientY: number,\n  width?: number,\n  height?: number,\n  radiusX?: number,\n  radiusY?: number\n}\n\nfunction getPointClientRect(point: EventPoint): Rect {\n  let offsetX = 0;\n  let offsetY = 0;\n  if (point.width !== undefined) {\n    offsetX = (point.width / 2);\n  } else if (point.radiusX !== undefined) {\n    offsetX = point.radiusX;\n  }\n  if (point.height !== undefined) {\n    offsetY = (point.height / 2);\n  } else if (point.radiusY !== undefined) {\n    offsetY = point.radiusY;\n  }\n\n  return {\n    top: point.clientY - offsetY,\n    right: point.clientX + offsetX,\n    bottom: point.clientY + offsetY,\n    left: point.clientX - offsetX\n  };\n}\n\nfunction areRectanglesOverlapping(a: Rect, b: Rect) {\n  // check if they cannot overlap on x axis\n  if (a.left > b.right || b.left > a.right) {\n    return false;\n  }\n  // check if they cannot overlap on y axis\n  if (a.top > b.bottom || b.top > a.bottom) {\n    return false;\n  }\n  return true;\n}\n\nfunction isOverTarget(point: EventPoint, target: Element) {\n  let rect = target.getBoundingClientRect();\n  let pointRect = getPointClientRect(point);\n  return areRectanglesOverlapping(rect, pointRect);\n}\n\nfunction shouldPreventDefault(target: Element) {\n  // We cannot prevent default if the target is a draggable element.\n  return !(target instanceof HTMLElement) || !target.hasAttribute('draggable');\n}\n\nfunction shouldPreventDefaultKeyboard(target: Element, key: string) {\n  if (target instanceof HTMLInputElement) {\n    return !isValidInputKey(target, key);\n  }\n\n  if (target instanceof HTMLButtonElement) {\n    return target.type !== 'submit' && target.type !== 'reset';\n  }\n\n  if (isHTMLAnchorLink(target)) {\n    return false;\n  }\n\n  return true;\n}\n\nconst nonTextInputTypes = new Set([\n  'checkbox',\n  'radio',\n  'range',\n  'color',\n  'file',\n  'image',\n  'button',\n  'submit',\n  'reset'\n]);\n\nfunction isValidInputKey(target: HTMLInputElement, key: string) {\n  // Only space should toggle checkboxes and radios, not enter.\n  return target.type === 'checkbox' || target.type === 'radio'\n    ? key === ' '\n    : nonTextInputTypes.has(target.type);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {getOwnerDocument, isIOS, runAfterTransition} from '@react-aria/utils';\n\n// Safari on iOS starts selecting text on long press. The only way to avoid this, it seems,\n// is to add user-select: none to the entire page. Adding it to the pressable element prevents\n// that element from being selected, but nearby elements may still receive selection. We add\n// user-select: none on touch start, and remove it again on touch end to prevent this.\n// This must be implemented using global state to avoid race conditions between multiple elements.\n\n// There are three possible states due to the delay before removing user-select: none after\n// pointer up. The 'default' state always transitions to the 'disabled' state, which transitions\n// to 'restoring'. The 'restoring' state can either transition back to 'disabled' or 'default'.\n\n// For non-iOS devices, we apply user-select: none to the pressed element instead to avoid possible\n// performance issues that arise from applying and removing user-select: none to the entire page\n// (see https://github.com/adobe/react-spectrum/issues/1609).\ntype State = 'default' | 'disabled' | 'restoring';\n\n// Note that state only matters here for iOS. Non-iOS gets user-select: none applied to the target element\n// rather than at the document level so we just need to apply/remove user-select: none for each pressed element individually\nlet state: State = 'default';\nlet savedUserSelect = '';\nlet modifiedElementMap = new WeakMap<Element, string>();\n\nexport function disableTextSelection(target?: Element) {\n  if (isIOS()) {\n    if (state === 'default') {\n      // eslint-disable-next-line no-restricted-globals\n      const documentObject = getOwnerDocument(target);\n      savedUserSelect = documentObject.documentElement.style.webkitUserSelect;\n      documentObject.documentElement.style.webkitUserSelect = 'none';\n    }\n\n    state = 'disabled';\n  } else if (target instanceof HTMLElement || target instanceof SVGElement) {\n    // If not iOS, store the target's original user-select and change to user-select: none\n    // Ignore state since it doesn't apply for non iOS\n    modifiedElementMap.set(target, target.style.userSelect);\n    target.style.userSelect = 'none';\n  }\n}\n\nexport function restoreTextSelection(target?: Element) {\n  if (isIOS()) {\n    // If the state is already default, there's nothing to do.\n    // If it is restoring, then there's no need to queue a second restore.\n    if (state !== 'disabled') {\n      return;\n    }\n\n    state = 'restoring';\n\n    // There appears to be a delay on iOS where selection still might occur\n    // after pointer up, so wait a bit before removing user-select.\n    setTimeout(() => {\n      // Wait for any CSS transitions to complete so we don't recompute style\n      // for the whole page in the middle of the animation and cause jank.\n      runAfterTransition(() => {\n        // Avoid race conditions\n        if (state === 'restoring') {\n          // eslint-disable-next-line no-restricted-globals\n          const documentObject = getOwnerDocument(target);\n          if (documentObject.documentElement.style.webkitUserSelect === 'none') {\n            documentObject.documentElement.style.webkitUserSelect = savedUserSelect || '';\n          }\n\n          savedUserSelect = '';\n          state = 'default';\n        }\n      });\n    }, 300);\n  } else if (target instanceof HTMLElement || target instanceof SVGElement) {\n    // If not iOS, restore the target's original user-select if any\n    // Ignore state since it doesn't apply for non iOS\n    if (target && modifiedElementMap.has(target)) {\n      let targetOldUserSelect = modifiedElementMap.get(target) as string;\n\n      if (target.style.userSelect === 'none') {\n        target.style.userSelect = targetOldUserSelect;\n      }\n\n      if (target.getAttribute('style') === '') {\n        target.removeAttribute('style');\n      }\n      modifiedElementMap.delete(target);\n    }\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableElement} from '@react-types/shared';\nimport {PressProps} from './usePress';\nimport React, {MutableRefObject} from 'react';\n\ninterface IPressResponderContext extends PressProps {\n  register(): void,\n  ref?: MutableRefObject<FocusableElement>\n}\n\nexport const PressResponderContext = React.createContext<IPressResponderContext>({register: () => {}});\nPressResponderContext.displayName = 'PressResponderContext';\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableElement} from '@react-types/shared';\nimport {mergeProps, useObjectRef, useSyncRef} from '@react-aria/utils';\nimport {PressProps} from './usePress';\nimport {PressResponderContext} from './context';\nimport React, {ForwardedRef, ReactNode, useContext, useEffect, useMemo, useRef} from 'react';\n\ninterface PressResponderProps extends PressProps {\n  children: ReactNode\n}\n\nexport const PressResponder = React.forwardRef(({children, ...props}: PressResponderProps, ref: ForwardedRef<FocusableElement>) => {\n  let isRegistered = useRef(false);\n  let prevContext = useContext(PressResponderContext);\n  ref = useObjectRef(ref || prevContext?.ref);\n  let context = mergeProps(prevContext || {}, {\n    ...props,\n    ref,\n    register() {\n      isRegistered.current = true;\n      if (prevContext) {\n        prevContext.register();\n      }\n    }\n  });\n\n  useSyncRef(prevContext, ref);\n\n  useEffect(() => {\n    if (!isRegistered.current) {\n      console.warn(\n        'A PressResponder was rendered without a pressable child. ' +\n        'Either call the usePress hook, or wrap your DOM node with <Pressable> component.'\n      );\n      isRegistered.current = true; // only warn once in strict mode.\n    }\n  }, []);\n\n  return (\n    <PressResponderContext.Provider value={context}>\n      {children}\n    </PressResponderContext.Provider>\n  );\n});\n\nexport function ClearPressResponder({children}: {children: ReactNode}) {\n  let context = useMemo(() => ({register: () => {}}), []);\n  return (\n    <PressResponderContext.Provider value={context}>\n      {children}\n    </PressResponderContext.Provider>\n  );\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {DOMAttributes, FocusableElement, FocusEvents} from '@react-types/shared';\nimport {FocusEvent, useCallback} from 'react';\nimport {useSyntheticBlurEvent} from './utils';\n\nexport interface FocusProps<Target = FocusableElement> extends FocusEvents<Target> {\n  /** Whether the focus events should be disabled. */\n  isDisabled?: boolean\n}\n\nexport interface FocusResult<Target = FocusableElement> {\n  /** Props to spread onto the target element. */\n  focusProps: DOMAttributes<Target>\n}\n\n/**\n * Handles focus events for the immediate target.\n * Focus events on child elements will be ignored.\n */\nexport function useFocus<Target extends FocusableElement = FocusableElement>(props: FocusProps<Target>): FocusResult<Target> {\n  let {\n    isDisabled,\n    onFocus: onFocusProp,\n    onBlur: onBlurProp,\n    onFocusChange\n  } = props;\n\n  const onBlur: FocusProps<Target>['onBlur'] = useCallback((e: FocusEvent<Target>) => {\n    if (e.target === e.currentTarget) {\n      if (onBlurProp) {\n        onBlurProp(e);\n      }\n\n      if (onFocusChange) {\n        onFocusChange(false);\n      }\n\n      return true;\n    }\n  }, [onBlurProp, onFocusChange]);\n\n\n  const onSyntheticFocus = useSyntheticBlurEvent<Target>(onBlur);\n\n  const onFocus: FocusProps<Target>['onFocus'] = useCallback((e: FocusEvent<Target>) => {\n    // Double check that document.activeElement actually matches e.target in case a previously chained\n    // focus handler already moved focus somewhere else.\n    if (e.target === e.currentTarget && document.activeElement === e.target) {\n      if (onFocusProp) {\n        onFocusProp(e);\n      }\n\n      if (onFocusChange) {\n        onFocusChange(true);\n      }\n\n      onSyntheticFocus(e);\n    }\n  }, [onFocusChange, onFocusProp, onSyntheticFocus]);\n\n  return {\n    focusProps: {\n      onFocus: (!isDisabled && (onFocusProp || onFocusChange || onBlurProp)) ? onFocus : undefined,\n      onBlur: (!isDisabled && (onBlurProp || onFocusChange)) ? onBlur : undefined\n    }\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusEvent as ReactFocusEvent, useCallback, useRef} from 'react';\nimport {useEffectEvent, useLayoutEffect} from '@react-aria/utils';\n\nexport class SyntheticFocusEvent<Target = Element> implements ReactFocusEvent<Target> {\n  nativeEvent: FocusEvent;\n  target: EventTarget & Target;\n  currentTarget: EventTarget & Target;\n  relatedTarget: Element;\n  bubbles: boolean;\n  cancelable: boolean;\n  defaultPrevented: boolean;\n  eventPhase: number;\n  isTrusted: boolean;\n  timeStamp: number;\n  type: string;\n\n  constructor(type: string, nativeEvent: FocusEvent) {\n    this.nativeEvent = nativeEvent;\n    this.target = nativeEvent.target as EventTarget & Target;\n    this.currentTarget = nativeEvent.currentTarget as EventTarget & Target;\n    this.relatedTarget = nativeEvent.relatedTarget as Element;\n    this.bubbles = nativeEvent.bubbles;\n    this.cancelable = nativeEvent.cancelable;\n    this.defaultPrevented = nativeEvent.defaultPrevented;\n    this.eventPhase = nativeEvent.eventPhase;\n    this.isTrusted = nativeEvent.isTrusted;\n    this.timeStamp = nativeEvent.timeStamp;\n    this.type = type;\n  }\n\n  isDefaultPrevented(): boolean {\n    return this.nativeEvent.defaultPrevented;\n  }\n\n  preventDefault(): void {\n    this.defaultPrevented = true;\n    this.nativeEvent.preventDefault();\n  }\n\n  stopPropagation(): void {\n    this.nativeEvent.stopPropagation();\n    this.isPropagationStopped = () => true;\n  }\n\n  isPropagationStopped(): boolean {\n    return false;\n  }\n\n  persist() {}\n}\n\nexport function useSyntheticBlurEvent<Target = Element>(onBlur: (e: ReactFocusEvent<Target>) => void) {\n  let stateRef = useRef({\n    isFocused: false,\n    observer: null as MutationObserver | null\n  });\n\n  // Clean up MutationObserver on unmount. See below.\n  // eslint-disable-next-line arrow-body-style\n  useLayoutEffect(() => {\n    const state = stateRef.current;\n    return () => {\n      if (state.observer) {\n        state.observer.disconnect();\n        state.observer = null;\n      }\n    };\n  }, []);\n\n  let dispatchBlur = useEffectEvent((e: SyntheticFocusEvent<Target>) => {\n    onBlur?.(e);\n  });\n\n  // This function is called during a React onFocus event.\n  return useCallback((e: ReactFocusEvent<Target>) => {\n    // React does not fire onBlur when an element is disabled. https://github.com/facebook/react/issues/9142\n    // Most browsers fire a native focusout event in this case, except for Firefox. In that case, we use a\n    // MutationObserver to watch for the disabled attribute, and dispatch these events ourselves.\n    // For browsers that do, focusout fires before the MutationObserver, so onBlur should not fire twice.\n    if (\n      e.target instanceof HTMLButtonElement ||\n      e.target instanceof HTMLInputElement ||\n      e.target instanceof HTMLTextAreaElement ||\n      e.target instanceof HTMLSelectElement\n    ) {\n      stateRef.current.isFocused = true;\n\n      let target = e.target;\n      let onBlurHandler: EventListenerOrEventListenerObject | null = (e) => {\n        stateRef.current.isFocused = false;\n\n        if (target.disabled) {\n          // For backward compatibility, dispatch a (fake) React synthetic event.\n          dispatchBlur(new SyntheticFocusEvent('blur', e as FocusEvent));\n        }\n\n        // We no longer need the MutationObserver once the target is blurred.\n        if (stateRef.current.observer) {\n          stateRef.current.observer.disconnect();\n          stateRef.current.observer = null;\n        }\n      };\n\n      target.addEventListener('focusout', onBlurHandler, {once: true});\n\n      stateRef.current.observer = new MutationObserver(() => {\n        if (stateRef.current.isFocused && target.disabled) {\n          stateRef.current.observer?.disconnect();\n          let relatedTargetEl = target === document.activeElement ? null : document.activeElement;\n          target.dispatchEvent(new FocusEvent('blur', {relatedTarget: relatedTargetEl}));\n          target.dispatchEvent(new FocusEvent('focusout', {bubbles: true, relatedTarget: relatedTargetEl}));\n        }\n      });\n\n      stateRef.current.observer.observe(target, {attributes: true, attributeFilter: ['disabled']});\n    }\n  }, [dispatchBlur]);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {getOwnerDocument, getOwnerWindow, isMac, isVirtualClick} from '@react-aria/utils';\nimport {useEffect, useState} from 'react';\nimport {useIsSSR} from '@react-aria/ssr';\n\nexport type Modality = 'keyboard' | 'pointer' | 'virtual';\ntype HandlerEvent = PointerEvent | MouseEvent | KeyboardEvent | FocusEvent | null;\ntype Handler = (modality: Modality, e: HandlerEvent) => void;\nexport type FocusVisibleHandler = (isFocusVisible: boolean) => void;\nexport interface FocusVisibleProps {\n  /** Whether the element is a text input. */\n  isTextInput?: boolean,\n  /** Whether the element will be auto focused. */\n  autoFocus?: boolean\n}\n\nexport interface FocusVisibleResult {\n  /** Whether keyboard focus is visible globally. */\n  isFocusVisible: boolean\n}\n\nlet currentModality: null | Modality = null;\nlet changeHandlers = new Set<Handler>();\ninterface GlobalListenerData {\n  focus: () => void\n}\nexport let hasSetupGlobalListeners = new Map<Window, GlobalListenerData>(); // We use a map here to support setting event listeners across multiple document objects.\nlet hasEventBeforeFocus = false;\nlet hasBlurredWindowRecently = false;\n\n// Only Tab or Esc keys will make focus visible on text input elements\nconst FOCUS_VISIBLE_INPUT_KEYS = {\n  Tab: true,\n  Escape: true\n};\n\nfunction triggerChangeHandlers(modality: Modality, e: HandlerEvent) {\n  for (let handler of changeHandlers) {\n    handler(modality, e);\n  }\n}\n\n/**\n * Helper function to determine if a KeyboardEvent is unmodified and could make keyboard focus styles visible.\n */\nfunction isValidKey(e: KeyboardEvent) {\n  // Control and Shift keys trigger when navigating back to the tab with keyboard.\n  return !(e.metaKey || (!isMac() && e.altKey) || e.ctrlKey || e.key === 'Control' || e.key === 'Shift' || e.key === 'Meta');\n}\n\n\nfunction handleKeyboardEvent(e: KeyboardEvent) {\n  hasEventBeforeFocus = true;\n  if (isValidKey(e)) {\n    currentModality = 'keyboard';\n    triggerChangeHandlers('keyboard', e);\n  }\n}\n\nfunction handlePointerEvent(e: PointerEvent | MouseEvent) {\n  currentModality = 'pointer';\n  if (e.type === 'mousedown' || e.type === 'pointerdown') {\n    hasEventBeforeFocus = true;\n    triggerChangeHandlers('pointer', e);\n  }\n}\n\nfunction handleClickEvent(e: MouseEvent) {\n  if (isVirtualClick(e)) {\n    hasEventBeforeFocus = true;\n    currentModality = 'virtual';\n  }\n}\n\nfunction handleFocusEvent(e: FocusEvent) {\n  // Firefox fires two extra focus events when the user first clicks into an iframe:\n  // first on the window, then on the document. We ignore these events so they don't\n  // cause keyboard focus rings to appear.\n  if (e.target === window || e.target === document) {\n    return;\n  }\n\n  // If a focus event occurs without a preceding keyboard or pointer event, switch to virtual modality.\n  // This occurs, for example, when navigating a form with the next/previous buttons on iOS.\n  if (!hasEventBeforeFocus && !hasBlurredWindowRecently) {\n    currentModality = 'virtual';\n    triggerChangeHandlers('virtual', e);\n  }\n\n  hasEventBeforeFocus = false;\n  hasBlurredWindowRecently = false;\n}\n\nfunction handleWindowBlur() {\n  // When the window is blurred, reset state. This is necessary when tabbing out of the window,\n  // for example, since a subsequent focus event won't be fired.\n  hasEventBeforeFocus = false;\n  hasBlurredWindowRecently = true;\n}\n\n/**\n * Setup global event listeners to control when keyboard focus style should be visible.\n */\nfunction setupGlobalFocusEvents(element?: HTMLElement | null) {\n  if (typeof window === 'undefined' || hasSetupGlobalListeners.get(getOwnerWindow(element))) {\n    return;\n  }\n\n  const windowObject = getOwnerWindow(element);\n  const documentObject = getOwnerDocument(element);\n\n  // Programmatic focus() calls shouldn't affect the current input modality.\n  // However, we need to detect other cases when a focus event occurs without\n  // a preceding user event (e.g. screen reader focus). Overriding the focus\n  // method on HTMLElement.prototype is a bit hacky, but works.\n  let focus = windowObject.HTMLElement.prototype.focus;\n  windowObject.HTMLElement.prototype.focus = function () {\n    hasEventBeforeFocus = true;\n    focus.apply(this, arguments as unknown as [options?: FocusOptions | undefined]);\n  };\n\n  documentObject.addEventListener('keydown', handleKeyboardEvent, true);\n  documentObject.addEventListener('keyup', handleKeyboardEvent, true);\n  documentObject.addEventListener('click', handleClickEvent, true);\n\n  // Register focus events on the window so they are sure to happen\n  // before React's event listeners (registered on the document).\n  windowObject.addEventListener('focus', handleFocusEvent, true);\n  windowObject.addEventListener('blur', handleWindowBlur, false);\n\n  if (typeof PointerEvent !== 'undefined') {\n    documentObject.addEventListener('pointerdown', handlePointerEvent, true);\n    documentObject.addEventListener('pointermove', handlePointerEvent, true);\n    documentObject.addEventListener('pointerup', handlePointerEvent, true);\n  } else {\n    documentObject.addEventListener('mousedown', handlePointerEvent, true);\n    documentObject.addEventListener('mousemove', handlePointerEvent, true);\n    documentObject.addEventListener('mouseup', handlePointerEvent, true);\n  }\n\n  // Add unmount handler\n  windowObject.addEventListener('beforeunload', () => {\n    tearDownWindowFocusTracking(element);\n  }, {once: true});\n\n  hasSetupGlobalListeners.set(windowObject, {focus});\n}\n\nconst tearDownWindowFocusTracking = (element, loadListener?: () => void) => {\n  const windowObject = getOwnerWindow(element);\n  const documentObject = getOwnerDocument(element);\n  if (loadListener) {\n    documentObject.removeEventListener('DOMContentLoaded', loadListener);\n  }\n  if (!hasSetupGlobalListeners.has(windowObject)) {\n    return;\n  }\n  windowObject.HTMLElement.prototype.focus = hasSetupGlobalListeners.get(windowObject)!.focus;\n\n  documentObject.removeEventListener('keydown', handleKeyboardEvent, true);\n  documentObject.removeEventListener('keyup', handleKeyboardEvent, true);\n  documentObject.removeEventListener('click', handleClickEvent, true);\n  windowObject.removeEventListener('focus', handleFocusEvent, true);\n  windowObject.removeEventListener('blur', handleWindowBlur, false);\n\n  if (typeof PointerEvent !== 'undefined') {\n    documentObject.removeEventListener('pointerdown', handlePointerEvent, true);\n    documentObject.removeEventListener('pointermove', handlePointerEvent, true);\n    documentObject.removeEventListener('pointerup', handlePointerEvent, true);\n  } else {\n    documentObject.removeEventListener('mousedown', handlePointerEvent, true);\n    documentObject.removeEventListener('mousemove', handlePointerEvent, true);\n    documentObject.removeEventListener('mouseup', handlePointerEvent, true);\n  }\n\n  hasSetupGlobalListeners.delete(windowObject);\n};\n\n/**\n * EXPERIMENTAL\n * Adds a window (i.e. iframe) to the list of windows that are being tracked for focus visible.\n *\n * Sometimes apps render portions of their tree into an iframe. In this case, we cannot accurately track if the focus\n * is visible because we cannot see interactions inside the iframe. If you have this in your application's architecture,\n * then this function will attach event listeners inside the iframe. You should call `addWindowFocusTracking` with an\n * element from inside the window you wish to add. We'll retrieve the relevant elements based on that.\n * Note, you do not need to call this for the default window, as we call it for you.\n *\n * When you are ready to stop listening, but you do not wish to unmount the iframe, you may call the cleanup function\n * returned by `addWindowFocusTracking`. Otherwise, when you unmount the iframe, all listeners and state will be cleaned\n * up automatically for you.\n *\n * @param element @default document.body - The element provided will be used to get the window to add.\n * @returns A function to remove the event listeners and cleanup the state.\n */\nexport function addWindowFocusTracking(element?: HTMLElement | null): () => void {\n  const documentObject = getOwnerDocument(element);\n  let loadListener;\n  if (documentObject.readyState !== 'loading') {\n    setupGlobalFocusEvents(element);\n  } else {\n    loadListener = () => {\n      setupGlobalFocusEvents(element);\n    };\n    documentObject.addEventListener('DOMContentLoaded', loadListener);\n  }\n\n  return () => tearDownWindowFocusTracking(element, loadListener);\n}\n\n// Server-side rendering does not have the document object defined\n// eslint-disable-next-line no-restricted-globals\nif (typeof document !== 'undefined') {\n  addWindowFocusTracking();\n}\n\n/**\n * If true, keyboard focus is visible.\n */\nexport function isFocusVisible(): boolean {\n  return currentModality !== 'pointer';\n}\n\nexport function getInteractionModality(): Modality | null {\n  return currentModality;\n}\n\nexport function setInteractionModality(modality: Modality) {\n  currentModality = modality;\n  triggerChangeHandlers(modality, null);\n}\n\n/**\n * Keeps state of the current modality.\n */\nexport function useInteractionModality(): Modality | null {\n  setupGlobalFocusEvents();\n\n  let [modality, setModality] = useState(currentModality);\n  useEffect(() => {\n    let handler = () => {\n      setModality(currentModality);\n    };\n\n    changeHandlers.add(handler);\n    return () => {\n      changeHandlers.delete(handler);\n    };\n  }, []);\n\n  return useIsSSR() ? null : modality;\n}\n\nconst nonTextInputTypes = new Set([\n  'checkbox',\n  'radio',\n  'range',\n  'color',\n  'file',\n  'image',\n  'button',\n  'submit',\n  'reset'\n]);\n\n/**\n * If this is attached to text input component, return if the event is a focus event (Tab/Escape keys pressed) so that\n * focus visible style can be properly set.\n */\nfunction isKeyboardFocusEvent(isTextInput: boolean, modality: Modality, e: HandlerEvent) {\n  const IHTMLInputElement = typeof window !== 'undefined' ? getOwnerWindow(e?.target as Element).HTMLInputElement : HTMLInputElement;\n  const IHTMLTextAreaElement = typeof window !== 'undefined' ? getOwnerWindow(e?.target as Element).HTMLTextAreaElement : HTMLTextAreaElement;\n  const IHTMLElement = typeof window !== 'undefined' ? getOwnerWindow(e?.target as Element).HTMLElement : HTMLElement;\n  const IKeyboardEvent = typeof window !== 'undefined' ? getOwnerWindow(e?.target as Element).KeyboardEvent : KeyboardEvent;\n\n  isTextInput = isTextInput ||\n    (e?.target instanceof IHTMLInputElement && !nonTextInputTypes.has(e?.target?.type)) ||\n    e?.target instanceof IHTMLTextAreaElement ||\n    (e?.target instanceof IHTMLElement && e?.target.isContentEditable);\n  return !(isTextInput && modality === 'keyboard' && e instanceof IKeyboardEvent && !FOCUS_VISIBLE_INPUT_KEYS[e.key]);\n}\n\n/**\n * Manages focus visible state for the page, and subscribes individual components for updates.\n */\nexport function useFocusVisible(props: FocusVisibleProps = {}): FocusVisibleResult {\n  let {isTextInput, autoFocus} = props;\n  let [isFocusVisibleState, setFocusVisible] = useState(autoFocus || isFocusVisible());\n  useFocusVisibleListener((isFocusVisible) => {\n    setFocusVisible(isFocusVisible);\n  }, [isTextInput], {isTextInput});\n\n  return {isFocusVisible: isFocusVisibleState};\n}\n\n/**\n * Listens for trigger change and reports if focus is visible (i.e., modality is not pointer).\n */\nexport function useFocusVisibleListener(fn: FocusVisibleHandler, deps: ReadonlyArray<any>, opts?: {isTextInput?: boolean}): void {\n  setupGlobalFocusEvents();\n\n  useEffect(() => {\n    let handler = (modality: Modality, e: HandlerEvent) => {\n      if (!isKeyboardFocusEvent(!!(opts?.isTextInput), modality, e)) {\n        return;\n      }\n      fn(isFocusVisible());\n    };\n    changeHandlers.add(handler);\n    return () => {\n      changeHandlers.delete(handler);\n    };\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {DOMAttributes} from '@react-types/shared';\nimport {FocusEvent, useCallback, useRef} from 'react';\nimport {useSyntheticBlurEvent} from './utils';\n\nexport interface FocusWithinProps {\n  /** Whether the focus within events should be disabled. */\n  isDisabled?: boolean,\n  /** Handler that is called when the target element or a descendant receives focus. */\n  onFocusWithin?: (e: FocusEvent) => void,\n  /** Handler that is called when the target element and all descendants lose focus. */\n  onBlurWithin?: (e: FocusEvent) => void,\n  /** Handler that is called when the the focus within state changes. */\n  onFocusWithinChange?: (isFocusWithin: boolean) => void\n}\n\nexport interface FocusWithinResult {\n  /** Props to spread onto the target element. */\n  focusWithinProps: DOMAttributes\n}\n\n/**\n * Handles focus events for the target and its descendants.\n */\nexport function useFocusWithin(props: FocusWithinProps): FocusWithinResult {\n  let {\n    isDisabled,\n    onBlurWithin,\n    onFocusWithin,\n    onFocusWithinChange\n  } = props;\n  let state = useRef({\n    isFocusWithin: false\n  });\n\n  let onBlur = useCallback((e: FocusEvent) => {\n    // We don't want to trigger onBlurWithin and then immediately onFocusWithin again\n    // when moving focus inside the element. Only trigger if the currentTarget doesn't\n    // include the relatedTarget (where focus is moving).\n    if (state.current.isFocusWithin && !(e.currentTarget as Element).contains(e.relatedTarget as Element)) {\n      state.current.isFocusWithin = false;\n\n      if (onBlurWithin) {\n        onBlurWithin(e);\n      }\n\n      if (onFocusWithinChange) {\n        onFocusWithinChange(false);\n      }\n    }\n  }, [onBlurWithin, onFocusWithinChange, state]);\n\n  let onSyntheticFocus = useSyntheticBlurEvent(onBlur);\n  let onFocus = useCallback((e: FocusEvent) => {\n    // Double check that document.activeElement actually matches e.target in case a previously chained\n    // focus handler already moved focus somewhere else.\n    if (!state.current.isFocusWithin && document.activeElement === e.target) {\n      if (onFocusWithin) {\n        onFocusWithin(e);\n      }\n\n      if (onFocusWithinChange) {\n        onFocusWithinChange(true);\n      }\n\n      state.current.isFocusWithin = true;\n      onSyntheticFocus(e);\n    }\n  }, [onFocusWithin, onFocusWithinChange, onSyntheticFocus]);\n\n  if (isDisabled) {\n    return {\n      focusWithinProps: {\n        // These should not have been null, that would conflict in mergeProps\n        onFocus: undefined,\n        onBlur: undefined\n      }\n    };\n  }\n\n  return {\n    focusWithinProps: {\n      onFocus,\n      onBlur\n    }\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {DOMAttributes, HoverEvents} from '@react-types/shared';\nimport {useEffect, useMemo, useRef, useState} from 'react';\n\nexport interface HoverProps extends HoverEvents {\n  /** Whether the hover events should be disabled. */\n  isDisabled?: boolean\n}\n\nexport interface HoverResult {\n  /** Props to spread on the target element. */\n  hoverProps: DOMAttributes,\n  isHovered: boolean\n}\n\n// iOS fires onPointerEnter twice: once with pointerType=\"touch\" and again with pointerType=\"mouse\".\n// We want to ignore these emulated events so they do not trigger hover behavior.\n// See https://bugs.webkit.org/show_bug.cgi?id=214609.\nlet globalIgnoreEmulatedMouseEvents = false;\nlet hoverCount = 0;\n\nfunction setGlobalIgnoreEmulatedMouseEvents() {\n  globalIgnoreEmulatedMouseEvents = true;\n\n  // Clear globalIgnoreEmulatedMouseEvents after a short timeout. iOS fires onPointerEnter\n  // with pointerType=\"mouse\" immediately after onPointerUp and before onFocus. On other\n  // devices that don't have this quirk, we don't want to ignore a mouse hover sometime in\n  // the distant future because a user previously touched the element.\n  setTimeout(() => {\n    globalIgnoreEmulatedMouseEvents = false;\n  }, 50);\n}\n\nfunction handleGlobalPointerEvent(e) {\n  if (e.pointerType === 'touch') {\n    setGlobalIgnoreEmulatedMouseEvents();\n  }\n}\n\nfunction setupGlobalTouchEvents() {\n  if (typeof document === 'undefined') {\n    return;\n  }\n\n  if (typeof PointerEvent !== 'undefined') {\n    document.addEventListener('pointerup', handleGlobalPointerEvent);\n  } else {\n    document.addEventListener('touchend', setGlobalIgnoreEmulatedMouseEvents);\n  }\n\n  hoverCount++;\n  return () => {\n    hoverCount--;\n    if (hoverCount > 0) {\n      return;\n    }\n\n    if (typeof PointerEvent !== 'undefined') {\n      document.removeEventListener('pointerup', handleGlobalPointerEvent);\n    } else {\n      document.removeEventListener('touchend', setGlobalIgnoreEmulatedMouseEvents);\n    }\n  };\n}\n\n/**\n * Handles pointer hover interactions for an element. Normalizes behavior\n * across browsers and platforms, and ignores emulated mouse events on touch devices.\n */\nexport function useHover(props: HoverProps): HoverResult {\n  let {\n    onHoverStart,\n    onHoverChange,\n    onHoverEnd,\n    isDisabled\n  } = props;\n\n  let [isHovered, setHovered] = useState(false);\n  let state = useRef({\n    isHovered: false,\n    ignoreEmulatedMouseEvents: false,\n    pointerType: '',\n    target: null\n  }).current;\n\n  useEffect(setupGlobalTouchEvents, []);\n\n  let {hoverProps, triggerHoverEnd} = useMemo(() => {\n    let triggerHoverStart = (event, pointerType) => {\n      state.pointerType = pointerType;\n      if (isDisabled || pointerType === 'touch' || state.isHovered || !event.currentTarget.contains(event.target)) {\n        return;\n      }\n\n      state.isHovered = true;\n      let target = event.currentTarget;\n      state.target = target;\n\n      if (onHoverStart) {\n        onHoverStart({\n          type: 'hoverstart',\n          target,\n          pointerType\n        });\n      }\n\n      if (onHoverChange) {\n        onHoverChange(true);\n      }\n\n      setHovered(true);\n    };\n\n    let triggerHoverEnd = (event, pointerType) => {\n      state.pointerType = '';\n      state.target = null;\n\n      if (pointerType === 'touch' || !state.isHovered) {\n        return;\n      }\n\n      state.isHovered = false;\n      let target = event.currentTarget;\n      if (onHoverEnd) {\n        onHoverEnd({\n          type: 'hoverend',\n          target,\n          pointerType\n        });\n      }\n\n      if (onHoverChange) {\n        onHoverChange(false);\n      }\n\n      setHovered(false);\n    };\n\n    let hoverProps: DOMAttributes = {};\n\n    if (typeof PointerEvent !== 'undefined') {\n      hoverProps.onPointerEnter = (e) => {\n        if (globalIgnoreEmulatedMouseEvents && e.pointerType === 'mouse') {\n          return;\n        }\n\n        triggerHoverStart(e, e.pointerType);\n      };\n\n      hoverProps.onPointerLeave = (e) => {\n        if (!isDisabled && e.currentTarget.contains(e.target as Element)) {\n          triggerHoverEnd(e, e.pointerType);\n        }\n      };\n    } else {\n      hoverProps.onTouchStart = () => {\n        state.ignoreEmulatedMouseEvents = true;\n      };\n\n      hoverProps.onMouseEnter = (e) => {\n        if (!state.ignoreEmulatedMouseEvents && !globalIgnoreEmulatedMouseEvents) {\n          triggerHoverStart(e, 'mouse');\n        }\n\n        state.ignoreEmulatedMouseEvents = false;\n      };\n\n      hoverProps.onMouseLeave = (e) => {\n        if (!isDisabled && e.currentTarget.contains(e.target as Element)) {\n          triggerHoverEnd(e, 'mouse');\n        }\n      };\n    }\n    return {hoverProps, triggerHoverEnd};\n  }, [onHoverStart, onHoverChange, onHoverEnd, isDisabled, state]);\n\n  useEffect(() => {\n    // Call the triggerHoverEnd as soon as isDisabled changes to true\n    // Safe to call triggerHoverEnd, it will early return if we aren't currently hovering\n    if (isDisabled) {\n      triggerHoverEnd({currentTarget: state.target}, state.pointerType);\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isDisabled]);\n\n  return {\n    hoverProps,\n    isHovered\n  };\n}\n\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {getOwnerDocument, useEffectEvent} from '@react-aria/utils';\nimport {RefObject, useEffect, useRef} from 'react';\n\nexport interface InteractOutsideProps {\n  ref: RefObject<Element>,\n  onInteractOutside?: (e: PointerEvent) => void,\n  onInteractOutsideStart?: (e: PointerEvent) => void,\n  /** Whether the interact outside events should be disabled. */\n  isDisabled?: boolean\n}\n\n/**\n * Example, used in components like Dialogs and Popovers so they can close\n * when a user clicks outside them.\n */\nexport function useInteractOutside(props: InteractOutsideProps) {\n  let {ref, onInteractOutside, isDisabled, onInteractOutsideStart} = props;\n  let stateRef = useRef({\n    isPointerDown: false,\n    ignoreEmulatedMouseEvents: false\n  });\n\n  let onPointerDown = useEffectEvent((e) => {\n    if (onInteractOutside && isValidEvent(e, ref)) {\n      if (onInteractOutsideStart) {\n        onInteractOutsideStart(e);\n      }\n      stateRef.current.isPointerDown = true;\n    }\n  });\n\n  let triggerInteractOutside = useEffectEvent((e: PointerEvent) => {\n    if (onInteractOutside) {\n      onInteractOutside(e);\n    }\n  });\n\n  useEffect(() => {\n    let state = stateRef.current;\n    if (isDisabled) {\n      return;\n    }\n\n    const element = ref.current;\n    const documentObject = getOwnerDocument(element);\n\n    // Use pointer events if available. Otherwise, fall back to mouse and touch events.\n    if (typeof PointerEvent !== 'undefined') {\n      let onPointerUp = (e) => {\n        if (state.isPointerDown && isValidEvent(e, ref)) {\n          triggerInteractOutside(e);\n        }\n        state.isPointerDown = false;\n      };\n\n      // changing these to capture phase fixed combobox\n      documentObject.addEventListener('pointerdown', onPointerDown, true);\n      documentObject.addEventListener('pointerup', onPointerUp, true);\n\n      return () => {\n        documentObject.removeEventListener('pointerdown', onPointerDown, true);\n        documentObject.removeEventListener('pointerup', onPointerUp, true);\n      };\n    } else {\n      let onMouseUp = (e) => {\n        if (state.ignoreEmulatedMouseEvents) {\n          state.ignoreEmulatedMouseEvents = false;\n        } else if (state.isPointerDown && isValidEvent(e, ref)) {\n          triggerInteractOutside(e);\n        }\n        state.isPointerDown = false;\n      };\n\n      let onTouchEnd = (e) => {\n        state.ignoreEmulatedMouseEvents = true;\n        if (state.isPointerDown && isValidEvent(e, ref)) {\n          triggerInteractOutside(e);\n        }\n        state.isPointerDown = false;\n      };\n\n      documentObject.addEventListener('mousedown', onPointerDown, true);\n      documentObject.addEventListener('mouseup', onMouseUp, true);\n      documentObject.addEventListener('touchstart', onPointerDown, true);\n      documentObject.addEventListener('touchend', onTouchEnd, true);\n\n      return () => {\n        documentObject.removeEventListener('mousedown', onPointerDown, true);\n        documentObject.removeEventListener('mouseup', onMouseUp, true);\n        documentObject.removeEventListener('touchstart', onPointerDown, true);\n        documentObject.removeEventListener('touchend', onTouchEnd, true);\n      };\n    }\n  }, [ref, isDisabled, onPointerDown, triggerInteractOutside]);\n}\n\nfunction isValidEvent(event, ref) {\n  if (event.button > 0) {\n    return false;\n  }\n\n  if (event.target) {\n    // if the event target is no longer in the document, ignore\n    const ownerDocument = event.target.ownerDocument;\n    if (!ownerDocument || !ownerDocument.documentElement.contains(event.target)) {\n      return false;\n    }\n\n    // If the target is within a top layer element (e.g. toasts), ignore.\n    if (event.target.closest('[data-react-aria-top-layer]')) {\n      return false;\n    }\n  }\n\n  return ref.current && !ref.current.contains(event.target);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {createEventHandler} from './createEventHandler';\nimport {DOMAttributes, KeyboardEvents} from '@react-types/shared';\n\nexport interface KeyboardProps extends KeyboardEvents {\n  /** Whether the keyboard events should be disabled. */\n  isDisabled?: boolean\n}\n\nexport interface KeyboardResult {\n  /** Props to spread onto the target element. */\n  keyboardProps: DOMAttributes\n}\n\n/**\n * Handles keyboard interactions for a focusable element.\n */\nexport function useKeyboard(props: KeyboardProps): KeyboardResult {\n  return {\n    keyboardProps: props.isDisabled ? {} : {\n      onKeyDown: createEventHandler(props.onKeyDown),\n      onKeyUp: createEventHandler(props.onKeyUp)\n    }\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {BaseEvent} from '@react-types/shared';\nimport {SyntheticEvent} from 'react';\n\n/**\n * This function wraps a React event handler to make stopPropagation the default, and support continuePropagation instead.\n */\nexport function createEventHandler<T extends SyntheticEvent>(handler?: (e: BaseEvent<T>) => void): ((e: T) => void) | undefined {\n  if (!handler) {\n    return undefined;\n  }\n\n  let shouldStopPropagation = true;\n  return (e: T) => {\n    let event: BaseEvent<T> = {\n      ...e,\n      preventDefault() {\n        e.preventDefault();\n      },\n      isDefaultPrevented() {\n        return e.isDefaultPrevented();\n      },\n      stopPropagation() {\n        console.error('stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.');\n      },\n      continuePropagation() {\n        shouldStopPropagation = false;\n      }\n    };\n\n    handler(event);\n\n    if (shouldStopPropagation) {\n      e.stopPropagation();\n    }\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {disableTextSelection, restoreTextSelection}  from './textSelection';\nimport {DOMAttributes, MoveEvents, PointerType} from '@react-types/shared';\nimport React, {useMemo, useRef} from 'react';\nimport {useEffectEvent, useGlobalListeners} from '@react-aria/utils';\n\nexport interface MoveResult {\n  /** Props to spread on the target element. */\n  moveProps: DOMAttributes\n}\n\ninterface EventBase {\n  shiftKey: boolean,\n  ctrlKey: boolean,\n  metaKey: boolean,\n  altKey: boolean\n}\n\n/**\n * Handles move interactions across mouse, touch, and keyboard, including dragging with\n * the mouse or touch, and using the arrow keys. Normalizes behavior across browsers and\n * platforms, and ignores emulated mouse events on touch devices.\n */\nexport function useMove(props: MoveEvents): MoveResult {\n  let {onMoveStart, onMove, onMoveEnd} = props;\n\n  let state = useRef<{\n    didMove: boolean,\n    lastPosition: {pageX: number, pageY: number} | null,\n    id: number | null\n  }>({didMove: false, lastPosition: null, id: null});\n\n  let {addGlobalListener, removeGlobalListener} = useGlobalListeners();\n\n  let move = useEffectEvent((originalEvent: EventBase, pointerType: PointerType, deltaX: number, deltaY: number) => {\n    if (deltaX === 0 && deltaY === 0) {\n      return;\n    }\n\n    if (!state.current.didMove) {\n      state.current.didMove = true;\n      onMoveStart?.({\n        type: 'movestart',\n        pointerType,\n        shiftKey: originalEvent.shiftKey,\n        metaKey: originalEvent.metaKey,\n        ctrlKey: originalEvent.ctrlKey,\n        altKey: originalEvent.altKey\n      });\n    }\n    onMove?.({\n      type: 'move',\n      pointerType,\n      deltaX: deltaX,\n      deltaY: deltaY,\n      shiftKey: originalEvent.shiftKey,\n      metaKey: originalEvent.metaKey,\n      ctrlKey: originalEvent.ctrlKey,\n      altKey: originalEvent.altKey\n    });\n  });\n\n  let end = useEffectEvent((originalEvent: EventBase, pointerType: PointerType) => {\n    restoreTextSelection();\n    if (state.current.didMove) {\n      onMoveEnd?.({\n        type: 'moveend',\n        pointerType,\n        shiftKey: originalEvent.shiftKey,\n        metaKey: originalEvent.metaKey,\n        ctrlKey: originalEvent.ctrlKey,\n        altKey: originalEvent.altKey\n      });\n    }\n  });\n\n  let moveProps = useMemo(() => {\n    let moveProps: DOMAttributes = {};\n\n    let start = () => {\n      disableTextSelection();\n      state.current.didMove = false;\n    };\n\n    if (typeof PointerEvent === 'undefined') {\n      let onMouseMove = (e: MouseEvent) => {\n        if (e.button === 0) {\n          move(e, 'mouse', e.pageX - (state.current.lastPosition?.pageX ?? 0), e.pageY - (state.current.lastPosition?.pageY ?? 0));\n          state.current.lastPosition = {pageX: e.pageX, pageY: e.pageY};\n        }\n      };\n      let onMouseUp = (e: MouseEvent) => {\n        if (e.button === 0) {\n          end(e, 'mouse');\n          removeGlobalListener(window, 'mousemove', onMouseMove, false);\n          removeGlobalListener(window, 'mouseup', onMouseUp, false);\n        }\n      };\n      moveProps.onMouseDown = (e: React.MouseEvent) => {\n        if (e.button === 0) {\n          start();\n          e.stopPropagation();\n          e.preventDefault();\n          state.current.lastPosition = {pageX: e.pageX, pageY: e.pageY};\n          addGlobalListener(window, 'mousemove', onMouseMove, false);\n          addGlobalListener(window, 'mouseup', onMouseUp, false);\n        }\n      };\n\n      let onTouchMove = (e: TouchEvent) => {\n        let touch = [...e.changedTouches].findIndex(({identifier}) => identifier === state.current.id);\n        if (touch >= 0) {\n          let {pageX, pageY} = e.changedTouches[touch];\n          move(e, 'touch', pageX - (state.current.lastPosition?.pageX ?? 0), pageY - (state.current.lastPosition?.pageY ?? 0));\n          state.current.lastPosition = {pageX, pageY};\n        }\n      };\n      let onTouchEnd = (e: TouchEvent) => {\n        let touch = [...e.changedTouches].findIndex(({identifier}) => identifier === state.current.id);\n        if (touch >= 0) {\n          end(e, 'touch');\n          state.current.id = null;\n          removeGlobalListener(window, 'touchmove', onTouchMove);\n          removeGlobalListener(window, 'touchend', onTouchEnd);\n          removeGlobalListener(window, 'touchcancel', onTouchEnd);\n        }\n      };\n      moveProps.onTouchStart = (e: React.TouchEvent) => {\n        if (e.changedTouches.length === 0 || state.current.id != null) {\n          return;\n        }\n\n        let {pageX, pageY, identifier} = e.changedTouches[0];\n        start();\n        e.stopPropagation();\n        e.preventDefault();\n        state.current.lastPosition = {pageX, pageY};\n        state.current.id = identifier;\n        addGlobalListener(window, 'touchmove', onTouchMove, false);\n        addGlobalListener(window, 'touchend', onTouchEnd, false);\n        addGlobalListener(window, 'touchcancel', onTouchEnd, false);\n      };\n    } else {\n      let onPointerMove = (e: PointerEvent) => {\n        if (e.pointerId === state.current.id) {\n          let pointerType = (e.pointerType || 'mouse') as PointerType;\n\n          // Problems with PointerEvent#movementX/movementY:\n          // 1. it is always 0 on macOS Safari.\n          // 2. On Chrome Android, it's scaled by devicePixelRatio, but not on Chrome macOS\n          move(e, pointerType, e.pageX - (state.current.lastPosition?.pageX ?? 0), e.pageY - (state.current.lastPosition?.pageY ?? 0));\n          state.current.lastPosition = {pageX: e.pageX, pageY: e.pageY};\n        }\n      };\n\n      let onPointerUp = (e: PointerEvent) => {\n        if (e.pointerId === state.current.id) {\n          let pointerType = (e.pointerType || 'mouse') as PointerType;\n          end(e, pointerType);\n          state.current.id = null;\n          removeGlobalListener(window, 'pointermove', onPointerMove, false);\n          removeGlobalListener(window, 'pointerup', onPointerUp, false);\n          removeGlobalListener(window, 'pointercancel', onPointerUp, false);\n        }\n      };\n\n      moveProps.onPointerDown = (e: React.PointerEvent) => {\n        if (e.button === 0 && state.current.id == null) {\n          start();\n          e.stopPropagation();\n          e.preventDefault();\n          state.current.lastPosition = {pageX: e.pageX, pageY: e.pageY};\n          state.current.id = e.pointerId;\n          addGlobalListener(window, 'pointermove', onPointerMove, false);\n          addGlobalListener(window, 'pointerup', onPointerUp, false);\n          addGlobalListener(window, 'pointercancel', onPointerUp, false);\n        }\n      };\n    }\n\n    let triggerKeyboardMove = (e: EventBase, deltaX: number, deltaY: number) => {\n      start();\n      move(e, 'keyboard', deltaX, deltaY);\n      end(e, 'keyboard');\n    };\n\n    moveProps.onKeyDown = (e) => {\n      switch (e.key) {\n        case 'Left':\n        case 'ArrowLeft':\n          e.preventDefault();\n          e.stopPropagation();\n          triggerKeyboardMove(e, -1, 0);\n          break;\n        case 'Right':\n        case 'ArrowRight':\n          e.preventDefault();\n          e.stopPropagation();\n          triggerKeyboardMove(e, 1, 0);\n          break;\n        case 'Up':\n        case 'ArrowUp':\n          e.preventDefault();\n          e.stopPropagation();\n          triggerKeyboardMove(e, 0, -1);\n          break;\n        case 'Down':\n        case 'ArrowDown':\n          e.preventDefault();\n          e.stopPropagation();\n          triggerKeyboardMove(e, 0, 1);\n          break;\n      }\n    };\n\n    return moveProps;\n  }, [state, addGlobalListener, removeGlobalListener, move, end]);\n\n  return {moveProps};\n}\n", "/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {RefObject, useCallback} from 'react';\nimport {ScrollEvents} from '@react-types/shared';\nimport {useEvent} from '@react-aria/utils';\n\nexport interface ScrollWheelProps extends ScrollEvents {\n  /** Whether the scroll listener should be disabled. */\n  isDisabled?: boolean\n}\n\n// scroll wheel needs to be added not passively so it's cancelable, small helper hook to remember that\nexport function useScrollWheel(props: ScrollWheelProps, ref: RefObject<HTMLElement>): void {\n  let {onScroll, isDisabled} = props;\n  let onScrollHandler = useCallback((e) => {\n    // If the ctrlKey is pressed, this is a zoom event, do nothing.\n    if (e.ctrlKey) {\n      return;\n    }\n\n    // stop scrolling the page\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (onScroll) {\n      onScroll({deltaX: e.deltaX, deltaY: e.deltaY});\n    }\n  }, [onScroll]);\n\n  useEvent(ref, 'wheel', isDisabled ? undefined : onScrollHandler);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {DOMAttributes, LongPressEvent} from '@react-types/shared';\nimport {mergeProps, useDescription, useGlobalListeners} from '@react-aria/utils';\nimport {usePress} from './usePress';\nimport {useRef} from 'react';\n\nexport interface LongPressProps {\n  /** Whether long press events should be disabled. */\n  isDisabled?: boolean,\n  /** Handler that is called when a long press interaction starts. */\n  onLongPressStart?: (e: LongPressEvent) => void,\n  /**\n   * Handler that is called when a long press interaction ends, either\n   * over the target or when the pointer leaves the target.\n   */\n  onLongPressEnd?: (e: LongPressEvent) => void,\n  /**\n   * Handler that is called when the threshold time is met while\n   * the press is over the target.\n   */\n  onLongPress?: (e: LongPressEvent) => void,\n  /**\n   * The amount of time in milliseconds to wait before triggering a long press.\n   * @default 500ms\n   */\n  threshold?: number,\n  /**\n   * A description for assistive techology users indicating that a long press\n   * action is available, e.g. \"Long press to open menu\".\n   */\n  accessibilityDescription?: string\n}\n\nexport interface LongPressResult {\n  /** Props to spread on the target element. */\n  longPressProps: DOMAttributes\n}\n\nconst DEFAULT_THRESHOLD = 500;\n\n/**\n * Handles long press interactions across mouse and touch devices. Supports a customizable time threshold,\n * accessibility description, and normalizes behavior across browsers and devices.\n */\nexport function useLongPress(props: LongPressProps): LongPressResult {\n  let {\n    isDisabled,\n    onLongPressStart,\n    onLongPressEnd,\n    onLongPress,\n    threshold = DEFAULT_THRESHOLD,\n    accessibilityDescription\n  } = props;\n\n  const timeRef = useRef<ReturnType<typeof setTimeout> | undefined>();\n  let {addGlobalListener, removeGlobalListener} = useGlobalListeners();\n\n  let {pressProps} = usePress({\n    isDisabled,\n    onPressStart(e) {\n      e.continuePropagation();\n      if (e.pointerType === 'mouse' || e.pointerType === 'touch') {\n        if (onLongPressStart) {\n          onLongPressStart({\n            ...e,\n            type: 'longpressstart'\n          });\n        }\n\n        timeRef.current = setTimeout(() => {\n          // Prevent other usePress handlers from also handling this event.\n          e.target.dispatchEvent(new PointerEvent('pointercancel', {bubbles: true}));\n          if (onLongPress) {\n            onLongPress({\n              ...e,\n              type: 'longpress'\n            });\n          }\n          timeRef.current = undefined;\n        }, threshold);\n\n        // Prevent context menu, which may be opened on long press on touch devices\n        if (e.pointerType === 'touch') {\n          let onContextMenu = e => {\n            e.preventDefault();\n          };\n\n          addGlobalListener(e.target, 'contextmenu', onContextMenu, {once: true});\n          addGlobalListener(window, 'pointerup', () => {\n            // If no contextmenu event is fired quickly after pointerup, remove the handler\n            // so future context menu events outside a long press are not prevented.\n            setTimeout(() => {\n              removeGlobalListener(e.target, 'contextmenu', onContextMenu);\n            }, 30);\n          }, {once: true});\n        }\n      }\n    },\n    onPressEnd(e) {\n      if (timeRef.current) {\n        clearTimeout(timeRef.current);\n      }\n\n      if (onLongPressEnd && (e.pointerType === 'mouse' || e.pointerType === 'touch')) {\n        onLongPressEnd({\n          ...e,\n          type: 'longpressend'\n        });\n      }\n    }\n  });\n\n  let descriptionProps = useDescription(onLongPress && !isDisabled ? accessibilityDescription : undefined);\n\n  return {\n    longPressProps: mergeProps(pressProps, descriptionProps)\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport {FocusScope, useFocusManager, getFocusableTreeWalker, createFocusManager, isElementInChildOfActiveScope} from './FocusScope';\nexport {FocusRing} from './FocusRing';\nexport {FocusableProvider, useFocusable} from './useFocusable';\nexport {useFocusRing} from './useFocusRing';\nexport {focusSafely} from './focusSafely';\nexport {useHasTabbableChild} from './useHasTabbableChild';\n\nexport type {FocusScopeProps, FocusManager, FocusManagerOptions} from './FocusScope';\nexport type {FocusRingProps} from './FocusRing';\nexport type {FocusableAria, FocusableOptions, FocusableProviderProps} from './useFocusable';\nexport type {AriaFocusRingProps, FocusRingAria} from './useFocusRing';\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableElement} from '@react-types/shared';\nimport {focusSafely} from './focusSafely';\nimport {getOwnerDocument, useLayoutEffect} from '@react-aria/utils';\nimport {isElementVisible} from './isElementVisible';\nimport React, {ReactNode, RefObject, useContext, useEffect, useMemo, useRef} from 'react';\n\nexport interface FocusScopeProps {\n  /** The contents of the focus scope. */\n  children: ReactNode,\n\n  /**\n   * Whether to contain focus inside the scope, so users cannot\n   * move focus outside, for example in a modal dialog.\n   */\n  contain?: boolean,\n\n  /**\n   * Whether to restore focus back to the element that was focused\n   * when the focus scope mounted, after the focus scope unmounts.\n   */\n  restoreFocus?: boolean,\n\n  /** Whether to auto focus the first focusable element in the focus scope on mount. */\n  autoFocus?: boolean\n}\n\nexport interface FocusManagerOptions {\n  /** The element to start searching from. The currently focused element by default. */\n  from?: Element,\n  /** Whether to only include tabbable elements, or all focusable elements. */\n  tabbable?: boolean,\n  /** Whether focus should wrap around when it reaches the end of the scope. */\n  wrap?: boolean,\n  /** A callback that determines whether the given element is focused. */\n  accept?: (node: Element) => boolean\n}\n\nexport interface FocusManager {\n  /** Moves focus to the next focusable or tabbable element in the focus scope. */\n  focusNext(opts?: FocusManagerOptions): FocusableElement | null,\n  /** Moves focus to the previous focusable or tabbable element in the focus scope. */\n  focusPrevious(opts?: FocusManagerOptions): FocusableElement | null,\n  /** Moves focus to the first focusable or tabbable element in the focus scope. */\n  focusFirst(opts?: FocusManagerOptions): FocusableElement | null,\n    /** Moves focus to the last focusable or tabbable element in the focus scope. */\n  focusLast(opts?: FocusManagerOptions): FocusableElement | null\n}\n\ntype ScopeRef = RefObject<Element[]> | null;\ninterface IFocusContext {\n  focusManager: FocusManager,\n  parentNode: TreeNode | null\n}\n\nconst FocusContext = React.createContext<IFocusContext | null>(null);\n\nlet activeScope: ScopeRef = null;\n\n// This is a hacky DOM-based implementation of a FocusScope until this RFC lands in React:\n// https://github.com/reactjs/rfcs/pull/109\n\n/**\n * A FocusScope manages focus for its descendants. It supports containing focus inside\n * the scope, restoring focus to the previously focused element on unmount, and auto\n * focusing children on mount. It also acts as a container for a programmatic focus\n * management interface that can be used to move focus forward and back in response\n * to user events.\n */\nexport function FocusScope(props: FocusScopeProps) {\n  let {children, contain, restoreFocus, autoFocus} = props;\n  let startRef = useRef<HTMLSpanElement>(null);\n  let endRef = useRef<HTMLSpanElement>(null);\n  let scopeRef = useRef<Element[]>([]);\n  let {parentNode} = useContext(FocusContext) || {};\n\n  // Create a tree node here so we can add children to it even before it is added to the tree.\n  let node = useMemo(() => new TreeNode({scopeRef}), [scopeRef]);\n\n  useLayoutEffect(() => {\n    // If a new scope mounts outside the active scope, (e.g. DialogContainer launched from a menu),\n    // use the active scope as the parent instead of the parent from context. Layout effects run bottom\n    // up, so if the parent is not yet added to the tree, don't do this. Only the outer-most FocusScope\n    // that is being added should get the activeScope as its parent.\n    let parent = parentNode || focusScopeTree.root;\n    if (focusScopeTree.getTreeNode(parent.scopeRef) && activeScope && !isAncestorScope(activeScope, parent.scopeRef)) {\n      let activeNode = focusScopeTree.getTreeNode(activeScope);\n      if (activeNode) {\n        parent = activeNode;\n      }\n    }\n\n    // Add the node to the parent, and to the tree.\n    parent.addChild(node);\n    focusScopeTree.addNode(node);\n  }, [node, parentNode]);\n\n  useLayoutEffect(() => {\n    let node = focusScopeTree.getTreeNode(scopeRef);\n    if (node) {\n      node.contain = !!contain;\n    }\n  }, [contain]);\n\n  useLayoutEffect(() => {\n    // Find all rendered nodes between the sentinels and add them to the scope.\n    let node = startRef.current?.nextSibling!;\n    let nodes: Element[] = [];\n    while (node && node !== endRef.current) {\n      nodes.push(node as Element);\n      node = node.nextSibling as Element;\n    }\n\n    scopeRef.current = nodes;\n  }, [children]);\n\n  useActiveScopeTracker(scopeRef, restoreFocus, contain);\n  useFocusContainment(scopeRef, contain);\n  useRestoreFocus(scopeRef, restoreFocus, contain);\n  useAutoFocus(scopeRef, autoFocus);\n\n  // This needs to be an effect so that activeScope is updated after the FocusScope tree is complete.\n  // It cannot be a useLayoutEffect because the parent of this node hasn't been attached in the tree yet.\n  useEffect(() => {\n    const activeElement = getOwnerDocument(scopeRef.current ? scopeRef.current[0] : undefined).activeElement;\n    let scope: TreeNode | null = null;\n\n    if (isElementInScope(activeElement, scopeRef.current)) {\n      // We need to traverse the focusScope tree and find the bottom most scope that\n      // contains the active element and set that as the activeScope.\n      for (let node of focusScopeTree.traverse()) {\n        if (node.scopeRef && isElementInScope(activeElement, node.scopeRef.current)) {\n          scope = node;\n        }\n      }\n\n      if (scope === focusScopeTree.getTreeNode(scopeRef)) {\n        activeScope = scope.scopeRef;\n      }\n    }\n  }, [scopeRef]);\n\n  // This layout effect cleanup is so that the tree node is removed synchronously with react before the RAF\n  // in useRestoreFocus cleanup runs.\n  useLayoutEffect(() => {\n    return () => {\n      // Scope may have been re-parented.\n      let parentScope = focusScopeTree.getTreeNode(scopeRef)?.parent?.scopeRef ?? null;\n\n      if (\n        (scopeRef === activeScope || isAncestorScope(scopeRef, activeScope)) &&\n        (!parentScope || focusScopeTree.getTreeNode(parentScope))\n      ) {\n        activeScope = parentScope;\n      }\n      focusScopeTree.removeTreeNode(scopeRef);\n    };\n  }, [scopeRef]);\n\n  let focusManager = useMemo(() => createFocusManagerForScope(scopeRef), []);\n  let value = useMemo(() => ({\n    focusManager,\n    parentNode: node\n  }), [node, focusManager]);\n\n  return (\n    <FocusContext.Provider value={value}>\n      <span data-focus-scope-start hidden ref={startRef} />\n      {children}\n      <span data-focus-scope-end hidden ref={endRef} />\n    </FocusContext.Provider>\n  );\n}\n\n/**\n * Returns a FocusManager interface for the parent FocusScope.\n * A FocusManager can be used to programmatically move focus within\n * a FocusScope, e.g. in response to user events like keyboard navigation.\n */\nexport function useFocusManager(): FocusManager | undefined {\n  return useContext(FocusContext)?.focusManager;\n}\n\nfunction createFocusManagerForScope(scopeRef: React.RefObject<Element[]>): FocusManager {\n  return {\n    focusNext(opts: FocusManagerOptions = {}) {\n      let scope = scopeRef.current!;\n      let {from, tabbable, wrap, accept} = opts;\n      let node = from || getOwnerDocument(scope[0]).activeElement!;\n      let sentinel = scope[0].previousElementSibling!;\n      let scopeRoot = getScopeRoot(scope);\n      let walker = getFocusableTreeWalker(scopeRoot, {tabbable, accept}, scope);\n      walker.currentNode = isElementInScope(node, scope) ? node : sentinel;\n      let nextNode = walker.nextNode() as FocusableElement;\n      if (!nextNode && wrap) {\n        walker.currentNode = sentinel;\n        nextNode = walker.nextNode() as FocusableElement;\n      }\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusPrevious(opts: FocusManagerOptions = {}) {\n      let scope = scopeRef.current!;\n      let {from, tabbable, wrap, accept} = opts;\n      let node = from || getOwnerDocument(scope[0]).activeElement!;\n      let sentinel = scope[scope.length - 1].nextElementSibling!;\n      let scopeRoot = getScopeRoot(scope);\n      let walker = getFocusableTreeWalker(scopeRoot, {tabbable, accept}, scope);\n      walker.currentNode = isElementInScope(node, scope) ? node : sentinel;\n      let previousNode = walker.previousNode() as FocusableElement;\n      if (!previousNode && wrap) {\n        walker.currentNode = sentinel;\n        previousNode = walker.previousNode() as FocusableElement;\n      }\n      if (previousNode) {\n        focusElement(previousNode, true);\n      }\n      return previousNode;\n    },\n    focusFirst(opts = {}) {\n      let scope = scopeRef.current!;\n      let {tabbable, accept} = opts;\n      let scopeRoot = getScopeRoot(scope);\n      let walker = getFocusableTreeWalker(scopeRoot, {tabbable, accept}, scope);\n      walker.currentNode = scope[0].previousElementSibling!;\n      let nextNode = walker.nextNode() as FocusableElement;\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusLast(opts = {}) {\n      let scope = scopeRef.current!;\n      let {tabbable, accept} = opts;\n      let scopeRoot = getScopeRoot(scope);\n      let walker = getFocusableTreeWalker(scopeRoot, {tabbable, accept}, scope);\n      walker.currentNode = scope[scope.length - 1].nextElementSibling!;\n      let previousNode = walker.previousNode() as FocusableElement;\n      if (previousNode) {\n        focusElement(previousNode, true);\n      }\n      return previousNode;\n    }\n  };\n}\n\nconst focusableElements = [\n  'input:not([disabled]):not([type=hidden])',\n  'select:not([disabled])',\n  'textarea:not([disabled])',\n  'button:not([disabled])',\n  'a[href]',\n  'area[href]',\n  'summary',\n  'iframe',\n  'object',\n  'embed',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]'\n];\n\nconst FOCUSABLE_ELEMENT_SELECTOR = focusableElements.join(':not([hidden]),') + ',[tabindex]:not([disabled]):not([hidden])';\n\nfocusableElements.push('[tabindex]:not([tabindex=\"-1\"]):not([disabled])');\nconst TABBABLE_ELEMENT_SELECTOR = focusableElements.join(':not([hidden]):not([tabindex=\"-1\"]),');\n\nfunction getScopeRoot(scope: Element[]) {\n  return scope[0].parentElement!;\n}\n\nfunction shouldContainFocus(scopeRef: ScopeRef) {\n  let scope = focusScopeTree.getTreeNode(activeScope);\n  while (scope && scope.scopeRef !== scopeRef) {\n    if (scope.contain) {\n      return false;\n    }\n\n    scope = scope.parent;\n  }\n\n  return true;\n}\n\nfunction useFocusContainment(scopeRef: RefObject<Element[]>, contain?: boolean) {\n  let focusedNode = useRef<FocusableElement>();\n\n  let raf = useRef<ReturnType<typeof requestAnimationFrame>>();\n  useLayoutEffect(() => {\n    let scope = scopeRef.current;\n    if (!contain) {\n      // if contain was changed, then we should cancel any ongoing waits to pull focus back into containment\n      if (raf.current) {\n        cancelAnimationFrame(raf.current);\n        raf.current = undefined;\n      }\n      return;\n    }\n\n    const ownerDocument = getOwnerDocument(scope ? scope[0] : undefined);\n\n    // Handle the Tab key to contain focus within the scope\n    let onKeyDown = (e) => {\n      if (e.key !== 'Tab' || e.altKey || e.ctrlKey || e.metaKey || !shouldContainFocus(scopeRef)) {\n        return;\n      }\n\n      let focusedElement = ownerDocument.activeElement;\n      let scope = scopeRef.current;\n      if (!scope || !isElementInScope(focusedElement, scope)) {\n        return;\n      }\n\n      let scopeRoot = getScopeRoot(scope);\n      let walker = getFocusableTreeWalker(scopeRoot, {tabbable: true}, scope);\n      if (!focusedElement) {\n        return;\n      }\n      walker.currentNode = focusedElement;\n      let nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode()) as FocusableElement;\n      if (!nextElement) {\n        walker.currentNode = e.shiftKey ? scope[scope.length - 1].nextElementSibling! : scope[0].previousElementSibling!;\n        nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode()) as FocusableElement;\n      }\n\n      e.preventDefault();\n      if (nextElement) {\n        focusElement(nextElement, true);\n      }\n    };\n\n    let onFocus = (e) => {\n      // If focusing an element in a child scope of the currently active scope, the child becomes active.\n      // Moving out of the active scope to an ancestor is not allowed.\n      if ((!activeScope || isAncestorScope(activeScope, scopeRef)) && isElementInScope(e.target, scopeRef.current)) {\n        activeScope = scopeRef;\n        focusedNode.current = e.target;\n      } else if (shouldContainFocus(scopeRef) && !isElementInChildScope(e.target, scopeRef)) {\n        // If a focus event occurs outside the active scope (e.g. user tabs from browser location bar),\n        // restore focus to the previously focused node or the first tabbable element in the active scope.\n        if (focusedNode.current) {\n          focusedNode.current.focus();\n        } else if (activeScope && activeScope.current) {\n          focusFirstInScope(activeScope.current);\n        }\n      } else if (shouldContainFocus(scopeRef)) {\n        focusedNode.current = e.target;\n      }\n    };\n\n    let onBlur = (e) => {\n      // Firefox doesn't shift focus back to the Dialog properly without this\n      if (raf.current) {\n        cancelAnimationFrame(raf.current);\n      }\n      raf.current = requestAnimationFrame(() => {\n        // Use document.activeElement instead of e.relatedTarget so we can tell if user clicked into iframe\n        if (ownerDocument.activeElement && shouldContainFocus(scopeRef) && !isElementInChildScope(ownerDocument.activeElement, scopeRef)) {\n          activeScope = scopeRef;\n          if (ownerDocument.body.contains(e.target)) {\n            focusedNode.current = e.target;\n            focusedNode.current?.focus();\n          } else if (activeScope.current) {\n            focusFirstInScope(activeScope.current);\n          }\n        }\n      });\n    };\n\n    ownerDocument.addEventListener('keydown', onKeyDown, false);\n    ownerDocument.addEventListener('focusin', onFocus, false);\n    scope?.forEach(element => element.addEventListener('focusin', onFocus, false));\n    scope?.forEach(element => element.addEventListener('focusout', onBlur, false));\n    return () => {\n      ownerDocument.removeEventListener('keydown', onKeyDown, false);\n      ownerDocument.removeEventListener('focusin', onFocus, false);\n      scope?.forEach(element => element.removeEventListener('focusin', onFocus, false));\n      scope?.forEach(element => element.removeEventListener('focusout', onBlur, false));\n    };\n  }, [scopeRef, contain]);\n\n  // This is a useLayoutEffect so it is guaranteed to run before our async synthetic blur\n  // eslint-disable-next-line arrow-body-style\n  useLayoutEffect(() => {\n    return () => {\n      if (raf.current) {\n        cancelAnimationFrame(raf.current);\n      }\n    };\n  }, [raf]);\n}\n\nfunction isElementInAnyScope(element: Element) {\n  return isElementInChildScope(element);\n}\n\nfunction isElementInScope(element?: Element | null, scope?: Element[] | null) {\n  if (!element) {\n    return false;\n  }\n  if (!scope) {\n    return false;\n  }\n  return scope.some(node => node.contains(element));\n}\n\nfunction isElementInChildScope(element: Element, scope: ScopeRef = null) {\n  // If the element is within a top layer element (e.g. toasts), always allow moving focus there.\n  if (element instanceof Element && element.closest('[data-react-aria-top-layer]')) {\n    return true;\n  }\n\n  // node.contains in isElementInScope covers child scopes that are also DOM children,\n  // but does not cover child scopes in portals.\n  for (let {scopeRef: s} of focusScopeTree.traverse(focusScopeTree.getTreeNode(scope))) {\n    if (s && isElementInScope(element, s.current)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n/** @private */\nexport function isElementInChildOfActiveScope(element: Element) {\n  return isElementInChildScope(element, activeScope);\n}\n\nfunction isAncestorScope(ancestor: ScopeRef, scope: ScopeRef) {\n  let parent = focusScopeTree.getTreeNode(scope)?.parent;\n  while (parent) {\n    if (parent.scopeRef === ancestor) {\n      return true;\n    }\n    parent = parent.parent;\n  }\n  return false;\n}\n\nfunction focusElement(element: FocusableElement | null, scroll = false) {\n  if (element != null && !scroll) {\n    try {\n      focusSafely(element);\n    } catch (err) {\n      // ignore\n    }\n  } else if (element != null) {\n    try {\n      element.focus();\n    } catch (err) {\n      // ignore\n    }\n  }\n}\n\nfunction focusFirstInScope(scope: Element[], tabbable:boolean = true) {\n  let sentinel = scope[0].previousElementSibling!;\n  let scopeRoot = getScopeRoot(scope);\n  let walker = getFocusableTreeWalker(scopeRoot, {tabbable}, scope);\n  walker.currentNode = sentinel;\n  let nextNode = walker.nextNode();\n\n  // If the scope does not contain a tabbable element, use the first focusable element.\n  if (tabbable && !nextNode) {\n    scopeRoot = getScopeRoot(scope);\n    walker = getFocusableTreeWalker(scopeRoot, {tabbable: false}, scope);\n    walker.currentNode = sentinel;\n    nextNode = walker.nextNode();\n  }\n\n  focusElement(nextNode as FocusableElement);\n}\n\nfunction useAutoFocus(scopeRef: RefObject<Element[]>, autoFocus?: boolean) {\n  const autoFocusRef = React.useRef(autoFocus);\n  useEffect(() => {\n    if (autoFocusRef.current) {\n      activeScope = scopeRef;\n      const ownerDocument = getOwnerDocument(scopeRef.current ? scopeRef.current[0] : undefined);\n      if (!isElementInScope(ownerDocument.activeElement, activeScope.current) && scopeRef.current) {\n        focusFirstInScope(scopeRef.current);\n      }\n    }\n    autoFocusRef.current = false;\n  }, [scopeRef]);\n}\n\nfunction useActiveScopeTracker(scopeRef: RefObject<Element[]>, restore?: boolean, contain?: boolean) {\n  // tracks the active scope, in case restore and contain are both false.\n  // if either are true, this is tracked in useRestoreFocus or useFocusContainment.\n  useLayoutEffect(() => {\n    if (restore || contain) {\n      return;\n    }\n\n    let scope = scopeRef.current;\n    const ownerDocument = getOwnerDocument(scope ? scope[0] : undefined);\n\n    let onFocus = (e) => {\n      let target = e.target as Element;\n      if (isElementInScope(target, scopeRef.current)) {\n        activeScope = scopeRef;\n      } else if (!isElementInAnyScope(target)) {\n        activeScope = null;\n      }\n    };\n\n    ownerDocument.addEventListener('focusin', onFocus, false);\n    scope?.forEach(element => element.addEventListener('focusin', onFocus, false));\n    return () => {\n      ownerDocument.removeEventListener('focusin', onFocus, false);\n      scope?.forEach(element => element.removeEventListener('focusin', onFocus, false));\n    };\n  }, [scopeRef, restore, contain]);\n}\n\nfunction shouldRestoreFocus(scopeRef: ScopeRef) {\n  let scope = focusScopeTree.getTreeNode(activeScope);\n  while (scope && scope.scopeRef !== scopeRef) {\n    if (scope.nodeToRestore) {\n      return false;\n    }\n\n    scope = scope.parent;\n  }\n\n  return scope?.scopeRef === scopeRef;\n}\n\nfunction useRestoreFocus(scopeRef: RefObject<Element[]>, restoreFocus?: boolean, contain?: boolean) {\n  // create a ref during render instead of useLayoutEffect so the active element is saved before a child with autoFocus=true mounts.\n  // eslint-disable-next-line no-restricted-globals\n  const nodeToRestoreRef = useRef(typeof document !== 'undefined' ? getOwnerDocument(scopeRef.current ? scopeRef.current[0] : undefined).activeElement as FocusableElement : null);\n\n  // restoring scopes should all track if they are active regardless of contain, but contain already tracks it plus logic to contain the focus\n  // restoring-non-containing scopes should only care if they become active so they can perform the restore\n  useLayoutEffect(() => {\n    let scope = scopeRef.current;\n    const ownerDocument = getOwnerDocument(scope ? scope[0] : undefined);\n    if (!restoreFocus || contain) {\n      return;\n    }\n\n    let onFocus = () => {\n      // If focusing an element in a child scope of the currently active scope, the child becomes active.\n      // Moving out of the active scope to an ancestor is not allowed.\n      if ((!activeScope || isAncestorScope(activeScope, scopeRef)) &&\n      isElementInScope(ownerDocument.activeElement, scopeRef.current)\n      ) {\n        activeScope = scopeRef;\n      }\n    };\n\n    ownerDocument.addEventListener('focusin', onFocus, false);\n    scope?.forEach(element => element.addEventListener('focusin', onFocus, false));\n    return () => {\n      ownerDocument.removeEventListener('focusin', onFocus, false);\n      scope?.forEach(element => element.removeEventListener('focusin', onFocus, false));\n    };\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [scopeRef, contain]);\n\n  useLayoutEffect(() => {\n    const ownerDocument = getOwnerDocument(scopeRef.current ? scopeRef.current[0] : undefined);\n\n    if (!restoreFocus) {\n      return;\n    }\n\n    // Handle the Tab key so that tabbing out of the scope goes to the next element\n    // after the node that had focus when the scope mounted. This is important when\n    // using portals for overlays, so that focus goes to the expected element when\n    // tabbing out of the overlay.\n    let onKeyDown = (e: KeyboardEvent) => {\n      if (e.key !== 'Tab' || e.altKey || e.ctrlKey || e.metaKey || !shouldContainFocus(scopeRef)) {\n        return;\n      }\n\n      let focusedElement = ownerDocument.activeElement as FocusableElement;\n      if (!isElementInScope(focusedElement, scopeRef.current)) {\n        return;\n      }\n      let treeNode = focusScopeTree.getTreeNode(scopeRef);\n      if (!treeNode) {\n        return;\n      }\n      let nodeToRestore = treeNode.nodeToRestore;\n\n      // Create a DOM tree walker that matches all tabbable elements\n      let walker = getFocusableTreeWalker(ownerDocument.body, {tabbable: true});\n\n      // Find the next tabbable element after the currently focused element\n      walker.currentNode = focusedElement;\n      let nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode()) as FocusableElement;\n\n      if (!nodeToRestore || !ownerDocument.body.contains(nodeToRestore) || nodeToRestore === ownerDocument.body) {\n        nodeToRestore = undefined;\n        treeNode.nodeToRestore = undefined;\n      }\n\n      // If there is no next element, or it is outside the current scope, move focus to the\n      // next element after the node to restore to instead.\n      if ((!nextElement || !isElementInScope(nextElement, scopeRef.current)) && nodeToRestore) {\n        walker.currentNode = nodeToRestore;\n\n        // Skip over elements within the scope, in case the scope immediately follows the node to restore.\n        do {\n          nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode()) as FocusableElement;\n        } while (isElementInScope(nextElement, scopeRef.current));\n\n        e.preventDefault();\n        e.stopPropagation();\n        if (nextElement) {\n          focusElement(nextElement, true);\n        } else {\n           // If there is no next element and the nodeToRestore isn't within a FocusScope (i.e. we are leaving the top level focus scope)\n           // then move focus to the body.\n           // Otherwise restore focus to the nodeToRestore (e.g menu within a popover -> tabbing to close the menu should move focus to menu trigger)\n          if (!isElementInAnyScope(nodeToRestore)) {\n            focusedElement.blur();\n          } else {\n            focusElement(nodeToRestore, true);\n          }\n        }\n      }\n    };\n\n    if (!contain) {\n      ownerDocument.addEventListener('keydown', onKeyDown, true);\n    }\n\n    return () => {\n      if (!contain) {\n        ownerDocument.removeEventListener('keydown', onKeyDown, true);\n      }\n    };\n  }, [scopeRef, restoreFocus, contain]);\n\n  // useLayoutEffect instead of useEffect so the active element is saved synchronously instead of asynchronously.\n  useLayoutEffect(() => {\n    const ownerDocument = getOwnerDocument(scopeRef.current ? scopeRef.current[0] : undefined);\n\n    if (!restoreFocus) {\n      return;\n    }\n\n    let treeNode = focusScopeTree.getTreeNode(scopeRef);\n    if (!treeNode) {\n      return;\n    }\n    treeNode.nodeToRestore = nodeToRestoreRef.current ?? undefined;\n    return () => {\n      let treeNode = focusScopeTree.getTreeNode(scopeRef);\n      if (!treeNode) {\n        return;\n      }\n      let nodeToRestore = treeNode.nodeToRestore;\n\n      // if we already lost focus to the body and this was the active scope, then we should attempt to restore\n      if (\n        restoreFocus\n        && nodeToRestore\n        && (\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          isElementInScope(ownerDocument.activeElement, scopeRef.current)\n          || (ownerDocument.activeElement === ownerDocument.body && shouldRestoreFocus(scopeRef))\n        )\n      ) {\n        // freeze the focusScopeTree so it persists after the raf, otherwise during unmount nodes are removed from it\n        let clonedTree = focusScopeTree.clone();\n        requestAnimationFrame(() => {\n          // Only restore focus if we've lost focus to the body, the alternative is that focus has been purposefully moved elsewhere\n          if (ownerDocument.activeElement === ownerDocument.body) {\n            // look up the tree starting with our scope to find a nodeToRestore still in the DOM\n            let treeNode = clonedTree.getTreeNode(scopeRef);\n            while (treeNode) {\n              if (treeNode.nodeToRestore && treeNode.nodeToRestore.isConnected) {\n                focusElement(treeNode.nodeToRestore);\n                return;\n              }\n              treeNode = treeNode.parent;\n            }\n\n            // If no nodeToRestore was found, focus the first element in the nearest\n            // ancestor scope that is still in the tree.\n            treeNode = clonedTree.getTreeNode(scopeRef);\n            while (treeNode) {\n              if (treeNode.scopeRef && treeNode.scopeRef.current && focusScopeTree.getTreeNode(treeNode.scopeRef)) {\n                focusFirstInScope(treeNode.scopeRef.current, true);\n                return;\n              }\n              treeNode = treeNode.parent;\n            }\n          }\n        });\n      }\n    };\n  }, [scopeRef, restoreFocus]);\n}\n\n/**\n * Create a [TreeWalker]{@link https://developer.mozilla.org/en-US/docs/Web/API/TreeWalker}\n * that matches all focusable/tabbable elements.\n */\nexport function getFocusableTreeWalker(root: Element, opts?: FocusManagerOptions, scope?: Element[]) {\n  let selector = opts?.tabbable ? TABBABLE_ELEMENT_SELECTOR : FOCUSABLE_ELEMENT_SELECTOR;\n  let walker = getOwnerDocument(root).createTreeWalker(\n    root,\n    NodeFilter.SHOW_ELEMENT,\n    {\n      acceptNode(node) {\n        // Skip nodes inside the starting node.\n        if (opts?.from?.contains(node)) {\n          return NodeFilter.FILTER_REJECT;\n        }\n\n        if ((node as Element).matches(selector)\n          && isElementVisible(node as Element)\n          && (!scope || isElementInScope(node as Element, scope))\n          && (!opts?.accept || opts.accept(node as Element))\n        ) {\n          return NodeFilter.FILTER_ACCEPT;\n        }\n\n        return NodeFilter.FILTER_SKIP;\n      }\n    }\n  );\n\n  if (opts?.from) {\n    walker.currentNode = opts.from;\n  }\n\n  return walker;\n}\n\n/**\n * Creates a FocusManager object that can be used to move focus within an element.\n */\nexport function createFocusManager(ref: RefObject<Element>, defaultOptions: FocusManagerOptions = {}): FocusManager {\n  return {\n    focusNext(opts: FocusManagerOptions = {}) {\n      let root = ref.current;\n      if (!root) {\n        return null;\n      }\n      let {from, tabbable = defaultOptions.tabbable, wrap = defaultOptions.wrap, accept = defaultOptions.accept} = opts;\n      let node = from || getOwnerDocument(root).activeElement;\n      let walker = getFocusableTreeWalker(root, {tabbable, accept});\n      if (root.contains(node)) {\n        walker.currentNode = node!;\n      }\n      let nextNode = walker.nextNode() as FocusableElement;\n      if (!nextNode && wrap) {\n        walker.currentNode = root;\n        nextNode = walker.nextNode() as FocusableElement;\n      }\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusPrevious(opts: FocusManagerOptions = defaultOptions) {\n      let root = ref.current;\n      if (!root) {\n        return null;\n      }\n      let {from, tabbable = defaultOptions.tabbable, wrap = defaultOptions.wrap, accept = defaultOptions.accept} = opts;\n      let node = from || getOwnerDocument(root).activeElement;\n      let walker = getFocusableTreeWalker(root, {tabbable, accept});\n      if (root.contains(node)) {\n        walker.currentNode = node!;\n      } else {\n        let next = last(walker);\n        if (next) {\n          focusElement(next, true);\n        }\n        return next ?? null;\n      }\n      let previousNode = walker.previousNode() as FocusableElement;\n      if (!previousNode && wrap) {\n        walker.currentNode = root;\n        let lastNode = last(walker);\n        if (!lastNode) {\n          // couldn't wrap\n          return null;\n        }\n        previousNode = lastNode;\n      }\n      if (previousNode) {\n        focusElement(previousNode, true);\n      }\n      return previousNode ?? null;\n    },\n    focusFirst(opts = defaultOptions) {\n      let root = ref.current;\n      if (!root) {\n        return null;\n      }\n      let {tabbable = defaultOptions.tabbable, accept = defaultOptions.accept} = opts;\n      let walker = getFocusableTreeWalker(root, {tabbable, accept});\n      let nextNode = walker.nextNode() as FocusableElement;\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusLast(opts = defaultOptions) {\n      let root = ref.current;\n      if (!root) {\n        return null;\n      }\n      let {tabbable = defaultOptions.tabbable, accept = defaultOptions.accept} = opts;\n      let walker = getFocusableTreeWalker(root, {tabbable, accept});\n      let next = last(walker);\n      if (next) {\n        focusElement(next, true);\n      }\n      return next ?? null;\n    }\n  };\n}\n\nfunction last(walker: TreeWalker) {\n  let next: FocusableElement | undefined = undefined;\n  let last: FocusableElement;\n  do {\n    last = walker.lastChild() as FocusableElement;\n    if (last) {\n      next = last;\n    }\n  } while (last);\n  return next;\n}\n\n\nclass Tree {\n  root: TreeNode;\n  private fastMap = new Map<ScopeRef, TreeNode>();\n\n  constructor() {\n    this.root = new TreeNode({scopeRef: null});\n    this.fastMap.set(null, this.root);\n  }\n\n  get size() {\n    return this.fastMap.size;\n  }\n\n  getTreeNode(data: ScopeRef) {\n    return this.fastMap.get(data);\n  }\n\n  addTreeNode(scopeRef: ScopeRef, parent: ScopeRef, nodeToRestore?: FocusableElement) {\n    let parentNode = this.fastMap.get(parent ?? null);\n    if (!parentNode) {\n      return;\n    }\n    let node = new TreeNode({scopeRef});\n    parentNode.addChild(node);\n    node.parent = parentNode;\n    this.fastMap.set(scopeRef, node);\n    if (nodeToRestore) {\n      node.nodeToRestore = nodeToRestore;\n    }\n  }\n\n  addNode(node: TreeNode) {\n    this.fastMap.set(node.scopeRef, node);\n  }\n\n  removeTreeNode(scopeRef: ScopeRef) {\n    // never remove the root\n    if (scopeRef === null) {\n      return;\n    }\n    let node = this.fastMap.get(scopeRef);\n    if (!node) {\n      return;\n    }\n    let parentNode = node.parent;\n    // when we remove a scope, check if any sibling scopes are trying to restore focus to something inside the scope we're removing\n    // if we are, then replace the siblings restore with the restore from the scope we're removing\n    for (let current of this.traverse()) {\n      if (\n        current !== node &&\n        node.nodeToRestore &&\n        current.nodeToRestore &&\n        node.scopeRef &&\n        node.scopeRef.current &&\n        isElementInScope(current.nodeToRestore, node.scopeRef.current)\n      ) {\n        current.nodeToRestore = node.nodeToRestore;\n      }\n    }\n    let children = node.children;\n    if (parentNode) {\n      parentNode.removeChild(node);\n      if (children.size > 0) {\n        children.forEach(child => parentNode && parentNode.addChild(child));\n      }\n    }\n\n    this.fastMap.delete(node.scopeRef);\n  }\n\n  // Pre Order Depth First\n  *traverse(node: TreeNode = this.root): Generator<TreeNode> {\n    if (node.scopeRef != null) {\n      yield node;\n    }\n    if (node.children.size > 0) {\n      for (let child of node.children) {\n        yield* this.traverse(child);\n      }\n    }\n  }\n\n  clone(): Tree {\n    let newTree = new Tree();\n    for (let node of this.traverse()) {\n      newTree.addTreeNode(node.scopeRef, node.parent?.scopeRef ?? null, node.nodeToRestore);\n    }\n    return newTree;\n  }\n}\n\nclass TreeNode {\n  public scopeRef: ScopeRef;\n  public nodeToRestore?: FocusableElement;\n  public parent?: TreeNode;\n  public children: Set<TreeNode> = new Set();\n  public contain = false;\n\n  constructor(props: {scopeRef: ScopeRef}) {\n    this.scopeRef = props.scopeRef;\n  }\n  addChild(node: TreeNode) {\n    this.children.add(node);\n    node.parent = this;\n  }\n  removeChild(node: TreeNode) {\n    this.children.delete(node);\n    node.parent = undefined;\n  }\n}\n\nexport let focusScopeTree = new Tree();\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an 'AS IS' BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableElement} from '@react-types/shared';\nimport {focusWithoutScrolling, getOwnerDocument, runAfterTransition} from '@react-aria/utils';\nimport {getInteractionModality} from '@react-aria/interactions';\n\n/**\n * A utility function that focuses an element while avoiding undesired side effects such\n * as page scrolling and screen reader issues with CSS transitions.\n */\nexport function focusSafely(element: FocusableElement) {\n  // If the user is interacting with a virtual cursor, e.g. screen reader, then\n  // wait until after any animated transitions that are currently occurring on\n  // the page before shifting focus. This avoids issues with VoiceOver on iOS\n  // causing the page to scroll when moving focus if the element is transitioning\n  // from off the screen.\n  const ownerDocument = getOwnerDocument(element);\n  if (getInteractionModality() === 'virtual') {\n    let lastFocusedElement = ownerDocument.activeElement;\n    runAfterTransition(() => {\n      // If focus did not move and the element is still in the document, focus it.\n      if (ownerDocument.activeElement === lastFocusedElement && element.isConnected) {\n        focusWithoutScrolling(element);\n      }\n    });\n  } else {\n    focusWithoutScrolling(element);\n  }\n}\n", "/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {getOwnerWindow} from '@react-aria/utils';\n\nfunction isStyleVisible(element: Element) {\n  const windowObject = getOwnerWindow(element);\n  if (!(element instanceof windowObject.HTMLElement) && !(element instanceof windowObject.SVGElement)) {\n    return false;\n  }\n\n  let {display, visibility} = element.style;\n\n  let isVisible = (\n    display !== 'none' &&\n    visibility !== 'hidden' &&\n    visibility !== 'collapse'\n  );\n\n  if (isVisible) {\n    const {getComputedStyle} = element.ownerDocument.defaultView as unknown as Window;\n    let {display: computedDisplay, visibility: computedVisibility} = getComputedStyle(element);\n\n    isVisible = (\n      computedDisplay !== 'none' &&\n      computedVisibility !== 'hidden' &&\n      computedVisibility !== 'collapse'\n    );\n  }\n\n  return isVisible;\n}\n\nfunction isAttributeVisible(element: Element, childElement?: Element) {\n  return (\n    !element.hasAttribute('hidden') &&\n    (element.nodeName === 'DETAILS' &&\n      childElement &&\n      childElement.nodeName !== 'SUMMARY'\n      ? element.hasAttribute('open')\n      : true)\n  );\n}\n\n/**\n * Adapted from https://github.com/testing-library/jest-dom and\n * https://github.com/vuejs/vue-test-utils-next/.\n * Licensed under the MIT License.\n * @param element - Element to evaluate for display or visibility.\n */\nexport function isElementVisible(element: Element, childElement?: Element) {\n  return (\n    element.nodeName !== '#comment' &&\n    isStyleVisible(element) &&\n    isAttributeVisible(element, childElement) &&\n    (!element.parentElement || isElementVisible(element.parentElement, element))\n  );\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport clsx from 'clsx';\nimport {mergeProps} from '@react-aria/utils';\nimport React, {ReactElement} from 'react';\nimport {useFocusRing} from './useFocusRing';\n\nexport interface FocusRingProps {\n  /** Child element to apply CSS classes to. */\n  children: ReactElement,\n  /** CSS class to apply when the element is focused. */\n  focusClass?: string,\n  /** CSS class to apply when the element has keyboard focus. */\n  focusRingClass?: string,\n  /**\n   * Whether to show the focus ring when something\n   * inside the container element has focus (true), or\n   * only if the container itself has focus (false).\n   * @default false\n   */\n  within?: boolean,\n  /** Whether the element is a text input. */\n  isTextInput?: boolean,\n  /** Whether the element will be auto focused. */\n  autoFocus?: boolean\n}\n\n/**\n * A utility component that applies a CSS class when an element has keyboard focus.\n * Focus rings are visible only when the user is interacting with a keyboard,\n * not with a mouse, touch, or other input methods.\n */\nexport function FocusRing(props: FocusRingProps) {\n  let {children, focusClass, focusRingClass} = props;\n  let {isFocused, isFocusVisible, focusProps} = useFocusRing(props);\n  let child = React.Children.only(children);\n\n  return React.cloneElement(child, mergeProps(child.props, {\n    ...focusProps,\n    className: clsx({\n      [focusClass || '']: isFocused,\n      [focusRingClass || '']: isFocusVisible\n    })\n  }));\n}\n", "import {DOMAttributes} from '@react-types/shared';\nimport {isFocusVisible, useFocus, useFocusVisibleListener, useFocusWithin} from '@react-aria/interactions';\nimport {useCallback, useRef, useState} from 'react';\n\nexport interface AriaFocusRingProps {\n  /**\n   * Whether to show the focus ring when something\n   * inside the container element has focus (true), or\n   * only if the container itself has focus (false).\n   * @default 'false'\n   */\n  within?: boolean,\n\n  /** Whether the element is a text input. */\n  isTextInput?: boolean,\n\n  /** Whether the element will be auto focused. */\n  autoFocus?: boolean\n}\n\nexport interface FocusRingAria {\n  /** Whether the element is currently focused. */\n  isFocused: boolean,\n\n  /** Whether keyboard focus should be visible. */\n  isFocusVisible: boolean,\n\n  /** Props to apply to the container element with the focus ring. */\n  focusProps: DOMAttributes\n}\n\n/**\n * Determines whether a focus ring should be shown to indicate keyboard focus.\n * Focus rings are visible only when the user is interacting with a keyboard,\n * not with a mouse, touch, or other input methods.\n */\nexport function useFocusRing(props: AriaFocusRingProps = {}): FocusRingAria {\n  let {\n    autoFocus = false,\n    isTextInput,\n    within\n  } = props;\n  let state = useRef({\n    isFocused: false,\n    isFocusVisible: autoFocus || isFocusVisible()\n  });\n  let [isFocused, setFocused] = useState(false);\n  let [isFocusVisibleState, setFocusVisible] = useState(() => state.current.isFocused && state.current.isFocusVisible);\n\n  let updateState = useCallback(() => setFocusVisible(state.current.isFocused && state.current.isFocusVisible), []);\n\n  let onFocusChange = useCallback(isFocused => {\n    state.current.isFocused = isFocused;\n    setFocused(isFocused);\n    updateState();\n  }, [updateState]);\n\n  useFocusVisibleListener((isFocusVisible) => {\n    state.current.isFocusVisible = isFocusVisible;\n    updateState();\n  }, [], {isTextInput});\n\n  let {focusProps} = useFocus({\n    isDisabled: within,\n    onFocusChange\n  });\n\n  let {focusWithinProps} = useFocusWithin({\n    isDisabled: !within,\n    onFocusWithinChange: onFocusChange\n  });\n\n  return {\n    isFocused,\n    isFocusVisible: isFocusVisibleState,\n    focusProps: within ? focusWithinProps : focusProps\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {DOMAttributes, FocusableDOMProps, FocusableElement, FocusableProps} from '@react-types/shared';\nimport {focusSafely} from './';\nimport {mergeProps, useObjectRef, useSyncRef} from '@react-aria/utils';\nimport React, {ForwardedRef, MutableRefObject, ReactNode, RefObject, useContext, useEffect, useRef} from 'react';\nimport {useFocus, useKeyboard} from '@react-aria/interactions';\n\nexport interface FocusableOptions extends FocusableProps, FocusableDOMProps {\n  /** Whether focus should be disabled. */\n  isDisabled?: boolean\n}\n\nexport interface FocusableProviderProps extends DOMAttributes {\n  /** The child element to provide DOM props to. */\n  children?: ReactNode\n}\n\ninterface FocusableContextValue extends FocusableProviderProps {\n  ref?: MutableRefObject<FocusableElement | null>\n}\n\nlet FocusableContext = React.createContext<FocusableContextValue | null>(null);\n\nfunction useFocusableContext(ref: RefObject<FocusableElement>): FocusableContextValue {\n  let context = useContext(FocusableContext) || {};\n  useSyncRef(context, ref);\n\n  // eslint-disable-next-line\n  let {ref: _, ...otherProps} = context;\n  return otherProps;\n}\n\n/**\n * Provides DOM props to the nearest focusable child.\n */\nfunction FocusableProvider(props: FocusableProviderProps, ref: ForwardedRef<FocusableElement>) {\n  let {children, ...otherProps} = props;\n  let objRef = useObjectRef(ref);\n  let context = {\n    ...otherProps,\n    ref: objRef\n  };\n\n  return (\n    <FocusableContext.Provider value={context}>\n      {children}\n    </FocusableContext.Provider>\n  );\n}\n\nlet _FocusableProvider = React.forwardRef(FocusableProvider);\nexport {_FocusableProvider as FocusableProvider};\n\nexport interface FocusableAria {\n  /** Props for the focusable element. */\n  focusableProps: DOMAttributes\n}\n\n/**\n * Used to make an element focusable and capable of auto focus.\n */\nexport function useFocusable(props: FocusableOptions, domRef: RefObject<FocusableElement>): FocusableAria {\n  let {focusProps} = useFocus(props);\n  let {keyboardProps} = useKeyboard(props);\n  let interactions = mergeProps(focusProps, keyboardProps);\n  let domProps = useFocusableContext(domRef);\n  let interactionProps = props.isDisabled ? {} : domProps;\n  let autoFocusRef = useRef(props.autoFocus);\n\n  useEffect(() => {\n    if (autoFocusRef.current && domRef.current) {\n      focusSafely(domRef.current);\n    }\n    autoFocusRef.current = false;\n  }, [domRef]);\n\n  return {\n    focusableProps: mergeProps(\n      {\n        ...interactions,\n        tabIndex: props.excludeFromTabOrder && !props.isDisabled ? -1 : undefined\n      },\n      interactionProps\n    )\n  };\n}\n", "/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {getFocusableTreeWalker} from './FocusScope';\nimport {RefObject, useState} from 'react';\nimport {useLayoutEffect} from '@react-aria/utils';\n\ninterface AriaHasTabbableChildOptions {\n  isDisabled?: boolean\n}\n\n// This was created for a special empty case of a component that can have child or\n// be empty, like Collection/Virtualizer/Table/ListView/etc. When these components\n// are empty they can have a message with a tabbable element, which is like them\n// being not empty, when it comes to focus and tab order.\n\n/**\n * Returns whether an element has a tabbable child, and updates as children change.\n * @private\n */\nexport function useHasTabbableChild(ref: RefObject<Element>, options?: AriaHasTabbableChildOptions): boolean {\n  let isDisabled = options?.isDisabled;\n  let [hasTabbableChild, setHasTabbableChild] = useState(false);\n\n  useLayoutEffect(() => {\n    if (ref?.current && !isDisabled) {\n      let update = () => {\n        if (ref.current) {\n          let walker = getFocusableTreeWalker(ref.current, {tabbable: true});\n          setHasTabbableChild(!!walker.nextNode());\n        }\n      };\n\n      update();\n\n      // Update when new elements are inserted, or the tabIndex/disabled attribute updates.\n      let observer = new MutationObserver(update);\n      observer.observe(ref.current, {\n        subtree: true,\n        childList: true,\n        attributes: true,\n        attributeFilter: ['tabIndex', 'disabled']\n      });\n\n      return () => {\n        // Disconnect mutation observer when a React update occurs on the top-level component\n        // so we update synchronously after re-rendering. Otherwise React will emit act warnings\n        // in tests since mutation observers fire asynchronously. The mutation observer is necessary\n        // so we also update if a child component re-renders and adds/removes something tabbable.\n        observer.disconnect();\n      };\n    }\n  });\n\n  return isDisabled ? false : hasTabbableChild;\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nexport {SSRProvider, useSSRSafeId, useIsSSR} from './SSRProvider';\nexport type {SSRProviderProps} from './SSRProvider';\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// We must avoid a circular dependency with @react-aria/utils, and this useLayoutEffect is\n// guarded by a check that it only runs on the client side.\n// eslint-disable-next-line rulesdir/useLayoutEffectRule\nimport React, {ReactNode, useContext, useLayoutEffect, useMemo, useRef, useState} from 'react';\n\n// To support SSR, the auto incrementing id counter is stored in a context. This allows\n// it to be reset on every request to ensure the client and server are consistent.\n// There is also a prefix string that is used to support async loading components\n// Each async boundary must be wrapped in an SSR provider, which appends to the prefix\n// and resets the current id counter. This ensures that async loaded components have\n// consistent ids regardless of the loading order.\ninterface SSRContextValue {\n  prefix: string,\n  current: number\n}\n\n// Default context value to use in case there is no SSRProvider. This is fine for\n// client-only apps. In order to support multiple copies of React Aria potentially\n// being on the page at once, the prefix is set to a random number. SSRProvider\n// will reset this to zero for consistency between server and client, so in the\n// SSR case multiple copies of React Aria is not supported.\nconst defaultContext: SSRContextValue = {\n  prefix: String(Math.round(Math.random() * 10000000000)),\n  current: 0\n};\n\nconst SSRContext = React.createContext<SSRContextValue>(defaultContext);\nconst IsSSRContext = React.createContext(false);\n\nexport interface SSRProviderProps {\n  /** Your application here. */\n  children: ReactNode\n}\n\n// This is only used in React < 18.\nfunction LegacySSRProvider(props: SSRProviderProps): React.JSX.Element {\n  let cur = useContext(SSRContext);\n  let counter = useCounter(cur === defaultContext);\n  let [isSSR, setIsSSR] = useState(true);\n  let value: SSRContextValue = useMemo(() => ({\n    // If this is the first SSRProvider, start with an empty string prefix, otherwise\n    // append and increment the counter.\n    prefix: cur === defaultContext ? '' : `${cur.prefix}-${counter}`,\n    current: 0\n  }), [cur, counter]);\n\n  // If on the client, and the component was initially server rendered,\n  // then schedule a layout effect to update the component after hydration.\n  if (typeof document !== 'undefined') {\n    // This if statement technically breaks the rules of hooks, but is safe\n    // because the condition never changes after mounting.\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useLayoutEffect(() => {\n      setIsSSR(false);\n    }, []);\n  }\n\n  return (\n    <SSRContext.Provider value={value}>\n      <IsSSRContext.Provider value={isSSR}>\n        {props.children}\n      </IsSSRContext.Provider>\n    </SSRContext.Provider>\n  );\n}\n\nlet warnedAboutSSRProvider = false;\n\n/**\n * When using SSR with React Aria in React 16 or 17, applications must be wrapped in an SSRProvider.\n * This ensures that auto generated ids are consistent between the client and server.\n */\nexport function SSRProvider(props: SSRProviderProps): React.JSX.Element {\n  if (typeof React['useId'] === 'function') {\n    if (process.env.NODE_ENV !== 'test' && !warnedAboutSSRProvider) {\n      console.warn('In React 18, SSRProvider is not necessary and is a noop. You can remove it from your app.');\n      warnedAboutSSRProvider = true;\n    }\n    return <>{props.children}</>;\n  }\n  return <LegacySSRProvider {...props} />;\n}\n\nlet canUseDOM = Boolean(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n\nlet componentIds = new WeakMap();\n\nfunction useCounter(isDisabled = false) {\n  let ctx = useContext(SSRContext);\n  let ref = useRef<number | null>(null);\n  // eslint-disable-next-line rulesdir/pure-render\n  if (ref.current === null && !isDisabled) {\n    // In strict mode, React renders components twice, and the ref will be reset to null on the second render.\n    // This means our id counter will be incremented twice instead of once. This is a problem because on the\n    // server, components are only rendered once and so ids generated on the server won't match the client.\n    // In React 18, useId was introduced to solve this, but it is not available in older versions. So to solve this\n    // we need to use some React internals to access the underlying Fiber instance, which is stable between renders.\n    // This is exposed as ReactCurrentOwner in development, which is all we need since StrictMode only runs in development.\n    // To ensure that we only increment the global counter once, we store the starting id for this component in\n    // a weak map associated with the Fiber. On the second render, we reset the global counter to this value.\n    // Since React runs the second render immediately after the first, this is safe.\n    // @ts-ignore\n    let currentOwner = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED?.ReactCurrentOwner?.current;\n    if (currentOwner) {\n      let prevComponentValue = componentIds.get(currentOwner);\n      if (prevComponentValue == null) {\n        // On the first render, and first call to useId, store the id and state in our weak map.\n        componentIds.set(currentOwner, {\n          id: ctx.current,\n          state: currentOwner.memoizedState\n        });\n      } else if (currentOwner.memoizedState !== prevComponentValue.state) {\n        // On the second render, the memoizedState gets reset by React.\n        // Reset the counter, and remove from the weak map so we don't\n        // do this for subsequent useId calls.\n        ctx.current = prevComponentValue.id;\n        componentIds.delete(currentOwner);\n      }\n    }\n\n    // eslint-disable-next-line rulesdir/pure-render\n    ref.current = ++ctx.current;\n  }\n\n  // eslint-disable-next-line rulesdir/pure-render\n  return ref.current;\n}\n\nfunction useLegacySSRSafeId(defaultId?: string): string {\n  let ctx = useContext(SSRContext);\n\n  // If we are rendering in a non-DOM environment, and there's no SSRProvider,\n  // provide a warning to hint to the developer to add one.\n  if (ctx === defaultContext && !canUseDOM) {\n    console.warn('When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.');\n  }\n\n  let counter = useCounter(!!defaultId);\n  let prefix = ctx === defaultContext && process.env.NODE_ENV === 'test' ? 'react-aria' : `react-aria${ctx.prefix}`;\n  return defaultId || `${prefix}-${counter}`;\n}\n\nfunction useModernSSRSafeId(defaultId?: string): string {\n  // @ts-ignore\n  let id = React.useId();\n  let [didSSR] = useState(useIsSSR());\n  let prefix = didSSR || process.env.NODE_ENV === 'test' ? 'react-aria' : `react-aria${defaultContext.prefix}`;\n  return defaultId || `${prefix}-${id}`;\n}\n\n// Use React.useId in React 18 if available, otherwise fall back to our old implementation.\n/** @private */\nexport const useSSRSafeId = typeof React['useId'] === 'function' ? useModernSSRSafeId : useLegacySSRSafeId;\n\nfunction getSnapshot() {\n  return false;\n}\n\nfunction getServerSnapshot() {\n  return true;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction subscribe(onStoreChange: () => void): () => void {\n  // noop\n  return () => {};\n}\n\n/**\n * Returns whether the component is currently being server side rendered or\n * hydrated on the client. Can be used to delay browser-specific rendering\n * until after hydration.\n */\nexport function useIsSSR(): boolean {\n  // In React 18, we can use useSyncExternalStore to detect if we're server rendering or hydrating.\n  if (typeof React['useSyncExternalStore'] === 'function') {\n    return React['useSyncExternalStore'](subscribe, getSnapshot, getServerSnapshot);\n  }\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  return useContext(IsSSRContext);\n}\n", "function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f);else for(t in e)e[t]&&(n&&(n+=\" \"),n+=t);return n}export function clsx(){for(var e,t,f=0,n=\"\";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nexport {useId, mergeIds, useSlotId} from './useId';\nexport {chain} from './chain';\nexport {getOwnerDocument, getOwnerWindow} from './domHelpers';\nexport {mergeProps} from './mergeProps';\nexport {mergeRefs} from './mergeRefs';\nexport {filterDOMProps} from './filterDOMProps';\nexport {focusWithoutScrolling} from './focusWithoutScrolling';\nexport {getOffset} from './getOffset';\nexport {openLink, getSyntheticLinkProps, RouterProvider, shouldClientNavigate, useRouter} from './openLink';\nexport {runAfterTransition} from './runAfterTransition';\nexport {useDrag1D} from './useDrag1D';\nexport {useGlobalListeners} from './useGlobalListeners';\nexport {useLabels} from './useLabels';\nexport {useObjectRef} from './useObjectRef';\nexport {useUpdateEffect} from './useUpdateEffect';\nexport {useLayoutEffect} from './useLayoutEffect';\nexport {useResizeObserver} from './useResizeObserver';\nexport {useSyncRef} from './useSyncRef';\nexport {getScrollParent, isScrollable} from './getScrollParent';\nexport {useViewportSize} from './useViewportSize';\nexport {useDescription} from './useDescription';\nexport {isMac, isIPhone, isIPad, isIOS, isAppleDevice, isWebKit, isChrome, isAndroid} from './platform';\nexport {useEvent} from './useEvent';\nexport {useValueEffect} from './useValueEffect';\nexport {scrollIntoView, scrollIntoViewport} from './scrollIntoView';\nexport {clamp, snapValueToStep} from '@react-stately/utils';\nexport {isVirtualClick, isVirtualPointerEvent} from './isVirtualEvent';\nexport {useEffectEvent} from './useEffectEvent';\nexport {useDeepMemo} from './useDeepMemo';\nexport {useFormReset} from './useFormReset';\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useCallback, useEffect, useRef, useState} from 'react';\nimport {useLayoutEffect} from './useLayoutEffect';\nimport {useSSRSafeId} from '@react-aria/ssr';\nimport {useValueEffect} from './';\n\n// copied from SSRProvider.tsx to reduce exports, if needed again, consider sharing\nlet canUseDOM = Boolean(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n\nlet idsUpdaterMap: Map<string, (v: string) => void> = new Map();\n\n/**\n * If a default is not provided, generate an id.\n * @param defaultId - Default component id.\n */\nexport function useId(defaultId?: string): string {\n  let [value, setValue] = useState(defaultId);\n  let nextId = useRef(null);\n\n  let res = useSSRSafeId(value);\n\n  let updateValue = useCallback((val) => {\n    nextId.current = val;\n  }, []);\n\n  if (canUseDOM) {\n    idsUpdaterMap.set(res, updateValue);\n  }\n\n  useLayoutEffect(() => {\n    let r = res;\n    return () => {\n      idsUpdaterMap.delete(r);\n    };\n  }, [res]);\n\n  // This cannot cause an infinite loop because the ref is updated first.\n  // eslint-disable-next-line\n  useEffect(() => {\n    let newId = nextId.current;\n    if (newId) {\n      nextId.current = null;\n      setValue(newId);\n    }\n  });\n\n  return res;\n}\n\n/**\n * Merges two ids.\n * Different ids will trigger a side-effect and re-render components hooked up with `useId`.\n */\nexport function mergeIds(idA: string, idB: string): string {\n  if (idA === idB) {\n    return idA;\n  }\n\n  let setIdA = idsUpdaterMap.get(idA);\n  if (setIdA) {\n    setIdA(idB);\n    return idB;\n  }\n\n  let setIdB = idsUpdaterMap.get(idB);\n  if (setIdB) {\n    setIdB(idA);\n    return idA;\n  }\n\n  return idB;\n}\n\n/**\n * Used to generate an id, and after render, check if that id is rendered so we know\n * if we can use it in places such as labelledby.\n * @param depArray - When to recalculate if the id is in the DOM.\n */\nexport function useSlotId(depArray: ReadonlyArray<any> = []): string {\n  let id = useId();\n  let [resolvedId, setResolvedId] = useValueEffect(id);\n  let updateId = useCallback(() => {\n    setResolvedId(function *() {\n      yield id;\n\n      yield document.getElementById(id) ? id : undefined;\n    });\n  }, [id, setResolvedId]);\n\n  useLayoutEffect(updateId, [id, updateId, ...depArray]);\n\n  return resolvedId;\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport React from 'react';\n\n// During SSR, React emits a warning when calling useLayoutEffect.\n// Since neither useLayoutEffect nor useEffect run on the server,\n// we can suppress this by replace it with a noop on the server.\nexport const useLayoutEffect = typeof document !== 'undefined'\n  ? React.useLayoutEffect\n  : () => {};\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Dispatch, useRef, useState} from 'react';\nimport {useEffectEvent, useLayoutEffect} from './';\n\ntype SetValueAction<S> = (prev: S) => Generator<any, void, unknown>;\n\n// This hook works like `useState`, but when setting the value, you pass a generator function\n// that can yield multiple values. Each yielded value updates the state and waits for the next\n// layout effect, then continues the generator. This allows sequential updates to state to be\n// written linearly.\nexport function useValueEffect<S>(defaultValue: S | (() => S)): [S, Dispatch<SetValueAction<S>>] {\n  let [value, setValue] = useState(defaultValue);\n  let effect = useRef(null);\n\n  // Store the function in a ref so we can always access the current version\n  // which has the proper `value` in scope.\n  let nextRef = useEffectEvent(() => {\n    // Run the generator to the next yield.\n    let newValue = effect.current.next();\n\n    // If the generator is done, reset the effect.\n    if (newValue.done) {\n      effect.current = null;\n      return;\n    }\n\n    // If the value is the same as the current value,\n    // then continue to the next yield. Otherwise,\n    // set the value in state and wait for the next layout effect.\n    if (value === newValue.value) {\n      nextRef();\n    } else {\n      setValue(newValue.value);\n    }\n  });\n\n  useLayoutEffect(() => {\n    // If there is an effect currently running, continue to the next yield.\n    if (effect.current) {\n      nextRef();\n    }\n  });\n\n  let queue = useEffectEvent(fn => {\n    effect.current = fn(value);\n    nextRef();\n  });\n\n  return [value, queue];\n}\n", "/*\n * Copyright 2023 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useCallback, useRef} from 'react';\nimport {useLayoutEffect} from './useLayoutEffect';\n\nexport function useEffectEvent<T extends Function>(fn: T): T {\n  const ref = useRef<T | null>(null);\n  useLayoutEffect(() => {\n    ref.current = fn;\n  }, [fn]);\n  // @ts-ignore\n  return useCallback<T>((...args) => {\n    const f = ref.current!;\n    return f(...args);\n  }, []);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n/**\n * Calls all functions in the order they were chained with the same arguments.\n */\nexport function chain(...callbacks: any[]): (...args: any[]) => void {\n  return (...args: any[]) => {\n    for (let callback of callbacks) {\n      if (typeof callback === 'function') {\n        callback(...args);\n      }\n    }\n  };\n}\n", "export const getOwnerDocument = (el: Element | null | undefined): Document => {\n  return el?.ownerDocument ?? document;\n};\n\nexport const getOwnerWindow = (\n  el: (Window & typeof global) | Element | null | undefined\n): Window & typeof global => {\n  if (el && 'window' in el && el.window === el) {\n    return el;\n  }\n\n  const doc = getOwnerDocument(el as Element | null | undefined);\n  return doc.defaultView || window;\n};\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {chain} from './chain';\nimport clsx from 'clsx';\nimport {mergeIds} from './useId';\n\ninterface Props {\n  [key: string]: any\n}\n\ntype PropsArg = Props | null | undefined;\n\n// taken from: https://stackoverflow.com/questions/51603250/typescript-3-parameter-list-intersection-type/51604379#51604379\ntype TupleTypes<T> = { [P in keyof T]: T[P] } extends { [key: number]: infer V } ? NullToObject<V> : never;\ntype NullToObject<T> = T extends (null | undefined) ? {} : T;\n// eslint-disable-next-line no-undef, @typescript-eslint/no-unused-vars\ntype UnionToIntersection<U> = (U extends any ? (k: U) => void : never) extends ((k: infer I) => void) ? I : never;\n\n/**\n * Merges multiple props objects together. Event handlers are chained,\n * classNames are combined, and ids are deduplicated - different ids\n * will trigger a side-effect and re-render components hooked up with `useId`.\n * For all other props, the last prop object overrides all previous ones.\n * @param args - Multiple sets of props to merge together.\n */\nexport function mergeProps<T extends PropsArg[]>(...args: T): UnionToIntersection<TupleTypes<T>> {\n  // Start with a base clone of the first argument. This is a lot faster than starting\n  // with an empty object and adding properties as we go.\n  let result: Props = {...args[0]};\n  for (let i = 1; i < args.length; i++) {\n    let props = args[i];\n    for (let key in props) {\n      let a = result[key];\n      let b = props[key];\n\n      // Chain events\n      if (\n        typeof a === 'function' &&\n        typeof b === 'function' &&\n        // This is a lot faster than a regex.\n        key[0] === 'o' &&\n        key[1] === 'n' &&\n        key.charCodeAt(2) >= /* 'A' */ 65 &&\n        key.charCodeAt(2) <= /* 'Z' */ 90\n      ) {\n        result[key] = chain(a, b);\n\n        // Merge classnames, sometimes classNames are empty string which eval to false, so we just need to do a type check\n      } else if (\n        (key === 'className' || key === 'UNSAFE_className') &&\n        typeof a === 'string' &&\n        typeof b === 'string'\n      ) {\n        result[key] = clsx(a, b);\n      } else if (key === 'id' && a && b) {\n        result.id = mergeIds(a, b);\n        // Override others\n      } else {\n        result[key] = b !== undefined ? b : a;\n      }\n    }\n  }\n\n  return result as UnionToIntersection<TupleTypes<T>>;\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {ForwardedRef} from 'react';\n\n/**\n * Merges multiple refs into one. Works with either callback or object refs.\n */\nexport function mergeRefs<T>(...refs: ForwardedRef<T>[]): ForwardedRef<T> {\n  if (refs.length === 1) {\n    return refs[0];\n  }\n\n  return (value: T) => {\n    for (let ref of refs) {\n      if (typeof ref === 'function') {\n        ref(value);\n      } else if (ref != null) {\n        ref.current = value;\n      }\n    }\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaLabelingProps, DOMProps, LinkDOMProps} from '@react-types/shared';\n\nconst DOMPropNames = new Set([\n  'id'\n]);\n\nconst labelablePropNames = new Set([\n  'aria-label',\n  'aria-labelledby',\n  'aria-describedby',\n  'aria-details'\n]);\n\n// See LinkDOMProps in dom.d.ts.\nconst linkPropNames = new Set([\n  'href',\n  'target',\n  'rel',\n  'download',\n  'ping',\n  'referrerPolicy'\n]);\n\ninterface Options {\n  /**\n   * If labelling associated aria properties should be included in the filter.\n   */\n  labelable?: boolean,\n  /** Whether the element is a link and should include DOM props for <a> elements. */\n  isLink?: boolean,\n  /**\n   * A Set of other property names that should be included in the filter.\n   */\n  propNames?: Set<string>\n}\n\nconst propRe = /^(data-.*)$/;\n\n/**\n * Filters out all props that aren't valid DOM props or defined via override prop obj.\n * @param props - The component props to be filtered.\n * @param opts - Props to override.\n */\nexport function filterDOMProps(props: DOMProps & AriaLabelingProps & LinkDOMProps, opts: Options = {}): DOMProps & AriaLabelingProps {\n  let {labelable, isLink, propNames} = opts;\n  let filteredProps = {};\n\n  for (const prop in props) {\n    if (\n      Object.prototype.hasOwnProperty.call(props, prop) && (\n        DOMPropNames.has(prop) ||\n        (labelable && labelablePropNames.has(prop)) ||\n        (isLink && linkPropNames.has(prop)) ||\n        propNames?.has(prop) ||\n        propRe.test(prop)\n      )\n    ) {\n      filteredProps[prop] = props[prop];\n    }\n  }\n\n  return filteredProps;\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableElement} from '@react-types/shared';\n\n// This is a polyfill for element.focus({preventScroll: true});\n// Currently necessary for Safari and old Edge:\n// https://caniuse.com/#feat=mdn-api_htmlelement_focus_preventscroll_option\n// See https://bugs.webkit.org/show_bug.cgi?id=178583\n//\n\n// Original licensing for the following methods can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/calvellido/focus-options-polyfill\n\ninterface ScrollableElement {\n  element: HTMLElement,\n  scrollTop: number,\n  scrollLeft: number\n}\n\nexport function focusWithoutScrolling(element: FocusableElement) {\n  if (supportsPreventScroll()) {\n    element.focus({preventScroll: true});\n  } else {\n    let scrollableElements = getScrollableElements(element);\n    element.focus();\n    restoreScrollPosition(scrollableElements);\n  }\n}\n\nlet supportsPreventScrollCached: boolean = null;\nfunction supportsPreventScroll() {\n  if (supportsPreventScrollCached == null) {\n    supportsPreventScrollCached = false;\n    try {\n      var focusElem = document.createElement('div');\n      focusElem.focus({\n        get preventScroll() {\n          supportsPreventScrollCached = true;\n          return true;\n        }\n      });\n    } catch (e) {\n      // Ignore\n    }\n  }\n\n  return supportsPreventScrollCached;\n}\n\nfunction getScrollableElements(element: FocusableElement): ScrollableElement[] {\n  var parent = element.parentNode;\n  var scrollableElements: ScrollableElement[] = [];\n  var rootScrollingElement = document.scrollingElement || document.documentElement;\n\n  while (parent instanceof HTMLElement && parent !== rootScrollingElement) {\n    if (\n      parent.offsetHeight < parent.scrollHeight ||\n      parent.offsetWidth < parent.scrollWidth\n    ) {\n      scrollableElements.push({\n        element: parent,\n        scrollTop: parent.scrollTop,\n        scrollLeft: parent.scrollLeft\n      });\n    }\n    parent = parent.parentNode;\n  }\n\n  if (rootScrollingElement instanceof HTMLElement) {\n    scrollableElements.push({\n      element: rootScrollingElement,\n      scrollTop: rootScrollingElement.scrollTop,\n      scrollLeft: rootScrollingElement.scrollLeft\n    });\n  }\n\n  return scrollableElements;\n}\n\nfunction restoreScrollPosition(scrollableElements: ScrollableElement[]) {\n  for (let {element, scrollTop, scrollLeft} of scrollableElements) {\n    element.scrollTop = scrollTop;\n    element.scrollLeft = scrollLeft;\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport function getOffset(element, reverse, orientation = 'horizontal') {\n  let rect = element.getBoundingClientRect();\n  if (reverse) {\n    return orientation === 'horizontal' ? rect.right : rect.bottom;\n  }\n  return orientation === 'horizontal' ? rect.left : rect.top;\n}\n", "/*\n * Copyright 2023 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {focusWithoutScrolling, isMac, isWebKit} from './index';\nimport {isFirefox, isIPad} from './platform';\nimport {LinkDOMProps} from '@react-types/shared';\nimport React, {createContext, ReactNode, useContext, useMemo} from 'react';\n\ninterface Router {\n  isNative: boolean,\n  open: (target: Element, modifiers: Modifiers) => void\n}\n\nconst RouterContext = createContext<Router>({\n  isNative: true,\n  open: openSyntheticLink\n});\n\ninterface RouterProviderProps {\n  navigate: (path: string) => void,\n  children: ReactNode\n}\n\n/**\n * A RouterProvider accepts a `navigate` function from a framework or client side router,\n * and provides it to all nested React Aria links to enable client side navigation.\n */\nexport function RouterProvider(props: RouterProviderProps) {\n  let {children, navigate} = props;\n\n  let ctx = useMemo(() => ({\n    isNative: false,\n    open: (target: Element, modifiers: Modifiers) => {\n      getSyntheticLink(target, link => {\n        if (shouldClientNavigate(link, modifiers)) {\n          navigate(link.pathname + link.search + link.hash);\n        } else {\n          openLink(link, modifiers);\n        }\n      });\n    }\n  }), [navigate]);\n\n  return (\n    <RouterContext.Provider value={ctx}>\n      {children}\n    </RouterContext.Provider>\n  );\n}\n\nexport function useRouter(): Router {\n  return useContext(RouterContext);\n}\n\ninterface Modifiers {\n  metaKey?: boolean,\n  ctrlKey?: boolean,\n  altKey?: boolean,\n  shiftKey?: boolean\n}\n\nexport function shouldClientNavigate(link: HTMLAnchorElement, modifiers: Modifiers) {\n  // Use getAttribute here instead of link.target. Firefox will default link.target to \"_parent\" when inside an iframe.\n  let target = link.getAttribute('target');\n  return (\n    (!target || target === '_self') &&\n    link.origin === location.origin &&\n    !link.hasAttribute('download') &&\n    !modifiers.metaKey && // open in new tab (mac)\n    !modifiers.ctrlKey && // open in new tab (windows)\n    !modifiers.altKey && // download\n    !modifiers.shiftKey\n  );\n}\n\nexport function openLink(target: HTMLAnchorElement, modifiers: Modifiers, setOpening = true) {\n  let {metaKey, ctrlKey, altKey, shiftKey} = modifiers;\n\n  // Firefox does not recognize keyboard events as a user action by default, and the popup blocker\n  // will prevent links with target=\"_blank\" from opening. However, it does allow the event if the\n  // Command/Control key is held, which opens the link in a background tab. This seems like the best we can do.\n  // See https://bugzilla.mozilla.org/show_bug.cgi?id=257870 and https://bugzilla.mozilla.org/show_bug.cgi?id=746640.\n  if (isFirefox() && window.event?.type?.startsWith('key') && target.target === '_blank') {\n    if (isMac()) {\n      metaKey = true;\n    } else {\n      ctrlKey = true;\n    }\n  }\n\n  // WebKit does not support firing click events with modifier keys, but does support keyboard events.\n  // https://github.com/WebKit/WebKit/blob/c03d0ac6e6db178f90923a0a63080b5ca210d25f/Source/WebCore/html/HTMLAnchorElement.cpp#L184\n  let event = isWebKit() && isMac() && !isIPad() && process.env.NODE_ENV !== 'test'\n    // @ts-ignore - keyIdentifier is a non-standard property, but it's what webkit expects\n    ? new KeyboardEvent('keydown', {keyIdentifier: 'Enter', metaKey, ctrlKey, altKey, shiftKey})\n    : new MouseEvent('click', {metaKey, ctrlKey, altKey, shiftKey, bubbles: true, cancelable: true});\n  (openLink as any).isOpening = setOpening;\n  focusWithoutScrolling(target);\n  target.dispatchEvent(event);\n  (openLink as any).isOpening = false;\n}\n// https://github.com/parcel-bundler/parcel/issues/8724\n(openLink as any).isOpening = false;\n\nfunction getSyntheticLink(target: Element, open: (link: HTMLAnchorElement) => void) {\n  if (target instanceof HTMLAnchorElement) {\n    open(target);\n  } else if (target.hasAttribute('data-href')) {\n    let link = document.createElement('a');\n    link.href = target.getAttribute('data-href');\n    if (target.hasAttribute('data-target')) {\n      link.target = target.getAttribute('data-target');\n    }\n    if (target.hasAttribute('data-rel')) {\n      link.rel = target.getAttribute('data-rel');\n    }\n    if (target.hasAttribute('data-download')) {\n      link.download = target.getAttribute('data-download');\n    }\n    if (target.hasAttribute('data-ping')) {\n      link.ping = target.getAttribute('data-ping');\n    }\n    if (target.hasAttribute('data-referrer-policy')) {\n      link.referrerPolicy = target.getAttribute('data-referrer-policy');\n    }\n    target.appendChild(link);\n    open(link);\n    target.removeChild(link);\n  }\n}\n\nfunction openSyntheticLink(target: Element, modifiers: Modifiers) {\n  getSyntheticLink(target, link => openLink(link, modifiers));\n}\n\nexport function getSyntheticLinkProps(props: LinkDOMProps) {\n  return {\n    'data-href': props.href,\n    'data-target': props.target,\n    'data-rel': props.rel,\n    'data-download': props.download,\n    'data-ping': props.ping,\n    'data-referrer-policy': props.referrerPolicy\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nfunction testUserAgent(re: RegExp) {\n  if (typeof window === 'undefined' || window.navigator == null) {\n    return false;\n  }\n  return (\n    window.navigator['userAgentData']?.brands.some((brand: {brand: string, version: string}) => re.test(brand.brand))\n  ) ||\n  re.test(window.navigator.userAgent);\n}\n\nfunction testPlatform(re: RegExp) {\n  return typeof window !== 'undefined' && window.navigator != null\n    ? re.test(window.navigator['userAgentData']?.platform || window.navigator.platform)\n    : false;\n}\n\nexport function isMac() {\n  return testPlatform(/^Mac/i);\n}\n\nexport function isIPhone() {\n  return testPlatform(/^iPhone/i);\n}\n\nexport function isIPad() {\n  return testPlatform(/^iPad/i) ||\n    // iPadOS 13 lies and says it's a Mac, but we can distinguish by detecting touch support.\n    (isMac() && navigator.maxTouchPoints > 1);\n}\n\nexport function isIOS() {\n  return isIPhone() || isIPad();\n}\n\nexport function isAppleDevice() {\n  return isMac() || isIOS();\n}\n\nexport function isWebKit() {\n  return testUserAgent(/AppleWebKit/i) && !isChrome();\n}\n\nexport function isChrome() {\n  return testUserAgent(/Chrome/i);\n}\n\nexport function isAndroid() {\n  return testUserAgent(/Android/i);\n}\n\nexport function isFirefox() {\n  return testUserAgent(/Firefox/i);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// We store a global list of elements that are currently transitioning,\n// mapped to a set of CSS properties that are transitioning for that element.\n// This is necessary rather than a simple count of transitions because of browser\n// bugs, e.g. Chrome sometimes fires both transitionend and transitioncancel rather\n// than one or the other. So we need to track what's actually transitioning so that\n// we can ignore these duplicate events.\nlet transitionsByElement = new Map<EventTarget, Set<string>>();\n\n// A list of callbacks to call once there are no transitioning elements.\nlet transitionCallbacks = new Set<() => void>();\n\nfunction setupGlobalEvents() {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  let onTransitionStart = (e: TransitionEvent) => {\n    // Add the transitioning property to the list for this element.\n    let transitions = transitionsByElement.get(e.target);\n    if (!transitions) {\n      transitions = new Set();\n      transitionsByElement.set(e.target, transitions);\n\n      // The transitioncancel event must be registered on the element itself, rather than as a global\n      // event. This enables us to handle when the node is deleted from the document while it is transitioning.\n      // In that case, the cancel event would have nowhere to bubble to so we need to handle it directly.\n      e.target.addEventListener('transitioncancel', onTransitionEnd);\n    }\n\n    transitions.add(e.propertyName);\n  };\n\n  let onTransitionEnd = (e: TransitionEvent) => {\n    // Remove property from list of transitioning properties.\n    let properties = transitionsByElement.get(e.target);\n    if (!properties) {\n      return;\n    }\n\n    properties.delete(e.propertyName);\n\n    // If empty, remove transitioncancel event, and remove the element from the list of transitioning elements.\n    if (properties.size === 0) {\n      e.target.removeEventListener('transitioncancel', onTransitionEnd);\n      transitionsByElement.delete(e.target);\n    }\n\n    // If no transitioning elements, call all of the queued callbacks.\n    if (transitionsByElement.size === 0) {\n      for (let cb of transitionCallbacks) {\n        cb();\n      }\n\n      transitionCallbacks.clear();\n    }\n  };\n\n  document.body.addEventListener('transitionrun', onTransitionStart);\n  document.body.addEventListener('transitionend', onTransitionEnd);\n}\n\nif (typeof document !== 'undefined') {\n  if (document.readyState !== 'loading') {\n    setupGlobalEvents();\n  } else {\n    document.addEventListener('DOMContentLoaded', setupGlobalEvents);\n  }\n}\n\nexport function runAfterTransition(fn: () => void) {\n  // Wait one frame to see if an animation starts, e.g. a transition on mount.\n  requestAnimationFrame(() => {\n    // If no transitions are running, call the function immediately.\n    // Otherwise, add it to a list of callbacks to run at the end of the animation.\n    if (transitionsByElement.size === 0) {\n      fn();\n    } else {\n      transitionCallbacks.add(fn);\n    }\n  });\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n /* eslint-disable rulesdir/pure-render */\n\nimport {getOffset} from './getOffset';\nimport {Orientation} from '@react-types/shared';\nimport React, {HTMLAttributes, MutableRefObject, useRef} from 'react';\n\ninterface UseDrag1DProps {\n  containerRef: MutableRefObject<HTMLElement>,\n  reverse?: boolean,\n  orientation?: Orientation,\n  onHover?: (hovered: boolean) => void,\n  onDrag?: (dragging: boolean) => void,\n  onPositionChange?: (position: number) => void,\n  onIncrement?: () => void,\n  onDecrement?: () => void,\n  onIncrementToMax?: () => void,\n  onDecrementToMin?: () => void,\n  onCollapseToggle?: () => void\n}\n\n// Keep track of elements that we are currently handling dragging for via useDrag1D.\n// If there's an ancestor and a descendant both using useDrag1D(), and the user starts\n// dragging the descendant, we don't want useDrag1D events to fire for the ancestor.\nconst draggingElements: HTMLElement[] = [];\n\n// created for splitview, this should be reusable for things like sliders/dials\n// It also handles keyboard events on the target allowing for increment/decrement by a given stepsize as well as minifying/maximizing and toggling between minified and previous size\n// It can also take a 'reverse' param to say if we should measure from the right/bottom instead of the top/left\n// It can also handle either a vertical or horizontal movement, but not both at the same time\n\nexport function useDrag1D(props: UseDrag1DProps): HTMLAttributes<HTMLElement> {\n  console.warn('useDrag1D is deprecated, please use `useMove` instead https://react-spectrum.adobe.com/react-aria/useMove.html');\n  let {containerRef, reverse, orientation, onHover, onDrag, onPositionChange, onIncrement, onDecrement, onIncrementToMax, onDecrementToMin, onCollapseToggle} = props;\n  let getPosition = (e) => orientation === 'horizontal' ? e.clientX : e.clientY;\n  let getNextOffset = (e: MouseEvent) => {\n    let containerOffset = getOffset(containerRef.current, reverse, orientation);\n    let mouseOffset = getPosition(e);\n    let nextOffset = reverse ? containerOffset - mouseOffset : mouseOffset - containerOffset;\n    return nextOffset;\n  };\n  let dragging = useRef(false);\n  let prevPosition = useRef(0);\n\n  // Keep track of the current handlers in a ref so that the events can access them.\n  let handlers = useRef({onPositionChange, onDrag});\n  handlers.current.onDrag = onDrag;\n  handlers.current.onPositionChange = onPositionChange;\n\n  let onMouseDragged = (e: MouseEvent) => {\n    e.preventDefault();\n    let nextOffset = getNextOffset(e);\n    if (!dragging.current) {\n      dragging.current = true;\n      if (handlers.current.onDrag) {\n        handlers.current.onDrag(true);\n      }\n      if (handlers.current.onPositionChange) {\n        handlers.current.onPositionChange(nextOffset);\n      }\n    }\n    if (prevPosition.current === nextOffset) {\n      return;\n    }\n    prevPosition.current = nextOffset;\n    if (onPositionChange) {\n      onPositionChange(nextOffset);\n    }\n  };\n\n  let onMouseUp = (e: MouseEvent) => {\n    const target = e.target as HTMLElement;\n    dragging.current = false;\n    let nextOffset = getNextOffset(e);\n    if (handlers.current.onDrag) {\n      handlers.current.onDrag(false);\n    }\n    if (handlers.current.onPositionChange) {\n      handlers.current.onPositionChange(nextOffset);\n    }\n\n    draggingElements.splice(draggingElements.indexOf(target), 1);\n    window.removeEventListener('mouseup', onMouseUp, false);\n    window.removeEventListener('mousemove', onMouseDragged, false);\n  };\n\n  let onMouseDown = (e: React.MouseEvent<HTMLElement>) => {\n    const target = e.currentTarget;\n    // If we're already handling dragging on a descendant with useDrag1D, then\n    // we don't want to handle the drag motion on this target as well.\n    if (draggingElements.some(elt => target.contains(elt))) {\n      return;\n    }\n    draggingElements.push(target);\n    window.addEventListener('mousemove', onMouseDragged, false);\n    window.addEventListener('mouseup', onMouseUp, false);\n  };\n\n  let onMouseEnter = () => {\n    if (onHover) {\n      onHover(true);\n    }\n  };\n\n  let onMouseOut = () => {\n    if (onHover) {\n      onHover(false);\n    }\n  };\n\n  let onKeyDown = (e) => {\n    switch (e.key) {\n      case 'Left':\n      case 'ArrowLeft':\n        if (orientation === 'horizontal') {\n          e.preventDefault();\n          if (onDecrement && !reverse) {\n            onDecrement();\n          } else if (onIncrement && reverse) {\n            onIncrement();\n          }\n        }\n        break;\n      case 'Up':\n      case 'ArrowUp':\n        if (orientation === 'vertical') {\n          e.preventDefault();\n          if (onDecrement && !reverse) {\n            onDecrement();\n          } else if (onIncrement && reverse) {\n            onIncrement();\n          }\n        }\n        break;\n      case 'Right':\n      case 'ArrowRight':\n        if (orientation === 'horizontal') {\n          e.preventDefault();\n          if (onIncrement && !reverse) {\n            onIncrement();\n          } else if (onDecrement && reverse) {\n            onDecrement();\n          }\n        }\n        break;\n      case 'Down':\n      case 'ArrowDown':\n        if (orientation === 'vertical') {\n          e.preventDefault();\n          if (onIncrement && !reverse) {\n            onIncrement();\n          } else if (onDecrement && reverse) {\n            onDecrement();\n          }\n        }\n        break;\n      case 'Home':\n        e.preventDefault();\n        if (onDecrementToMin) {\n          onDecrementToMin();\n        }\n        break;\n      case 'End':\n        e.preventDefault();\n        if (onIncrementToMax) {\n          onIncrementToMax();\n        }\n        break;\n      case 'Enter':\n        e.preventDefault();\n        if (onCollapseToggle) {\n          onCollapseToggle();\n        }\n        break;\n    }\n  };\n\n  return {onMouseDown, onMouseEnter, onMouseOut, onKeyDown};\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useCallback, useEffect, useRef} from 'react';\n\ninterface GlobalListeners {\n  addGlobalListener<K extends keyof DocumentEventMap>(el: EventTarget, type: K, listener: (this: Document, ev: DocumentEventMap[K]) => any, options?: boolean | AddEventListenerOptions): void,\n  addGlobalListener(el: EventTarget, type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions): void,\n  removeGlobalListener<K extends keyof DocumentEventMap>(el: EventTarget, type: K, listener: (this: Document, ev: DocumentEventMap[K]) => any, options?: boolean | EventListenerOptions): void,\n  removeGlobalListener(el: EventTarget, type: string, listener: EventListenerOrEventListenerObject, options?: boolean | EventListenerOptions): void,\n  removeAllGlobalListeners(): void\n}\n\nexport function useGlobalListeners(): GlobalListeners {\n  let globalListeners = useRef(new Map());\n  let addGlobalListener = useCallback((eventTarget, type, listener, options) => {\n    // Make sure we remove the listener after it is called with the `once` option.\n    let fn = options?.once ? (...args) => {\n      globalListeners.current.delete(listener);\n      listener(...args);\n    } : listener;\n    globalListeners.current.set(listener, {type, eventTarget, fn, options});\n    eventTarget.addEventListener(type, listener, options);\n  }, []);\n  let removeGlobalListener = useCallback((eventTarget, type, listener, options) => {\n    let fn = globalListeners.current.get(listener)?.fn || listener;\n    eventTarget.removeEventListener(type, fn, options);\n    globalListeners.current.delete(listener);\n  }, []);\n  let removeAllGlobalListeners = useCallback(() => {\n    globalListeners.current.forEach((value, key) => {\n      removeGlobalListener(value.eventTarget, value.type, key, value.options);\n    });\n  }, [removeGlobalListener]);\n\n  // eslint-disable-next-line arrow-body-style\n  useEffect(() => {\n    return removeAllGlobalListeners;\n  }, [removeAllGlobalListeners]);\n\n  return {addGlobalListener, removeGlobalListener, removeAllGlobalListeners};\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaLabelingProps, DOMProps} from '@react-types/shared';\nimport {useId} from './useId';\n\n/**\n * Merges aria-label and aria-labelledby into aria-labelledby when both exist.\n * @param props - Aria label props.\n * @param defaultLabel - Default value for aria-label when not present.\n */\nexport function useLabels(props: DOMProps & AriaLabelingProps, defaultLabel?: string): DOMProps & AriaLabelingProps {\n  let {\n    id,\n    'aria-label': label,\n    'aria-labelledby': labelledBy\n  } = props;\n\n  // If there is both an aria-label and aria-labelledby,\n  // combine them by pointing to the element itself.\n  id = useId(id);\n  if (labelledBy && label) {\n    let ids = new Set([id, ...labelledBy.trim().split(/\\s+/)]);\n    labelledBy = [...ids].join(' ');\n  } else if (labelledBy) {\n    labelledBy = labelledBy.trim().split(/\\s+/).join(' ');\n  }\n\n  // If no labels are provided, use the default\n  if (!label && !labelledBy && defaultLabel) {\n    label = defaultLabel;\n  }\n\n  return {\n    id,\n    'aria-label': label,\n    'aria-labelledby': labelledBy\n  };\n}\n", "/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {MutableRefObject, useMemo, useRef} from 'react';\n\n/**\n * Offers an object ref for a given callback ref or an object ref. Especially\n * helfpul when passing forwarded refs (created using `React.forwardRef`) to\n * React Aria Hooks.\n *\n * @param forwardedRef The original ref intended to be used.\n * @returns An object ref that updates the given ref.\n * @see https://reactjs.org/docs/forwarding-refs.html\n */\nexport function useObjectRef<T>(forwardedRef?: ((instance: T | null) => void) | MutableRefObject<T | null> | null): MutableRefObject<T> {\n  const objRef = useRef<T>();\n  return useMemo(() => ({\n    get current() {\n      return objRef.current;\n    },\n    set current(value) {\n      objRef.current = value;\n      if (typeof forwardedRef === 'function') {\n        forwardedRef(value);\n      } else if (forwardedRef) {\n        forwardedRef.current = value;\n      }\n    }\n  }), [forwardedRef]);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {EffectCallback, useEffect, useRef} from 'react';\n\n// Like useEffect, but only called for updates after the initial render.\nexport function useUpdateEffect(effect: EffectCallback, dependencies: any[]) {\n  const isInitialMount = useRef(true);\n  const lastDeps = useRef<any[] | null>(null);\n\n  useEffect(() => {\n    isInitialMount.current = true;\n    return () => {\n      isInitialMount.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n    } else if (!lastDeps.current || dependencies.some((dep, i) => !Object.is(dep, lastDeps[i]))) {\n      effect();\n    }\n    lastDeps.current = dependencies;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, dependencies);\n}\n", "import {RefObject, useEffect} from 'react';\n\nfunction hasResizeObserver() {\n  return typeof window.ResizeObserver !== 'undefined';\n}\n\ntype useResizeObserverOptionsType<T> = {\n  ref: RefObject<T | undefined> | undefined,\n  onResize: () => void\n}\n\nexport function useResizeObserver<T extends Element>(options: useResizeObserverOptionsType<T>) {\n  const {ref, onResize} = options;\n\n  useEffect(() => {\n    let element = ref?.current;\n    if (!element) {\n      return;\n    }\n\n    if (!hasResizeObserver()) {\n      window.addEventListener('resize', onResize, false);\n      return () => {\n        window.removeEventListener('resize', onResize, false);\n      };\n    } else {\n\n      const resizeObserverInstance = new window.ResizeObserver((entries) => {\n        if (!entries.length) {\n          return;\n        }\n\n        onResize();\n      });\n      resizeObserverInstance.observe(element);\n\n      return () => {\n        if (element) {\n          resizeObserverInstance.unobserve(element);\n        }\n      };\n    }\n\n  }, [onResize, ref]);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {MutableRefObject, RefObject} from 'react';\nimport {useLayoutEffect} from './';\n\ninterface ContextValue<T> {\n  ref?: MutableRefObject<T>\n}\n\n// Syncs ref from context with ref passed to hook\nexport function useSyncRef<T>(context?: ContextValue<T> | null, ref?: RefObject<T>) {\n  useLayoutEffect(() => {\n    if (context && context.ref && ref) {\n      context.ref.current = ref.current;\n      return () => {\n        context.ref.current = null;\n      };\n    }\n  });\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport function getScrollParent(node: Element): Element {\n  if (isScrollable(node)) {\n    node = node.parentElement;\n  }\n\n  while (node && !isScrollable(node)) {\n    node = node.parentElement;\n  }\n\n  return node || document.scrollingElement || document.documentElement;\n}\n\nexport function isScrollable(node: Element): boolean {\n  let style = window.getComputedStyle(node);\n  return /(auto|scroll)/.test(style.overflow + style.overflowX + style.overflowY);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useEffect, useState} from 'react';\nimport {useIsSSR} from '@react-aria/ssr';\n\ninterface ViewportSize {\n  width: number,\n  height: number\n}\n\n// @ts-ignore\nlet visualViewport = typeof document !== 'undefined' && window.visualViewport;\n\nexport function useViewportSize(): ViewportSize {\n  let isSSR = useIsSSR();\n  let [size, setSize] = useState(() => isSSR ? {width: 0, height: 0} : getViewportSize());\n\n  useEffect(() => {\n    // Use visualViewport api to track available height even on iOS virtual keyboard opening\n    let onResize = () => {\n      setSize(size => {\n        let newSize = getViewportSize();\n        if (newSize.width === size.width && newSize.height === size.height) {\n          return size;\n        }\n        return newSize;\n      });\n    };\n\n    if (!visualViewport) {\n      window.addEventListener('resize', onResize);\n    } else {\n      visualViewport.addEventListener('resize', onResize);\n    }\n\n    return () => {\n      if (!visualViewport) {\n        window.removeEventListener('resize', onResize);\n      } else {\n        visualViewport.removeEventListener('resize', onResize);\n      }\n    };\n  }, []);\n\n  return size;\n}\n\nfunction getViewportSize(): ViewportSize {\n  return {\n    width: visualViewport?.width || window.innerWidth,\n    height: visualViewport?.height || window.innerHeight\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaLabelingProps} from '@react-types/shared';\nimport {useLayoutEffect} from './useLayoutEffect';\nimport {useState} from 'react';\n\nlet descriptionId = 0;\nconst descriptionNodes = new Map<string, {refCount: number, element: Element}>();\n\nexport function useDescription(description?: string): AriaLabelingProps {\n  let [id, setId] = useState(undefined);\n\n  useLayoutEffect(() => {\n    if (!description) {\n      return;\n    }\n\n    let desc = descriptionNodes.get(description);\n    if (!desc) {\n      let id = `react-aria-description-${descriptionId++}`;\n      setId(id);\n\n      let node = document.createElement('div');\n      node.id = id;\n      node.style.display = 'none';\n      node.textContent = description;\n      document.body.appendChild(node);\n      desc = {refCount: 0, element: node};\n      descriptionNodes.set(description, desc);\n    } else {\n      setId(desc.element.id);\n    }\n\n    desc.refCount++;\n    return () => {\n      if (--desc.refCount === 0) {\n        desc.element.remove();\n        descriptionNodes.delete(description);\n      }\n    };\n  }, [description]);\n\n  return {\n    'aria-describedby': description ? id : undefined\n  };\n}\n", "/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {RefObject, useEffect} from 'react';\nimport {useEffectEvent} from './useEffectEvent';\n\nexport function useEvent<K extends keyof GlobalEventHandlersEventMap>(\n  ref: RefObject<EventTarget>,\n  event: K,\n  handler?: (this: Document, ev: GlobalEventHandlersEventMap[K]) => any,\n  options?: boolean | AddEventListenerOptions\n) {\n  let handleEvent = useEffectEvent(handler);\n  let isDisabled = handler == null;\n\n  useEffect(() => {\n    if (isDisabled) {\n      return;\n    }\n\n    let element = ref.current;\n    element.addEventListener(event, handleEvent, options);\n    return () => {\n      element.removeEventListener(event, handleEvent, options);\n    };\n  }, [ref, event, options, isDisabled, handleEvent]);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {getScrollParent} from './';\n\ninterface ScrollIntoViewportOpts {\n  /** The optional containing element of the target to be centered in the viewport. */\n  containingElement?: Element\n}\n\n/**\n * Scrolls `scrollView` so that `element` is visible.\n * Similar to `element.scrollIntoView({block: 'nearest'})` (not supported in Edge),\n * but doesn't affect parents above `scrollView`.\n */\nexport function scrollIntoView(scrollView: HTMLElement, element: HTMLElement) {\n  let offsetX = relativeOffset(scrollView, element, 'left');\n  let offsetY = relativeOffset(scrollView, element, 'top');\n  let width = element.offsetWidth;\n  let height = element.offsetHeight;\n  let x = scrollView.scrollLeft;\n  let y = scrollView.scrollTop;\n\n  // Account for top/left border offsetting the scroll top/Left\n  let {borderTopWidth, borderLeftWidth} = getComputedStyle(scrollView);\n  let borderAdjustedX = scrollView.scrollLeft + parseInt(borderLeftWidth, 10);\n  let borderAdjustedY = scrollView.scrollTop + parseInt(borderTopWidth, 10);\n  // Ignore end/bottom border via clientHeight/Width instead of offsetHeight/Width\n  let maxX = borderAdjustedX + scrollView.clientWidth;\n  let maxY = borderAdjustedY + scrollView.clientHeight;\n\n  if (offsetX <= x) {\n    x = offsetX - parseInt(borderLeftWidth, 10);\n  } else if (offsetX + width > maxX) {\n    x += offsetX + width - maxX;\n  }\n  if (offsetY <= borderAdjustedY) {\n    y = offsetY - parseInt(borderTopWidth, 10);\n  } else if (offsetY + height > maxY) {\n    y += offsetY + height - maxY;\n  }\n  scrollView.scrollLeft = x;\n  scrollView.scrollTop = y;\n}\n\n/**\n * Computes the offset left or top from child to ancestor by accumulating\n * offsetLeft or offsetTop through intervening offsetParents.\n */\nfunction relativeOffset(ancestor: HTMLElement, child: HTMLElement, axis: 'left'|'top') {\n  const prop = axis === 'left' ? 'offsetLeft' : 'offsetTop';\n  let sum = 0;\n  while (child.offsetParent) {\n    sum += child[prop];\n    if (child.offsetParent === ancestor) {\n      // Stop once we have found the ancestor we are interested in.\n      break;\n    } else if (child.offsetParent.contains(ancestor)) {\n      // If the ancestor is not `position:relative`, then we stop at\n      // _its_ offset parent, and we subtract off _its_ offset, so that\n      // we end up with the proper offset from child to ancestor.\n      sum -= ancestor[prop];\n      break;\n    }\n    child = child.offsetParent as HTMLElement;\n  }\n  return sum;\n}\n\n/**\n * Scrolls the `targetElement` so it is visible in the viewport. Accepts an optional `opts.containingElement`\n * that will be centered in the viewport prior to scrolling the targetElement into view. If scrolling is prevented on\n * the body (e.g. targetElement is in a popover), this will only scroll the scroll parents of the targetElement up to but not including the body itself.\n */\nexport function scrollIntoViewport(targetElement: Element, opts?: ScrollIntoViewportOpts) {\n  if (document.contains(targetElement)) {\n    let root = document.scrollingElement || document.documentElement;\n    let isScrollPrevented = window.getComputedStyle(root).overflow === 'hidden';\n    // If scrolling is not currently prevented then we aren’t in a overlay nor is a overlay open, just use element.scrollIntoView to bring the element into view\n    if (!isScrollPrevented) {\n      let {left: originalLeft, top: originalTop} = targetElement.getBoundingClientRect();\n\n      // use scrollIntoView({block: 'nearest'}) instead of .focus to check if the element is fully in view or not since .focus()\n      // won't cause a scroll if the element is already focused and doesn't behave consistently when an element is partially out of view horizontally vs vertically\n      targetElement?.scrollIntoView?.({block: 'nearest'});\n      let {left: newLeft, top: newTop} = targetElement.getBoundingClientRect();\n      // Account for sub pixel differences from rounding\n      if ((Math.abs(originalLeft - newLeft) > 1) || (Math.abs(originalTop - newTop) > 1)) {\n        opts?.containingElement?.scrollIntoView?.({block: 'center', inline: 'center'});\n        targetElement.scrollIntoView?.({block: 'nearest'});\n      }\n    } else {\n      let scrollParent = getScrollParent(targetElement);\n      // If scrolling is prevented, we don't want to scroll the body since it might move the overlay partially offscreen and the user can't scroll it back into view.\n      while (targetElement && scrollParent && targetElement !== root && scrollParent !== root) {\n        scrollIntoView(scrollParent as HTMLElement, targetElement as HTMLElement);\n        targetElement = scrollParent;\n        scrollParent = getScrollParent(targetElement);\n      }\n    }\n  }\n}\n", "/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {isAndroid} from './platform';\n\n// Original licensing for the following method can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/blob/3c713d513195a53788b3f8bb4b70279d68b15bcc/packages/react-interactions/events/src/dom/shared/index.js#L74-L87\n\n// Keyboards, Assistive Technologies, and element.click() all produce a \"virtual\"\n// click event. This is a method of inferring such clicks. Every browser except\n// IE 11 only sets a zero value of \"detail\" for click events that are \"virtual\".\n// However, IE 11 uses a zero value for all click events. For IE 11 we rely on\n// the quirk that it produces click events that are of type PointerEvent, and\n// where only the \"virtual\" click lacks a pointerType field.\n\nexport function isVirtualClick(event: MouseEvent | PointerEvent): boolean {\n  // JAWS/NVDA with Firefox.\n  if ((event as any).mozInputSource === 0 && event.isTrusted) {\n    return true;\n  }\n\n  // Android TalkBack's detail value varies depending on the event listener providing the event so we have specific logic here instead\n  // If pointerType is defined, event is from a click listener. For events from mousedown listener, detail === 0 is a sufficient check\n  // to detect TalkBack virtual clicks.\n  if (isAndroid() && (event as PointerEvent).pointerType) {\n    return event.type === 'click' && event.buttons === 1;\n  }\n\n  return event.detail === 0 && !(event as PointerEvent).pointerType;\n}\n\nexport function isVirtualPointerEvent(event: PointerEvent) {\n  // If the pointer size is zero, then we assume it's from a screen reader.\n  // Android TalkBack double tap will sometimes return a event with width and height of 1\n  // and pointerType === 'mouse' so we need to check for a specific combination of event attributes.\n  // Cannot use \"event.pressure === 0\" as the sole check due to Safari pointer events always returning pressure === 0\n  // instead of .5, see https://bugs.webkit.org/show_bug.cgi?id=206216. event.pointerType === 'mouse' is to distingush\n  // Talkback double tap from Windows Firefox touch screen press\n  return (\n    (!isAndroid() && event.width === 0 && event.height === 0) ||\n    (event.width === 1 &&\n      event.height === 1 &&\n      event.pressure === 0 &&\n      event.detail === 0 &&\n      event.pointerType === 'mouse'\n    )\n  );\n}\n", "/*\n * Copyright 2023 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n/* eslint-disable rulesdir/pure-render */\n\nimport {useRef} from 'react';\n\nexport function useDeepMemo<T>(value: T, isEqual: (a: T, b: T) => boolean): T {\n  // Using a ref during render is ok here because it's only an optimization – both values are equivalent.\n  // If a render is thrown away, it'll still work the same no matter if the next render is the same or not.\n  let lastValue = useRef(null);\n  if (value && lastValue.current && isEqual(value, lastValue.current)) {\n    value = lastValue.current;\n  }\n\n  lastValue.current = value;\n  return value;\n}\n", "/*\n * Copyright 2023 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nimport {RefObject, useEffect, useRef} from 'react';\nimport {useEffectEvent} from './useEffectEvent';\n\nexport function useFormReset<T>(\n  ref: RefObject<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>,\n  initialValue: T,\n  onReset: (value: T) => void\n) {\n  let resetValue = useRef(initialValue);\n  let handleReset = useEffectEvent(() => {\n    if (onReset) {\n      onReset(resetValue.current);\n    }\n  });\n\n  useEffect(() => {\n    let form = ref?.current?.form;\n    form?.addEventListener('reset', handleReset);\n    return () => {\n      form?.removeEventListener('reset', handleReset);\n    };\n  }, [ref, handleReset]);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport {Pressable} from './Pressable';\nexport {PressResponder, ClearPressResponder} from './PressResponder';\nexport {useFocus} from './useFocus';\nexport {\n  isFocusVisible,\n  getInteractionModality,\n  setInteractionModality,\n  useInteractionModality,\n  useFocusVisible,\n  useFocusVisibleListener\n} from './useFocusVisible';\nexport {useFocusWithin} from './useFocusWithin';\nexport {useHover} from './useHover';\nexport {useInteractOutside} from './useInteractOutside';\nexport {useKeyboard} from './useKeyboard';\nexport {useMove} from './useMove';\nexport {usePress} from './usePress';\nexport {useScrollWheel} from './useScrollWheel';\nexport {useLongPress} from './useLongPress';\n\nexport type {FocusProps, FocusResult} from './useFocus';\nexport type {FocusVisibleHandler, FocusVisibleProps, FocusVisibleResult, Modality} from './useFocusVisible';\nexport type {FocusWithinProps, FocusWithinResult} from './useFocusWithin';\nexport type {HoverProps, HoverResult} from './useHover';\nexport type {InteractOutsideProps} from './useInteractOutside';\nexport type {KeyboardProps, KeyboardResult} from './useKeyboard';\nexport type {PressProps, PressHookProps, PressResult} from './usePress';\nexport type {PressEvent, PressEvents, MoveStartEvent, MoveMoveEvent, MoveEndEvent, MoveEvents, HoverEvent, HoverEvents, FocusEvents, KeyboardEvents} from '@react-types/shared';\nexport type {MoveResult} from './useMove';\nexport type {LongPressProps, LongPressResult} from './useLongPress';\nexport type {ScrollWheelProps} from './useScrollWheel';\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {DOMAttributes} from '@react-types/shared';\nimport {mergeProps, useObjectRef} from '@react-aria/utils';\nimport {PressProps, usePress} from './usePress';\nimport React, {ForwardedRef, ReactElement} from 'react';\n\ninterface PressableProps extends PressProps {\n  children: ReactElement<DOMAttributes, string>\n}\n\nexport const Pressable = React.forwardRef(({children, ...props}: PressableProps, ref: ForwardedRef<HTMLElement>) => {\n  ref = useObjectRef(ref);\n  let {pressProps} = usePress({...props, ref});\n  let child = React.Children.only(children);\n  return React.cloneElement(\n    child,\n    // @ts-ignore\n    {ref, ...mergeProps(child.props, pressProps)}\n  );\n});\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {disableTextSelection, restoreTextSelection} from './textSelection';\nimport {DOMAttributes, FocusableElement, PressEvent as IPressEvent, PointerType, PressEvents} from '@react-types/shared';\nimport {focusWithoutScrolling, getOwnerDocument, getOwnerWindow, isMac, isVirtualClick, isVirtualPointerEvent, mergeProps, openLink, useEffectEvent, useGlobalListeners, useSyncRef} from '@react-aria/utils';\nimport {PressResponderContext} from './context';\nimport {RefObject, useContext, useEffect, useMemo, useRef, useState} from 'react';\n\nexport interface PressProps extends PressEvents {\n  /** Whether the target is in a controlled press state (e.g. an overlay it triggers is open). */\n  isPressed?: boolean,\n  /** Whether the press events should be disabled. */\n  isDisabled?: boolean,\n  /** Whether the target should not receive focus on press. */\n  preventFocusOnPress?: boolean,\n  /**\n   * Whether press events should be canceled when the pointer leaves the target while pressed.\n   * By default, this is `false`, which means if the pointer returns back over the target while\n   * still pressed, onPressStart will be fired again. If set to `true`, the press is canceled\n   * when the pointer leaves the target and onPressStart will not be fired if the pointer returns.\n   */\n  shouldCancelOnPointerExit?: boolean,\n  /** Whether text selection should be enabled on the pressable element. */\n  allowTextSelectionOnPress?: boolean\n}\n\nexport interface PressHookProps extends PressProps {\n  /** A ref to the target element. */\n  ref?: RefObject<Element>\n}\n\ninterface PressState {\n  isPressed: boolean,\n  ignoreEmulatedMouseEvents: boolean,\n  ignoreClickAfterPress: boolean,\n  didFirePressStart: boolean,\n  isTriggeringEvent: boolean,\n  activePointerId: any,\n  target: FocusableElement | null,\n  isOverTarget: boolean,\n  pointerType: PointerType | null,\n  userSelect?: string,\n  metaKeyEvents?: Map<string, KeyboardEvent>\n}\n\ninterface EventBase {\n  currentTarget: EventTarget | null,\n  shiftKey: boolean,\n  ctrlKey: boolean,\n  metaKey: boolean,\n  altKey: boolean\n}\n\nexport interface PressResult {\n  /** Whether the target is currently pressed. */\n  isPressed: boolean,\n  /** Props to spread on the target element. */\n  pressProps: DOMAttributes\n}\n\nfunction usePressResponderContext(props: PressHookProps): PressHookProps {\n  // Consume context from <PressResponder> and merge with props.\n  let context = useContext(PressResponderContext);\n  if (context) {\n    let {register, ...contextProps} = context;\n    props = mergeProps(contextProps, props) as PressHookProps;\n    register();\n  }\n  useSyncRef(context, props.ref);\n\n  return props;\n}\n\nclass PressEvent implements IPressEvent {\n  type: IPressEvent['type'];\n  pointerType: PointerType;\n  target: Element;\n  shiftKey: boolean;\n  ctrlKey: boolean;\n  metaKey: boolean;\n  altKey: boolean;\n  #shouldStopPropagation = true;\n\n  constructor(type: IPressEvent['type'], pointerType: PointerType, originalEvent: EventBase) {\n    this.type = type;\n    this.pointerType = pointerType;\n    this.target = originalEvent.currentTarget as Element;\n    this.shiftKey = originalEvent.shiftKey;\n    this.metaKey = originalEvent.metaKey;\n    this.ctrlKey = originalEvent.ctrlKey;\n    this.altKey = originalEvent.altKey;\n  }\n\n  continuePropagation() {\n    this.#shouldStopPropagation = false;\n  }\n\n  get shouldStopPropagation() {\n    return this.#shouldStopPropagation;\n  }\n}\n\nconst LINK_CLICKED = Symbol('linkClicked');\n\n/**\n * Handles press interactions across mouse, touch, keyboard, and screen readers.\n * It normalizes behavior across browsers and platforms, and handles many nuances\n * of dealing with pointer and keyboard events.\n */\nexport function usePress(props: PressHookProps): PressResult {\n  let {\n    onPress,\n    onPressChange,\n    onPressStart,\n    onPressEnd,\n    onPressUp,\n    isDisabled,\n    isPressed: isPressedProp,\n    preventFocusOnPress,\n    shouldCancelOnPointerExit,\n    allowTextSelectionOnPress,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ref: _, // Removing `ref` from `domProps` because TypeScript is dumb\n    ...domProps\n  } = usePressResponderContext(props);\n\n  let [isPressed, setPressed] = useState(false);\n  let ref = useRef<PressState>({\n    isPressed: false,\n    ignoreEmulatedMouseEvents: false,\n    ignoreClickAfterPress: false,\n    didFirePressStart: false,\n    isTriggeringEvent: false,\n    activePointerId: null,\n    target: null,\n    isOverTarget: false,\n    pointerType: null\n  });\n\n  let {addGlobalListener, removeAllGlobalListeners} = useGlobalListeners();\n\n  let triggerPressStart = useEffectEvent((originalEvent: EventBase, pointerType: PointerType) => {\n    let state = ref.current;\n    if (isDisabled || state.didFirePressStart) {\n      return false;\n    }\n\n    let shouldStopPropagation = true;\n    state.isTriggeringEvent = true;\n    if (onPressStart) {\n      let event = new PressEvent('pressstart', pointerType, originalEvent);\n      onPressStart(event);\n      shouldStopPropagation = event.shouldStopPropagation;\n    }\n\n    if (onPressChange) {\n      onPressChange(true);\n    }\n\n    state.isTriggeringEvent = false;\n    state.didFirePressStart = true;\n    setPressed(true);\n    return shouldStopPropagation;\n  });\n\n  let triggerPressEnd = useEffectEvent((originalEvent: EventBase, pointerType: PointerType, wasPressed = true) => {\n    let state = ref.current;\n    if (!state.didFirePressStart) {\n      return false;\n    }\n\n    state.ignoreClickAfterPress = true;\n    state.didFirePressStart = false;\n    state.isTriggeringEvent = true;\n\n    let shouldStopPropagation = true;\n    if (onPressEnd) {\n      let event = new PressEvent('pressend', pointerType, originalEvent);\n      onPressEnd(event);\n      shouldStopPropagation = event.shouldStopPropagation;\n    }\n\n    if (onPressChange) {\n      onPressChange(false);\n    }\n\n    setPressed(false);\n\n    if (onPress && wasPressed && !isDisabled) {\n      let event = new PressEvent('press', pointerType, originalEvent);\n      onPress(event);\n      shouldStopPropagation &&= event.shouldStopPropagation;\n    }\n\n    state.isTriggeringEvent = false;\n    return shouldStopPropagation;\n  });\n\n  let triggerPressUp = useEffectEvent((originalEvent: EventBase, pointerType: PointerType) => {\n    let state = ref.current;\n    if (isDisabled) {\n      return false;\n    }\n\n    if (onPressUp) {\n      state.isTriggeringEvent = true;\n      let event = new PressEvent('pressup', pointerType, originalEvent);\n      onPressUp(event);\n      state.isTriggeringEvent = false;\n      return event.shouldStopPropagation;\n    }\n\n    return true;\n  });\n\n  let cancel = useEffectEvent((e: EventBase) => {\n    let state = ref.current;\n    if (state.isPressed && state.target) {\n      if (state.isOverTarget && state.pointerType != null) {\n        triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n      }\n      state.isPressed = false;\n      state.isOverTarget = false;\n      state.activePointerId = null;\n      state.pointerType = null;\n      removeAllGlobalListeners();\n      if (!allowTextSelectionOnPress) {\n        restoreTextSelection(state.target);\n      }\n    }\n  });\n\n  let cancelOnPointerExit = useEffectEvent((e: EventBase) => {\n    if (shouldCancelOnPointerExit) {\n      cancel(e);\n    }\n  });\n\n  let pressProps = useMemo(() => {\n    let state = ref.current;\n    let pressProps: DOMAttributes = {\n      onKeyDown(e) {\n        if (isValidKeyboardEvent(e.nativeEvent, e.currentTarget) && e.currentTarget.contains(e.target as Element)) {\n          if (shouldPreventDefaultKeyboard(e.target as Element, e.key)) {\n            e.preventDefault();\n          }\n\n          // If the event is repeating, it may have started on a different element\n          // after which focus moved to the current element. Ignore these events and\n          // only handle the first key down event.\n          let shouldStopPropagation = true;\n          if (!state.isPressed && !e.repeat) {\n            state.target = e.currentTarget;\n            state.isPressed = true;\n            shouldStopPropagation = triggerPressStart(e, 'keyboard');\n\n            // Focus may move before the key up event, so register the event on the document\n            // instead of the same element where the key down event occurred.\n            addGlobalListener(getOwnerDocument(e.currentTarget), 'keyup', onKeyUp, false);\n          }\n\n          if (shouldStopPropagation) {\n            e.stopPropagation();\n          }\n\n          // Keep track of the keydown events that occur while the Meta (e.g. Command) key is held.\n          // macOS has a bug where keyup events are not fired while the Meta key is down.\n          // When the Meta key itself is released we will get an event for that, and we'll act as if\n          // all of these other keys were released as well.\n          // https://bugs.chromium.org/p/chromium/issues/detail?id=1393524\n          // https://bugs.webkit.org/show_bug.cgi?id=55291\n          // https://bugzilla.mozilla.org/show_bug.cgi?id=1299553\n          if (e.metaKey && isMac()) {\n            state.metaKeyEvents?.set(e.key, e.nativeEvent);\n          }\n        } else if (e.key === 'Meta') {\n          state.metaKeyEvents = new Map();\n        }\n      },\n      onKeyUp(e) {\n        if (isValidKeyboardEvent(e.nativeEvent, e.currentTarget) && !e.repeat && e.currentTarget.contains(e.target as Element) && state.target) {\n          triggerPressUp(createEvent(state.target, e), 'keyboard');\n        }\n      },\n      onClick(e) {\n        if (e && !e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        if (e && e.button === 0 && !state.isTriggeringEvent && !(openLink as any).isOpening) {\n          let shouldStopPropagation = true;\n          if (isDisabled) {\n            e.preventDefault();\n          }\n\n          // If triggered from a screen reader or by using element.click(),\n          // trigger as if it were a keyboard click.\n          if (!state.ignoreClickAfterPress && !state.ignoreEmulatedMouseEvents && !state.isPressed && (state.pointerType === 'virtual' || isVirtualClick(e.nativeEvent))) {\n            // Ensure the element receives focus (VoiceOver on iOS does not do this)\n            if (!isDisabled && !preventFocusOnPress) {\n              focusWithoutScrolling(e.currentTarget);\n            }\n\n            let stopPressStart = triggerPressStart(e, 'virtual');\n            let stopPressUp = triggerPressUp(e, 'virtual');\n            let stopPressEnd = triggerPressEnd(e, 'virtual');\n            shouldStopPropagation = stopPressStart && stopPressUp && stopPressEnd;\n          }\n\n          state.ignoreEmulatedMouseEvents = false;\n          state.ignoreClickAfterPress = false;\n          if (shouldStopPropagation) {\n            e.stopPropagation();\n          }\n        }\n      }\n    };\n\n    let onKeyUp = (e: KeyboardEvent) => {\n      if (state.isPressed && state.target && isValidKeyboardEvent(e, state.target)) {\n        if (shouldPreventDefaultKeyboard(e.target as Element, e.key)) {\n          e.preventDefault();\n        }\n\n        let target = e.target as Element;\n        let shouldStopPropagation = triggerPressEnd(createEvent(state.target, e), 'keyboard', state.target.contains(target));\n        removeAllGlobalListeners();\n\n        if (shouldStopPropagation) {\n          e.stopPropagation();\n        }\n\n        // If a link was triggered with a key other than Enter, open the URL ourselves.\n        // This means the link has a role override, and the default browser behavior\n        // only applies when using the Enter key.\n        if (e.key !== 'Enter' && isHTMLAnchorLink(state.target) && state.target.contains(target) && !e[LINK_CLICKED]) {\n          // Store a hidden property on the event so we only trigger link click once,\n          // even if there are multiple usePress instances attached to the element.\n          e[LINK_CLICKED] = true;\n          openLink(state.target, e, false);\n        }\n\n        state.isPressed = false;\n        state.metaKeyEvents?.delete(e.key);\n      } else if (e.key === 'Meta' && state.metaKeyEvents?.size) {\n        // If we recorded keydown events that occurred while the Meta key was pressed,\n        // and those haven't received keyup events already, fire keyup events ourselves.\n        // See comment above for more info about the macOS bug causing this.\n        let events = state.metaKeyEvents;\n        state.metaKeyEvents = undefined;\n        for (let event of events.values()) {\n          state.target?.dispatchEvent(new KeyboardEvent('keyup', event));\n        }\n      }\n    };\n\n    if (typeof PointerEvent !== 'undefined') {\n      pressProps.onPointerDown = (e) => {\n        // Only handle left clicks, and ignore events that bubbled through portals.\n        if (e.button !== 0 || !e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        // iOS safari fires pointer events from VoiceOver with incorrect coordinates/target.\n        // Ignore and let the onClick handler take care of it instead.\n        // https://bugs.webkit.org/show_bug.cgi?id=222627\n        // https://bugs.webkit.org/show_bug.cgi?id=223202\n        if (isVirtualPointerEvent(e.nativeEvent)) {\n          state.pointerType = 'virtual';\n          return;\n        }\n\n        // Due to browser inconsistencies, especially on mobile browsers, we prevent\n        // default on pointer down and handle focusing the pressable element ourselves.\n        if (shouldPreventDefault(e.currentTarget as Element)) {\n          e.preventDefault();\n        }\n\n        state.pointerType = e.pointerType;\n\n        let shouldStopPropagation = true;\n        if (!state.isPressed) {\n          state.isPressed = true;\n          state.isOverTarget = true;\n          state.activePointerId = e.pointerId;\n          state.target = e.currentTarget;\n\n          if (!isDisabled && !preventFocusOnPress) {\n            focusWithoutScrolling(e.currentTarget);\n          }\n\n          if (!allowTextSelectionOnPress) {\n            disableTextSelection(state.target);\n          }\n\n          shouldStopPropagation = triggerPressStart(e, state.pointerType);\n\n          addGlobalListener(getOwnerDocument(e.currentTarget), 'pointermove', onPointerMove, false);\n          addGlobalListener(getOwnerDocument(e.currentTarget), 'pointerup', onPointerUp, false);\n          addGlobalListener(getOwnerDocument(e.currentTarget), 'pointercancel', onPointerCancel, false);\n        }\n\n        if (shouldStopPropagation) {\n          e.stopPropagation();\n        }\n      };\n\n      pressProps.onMouseDown = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        if (e.button === 0) {\n          // Chrome and Firefox on touch Windows devices require mouse down events\n          // to be canceled in addition to pointer events, or an extra asynchronous\n          // focus event will be fired.\n          if (shouldPreventDefault(e.currentTarget as Element)) {\n            e.preventDefault();\n          }\n\n          e.stopPropagation();\n        }\n      };\n\n      pressProps.onPointerUp = (e) => {\n        // iOS fires pointerup with zero width and height, so check the pointerType recorded during pointerdown.\n        if (!e.currentTarget.contains(e.target as Element) || state.pointerType === 'virtual') {\n          return;\n        }\n\n        // Only handle left clicks\n        // Safari on iOS sometimes fires pointerup events, even\n        // when the touch isn't over the target, so double check.\n        if (e.button === 0 && isOverTarget(e, e.currentTarget)) {\n          triggerPressUp(e, state.pointerType || e.pointerType);\n        }\n      };\n\n      // Safari on iOS < 13.2 does not implement pointerenter/pointerleave events correctly.\n      // Use pointer move events instead to implement our own hit testing.\n      // See https://bugs.webkit.org/show_bug.cgi?id=199803\n      let onPointerMove = (e: PointerEvent) => {\n        if (e.pointerId !== state.activePointerId) {\n          return;\n        }\n\n        if (state.target && isOverTarget(e, state.target)) {\n          if (!state.isOverTarget && state.pointerType != null) {\n            state.isOverTarget = true;\n            triggerPressStart(createEvent(state.target, e), state.pointerType);\n          }\n        } else if (state.target && state.isOverTarget && state.pointerType != null) {\n          state.isOverTarget = false;\n          triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n          cancelOnPointerExit(e);\n        }\n      };\n\n      let onPointerUp = (e: PointerEvent) => {\n        if (e.pointerId === state.activePointerId && state.isPressed && e.button === 0 && state.target) {\n          if (isOverTarget(e, state.target) && state.pointerType != null) {\n            triggerPressEnd(createEvent(state.target, e), state.pointerType);\n          } else if (state.isOverTarget && state.pointerType != null) {\n            triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n          }\n\n          state.isPressed = false;\n          state.isOverTarget = false;\n          state.activePointerId = null;\n          state.pointerType = null;\n          removeAllGlobalListeners();\n          if (!allowTextSelectionOnPress) {\n            restoreTextSelection(state.target);\n          }\n        }\n      };\n\n      let onPointerCancel = (e: PointerEvent) => {\n        cancel(e);\n      };\n\n      pressProps.onDragStart = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        // Safari does not call onPointerCancel when a drag starts, whereas Chrome and Firefox do.\n        cancel(e);\n      };\n    } else {\n      pressProps.onMouseDown = (e) => {\n        // Only handle left clicks\n        if (e.button !== 0 || !e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        // Due to browser inconsistencies, especially on mobile browsers, we prevent\n        // default on mouse down and handle focusing the pressable element ourselves.\n        if (shouldPreventDefault(e.currentTarget)) {\n          e.preventDefault();\n        }\n\n        if (state.ignoreEmulatedMouseEvents) {\n          e.stopPropagation();\n          return;\n        }\n\n        state.isPressed = true;\n        state.isOverTarget = true;\n        state.target = e.currentTarget;\n        state.pointerType = isVirtualClick(e.nativeEvent) ? 'virtual' : 'mouse';\n\n        if (!isDisabled && !preventFocusOnPress) {\n          focusWithoutScrolling(e.currentTarget);\n        }\n\n        let shouldStopPropagation = triggerPressStart(e, state.pointerType);\n        if (shouldStopPropagation) {\n          e.stopPropagation();\n        }\n\n        addGlobalListener(getOwnerDocument(e.currentTarget), 'mouseup', onMouseUp, false);\n      };\n\n      pressProps.onMouseEnter = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        let shouldStopPropagation = true;\n        if (state.isPressed && !state.ignoreEmulatedMouseEvents && state.pointerType != null) {\n          state.isOverTarget = true;\n          shouldStopPropagation = triggerPressStart(e, state.pointerType);\n        }\n\n        if (shouldStopPropagation) {\n          e.stopPropagation();\n        }\n      };\n\n      pressProps.onMouseLeave = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        let shouldStopPropagation = true;\n        if (state.isPressed && !state.ignoreEmulatedMouseEvents && state.pointerType != null) {\n          state.isOverTarget = false;\n          shouldStopPropagation = triggerPressEnd(e, state.pointerType, false);\n          cancelOnPointerExit(e);\n        }\n\n        if (shouldStopPropagation) {\n          e.stopPropagation();\n        }\n      };\n\n      pressProps.onMouseUp = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        if (!state.ignoreEmulatedMouseEvents && e.button === 0) {\n          triggerPressUp(e, state.pointerType || 'mouse');\n        }\n      };\n\n      let onMouseUp = (e: MouseEvent) => {\n        // Only handle left clicks\n        if (e.button !== 0) {\n          return;\n        }\n\n        state.isPressed = false;\n        removeAllGlobalListeners();\n\n        if (state.ignoreEmulatedMouseEvents) {\n          state.ignoreEmulatedMouseEvents = false;\n          return;\n        }\n\n        if (state.target && isOverTarget(e, state.target) && state.pointerType != null) {\n          triggerPressEnd(createEvent(state.target, e), state.pointerType);\n        } else if (state.target && state.isOverTarget && state.pointerType != null) {\n          triggerPressEnd(createEvent(state.target, e), state.pointerType, false);\n        }\n\n        state.isOverTarget = false;\n      };\n\n      pressProps.onTouchStart = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        let touch = getTouchFromEvent(e.nativeEvent);\n        if (!touch) {\n          return;\n        }\n        state.activePointerId = touch.identifier;\n        state.ignoreEmulatedMouseEvents = true;\n        state.isOverTarget = true;\n        state.isPressed = true;\n        state.target = e.currentTarget;\n        state.pointerType = 'touch';\n\n        // Due to browser inconsistencies, especially on mobile browsers, we prevent default\n        // on the emulated mouse event and handle focusing the pressable element ourselves.\n        if (!isDisabled && !preventFocusOnPress) {\n          focusWithoutScrolling(e.currentTarget);\n        }\n\n        if (!allowTextSelectionOnPress) {\n          disableTextSelection(state.target);\n        }\n\n        let shouldStopPropagation = triggerPressStart(e, state.pointerType);\n        if (shouldStopPropagation) {\n          e.stopPropagation();\n        }\n\n        addGlobalListener(getOwnerWindow(e.currentTarget), 'scroll', onScroll, true);\n      };\n\n      pressProps.onTouchMove = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        if (!state.isPressed) {\n          e.stopPropagation();\n          return;\n        }\n\n        let touch = getTouchById(e.nativeEvent, state.activePointerId);\n        let shouldStopPropagation = true;\n        if (touch && isOverTarget(touch, e.currentTarget)) {\n          if (!state.isOverTarget && state.pointerType != null) {\n            state.isOverTarget = true;\n            shouldStopPropagation = triggerPressStart(e, state.pointerType);\n          }\n        } else if (state.isOverTarget && state.pointerType != null) {\n          state.isOverTarget = false;\n          shouldStopPropagation = triggerPressEnd(e, state.pointerType, false);\n          cancelOnPointerExit(e);\n        }\n\n        if (shouldStopPropagation) {\n          e.stopPropagation();\n        }\n      };\n\n      pressProps.onTouchEnd = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        if (!state.isPressed) {\n          e.stopPropagation();\n          return;\n        }\n\n        let touch = getTouchById(e.nativeEvent, state.activePointerId);\n        let shouldStopPropagation = true;\n        if (touch && isOverTarget(touch, e.currentTarget) && state.pointerType != null) {\n          triggerPressUp(e, state.pointerType);\n          shouldStopPropagation = triggerPressEnd(e, state.pointerType);\n        } else if (state.isOverTarget && state.pointerType != null) {\n          shouldStopPropagation = triggerPressEnd(e, state.pointerType, false);\n        }\n\n        if (shouldStopPropagation) {\n          e.stopPropagation();\n        }\n\n        state.isPressed = false;\n        state.activePointerId = null;\n        state.isOverTarget = false;\n        state.ignoreEmulatedMouseEvents = true;\n        if (state.target && !allowTextSelectionOnPress) {\n          restoreTextSelection(state.target);\n        }\n        removeAllGlobalListeners();\n      };\n\n      pressProps.onTouchCancel = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        e.stopPropagation();\n        if (state.isPressed) {\n          cancel(e);\n        }\n      };\n\n      let onScroll = (e: Event) => {\n        if (state.isPressed && (e.target as Element).contains(state.target)) {\n          cancel({\n            currentTarget: state.target,\n            shiftKey: false,\n            ctrlKey: false,\n            metaKey: false,\n            altKey: false\n          });\n        }\n      };\n\n      pressProps.onDragStart = (e) => {\n        if (!e.currentTarget.contains(e.target as Element)) {\n          return;\n        }\n\n        cancel(e);\n      };\n    }\n\n    return pressProps;\n  }, [\n    addGlobalListener,\n    isDisabled,\n    preventFocusOnPress,\n    removeAllGlobalListeners,\n    allowTextSelectionOnPress,\n    cancel,\n    cancelOnPointerExit,\n    triggerPressEnd,\n    triggerPressStart,\n    triggerPressUp\n  ]);\n\n  // Remove user-select: none in case component unmounts immediately after pressStart\n  // eslint-disable-next-line arrow-body-style\n  useEffect(() => {\n    return () => {\n      if (!allowTextSelectionOnPress) {\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        restoreTextSelection(ref.current.target ?? undefined);\n      }\n    };\n  }, [allowTextSelectionOnPress]);\n\n  return {\n    isPressed: isPressedProp || isPressed,\n    pressProps: mergeProps(domProps, pressProps)\n  };\n}\n\nfunction isHTMLAnchorLink(target: Element): target is HTMLAnchorElement {\n  return target.tagName === 'A' && target.hasAttribute('href');\n}\n\nfunction isValidKeyboardEvent(event: KeyboardEvent, currentTarget: Element): boolean {\n  const {key, code} = event;\n  const element = currentTarget as HTMLElement;\n  const role = element.getAttribute('role');\n  // Accessibility for keyboards. Space and Enter only.\n  // \"Spacebar\" is for IE 11\n  return (\n    (key === 'Enter' || key === ' ' || key === 'Spacebar' || code === 'Space') &&\n    !((element instanceof getOwnerWindow(element).HTMLInputElement && !isValidInputKey(element, key)) ||\n      element instanceof getOwnerWindow(element).HTMLTextAreaElement ||\n      element.isContentEditable) &&\n    // Links should only trigger with Enter key\n    !((role === 'link' || (!role && isHTMLAnchorLink(element))) && key !== 'Enter')\n  );\n}\n\nfunction getTouchFromEvent(event: TouchEvent): Touch | null {\n  const {targetTouches} = event;\n  if (targetTouches.length > 0) {\n    return targetTouches[0];\n  }\n  return null;\n}\n\nfunction getTouchById(\n  event: TouchEvent,\n  pointerId: null | number\n): null | Touch {\n  const changedTouches = event.changedTouches;\n  for (let i = 0; i < changedTouches.length; i++) {\n    const touch = changedTouches[i];\n    if (touch.identifier === pointerId) {\n      return touch;\n    }\n  }\n  return null;\n}\n\nfunction createEvent(target: FocusableElement, e: EventBase): EventBase {\n  return {\n    currentTarget: target,\n    shiftKey: e.shiftKey,\n    ctrlKey: e.ctrlKey,\n    metaKey: e.metaKey,\n    altKey: e.altKey\n  };\n}\n\ninterface Rect {\n  top: number,\n  right: number,\n  bottom: number,\n  left: number\n}\n\ninterface EventPoint {\n  clientX: number,\n  clientY: number,\n  width?: number,\n  height?: number,\n  radiusX?: number,\n  radiusY?: number\n}\n\nfunction getPointClientRect(point: EventPoint): Rect {\n  let offsetX = 0;\n  let offsetY = 0;\n  if (point.width !== undefined) {\n    offsetX = (point.width / 2);\n  } else if (point.radiusX !== undefined) {\n    offsetX = point.radiusX;\n  }\n  if (point.height !== undefined) {\n    offsetY = (point.height / 2);\n  } else if (point.radiusY !== undefined) {\n    offsetY = point.radiusY;\n  }\n\n  return {\n    top: point.clientY - offsetY,\n    right: point.clientX + offsetX,\n    bottom: point.clientY + offsetY,\n    left: point.clientX - offsetX\n  };\n}\n\nfunction areRectanglesOverlapping(a: Rect, b: Rect) {\n  // check if they cannot overlap on x axis\n  if (a.left > b.right || b.left > a.right) {\n    return false;\n  }\n  // check if they cannot overlap on y axis\n  if (a.top > b.bottom || b.top > a.bottom) {\n    return false;\n  }\n  return true;\n}\n\nfunction isOverTarget(point: EventPoint, target: Element) {\n  let rect = target.getBoundingClientRect();\n  let pointRect = getPointClientRect(point);\n  return areRectanglesOverlapping(rect, pointRect);\n}\n\nfunction shouldPreventDefault(target: Element) {\n  // We cannot prevent default if the target is a draggable element.\n  return !(target instanceof HTMLElement) || !target.hasAttribute('draggable');\n}\n\nfunction shouldPreventDefaultKeyboard(target: Element, key: string) {\n  if (target instanceof HTMLInputElement) {\n    return !isValidInputKey(target, key);\n  }\n\n  if (target instanceof HTMLButtonElement) {\n    return target.type !== 'submit' && target.type !== 'reset';\n  }\n\n  if (isHTMLAnchorLink(target)) {\n    return false;\n  }\n\n  return true;\n}\n\nconst nonTextInputTypes = new Set([\n  'checkbox',\n  'radio',\n  'range',\n  'color',\n  'file',\n  'image',\n  'button',\n  'submit',\n  'reset'\n]);\n\nfunction isValidInputKey(target: HTMLInputElement, key: string) {\n  // Only space should toggle checkboxes and radios, not enter.\n  return target.type === 'checkbox' || target.type === 'radio'\n    ? key === ' '\n    : nonTextInputTypes.has(target.type);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {getOwnerDocument, isIOS, runAfterTransition} from '@react-aria/utils';\n\n// Safari on iOS starts selecting text on long press. The only way to avoid this, it seems,\n// is to add user-select: none to the entire page. Adding it to the pressable element prevents\n// that element from being selected, but nearby elements may still receive selection. We add\n// user-select: none on touch start, and remove it again on touch end to prevent this.\n// This must be implemented using global state to avoid race conditions between multiple elements.\n\n// There are three possible states due to the delay before removing user-select: none after\n// pointer up. The 'default' state always transitions to the 'disabled' state, which transitions\n// to 'restoring'. The 'restoring' state can either transition back to 'disabled' or 'default'.\n\n// For non-iOS devices, we apply user-select: none to the pressed element instead to avoid possible\n// performance issues that arise from applying and removing user-select: none to the entire page\n// (see https://github.com/adobe/react-spectrum/issues/1609).\ntype State = 'default' | 'disabled' | 'restoring';\n\n// Note that state only matters here for iOS. Non-iOS gets user-select: none applied to the target element\n// rather than at the document level so we just need to apply/remove user-select: none for each pressed element individually\nlet state: State = 'default';\nlet savedUserSelect = '';\nlet modifiedElementMap = new WeakMap<Element, string>();\n\nexport function disableTextSelection(target?: Element) {\n  if (isIOS()) {\n    if (state === 'default') {\n      // eslint-disable-next-line no-restricted-globals\n      const documentObject = getOwnerDocument(target);\n      savedUserSelect = documentObject.documentElement.style.webkitUserSelect;\n      documentObject.documentElement.style.webkitUserSelect = 'none';\n    }\n\n    state = 'disabled';\n  } else if (target instanceof HTMLElement || target instanceof SVGElement) {\n    // If not iOS, store the target's original user-select and change to user-select: none\n    // Ignore state since it doesn't apply for non iOS\n    modifiedElementMap.set(target, target.style.userSelect);\n    target.style.userSelect = 'none';\n  }\n}\n\nexport function restoreTextSelection(target?: Element) {\n  if (isIOS()) {\n    // If the state is already default, there's nothing to do.\n    // If it is restoring, then there's no need to queue a second restore.\n    if (state !== 'disabled') {\n      return;\n    }\n\n    state = 'restoring';\n\n    // There appears to be a delay on iOS where selection still might occur\n    // after pointer up, so wait a bit before removing user-select.\n    setTimeout(() => {\n      // Wait for any CSS transitions to complete so we don't recompute style\n      // for the whole page in the middle of the animation and cause jank.\n      runAfterTransition(() => {\n        // Avoid race conditions\n        if (state === 'restoring') {\n          // eslint-disable-next-line no-restricted-globals\n          const documentObject = getOwnerDocument(target);\n          if (documentObject.documentElement.style.webkitUserSelect === 'none') {\n            documentObject.documentElement.style.webkitUserSelect = savedUserSelect || '';\n          }\n\n          savedUserSelect = '';\n          state = 'default';\n        }\n      });\n    }, 300);\n  } else if (target instanceof HTMLElement || target instanceof SVGElement) {\n    // If not iOS, restore the target's original user-select if any\n    // Ignore state since it doesn't apply for non iOS\n    if (target && modifiedElementMap.has(target)) {\n      let targetOldUserSelect = modifiedElementMap.get(target);\n\n      if (target.style.userSelect === 'none' && targetOldUserSelect) {\n        target.style.userSelect = targetOldUserSelect;\n      }\n\n      if (target.getAttribute('style') === '') {\n        target.removeAttribute('style');\n      }\n      modifiedElementMap.delete(target);\n    }\n  }\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableElement} from '@react-types/shared';\nimport {PressProps} from './usePress';\nimport React, {MutableRefObject} from 'react';\n\ninterface IPressResponderContext extends PressProps {\n  register(): void,\n  ref?: MutableRefObject<FocusableElement>\n}\n\nexport const PressResponderContext = React.createContext<IPressResponderContext>({register: () => {}});\nPressResponderContext.displayName = 'PressResponderContext';\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableElement} from '@react-types/shared';\nimport {mergeProps, useObjectRef, useSyncRef} from '@react-aria/utils';\nimport {PressProps} from './usePress';\nimport {PressResponderContext} from './context';\nimport React, {ForwardedRef, ReactNode, useContext, useEffect, useMemo, useRef} from 'react';\n\ninterface PressResponderProps extends PressProps {\n  children: ReactNode\n}\n\nexport const PressResponder = React.forwardRef(({children, ...props}: PressResponderProps, ref: ForwardedRef<FocusableElement>) => {\n  let isRegistered = useRef(false);\n  let prevContext = useContext(PressResponderContext);\n  ref = useObjectRef(ref || prevContext?.ref);\n  let context = mergeProps(prevContext || {}, {\n    ...props,\n    ref,\n    register() {\n      isRegistered.current = true;\n      if (prevContext) {\n        prevContext.register();\n      }\n    }\n  });\n\n  useSyncRef(prevContext, ref);\n\n  useEffect(() => {\n    if (!isRegistered.current) {\n      console.warn(\n        'A PressResponder was rendered without a pressable child. ' +\n        'Either call the usePress hook, or wrap your DOM node with <Pressable> component.'\n      );\n      isRegistered.current = true; // only warn once in strict mode.\n    }\n  }, []);\n\n  return (\n    <PressResponderContext.Provider value={context}>\n      {children}\n    </PressResponderContext.Provider>\n  );\n});\n\nexport function ClearPressResponder({children}: {children: ReactNode}) {\n  let context = useMemo(() => ({register: () => {}}), []);\n  return (\n    <PressResponderContext.Provider value={context}>\n      {children}\n    </PressResponderContext.Provider>\n  );\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {DOMAttributes, FocusableElement, FocusEvents} from '@react-types/shared';\nimport {FocusEvent, useCallback} from 'react';\nimport {useSyntheticBlurEvent} from './utils';\n\nexport interface FocusProps<Target = FocusableElement> extends FocusEvents<Target> {\n  /** Whether the focus events should be disabled. */\n  isDisabled?: boolean\n}\n\nexport interface FocusResult<Target = FocusableElement> {\n  /** Props to spread onto the target element. */\n  focusProps: DOMAttributes<Target>\n}\n\n/**\n * Handles focus events for the immediate target.\n * Focus events on child elements will be ignored.\n */\nexport function useFocus<Target extends FocusableElement = FocusableElement>(props: FocusProps<Target>): FocusResult<Target> {\n  let {\n    isDisabled,\n    onFocus: onFocusProp,\n    onBlur: onBlurProp,\n    onFocusChange\n  } = props;\n\n  const onBlur: FocusProps<Target>['onBlur'] = useCallback((e: FocusEvent<Target>) => {\n    if (e.target === e.currentTarget) {\n      if (onBlurProp) {\n        onBlurProp(e);\n      }\n\n      if (onFocusChange) {\n        onFocusChange(false);\n      }\n\n      return true;\n    }\n  }, [onBlurProp, onFocusChange]);\n\n\n  const onSyntheticFocus = useSyntheticBlurEvent<Target>(onBlur);\n\n  const onFocus: FocusProps<Target>['onFocus'] = useCallback((e: FocusEvent<Target>) => {\n    // Double check that document.activeElement actually matches e.target in case a previously chained\n    // focus handler already moved focus somewhere else.\n    if (e.target === e.currentTarget && document.activeElement === e.target) {\n      if (onFocusProp) {\n        onFocusProp(e);\n      }\n\n      if (onFocusChange) {\n        onFocusChange(true);\n      }\n\n      onSyntheticFocus(e);\n    }\n  }, [onFocusChange, onFocusProp, onSyntheticFocus]);\n\n  return {\n    focusProps: {\n      onFocus: (!isDisabled && (onFocusProp || onFocusChange || onBlurProp)) ? onFocus : undefined,\n      onBlur: (!isDisabled && (onBlurProp || onFocusChange)) ? onBlur : undefined\n    }\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusEvent as ReactFocusEvent, useCallback, useRef} from 'react';\nimport {useEffectEvent, useLayoutEffect} from '@react-aria/utils';\n\nexport class SyntheticFocusEvent<Target = Element> implements ReactFocusEvent<Target> {\n  nativeEvent: FocusEvent;\n  target: EventTarget & Target;\n  currentTarget: EventTarget & Target;\n  relatedTarget: Element;\n  bubbles: boolean;\n  cancelable: boolean;\n  defaultPrevented: boolean;\n  eventPhase: number;\n  isTrusted: boolean;\n  timeStamp: number;\n  type: string;\n\n  constructor(type: string, nativeEvent: FocusEvent) {\n    this.nativeEvent = nativeEvent;\n    this.target = nativeEvent.target as EventTarget & Target;\n    this.currentTarget = nativeEvent.currentTarget as EventTarget & Target;\n    this.relatedTarget = nativeEvent.relatedTarget as Element;\n    this.bubbles = nativeEvent.bubbles;\n    this.cancelable = nativeEvent.cancelable;\n    this.defaultPrevented = nativeEvent.defaultPrevented;\n    this.eventPhase = nativeEvent.eventPhase;\n    this.isTrusted = nativeEvent.isTrusted;\n    this.timeStamp = nativeEvent.timeStamp;\n    this.type = type;\n  }\n\n  isDefaultPrevented(): boolean {\n    return this.nativeEvent.defaultPrevented;\n  }\n\n  preventDefault(): void {\n    this.defaultPrevented = true;\n    this.nativeEvent.preventDefault();\n  }\n\n  stopPropagation(): void {\n    this.nativeEvent.stopPropagation();\n    this.isPropagationStopped = () => true;\n  }\n\n  isPropagationStopped(): boolean {\n    return false;\n  }\n\n  persist() {}\n}\n\nexport function useSyntheticBlurEvent<Target = Element>(onBlur: (e: ReactFocusEvent<Target>) => void) {\n  let stateRef = useRef({\n    isFocused: false,\n    observer: null as MutationObserver | null\n  });\n\n  // Clean up MutationObserver on unmount. See below.\n  // eslint-disable-next-line arrow-body-style\n  useLayoutEffect(() => {\n    const state = stateRef.current;\n    return () => {\n      if (state.observer) {\n        state.observer.disconnect();\n        state.observer = null;\n      }\n    };\n  }, []);\n\n  let dispatchBlur = useEffectEvent((e: SyntheticFocusEvent<Target>) => {\n    onBlur?.(e);\n  });\n\n  // This function is called during a React onFocus event.\n  return useCallback((e: ReactFocusEvent<Target>) => {\n    // React does not fire onBlur when an element is disabled. https://github.com/facebook/react/issues/9142\n    // Most browsers fire a native focusout event in this case, except for Firefox. In that case, we use a\n    // MutationObserver to watch for the disabled attribute, and dispatch these events ourselves.\n    // For browsers that do, focusout fires before the MutationObserver, so onBlur should not fire twice.\n    if (\n      e.target instanceof HTMLButtonElement ||\n      e.target instanceof HTMLInputElement ||\n      e.target instanceof HTMLTextAreaElement ||\n      e.target instanceof HTMLSelectElement\n    ) {\n      stateRef.current.isFocused = true;\n\n      let target = e.target;\n      let onBlurHandler: EventListenerOrEventListenerObject | null = (e) => {\n        stateRef.current.isFocused = false;\n\n        if (target.disabled) {\n          // For backward compatibility, dispatch a (fake) React synthetic event.\n          dispatchBlur(new SyntheticFocusEvent('blur', e as FocusEvent));\n        }\n\n        // We no longer need the MutationObserver once the target is blurred.\n        if (stateRef.current.observer) {\n          stateRef.current.observer.disconnect();\n          stateRef.current.observer = null;\n        }\n      };\n\n      target.addEventListener('focusout', onBlurHandler, {once: true});\n\n      stateRef.current.observer = new MutationObserver(() => {\n        if (stateRef.current.isFocused && target.disabled) {\n          stateRef.current.observer?.disconnect();\n          let relatedTargetEl = target === document.activeElement ? null : document.activeElement;\n          target.dispatchEvent(new FocusEvent('blur', {relatedTarget: relatedTargetEl}));\n          target.dispatchEvent(new FocusEvent('focusout', {bubbles: true, relatedTarget: relatedTargetEl}));\n        }\n      });\n\n      stateRef.current.observer.observe(target, {attributes: true, attributeFilter: ['disabled']});\n    }\n  }, [dispatchBlur]);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {isMac, isVirtualClick} from '@react-aria/utils';\nimport {useEffect, useState} from 'react';\nimport {useIsSSR} from '@react-aria/ssr';\n\nexport type Modality = 'keyboard' | 'pointer' | 'virtual';\ntype HandlerEvent = PointerEvent | MouseEvent | KeyboardEvent | FocusEvent | null;\ntype Handler = (modality: Modality, e: HandlerEvent) => void;\nexport type FocusVisibleHandler = (isFocusVisible: boolean) => void;\nexport interface FocusVisibleProps {\n  /** Whether the element is a text input. */\n  isTextInput?: boolean,\n  /** Whether the element will be auto focused. */\n  autoFocus?: boolean\n}\n\nexport interface FocusVisibleResult {\n  /** Whether keyboard focus is visible globally. */\n  isFocusVisible: boolean\n}\n\nlet currentModality: null | Modality = null;\nlet changeHandlers = new Set<Handler>();\nlet hasSetupGlobalListeners = false;\nlet hasEventBeforeFocus = false;\nlet hasBlurredWindowRecently = false;\n\n// Only Tab or Esc keys will make focus visible on text input elements\nconst FOCUS_VISIBLE_INPUT_KEYS = {\n  Tab: true,\n  Escape: true\n};\n\nfunction triggerChangeHandlers(modality: Modality, e: HandlerEvent) {\n  for (let handler of changeHandlers) {\n    handler(modality, e);\n  }\n}\n\n/**\n * Helper function to determine if a KeyboardEvent is unmodified and could make keyboard focus styles visible.\n */\nfunction isValidKey(e: KeyboardEvent) {\n  // Control and Shift keys trigger when navigating back to the tab with keyboard.\n  return !(e.metaKey || (!isMac() && e.altKey) || e.ctrlKey || e.key === 'Control' || e.key === 'Shift' || e.key === 'Meta');\n}\n\n\nfunction handleKeyboardEvent(e: KeyboardEvent) {\n  hasEventBeforeFocus = true;\n  if (isValidKey(e)) {\n    currentModality = 'keyboard';\n    triggerChangeHandlers('keyboard', e);\n  }\n}\n\nfunction handlePointerEvent(e: PointerEvent | MouseEvent) {\n  currentModality = 'pointer';\n  if (e.type === 'mousedown' || e.type === 'pointerdown') {\n    hasEventBeforeFocus = true;\n    triggerChangeHandlers('pointer', e);\n  }\n}\n\nfunction handleClickEvent(e: MouseEvent) {\n  if (isVirtualClick(e)) {\n    hasEventBeforeFocus = true;\n    currentModality = 'virtual';\n  }\n}\n\nfunction handleFocusEvent(e: FocusEvent) {\n  // Firefox fires two extra focus events when the user first clicks into an iframe:\n  // first on the window, then on the document. We ignore these events so they don't\n  // cause keyboard focus rings to appear.\n  if (e.target === window || e.target === document) {\n    return;\n  }\n\n  // If a focus event occurs without a preceding keyboard or pointer event, switch to virtual modality.\n  // This occurs, for example, when navigating a form with the next/previous buttons on iOS.\n  if (!hasEventBeforeFocus && !hasBlurredWindowRecently) {\n    currentModality = 'virtual';\n    triggerChangeHandlers('virtual', e);\n  }\n\n  hasEventBeforeFocus = false;\n  hasBlurredWindowRecently = false;\n}\n\nfunction handleWindowBlur() {\n  // When the window is blurred, reset state. This is necessary when tabbing out of the window,\n  // for example, since a subsequent focus event won't be fired.\n  hasEventBeforeFocus = false;\n  hasBlurredWindowRecently = true;\n}\n\n/**\n * Setup global event listeners to control when keyboard focus style should be visible.\n */\nfunction setupGlobalFocusEvents() {\n  if (typeof window === 'undefined' || hasSetupGlobalListeners) {\n    return;\n  }\n\n  // Programmatic focus() calls shouldn't affect the current input modality.\n  // However, we need to detect other cases when a focus event occurs without\n  // a preceding user event (e.g. screen reader focus). Overriding the focus\n  // method on HTMLElement.prototype is a bit hacky, but works.\n  let focus = HTMLElement.prototype.focus;\n  HTMLElement.prototype.focus = function () {\n    hasEventBeforeFocus = true;\n    focus.apply(this, arguments as unknown as [options?: FocusOptions | undefined]);\n  };\n\n  document.addEventListener('keydown', handleKeyboardEvent, true);\n  document.addEventListener('keyup', handleKeyboardEvent, true);\n  document.addEventListener('click', handleClickEvent, true);\n\n  // Register focus events on the window so they are sure to happen\n  // before React's event listeners (registered on the document).\n  window.addEventListener('focus', handleFocusEvent, true);\n  window.addEventListener('blur', handleWindowBlur, false);\n\n  if (typeof PointerEvent !== 'undefined') {\n    document.addEventListener('pointerdown', handlePointerEvent, true);\n    document.addEventListener('pointermove', handlePointerEvent, true);\n    document.addEventListener('pointerup', handlePointerEvent, true);\n  } else {\n    document.addEventListener('mousedown', handlePointerEvent, true);\n    document.addEventListener('mousemove', handlePointerEvent, true);\n    document.addEventListener('mouseup', handlePointerEvent, true);\n  }\n\n  hasSetupGlobalListeners = true;\n}\n\nif (typeof document !== 'undefined') {\n  if (document.readyState !== 'loading') {\n    setupGlobalFocusEvents();\n  } else {\n    document.addEventListener('DOMContentLoaded', setupGlobalFocusEvents);\n  }\n}\n\n/**\n * If true, keyboard focus is visible.\n */\nexport function isFocusVisible(): boolean {\n  return currentModality !== 'pointer';\n}\n\nexport function getInteractionModality(): Modality | null {\n  return currentModality;\n}\n\nexport function setInteractionModality(modality: Modality) {\n  currentModality = modality;\n  triggerChangeHandlers(modality, null);\n}\n\n/**\n * Keeps state of the current modality.\n */\nexport function useInteractionModality(): Modality | null {\n  setupGlobalFocusEvents();\n\n  let [modality, setModality] = useState(currentModality);\n  useEffect(() => {\n    let handler = () => {\n      setModality(currentModality);\n    };\n\n    changeHandlers.add(handler);\n    return () => {\n      changeHandlers.delete(handler);\n    };\n  }, []);\n\n  return useIsSSR() ? null : modality;\n}\n\nconst nonTextInputTypes = new Set([\n  'checkbox',\n  'radio',\n  'range',\n  'color',\n  'file',\n  'image',\n  'button',\n  'submit',\n  'reset'\n]);\n\n/**\n * If this is attached to text input component, return if the event is a focus event (Tab/Escape keys pressed) so that\n * focus visible style can be properly set.\n */\nfunction isKeyboardFocusEvent(isTextInput: boolean, modality: Modality, e: HandlerEvent) {\n  isTextInput = isTextInput || \n    (e?.target instanceof HTMLInputElement && !nonTextInputTypes.has(e?.target?.type)) ||\n    e?.target instanceof HTMLTextAreaElement ||\n    (e?.target instanceof HTMLElement && e?.target.isContentEditable);\n  return !(isTextInput && modality === 'keyboard' && e instanceof KeyboardEvent && !FOCUS_VISIBLE_INPUT_KEYS[e.key]);\n}\n\n/**\n * Manages focus visible state for the page, and subscribes individual components for updates.\n */\nexport function useFocusVisible(props: FocusVisibleProps = {}): FocusVisibleResult {\n  let {isTextInput, autoFocus} = props;\n  let [isFocusVisibleState, setFocusVisible] = useState(autoFocus || isFocusVisible());\n  useFocusVisibleListener((isFocusVisible) => {\n    setFocusVisible(isFocusVisible);\n  }, [isTextInput], {isTextInput});\n\n  return {isFocusVisible: isFocusVisibleState};\n}\n\n/**\n * Listens for trigger change and reports if focus is visible (i.e., modality is not pointer).\n */\nexport function useFocusVisibleListener(fn: FocusVisibleHandler, deps: ReadonlyArray<any>, opts?: {isTextInput?: boolean}): void {\n  setupGlobalFocusEvents();\n\n  useEffect(() => {\n    let handler = (modality: Modality, e: HandlerEvent) => {\n      if (!isKeyboardFocusEvent(!!(opts?.isTextInput), modality, e)) {\n        return;\n      }\n      fn(isFocusVisible());\n    };\n    changeHandlers.add(handler);\n    return () => {\n      changeHandlers.delete(handler);\n    };\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {DOMAttributes} from '@react-types/shared';\nimport {FocusEvent, useCallback, useRef} from 'react';\nimport {useSyntheticBlurEvent} from './utils';\n\nexport interface FocusWithinProps {\n  /** Whether the focus within events should be disabled. */\n  isDisabled?: boolean,\n  /** Handler that is called when the target element or a descendant receives focus. */\n  onFocusWithin?: (e: FocusEvent) => void,\n  /** Handler that is called when the target element and all descendants lose focus. */\n  onBlurWithin?: (e: FocusEvent) => void,\n  /** Handler that is called when the the focus within state changes. */\n  onFocusWithinChange?: (isFocusWithin: boolean) => void\n}\n\nexport interface FocusWithinResult {\n  /** Props to spread onto the target element. */\n  focusWithinProps: DOMAttributes\n}\n\n/**\n * Handles focus events for the target and its descendants.\n */\nexport function useFocusWithin(props: FocusWithinProps): FocusWithinResult {\n  let {\n    isDisabled,\n    onBlurWithin,\n    onFocusWithin,\n    onFocusWithinChange\n  } = props;\n  let state = useRef({\n    isFocusWithin: false\n  });\n\n  let onBlur = useCallback((e: FocusEvent) => {\n    // We don't want to trigger onBlurWithin and then immediately onFocusWithin again\n    // when moving focus inside the element. Only trigger if the currentTarget doesn't\n    // include the relatedTarget (where focus is moving).\n    if (state.current.isFocusWithin && !(e.currentTarget as Element).contains(e.relatedTarget as Element)) {\n      state.current.isFocusWithin = false;\n\n      if (onBlurWithin) {\n        onBlurWithin(e);\n      }\n\n      if (onFocusWithinChange) {\n        onFocusWithinChange(false);\n      }\n    }\n  }, [onBlurWithin, onFocusWithinChange, state]);\n\n  let onSyntheticFocus = useSyntheticBlurEvent(onBlur);\n  let onFocus = useCallback((e: FocusEvent) => {\n    // Double check that document.activeElement actually matches e.target in case a previously chained\n    // focus handler already moved focus somewhere else.\n    if (!state.current.isFocusWithin && document.activeElement === e.target) {\n      if (onFocusWithin) {\n        onFocusWithin(e);\n      }\n\n      if (onFocusWithinChange) {\n        onFocusWithinChange(true);\n      }\n\n      state.current.isFocusWithin = true;\n      onSyntheticFocus(e);\n    }\n  }, [onFocusWithin, onFocusWithinChange, onSyntheticFocus]);\n\n  if (isDisabled) {\n    return {\n      focusWithinProps: {\n        // These should not have been null, that would conflict in mergeProps\n        onFocus: undefined,\n        onBlur: undefined\n      }\n    };\n  }\n\n  return {\n    focusWithinProps: {\n      onFocus,\n      onBlur\n    }\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {DOMAttributes, HoverEvents} from '@react-types/shared';\nimport {useEffect, useMemo, useRef, useState} from 'react';\n\nexport interface HoverProps extends HoverEvents {\n  /** Whether the hover events should be disabled. */\n  isDisabled?: boolean\n}\n\nexport interface HoverResult {\n  /** Props to spread on the target element. */\n  hoverProps: DOMAttributes,\n  isHovered: boolean\n}\n\n// iOS fires onPointerEnter twice: once with pointerType=\"touch\" and again with pointerType=\"mouse\".\n// We want to ignore these emulated events so they do not trigger hover behavior.\n// See https://bugs.webkit.org/show_bug.cgi?id=214609.\nlet globalIgnoreEmulatedMouseEvents = false;\nlet hoverCount = 0;\n\nfunction setGlobalIgnoreEmulatedMouseEvents() {\n  globalIgnoreEmulatedMouseEvents = true;\n\n  // Clear globalIgnoreEmulatedMouseEvents after a short timeout. iOS fires onPointerEnter\n  // with pointerType=\"mouse\" immediately after onPointerUp and before onFocus. On other\n  // devices that don't have this quirk, we don't want to ignore a mouse hover sometime in\n  // the distant future because a user previously touched the element.\n  setTimeout(() => {\n    globalIgnoreEmulatedMouseEvents = false;\n  }, 50);\n}\n\nfunction handleGlobalPointerEvent(e) {\n  if (e.pointerType === 'touch') {\n    setGlobalIgnoreEmulatedMouseEvents();\n  }\n}\n\nfunction setupGlobalTouchEvents() {\n  if (typeof document === 'undefined') {\n    return;\n  }\n\n  if (typeof PointerEvent !== 'undefined') {\n    document.addEventListener('pointerup', handleGlobalPointerEvent);\n  } else {\n    document.addEventListener('touchend', setGlobalIgnoreEmulatedMouseEvents);\n  }\n\n  hoverCount++;\n  return () => {\n    hoverCount--;\n    if (hoverCount > 0) {\n      return;\n    }\n\n    if (typeof PointerEvent !== 'undefined') {\n      document.removeEventListener('pointerup', handleGlobalPointerEvent);\n    } else {\n      document.removeEventListener('touchend', setGlobalIgnoreEmulatedMouseEvents);\n    }\n  };\n}\n\n/**\n * Handles pointer hover interactions for an element. Normalizes behavior\n * across browsers and platforms, and ignores emulated mouse events on touch devices.\n */\nexport function useHover(props: HoverProps): HoverResult {\n  let {\n    onHoverStart,\n    onHoverChange,\n    onHoverEnd,\n    isDisabled\n  } = props;\n\n  let [isHovered, setHovered] = useState(false);\n  let state = useRef({\n    isHovered: false,\n    ignoreEmulatedMouseEvents: false,\n    pointerType: '',\n    target: null\n  }).current;\n\n  useEffect(setupGlobalTouchEvents, []);\n\n  let {hoverProps, triggerHoverEnd} = useMemo(() => {\n    let triggerHoverStart = (event, pointerType) => {\n      state.pointerType = pointerType;\n      if (isDisabled || pointerType === 'touch' || state.isHovered || !event.currentTarget.contains(event.target)) {\n        return;\n      }\n\n      state.isHovered = true;\n      let target = event.currentTarget;\n      state.target = target;\n\n      if (onHoverStart) {\n        onHoverStart({\n          type: 'hoverstart',\n          target,\n          pointerType\n        });\n      }\n\n      if (onHoverChange) {\n        onHoverChange(true);\n      }\n\n      setHovered(true);\n    };\n\n    let triggerHoverEnd = (event, pointerType) => {\n      state.pointerType = '';\n      state.target = null;\n\n      if (pointerType === 'touch' || !state.isHovered) {\n        return;\n      }\n\n      state.isHovered = false;\n      let target = event.currentTarget;\n      if (onHoverEnd) {\n        onHoverEnd({\n          type: 'hoverend',\n          target,\n          pointerType\n        });\n      }\n\n      if (onHoverChange) {\n        onHoverChange(false);\n      }\n\n      setHovered(false);\n    };\n\n    let hoverProps: DOMAttributes = {};\n\n    if (typeof PointerEvent !== 'undefined') {\n      hoverProps.onPointerEnter = (e) => {\n        if (globalIgnoreEmulatedMouseEvents && e.pointerType === 'mouse') {\n          return;\n        }\n\n        triggerHoverStart(e, e.pointerType);\n      };\n\n      hoverProps.onPointerLeave = (e) => {\n        if (!isDisabled && e.currentTarget.contains(e.target as Element)) {\n          triggerHoverEnd(e, e.pointerType);\n        }\n      };\n    } else {\n      hoverProps.onTouchStart = () => {\n        state.ignoreEmulatedMouseEvents = true;\n      };\n\n      hoverProps.onMouseEnter = (e) => {\n        if (!state.ignoreEmulatedMouseEvents && !globalIgnoreEmulatedMouseEvents) {\n          triggerHoverStart(e, 'mouse');\n        }\n\n        state.ignoreEmulatedMouseEvents = false;\n      };\n\n      hoverProps.onMouseLeave = (e) => {\n        if (!isDisabled && e.currentTarget.contains(e.target as Element)) {\n          triggerHoverEnd(e, 'mouse');\n        }\n      };\n    }\n    return {hoverProps, triggerHoverEnd};\n  }, [onHoverStart, onHoverChange, onHoverEnd, isDisabled, state]);\n\n  useEffect(() => {\n    // Call the triggerHoverEnd as soon as isDisabled changes to true\n    // Safe to call triggerHoverEnd, it will early return if we aren't currently hovering\n    if (isDisabled) {\n      triggerHoverEnd({currentTarget: state.target}, state.pointerType);\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isDisabled]);\n\n  return {\n    hoverProps,\n    isHovered\n  };\n}\n\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {getOwnerDocument, useEffectEvent} from '@react-aria/utils';\nimport {RefObject, useEffect, useRef} from 'react';\n\nexport interface InteractOutsideProps {\n  ref: RefObject<Element>,\n  onInteractOutside?: (e: PointerEvent) => void,\n  onInteractOutsideStart?: (e: PointerEvent) => void,\n  /** Whether the interact outside events should be disabled. */\n  isDisabled?: boolean\n}\n\n/**\n * Example, used in components like Dialogs and Popovers so they can close\n * when a user clicks outside them.\n */\nexport function useInteractOutside(props: InteractOutsideProps) {\n  let {ref, onInteractOutside, isDisabled, onInteractOutsideStart} = props;\n  let stateRef = useRef({\n    isPointerDown: false,\n    ignoreEmulatedMouseEvents: false\n  });\n\n  let onPointerDown = useEffectEvent((e) => {\n    if (onInteractOutside && isValidEvent(e, ref)) {\n      if (onInteractOutsideStart) {\n        onInteractOutsideStart(e);\n      }\n      stateRef.current.isPointerDown = true;\n    }\n  });\n\n  let triggerInteractOutside = useEffectEvent((e: PointerEvent) => {\n    if (onInteractOutside) {\n      onInteractOutside(e);\n    }\n  });\n\n  useEffect(() => {\n    let state = stateRef.current;\n    if (isDisabled) {\n      return;\n    }\n\n    const element = ref.current;\n    const documentObject = getOwnerDocument(element);\n\n    // Use pointer events if available. Otherwise, fall back to mouse and touch events.\n    if (typeof PointerEvent !== 'undefined') {\n      let onPointerUp = (e) => {\n        if (state.isPointerDown && isValidEvent(e, ref)) {\n          triggerInteractOutside(e);\n        }\n        state.isPointerDown = false;\n      };\n\n      // changing these to capture phase fixed combobox\n      documentObject.addEventListener('pointerdown', onPointerDown, true);\n      documentObject.addEventListener('pointerup', onPointerUp, true);\n\n      return () => {\n        documentObject.removeEventListener('pointerdown', onPointerDown, true);\n        documentObject.removeEventListener('pointerup', onPointerUp, true);\n      };\n    } else {\n      let onMouseUp = (e) => {\n        if (state.ignoreEmulatedMouseEvents) {\n          state.ignoreEmulatedMouseEvents = false;\n        } else if (state.isPointerDown && isValidEvent(e, ref)) {\n          triggerInteractOutside(e);\n        }\n        state.isPointerDown = false;\n      };\n\n      let onTouchEnd = (e) => {\n        state.ignoreEmulatedMouseEvents = true;\n        if (state.isPointerDown && isValidEvent(e, ref)) {\n          triggerInteractOutside(e);\n        }\n        state.isPointerDown = false;\n      };\n\n      documentObject.addEventListener('mousedown', onPointerDown, true);\n      documentObject.addEventListener('mouseup', onMouseUp, true);\n      documentObject.addEventListener('touchstart', onPointerDown, true);\n      documentObject.addEventListener('touchend', onTouchEnd, true);\n\n      return () => {\n        documentObject.removeEventListener('mousedown', onPointerDown, true);\n        documentObject.removeEventListener('mouseup', onMouseUp, true);\n        documentObject.removeEventListener('touchstart', onPointerDown, true);\n        documentObject.removeEventListener('touchend', onTouchEnd, true);\n      };\n    }\n  }, [ref, isDisabled, onPointerDown, triggerInteractOutside]);\n}\n\nfunction isValidEvent(event, ref) {\n  if (event.button > 0) {\n    return false;\n  }\n\n  if (event.target) {\n    // if the event target is no longer in the document, ignore\n    const ownerDocument = event.target.ownerDocument;\n    if (!ownerDocument || !ownerDocument.documentElement.contains(event.target)) {\n      return false;\n    }\n\n    // If the target is within a top layer element (e.g. toasts), ignore.\n    if (event.target.closest('[data-react-aria-top-layer]')) {\n      return false;\n    }\n  }\n\n  return ref.current && !ref.current.contains(event.target);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {createEventHandler} from './createEventHandler';\nimport {DOMAttributes, KeyboardEvents} from '@react-types/shared';\n\nexport interface KeyboardProps extends KeyboardEvents {\n  /** Whether the keyboard events should be disabled. */\n  isDisabled?: boolean\n}\n\nexport interface KeyboardResult {\n  /** Props to spread onto the target element. */\n  keyboardProps: DOMAttributes\n}\n\n/**\n * Handles keyboard interactions for a focusable element.\n */\nexport function useKeyboard(props: KeyboardProps): KeyboardResult {\n  return {\n    keyboardProps: props.isDisabled ? {} : {\n      onKeyDown: createEventHandler(props.onKeyDown),\n      onKeyUp: createEventHandler(props.onKeyUp)\n    }\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {BaseEvent} from '@react-types/shared';\nimport {SyntheticEvent} from 'react';\n\n/**\n * This function wraps a React event handler to make stopPropagation the default, and support continuePropagation instead.\n */\nexport function createEventHandler<T extends SyntheticEvent>(handler?: (e: BaseEvent<T>) => void): ((e: T) => void) | undefined {\n  if (!handler) {\n    return undefined;\n  }\n\n  let shouldStopPropagation = true;\n  return (e: T) => {\n    let event: BaseEvent<T> = {\n      ...e,\n      preventDefault() {\n        e.preventDefault();\n      },\n      isDefaultPrevented() {\n        return e.isDefaultPrevented();\n      },\n      stopPropagation() {\n        console.error('stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.');\n      },\n      continuePropagation() {\n        shouldStopPropagation = false;\n      }\n    };\n\n    handler(event);\n\n    if (shouldStopPropagation) {\n      e.stopPropagation();\n    }\n  };\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {disableTextSelection, restoreTextSelection}  from './textSelection';\nimport {DOMAttributes, MoveEvents, PointerType} from '@react-types/shared';\nimport React, {useMemo, useRef} from 'react';\nimport {useEffectEvent, useGlobalListeners} from '@react-aria/utils';\n\nexport interface MoveResult {\n  /** Props to spread on the target element. */\n  moveProps: DOMAttributes\n}\n\ninterface EventBase {\n  shiftKey: boolean,\n  ctrlKey: boolean,\n  metaKey: boolean,\n  altKey: boolean\n}\n\n/**\n * Handles move interactions across mouse, touch, and keyboard, including dragging with\n * the mouse or touch, and using the arrow keys. Normalizes behavior across browsers and\n * platforms, and ignores emulated mouse events on touch devices.\n */\nexport function useMove(props: MoveEvents): MoveResult {\n  let {onMoveStart, onMove, onMoveEnd} = props;\n\n  let state = useRef<{\n    didMove: boolean,\n    lastPosition: {pageX: number, pageY: number} | null,\n    id: number | null\n  }>({didMove: false, lastPosition: null, id: null});\n\n  let {addGlobalListener, removeGlobalListener} = useGlobalListeners();\n\n  let move = useEffectEvent((originalEvent: EventBase, pointerType: PointerType, deltaX: number, deltaY: number) => {\n    if (deltaX === 0 && deltaY === 0) {\n      return;\n    }\n\n    if (!state.current.didMove) {\n      state.current.didMove = true;\n      onMoveStart?.({\n        type: 'movestart',\n        pointerType,\n        shiftKey: originalEvent.shiftKey,\n        metaKey: originalEvent.metaKey,\n        ctrlKey: originalEvent.ctrlKey,\n        altKey: originalEvent.altKey\n      });\n    }\n    onMove?.({\n      type: 'move',\n      pointerType,\n      deltaX: deltaX,\n      deltaY: deltaY,\n      shiftKey: originalEvent.shiftKey,\n      metaKey: originalEvent.metaKey,\n      ctrlKey: originalEvent.ctrlKey,\n      altKey: originalEvent.altKey\n    });\n  });\n\n  let end = useEffectEvent((originalEvent: EventBase, pointerType: PointerType) => {\n    restoreTextSelection();\n    if (state.current.didMove) {\n      onMoveEnd?.({\n        type: 'moveend',\n        pointerType,\n        shiftKey: originalEvent.shiftKey,\n        metaKey: originalEvent.metaKey,\n        ctrlKey: originalEvent.ctrlKey,\n        altKey: originalEvent.altKey\n      });\n    }\n  });\n\n  let moveProps = useMemo(() => {\n    let moveProps: DOMAttributes = {};\n\n    let start = () => {\n      disableTextSelection();\n      state.current.didMove = false;\n    };\n\n    if (typeof PointerEvent === 'undefined') {\n      let onMouseMove = (e: MouseEvent) => {\n        if (e.button === 0) {\n          move(e, 'mouse', e.pageX - (state.current.lastPosition?.pageX ?? 0), e.pageY - (state.current.lastPosition?.pageY ?? 0));\n          state.current.lastPosition = {pageX: e.pageX, pageY: e.pageY};\n        }\n      };\n      let onMouseUp = (e: MouseEvent) => {\n        if (e.button === 0) {\n          end(e, 'mouse');\n          removeGlobalListener(window, 'mousemove', onMouseMove, false);\n          removeGlobalListener(window, 'mouseup', onMouseUp, false);\n        }\n      };\n      moveProps.onMouseDown = (e: React.MouseEvent) => {\n        if (e.button === 0) {\n          start();\n          e.stopPropagation();\n          e.preventDefault();\n          state.current.lastPosition = {pageX: e.pageX, pageY: e.pageY};\n          addGlobalListener(window, 'mousemove', onMouseMove, false);\n          addGlobalListener(window, 'mouseup', onMouseUp, false);\n        }\n      };\n\n      let onTouchMove = (e: TouchEvent) => {\n        let touch = [...e.changedTouches].findIndex(({identifier}) => identifier === state.current.id);\n        if (touch >= 0) {\n          let {pageX, pageY} = e.changedTouches[touch];\n          move(e, 'touch', pageX - (state.current.lastPosition?.pageX ?? 0), pageY - (state.current.lastPosition?.pageY ?? 0));\n          state.current.lastPosition = {pageX, pageY};\n        }\n      };\n      let onTouchEnd = (e: TouchEvent) => {\n        let touch = [...e.changedTouches].findIndex(({identifier}) => identifier === state.current.id);\n        if (touch >= 0) {\n          end(e, 'touch');\n          state.current.id = null;\n          removeGlobalListener(window, 'touchmove', onTouchMove);\n          removeGlobalListener(window, 'touchend', onTouchEnd);\n          removeGlobalListener(window, 'touchcancel', onTouchEnd);\n        }\n      };\n      moveProps.onTouchStart = (e: React.TouchEvent) => {\n        if (e.changedTouches.length === 0 || state.current.id != null) {\n          return;\n        }\n\n        let {pageX, pageY, identifier} = e.changedTouches[0];\n        start();\n        e.stopPropagation();\n        e.preventDefault();\n        state.current.lastPosition = {pageX, pageY};\n        state.current.id = identifier;\n        addGlobalListener(window, 'touchmove', onTouchMove, false);\n        addGlobalListener(window, 'touchend', onTouchEnd, false);\n        addGlobalListener(window, 'touchcancel', onTouchEnd, false);\n      };\n    } else {\n      let onPointerMove = (e: PointerEvent) => {\n        if (e.pointerId === state.current.id) {\n          let pointerType = (e.pointerType || 'mouse') as PointerType;\n\n          // Problems with PointerEvent#movementX/movementY:\n          // 1. it is always 0 on macOS Safari.\n          // 2. On Chrome Android, it's scaled by devicePixelRatio, but not on Chrome macOS\n          move(e, pointerType, e.pageX - (state.current.lastPosition?.pageX ?? 0), e.pageY - (state.current.lastPosition?.pageY ?? 0));\n          state.current.lastPosition = {pageX: e.pageX, pageY: e.pageY};\n        }\n      };\n\n      let onPointerUp = (e: PointerEvent) => {\n        if (e.pointerId === state.current.id) {\n          let pointerType = (e.pointerType || 'mouse') as PointerType;\n          end(e, pointerType);\n          state.current.id = null;\n          removeGlobalListener(window, 'pointermove', onPointerMove, false);\n          removeGlobalListener(window, 'pointerup', onPointerUp, false);\n          removeGlobalListener(window, 'pointercancel', onPointerUp, false);\n        }\n      };\n\n      moveProps.onPointerDown = (e: React.PointerEvent) => {\n        if (e.button === 0 && state.current.id == null) {\n          start();\n          e.stopPropagation();\n          e.preventDefault();\n          state.current.lastPosition = {pageX: e.pageX, pageY: e.pageY};\n          state.current.id = e.pointerId;\n          addGlobalListener(window, 'pointermove', onPointerMove, false);\n          addGlobalListener(window, 'pointerup', onPointerUp, false);\n          addGlobalListener(window, 'pointercancel', onPointerUp, false);\n        }\n      };\n    }\n\n    let triggerKeyboardMove = (e: EventBase, deltaX: number, deltaY: number) => {\n      start();\n      move(e, 'keyboard', deltaX, deltaY);\n      end(e, 'keyboard');\n    };\n\n    moveProps.onKeyDown = (e) => {\n      switch (e.key) {\n        case 'Left':\n        case 'ArrowLeft':\n          e.preventDefault();\n          e.stopPropagation();\n          triggerKeyboardMove(e, -1, 0);\n          break;\n        case 'Right':\n        case 'ArrowRight':\n          e.preventDefault();\n          e.stopPropagation();\n          triggerKeyboardMove(e, 1, 0);\n          break;\n        case 'Up':\n        case 'ArrowUp':\n          e.preventDefault();\n          e.stopPropagation();\n          triggerKeyboardMove(e, 0, -1);\n          break;\n        case 'Down':\n        case 'ArrowDown':\n          e.preventDefault();\n          e.stopPropagation();\n          triggerKeyboardMove(e, 0, 1);\n          break;\n      }\n    };\n\n    return moveProps;\n  }, [state, addGlobalListener, removeGlobalListener, move, end]);\n\n  return {moveProps};\n}\n", "/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {RefObject, useCallback} from 'react';\nimport {ScrollEvents} from '@react-types/shared';\nimport {useEvent} from '@react-aria/utils';\n\nexport interface ScrollWheelProps extends ScrollEvents {\n  /** Whether the scroll listener should be disabled. */\n  isDisabled?: boolean\n}\n\n// scroll wheel needs to be added not passively so it's cancelable, small helper hook to remember that\nexport function useScrollWheel(props: ScrollWheelProps, ref: RefObject<HTMLElement>): void {\n  let {onScroll, isDisabled} = props;\n  let onScrollHandler = useCallback((e) => {\n    // If the ctrlKey is pressed, this is a zoom event, do nothing.\n    if (e.ctrlKey) {\n      return;\n    }\n\n    // stop scrolling the page\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (onScroll) {\n      onScroll({deltaX: e.deltaX, deltaY: e.deltaY});\n    }\n  }, [onScroll]);\n\n  useEvent(ref, 'wheel', isDisabled ? undefined : onScrollHandler);\n}\n", "/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {DOMAttributes, LongPressEvent} from '@react-types/shared';\nimport {mergeProps, useDescription, useGlobalListeners} from '@react-aria/utils';\nimport {usePress} from './usePress';\nimport {useRef} from 'react';\n\nexport interface LongPressProps {\n  /** Whether long press events should be disabled. */\n  isDisabled?: boolean,\n  /** Handler that is called when a long press interaction starts. */\n  onLongPressStart?: (e: LongPressEvent) => void,\n  /**\n   * Handler that is called when a long press interaction ends, either\n   * over the target or when the pointer leaves the target.\n   */\n  onLongPressEnd?: (e: LongPressEvent) => void,\n  /**\n   * Handler that is called when the threshold time is met while\n   * the press is over the target.\n   */\n  onLongPress?: (e: LongPressEvent) => void,\n  /**\n   * The amount of time in milliseconds to wait before triggering a long press.\n   * @default 500ms\n   */\n  threshold?: number,\n  /**\n   * A description for assistive techology users indicating that a long press\n   * action is available, e.g. \"Long press to open menu\".\n   */\n  accessibilityDescription?: string\n}\n\nexport interface LongPressResult {\n  /** Props to spread on the target element. */\n  longPressProps: DOMAttributes\n}\n\nconst DEFAULT_THRESHOLD = 500;\n\n/**\n * Handles long press interactions across mouse and touch devices. Supports a customizable time threshold,\n * accessibility description, and normalizes behavior across browsers and devices.\n */\nexport function useLongPress(props: LongPressProps): LongPressResult {\n  let {\n    isDisabled,\n    onLongPressStart,\n    onLongPressEnd,\n    onLongPress,\n    threshold = DEFAULT_THRESHOLD,\n    accessibilityDescription\n  } = props;\n\n  const timeRef = useRef<ReturnType<typeof setTimeout> | undefined>();\n  let {addGlobalListener, removeGlobalListener} = useGlobalListeners();\n\n  let {pressProps} = usePress({\n    isDisabled,\n    onPressStart(e) {\n      e.continuePropagation();\n      if (e.pointerType === 'mouse' || e.pointerType === 'touch') {\n        if (onLongPressStart) {\n          onLongPressStart({\n            ...e,\n            type: 'longpressstart'\n          });\n        }\n\n        timeRef.current = setTimeout(() => {\n          // Prevent other usePress handlers from also handling this event.\n          e.target.dispatchEvent(new PointerEvent('pointercancel', {bubbles: true}));\n          if (onLongPress) {\n            onLongPress({\n              ...e,\n              type: 'longpress'\n            });\n          }\n          timeRef.current = undefined;\n        }, threshold);\n\n        // Prevent context menu, which may be opened on long press on touch devices\n        if (e.pointerType === 'touch') {\n          let onContextMenu = e => {\n            e.preventDefault();\n          };\n\n          addGlobalListener(e.target, 'contextmenu', onContextMenu, {once: true});\n          addGlobalListener(window, 'pointerup', () => {\n            // If no contextmenu event is fired quickly after pointerup, remove the handler\n            // so future context menu events outside a long press are not prevented.\n            setTimeout(() => {\n              removeGlobalListener(e.target, 'contextmenu', onContextMenu);\n            }, 30);\n          }, {once: true});\n        }\n      }\n    },\n    onPressEnd(e) {\n      if (timeRef.current) {\n        clearTimeout(timeRef.current);\n      }\n\n      if (onLongPressEnd && (e.pointerType === 'mouse' || e.pointerType === 'touch')) {\n        onLongPressEnd({\n          ...e,\n          type: 'longpressend'\n        });\n      }\n    }\n  });\n\n  let descriptionProps = useDescription(onLongPress && !isDisabled ? accessibilityDescription : undefined);\n\n  return {\n    longPressProps: mergeProps(pressProps, descriptionProps)\n  };\n}\n", "\"use client\";import{useFocusRing as b}from\"@react-aria/focus\";import{useHover as c}from\"@react-aria/interactions\";import{useMemo as P}from\"react\";import{useActivePress as B}from'../../hooks/use-active-press.js';import{useDisabled as A}from'../../internal/disabled.js';import{forwardRefWithAs as F,mergeProps as g,render as _}from'../../utils/render.js';let v=\"button\";function E(e,l){var p,a;let i=A(),{disabled:o=i||!1,...t}=e,{isFocusVisible:s,focusProps:T}=b({autoFocus:(p=e.autoFocus)!=null?p:!1}),{isHovered:n,hoverProps:f}=c({isDisabled:o}),{pressed:r,pressProps:m}=B(),d=g({ref:l,disabled:o||void 0,type:(a=t.type)!=null?a:\"button\"},T,f,m),y=P(()=>{var u;return{disabled:o,hover:n,focus:s,active:r,autofocus:(u=e.autoFocus)!=null?u:!1}},[o,n,s,r,e.autoFocus]);return _({ourProps:d,theirProps:t,slot:y,defaultTag:v,name:\"Button\"})}let L=F(E);export{L as Button};\n", "import{useRef as T,useState as m}from\"react\";import{getOwnerDocument as v}from'../utils/owner.js';import{isIOS as L}from'../utils/platform.js';import{useDocumentOverflowLockedEffect as P}from'./document-overflow/use-document-overflow.js';import{useDisposables as w}from'./use-disposables.js';import{useEvent as l}from'./use-event.js';import{useIsTouchDevice as R}from'./use-is-touch-device.js';import{useOwnerDocument as b}from'./use-owner.js';function D(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function k(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function x(){let e=T(null),[t,n]=m(!1),[u,s]=m(!1),r=w(),o=l(()=>{e.current=null,n(!1),s(!1),r.dispose()}),p=l(f=>{if(r.dispose(),e.current===null){e.current=f.currentTarget,n(!0);{let i=v(f.currentTarget);r.addEventListener(i,\"pointerup\",o,!1),r.addEventListener(i,\"pointermove\",g=>{if(e.current){let E=D(g);n(k(E,e.current.getBoundingClientRect()))}},!1),r.addEventListener(i,\"pointercancel\",o,!1)}}}),a=l(()=>{t&&e.current!==null&&(r.style(e.current,\"user-select\",\"none\"),L()&&r.style(e.current,\"-webkit-user-select\",\"none\"))}),d=l(()=>{u||r.setTimeout(()=>s(!0),100)}),h=b(e),c=R();return P(h,u&&c),{pressed:t,pressProps:{onPointerDown:p,onPointerUp:o,onTouchStart:a,onTouchMove:c?d:void 0,onClick:o}}}export{x as useActivePress};\n", "var i=Object.defineProperty;var d=(t,e,n)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var r=(t,e,n)=>(d(t,typeof e!=\"symbol\"?e+\"\":e,n),n);class o{constructor(){r(this,\"current\",this.detect());r(this,\"handoffState\",\"pending\");r(this,\"currentId\",0)}set(e){this.current!==e&&(this.handoffState=\"pending\",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current===\"server\"}get isClient(){return this.current===\"client\"}detect(){return typeof window==\"undefined\"||typeof document==\"undefined\"?\"server\":\"client\"}handoff(){this.handoffState===\"pending\"&&(this.handoffState=\"complete\")}get isHandoffComplete(){return this.handoffState===\"complete\"}}let s=new o;export{s as env};\n", "import{env as n}from'./env.js';function o(r){return n.isServer?null:r instanceof Node?r.ownerDocument:r!=null&&r.hasOwnProperty(\"current\")&&r.current instanceof Node?r.current.ownerDocument:document}export{o as getOwnerDocument};\n", "function t(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i(){return/Android/gi.test(window.navigator.userAgent)}function n(){return t()||i()}export{i as isAndroid,t as isIOS,n as isMobile};\n", "import*as e from\"react\";import{useSyncExternalStore as t}from'./useSyncExternalStoreShimClient.js';import{useSyncExternalStore as o}from'./useSyncExternalStoreShimServer.js';const r=typeof window!=\"undefined\"&&typeof window.document!=\"undefined\"&&typeof window.document.createElement!=\"undefined\",s=!r,c=s?o:t,a=\"useSyncExternalStore\"in e?(n=>n.useSyncExternalStore)(e):c;export{a as useSyncExternalStore};\n", "import*as l from\"react\";function i(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const d=typeof Object.is==\"function\"?Object.is:i,{useState:u,useEffect:h,useLayoutEffect:f,useDebugValue:p}=l;let S=!1,_=!1;function y(e,t,c){const a=t(),[{inst:n},o]=u({inst:{value:a,getSnapshot:t}});return f(()=>{n.value=a,n.getSnapshot=t,r(n)&&o({inst:n})},[e,a,t]),h(()=>(r(n)&&o({inst:n}),e(()=>{r(n)&&o({inst:n})})),[e]),p(a),a}function r(e){const t=e.getSnapshot,c=e.value;try{const a=t();return!d(c,a)}catch{return!0}}export{y as useSyncExternalStore};\n", "function t(r,e,n){return e()}export{t as useSyncExternalStore};\n", "import{useSyncExternalStore as e}from'../use-sync-external-store-shim/index.js';function n(t){return e(t.subscribe,t.getSnapshot,t.getSnapshot)}export{n as useStore};\n", "import{useEffect as f,useLayoutEffect as c}from\"react\";import{env as i}from'../utils/env.js';let n=(e,t)=>{i.isServer?f(e,t):c(e,t)};export{n as useIsoMorphicEffect};\n", "function t(e){typeof queueMicrotask==\"function\"?queueMicrotask(e):Promise.resolve().then(e).catch(o=>setTimeout(()=>{throw o}))}export{t as microTask};\n", "import{microTask as i}from'./micro-task.js';function o(){let n=[],r={addEventListener(e,t,s,a){return e.addEventListener(t,s,a),r.add(()=>e.removeEventListener(t,s,a))},requestAnimationFrame(...e){let t=requestAnimationFrame(...e);return r.add(()=>cancelAnimationFrame(t))},nextFrame(...e){return r.requestAnimationFrame(()=>r.requestAnimationFrame(...e))},setTimeout(...e){let t=setTimeout(...e);return r.add(()=>clearTimeout(t))},microTask(...e){let t={current:!0};return i(()=>{t.current&&e[0]()}),r.add(()=>{t.current=!1})},style(e,t,s){let a=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:s}),this.add(()=>{Object.assign(e.style,{[t]:a})})},group(e){let t=o();return e(t),this.add(()=>t.dispose())},add(e){return n.push(e),()=>{let t=n.indexOf(e);if(t>=0)for(let s of n.splice(t,1))s()}},dispose(){for(let e of n.splice(0))e()}};return r}export{o as disposables};\n", "function a(o,r){let t=o(),n=new Set;return{getSnapshot(){return t},subscribe(e){return n.add(e),()=>n.delete(e)},dispatch(e,...s){let i=r[e].call(t,...s);i&&(t=i,n.forEach(c=>c()))}}}export{a as createStore};\n", "function i(){let n;return{before({doc:e}){var l;let r=e.documentElement,t=(l=e.defaultView)!=null?l:window;n=Math.max(0,t.innerWidth-r.clientWidth)},after({doc:e,d:r}){let t=e.documentElement,l=Math.max(0,t.clientWidth-t.offsetWidth),o=Math.max(0,n-l);r.style(t,\"paddingRight\",`${o}px`)}}}export{i as adjustScrollbarPadding};\n", "import{disposables as m}from'../../utils/disposables.js';import{isIOS as f}from'../../utils/platform.js';function d(){if(!f())return{};let l;return{before(){var t;l=(t=window.scrollY)!=null?t:window.pageYOffset},after({doc:t,d:n,meta:s}){function i(o){return s.containers.flatMap(e=>e()).some(e=>e.contains(o))}n.microTask(()=>{if(window.getComputedStyle(t.documentElement).scrollBehavior!==\"auto\"){let e=m();e.style(t.documentElement,\"scroll-behavior\",\"auto\"),n.add(()=>n.microTask(()=>e.dispose()))}n.style(t.body,\"marginTop\",`-${l}px`),window.scrollTo(0,0);let o=null;n.addEventListener(t,\"click\",e=>{if(e.target instanceof HTMLElement)try{let r=e.target.closest(\"a\");if(!r)return;let{hash:c}=new URL(r.href),a=t.querySelector(c);a&&!i(a)&&(o=a)}catch{}},!0),n.addEventListener(t,\"touchmove\",e=>{e.target instanceof HTMLElement&&!i(e.target)&&e.preventDefault()},{passive:!1}),n.add(()=>{var e;window.scrollTo(0,((e=window.scrollY)!=null?e:window.pageYOffset)+l),o&&o.isConnected&&(o.scrollIntoView({block:\"nearest\"}),o=null)})})}}}export{d as handleIOSLocking};\n", "function t(){return{before({doc:e,d:o}){o.style(e.documentElement,\"overflow\",\"hidden\")}}}export{t as preventScroll};\n", "import{disposables as s}from'../../utils/disposables.js';import{createStore as i}from'../../utils/store.js';import{adjustScrollbarPadding as l}from'./adjust-scrollbar-padding.js';import{handleIOSLocking as d}from'./handle-ios-locking.js';import{preventScroll as p}from'./prevent-scroll.js';function m(e){let n={};for(let t of e)Object.assign(n,t(n));return n}let a=i(()=>new Map,{PUSH(e,n){var o;let t=(o=this.get(e))!=null?o:{doc:e,count:0,d:s(),meta:new Set};return t.count++,t.meta.add(n),this.set(e,t),this},POP(e,n){let t=this.get(e);return t&&(t.count--,t.meta.delete(n)),this},SCROLL_PREVENT({doc:e,d:n,meta:t}){let o={doc:e,d:n,meta:m(t)},c=[d(),l(),p()];c.forEach(({before:r})=>r==null?void 0:r(o)),c.forEach(({after:r})=>r==null?void 0:r(o))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});a.subscribe(()=>{let e=a.getSnapshot(),n=new Map;for(let[t]of e)n.set(t,t.documentElement.style.overflow);for(let t of e.values()){let o=n.get(t.doc)===\"hidden\",c=t.count!==0;(c&&!o||!c&&o)&&a.dispatch(t.count>0?\"SCROLL_PREVENT\":\"SCROLL_ALLOW\",t),t.count===0&&a.dispatch(\"TEARDOWN\",t)}});export{a as overflows};\n", "import{useStore as s}from'../../hooks/use-store.js';import{useIsoMorphicEffect as u}from'../use-iso-morphic-effect.js';import{overflows as t}from'./overflow-store.js';function a(e,r,n=()=>({containers:[]})){let f=s(t),o=e?f.get(e):void 0,i=o?o.count>0:!1;return u(()=>{if(!(!e||!r))return t.dispatch(\"PUSH\",e,n),()=>t.dispatch(\"POP\",e,n)},[r,e]),i}export{a as useDocumentOverflowLockedEffect};\n", "import{useEffect as s,useState as o}from\"react\";import{disposables as t}from'../utils/disposables.js';function p(){let[e]=o(t);return s(()=>()=>e.dispose(),[e]),e}export{p as useDisposables};\n", "import a from\"react\";import{useLatestValue as n}from'./use-latest-value.js';let o=function(t){let e=n(t);return a.useCallback((...r)=>e.current(...r),[e])};export{o as useEvent};\n", "import{useRef as t}from\"react\";import{useIsoMorphicEffect as o}from'./use-iso-morphic-effect.js';function s(e){let r=t(e);return o(()=>{r.current=e},[e]),r}export{s as useLatestValue};\n", "import{useState as i}from\"react\";import{useIsoMorphicEffect as s}from'./use-iso-morphic-effect.js';function f(){var t;let[e]=i(()=>typeof window!=\"undefined\"&&typeof window.matchMedia==\"function\"?window.matchMedia(\"(pointer: coarse)\"):null),[o,c]=i((t=e==null?void 0:e.matches)!=null?t:!1);return s(()=>{if(!e)return;function n(r){c(r.matches)}return e.addEventListener(\"change\",n),()=>e.removeEventListener(\"change\",n)},[e]),o}export{f as useIsTouchDevice};\n", "import{useMemo as t}from\"react\";import{getOwnerDocument as o}from'../utils/owner.js';function n(...e){return t(()=>o(...e),[...e])}export{n as useOwnerDocument};\n", "import n,{createContext as r,useContext as i}from\"react\";let e=r(void 0);function a(){return i(e)}function l({value:t,children:o}){return n.createElement(e.Provider,{value:t},o)}export{l as DisabledProvider,a as useDisabled};\n", "import{Fragment as F,cloneElement as N,createElement as P,forwardRef as E,isValidElement as j,useCallback as S,useRef as w}from\"react\";import{classNames as h}from'./class-names.js';import{match as v}from'./match.js';var O=(a=>(a[a.None=0]=\"None\",a[a.RenderStrategy=1]=\"RenderStrategy\",a[a.Static=2]=\"Static\",a))(O||{}),k=(e=>(e[e.Unmount=0]=\"Unmount\",e[e.Hidden=1]=\"Hidden\",e))(k||{});function $({ourProps:r,theirProps:n,slot:e,defaultTag:a,features:s,visible:t=!0,name:l,mergeRefs:i}){i=i!=null?i:M;let o=x(n,r);if(t)return g(o,e,a,l,i);let y=s!=null?s:0;if(y&2){let{static:f=!1,...d}=o;if(f)return g(d,e,a,l,i)}if(y&1){let{unmount:f=!0,...d}=o;return v(f?0:1,{[0](){return null},[1](){return g({...d,hidden:!0,style:{display:\"none\"}},e,a,l,i)}})}return g(o,e,a,l,i)}function g(r,n={},e,a,s){let{as:t=e,children:l,refName:i=\"ref\",...o}=R(r,[\"unmount\",\"static\"]),y=r.ref!==void 0?{[i]:r.ref}:{},f=typeof l==\"function\"?l(n):l;\"className\"in o&&o.className&&typeof o.className==\"function\"&&(o.className=o.className(n)),o[\"aria-labelledby\"]&&o[\"aria-labelledby\"]===o.id&&(o[\"aria-labelledby\"]=void 0);let d={};if(n){let u=!1,p=[];for(let[c,T]of Object.entries(n))typeof T==\"boolean\"&&(u=!0),T===!0&&p.push(c.replace(/([A-Z])/g,b=>`-${b.toLowerCase()}`));if(u){d[\"data-headlessui-state\"]=p.join(\" \");for(let c of p)d[`data-${c}`]=\"\"}}if(t===F&&(Object.keys(m(o)).length>0||Object.keys(m(d)).length>0))if(!j(f)||Array.isArray(f)&&f.length>1){if(Object.keys(m(o)).length>0)throw new Error(['Passing props on \"Fragment\"!',\"\",`The current component <${a} /> is rendering a \"Fragment\".`,\"However we need to passthrough the following props:\",Object.keys(m(o)).concat(Object.keys(m(d))).map(u=>`  - ${u}`).join(`\n`),\"\",\"You can apply a few solutions:\",['Add an `as=\"...\"` prop, to ensure that we render an actual element instead of a \"Fragment\".',\"Render a single element as the child so that we can forward the props onto that element.\"].map(u=>`  - ${u}`).join(`\n`)].join(`\n`))}else{let u=f.props,p=u==null?void 0:u.className,c=typeof p==\"function\"?(...b)=>h(p(...b),o.className):h(p,o.className),T=c?{className:c}:{};return N(f,Object.assign({},x(f.props,m(R(o,[\"ref\"]))),d,y,{ref:s(f.ref,y.ref)},T))}return P(t,Object.assign({},R(o,[\"ref\"]),t!==F&&y,t!==F&&d),f)}function H(){let r=w([]),n=S(e=>{for(let a of r.current)a!=null&&(typeof a==\"function\"?a(e):a.current=e)},[]);return(...e)=>{if(!e.every(a=>a==null))return r.current=e,n}}function M(...r){return r.every(n=>n==null)?void 0:n=>{for(let e of r)e!=null&&(typeof e==\"function\"?e(n):e.current=n)}}function x(...r){var a;if(r.length===0)return{};if(r.length===1)return r[0];let n={},e={};for(let s of r)for(let t in s)t.startsWith(\"on\")&&typeof s[t]==\"function\"?((a=e[t])!=null||(e[t]=[]),e[t].push(s[t])):n[t]=s[t];if(n.disabled||n[\"aria-disabled\"])return Object.assign(n,Object.fromEntries(Object.keys(e).map(s=>[s,void 0])));for(let s in e)Object.assign(n,{[s](t,...l){let i=e[s];for(let o of i){if((t instanceof Event||(t==null?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;o(t,...l)}}});return n}function I(...r){var a;if(r.length===0)return{};if(r.length===1)return r[0];let n={},e={};for(let s of r)for(let t in s)t.startsWith(\"on\")&&typeof s[t]==\"function\"?((a=e[t])!=null||(e[t]=[]),e[t].push(s[t])):n[t]=s[t];for(let s in e)Object.assign(n,{[s](...t){let l=e[s];for(let i of l)i==null||i(...t)}});return n}function U(r){var n;return Object.assign(E(r),{displayName:(n=r.displayName)!=null?n:r.name})}function m(r){let n=Object.assign({},r);for(let e in n)n[e]===void 0&&delete n[e];return n}function R(r,n=[]){let e=Object.assign({},r);for(let a of n)a in e&&delete e[a];return e}export{O as RenderFeatures,k as RenderStrategy,m as compact,U as forwardRefWithAs,I as mergeProps,$ as render,H as useMergeRefsFn};\n", "function t(...r){return Array.from(new Set(r.flatMap(n=>typeof n==\"string\"?n.split(\" \"):[]))).filter(Boolean).join(\" \")}export{t as classNames};\n", "function u(r,n,...a){if(r in n){let e=n[r];return typeof e==\"function\"?e(...a):e}let t=new Error(`Tried to handle \"${r}\" but there is no handler defined. Only defined handlers are: ${Object.keys(n).map(e=>`\"${e}\"`).join(\", \")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,u),t}export{u as match};\n", "\"use client\";import{useFocusRing as X}from\"@react-aria/focus\";import{useHover as G}from\"@react-aria/interactions\";import n,{useCallback as U,useMemo as S,useState as W}from\"react\";import{useActivePress as N}from'../../hooks/use-active-press.js';import{useControllable as J}from'../../hooks/use-controllable.js';import{useDisposables as V}from'../../hooks/use-disposables.js';import{useEvent as l}from'../../hooks/use-event.js';import{useId as $}from'../../hooks/use-id.js';import{useDisabled as j}from'../../internal/disabled.js';import{FormFields as q}from'../../internal/form-fields.js';import{useProvidedId as z}from'../../internal/id.js';import{isDisabledReactIssue7711 as T}from'../../utils/bugs.js';import{forwardRefWithAs as Q,mergeProps as Y,render as Z}from'../../utils/render.js';import{useDescribedBy as ee}from'../description/description.js';import{Keys as oe}from'../keyboard.js';import{useLabelledBy as te}from'../label/label.js';let re=\"span\";function ae(a,h){var y;let C=$(),k=z(),x=j(),{id:g=k||`headlessui-checkbox-${C}`,disabled:o=x||!1,checked:E,defaultChecked:i=!1,onChange:v,name:d,value:P,form:D,indeterminate:s=!1,...F}=a,[r,t]=J(E,v,i),A=te(),R=ee(),_=V(),[c,p]=W(!1),u=l(()=>{p(!0),t==null||t(!r),_.nextFrame(()=>{p(!1)})}),K=l(e=>{if(T(e.currentTarget))return e.preventDefault();u()}),H=l(e=>{if(T(e.currentTarget))return e.preventDefault();switch(e.key){case oe.Space:e.preventDefault(),u();break}}),{isFocusVisible:b,focusProps:B}=X({autoFocus:(y=a.autoFocus)!=null?y:!1}),{isHovered:f,hoverProps:I}=G({isDisabled:o!=null?o:!1}),{pressed:m,pressProps:L}=N(),w=Y({ref:h,id:g,role:\"checkbox\",\"aria-checked\":s?\"mixed\":r?\"true\":\"false\",\"aria-labelledby\":A,\"aria-describedby\":R,\"aria-disabled\":o?!0:void 0,indeterminate:s?\"true\":void 0,tabIndex:0,onKeyDown:o?void 0:H,onClick:o?void 0:K},B,I,L),M=S(()=>{var e;return{checked:r,disabled:o,hover:f,focus:b,active:m,indeterminate:s,changing:c,autofocus:(e=a.autoFocus)!=null?e:!1}},[r,s,o,f,b,m,c,a.autoFocus]),O=U(()=>t==null?void 0:t(i),[t]);return n.createElement(n.Fragment,null,d!=null&&n.createElement(q,{data:r?{[d]:P||\"on\"}:{},form:D,onReset:O}),Z({ourProps:w,theirProps:F,slot:M,defaultTag:re,name:\"Checkbox\"}))}let xe=Q(ae);export{xe as Checkbox};\n", "import{useRef as o,useState as f}from\"react\";import{useEvent as a}from'./use-event.js';function T(l,r,c){let[i,s]=f(c),e=l!==void 0,t=o(e),u=o(!1),d=o(!1);return e&&!t.current&&!u.current?(u.current=!0,t.current=e,console.error(\"A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.\")):!e&&t.current&&!d.current&&(d.current=!0,t.current=e,console.error(\"A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.\")),[e?l:i,a(n=>(e||s(n),r==null?void 0:r(n)))]}export{T as useControllable};\n", "var o;import t from\"react\";import{env as r}from'../utils/env.js';import{useIsoMorphicEffect as d}from'./use-iso-morphic-effect.js';import{useServerHandoffComplete as f}from'./use-server-handoff-complete.js';let I=(o=t.useId)!=null?o:function(){let n=f(),[e,u]=t.useState(n?()=>r.nextId():null);return d(()=>{e===null&&u(r.nextId())},[e]),e!=null?\"\"+e:void 0};export{I as useId};\n", "import*as t from\"react\";import{env as f}from'../utils/env.js';function s(){let r=typeof document==\"undefined\";return\"useSyncExternalStore\"in t?(o=>o.useSyncExternalStore)(t)(()=>()=>{},()=>!1,()=>!r):!1}function l(){let r=s(),[e,n]=t.useState(f.isHandoffComplete);return e&&f.isHandoffComplete===!1&&n(!1),t.useEffect(()=>{e!==!0&&n(!0)},[e]),t.useEffect(()=>f.handoff(),[]),r?!1:e}export{l as useServerHandoffComplete};\n", "import o,{createContext as a,useContext as H,useEffect as m,useState as s}from\"react\";import{createPortal as v}from\"react-dom\";import{useDisposables as E}from'../hooks/use-disposables.js';import{objectToFormEntries as g}from'../utils/form.js';import{compact as h}from'../utils/render.js';import{Hidden as i,HiddenFeatures as l}from'./hidden.js';let u=a(null);function b(t){let[r,e]=s(null);return o.createElement(u.Provider,{value:{target:r}},t.children,o.createElement(i,{features:l.Hidden,ref:e}))}function x({children:t}){let r=H(u);if(!r)return o.createElement(o.Fragment,null,t);let{target:e}=r;return e?v(o.createElement(o.Fragment,null,t),e):null}function O({data:t,form:r,onReset:e}){let[n,f]=s(null),F=E();return m(()=>{if(e&&n)return F.addEventListener(n,\"reset\",e)},[n,r,e]),o.createElement(x,null,o.createElement(y,{setForm:f,formId:r}),g(t).map(([d,p])=>o.createElement(i,{features:l.Hidden,...h({key:d,as:\"input\",type:\"hidden\",hidden:!0,readOnly:!0,form:r,name:d,value:p})})))}function y({setForm:t,formId:r}){return m(()=>{if(r){let e=document.getElementById(r);e&&t(e)}},[t,r]),r?null:o.createElement(i,{features:l.Hidden,as:\"input\",type:\"hidden\",hidden:!0,readOnly:!0,ref:e=>{if(!e)return;let n=e.closest(\"form\");n&&t(n)}})}export{O as FormFields,b as FormFieldsProvider,x as HoistFormFields};\n", "function e(i={},s=null,t=[]){for(let[r,n]of Object.entries(i))o(t,f(s,r),n);return t}function f(i,s){return i?i+\"[\"+s+\"]\":s}function o(i,s,t){if(Array.isArray(t))for(let[r,n]of t.entries())o(i,f(s,r.toString()),n);else t instanceof Date?i.push([s,t.toISOString()]):typeof t==\"boolean\"?i.push([s,t?\"1\":\"0\"]):typeof t==\"string\"?i.push([s,t]):typeof t==\"number\"?i.push([s,`${t}`]):t==null?i.push([s,\"\"]):e(t,s,i)}function p(i){var t,r;let s=(t=i==null?void 0:i.form)!=null?t:i.closest(\"form\");if(s){for(let n of s.elements)if(n!==i&&(n.tagName===\"INPUT\"&&n.type===\"submit\"||n.tagName===\"BUTTON\"&&n.type===\"submit\"||n.nodeName===\"INPUT\"&&n.type===\"image\")){n.click();return}(r=s.requestSubmit)==null||r.call(s)}}export{p as attemptSubmit,e as objectToFormEntries};\n", "import{forwardRefWithAs as p,render as i}from'../utils/render.js';let a=\"div\";var s=(e=>(e[e.None=1]=\"None\",e[e.Focusable=2]=\"Focusable\",e[e.Hidden=4]=\"Hidden\",e))(s||{});function l(t,o){var n;let{features:d=1,...e}=t,r={ref:o,\"aria-hidden\":(d&2)===2?!0:(n=e[\"aria-hidden\"])!=null?n:void 0,style:{position:\"fixed\",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:\"hidden\",clip:\"rect(0, 0, 0, 0)\",whiteSpace:\"nowrap\",borderWidth:\"0\",...(d&4)===4&&(d&2)!==2&&{display:\"none\"}}};return i({ourProps:r,theirProps:e,slot:{},defaultTag:a,name:\"Hidden\"})}let H=p(l);export{H as Hidden,s as HiddenFeatures};\n", "import n,{createContext as d,useContext as i}from\"react\";let e=d(void 0);function u(){return i(e)}function f({id:t,children:r}){return n.createElement(e.Provider,{value:t},r)}export{f as IdProvider,u as useProvidedId};\n", "function r(n){let e=n.parentElement,l=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(l=e),e=e.parentElement;let t=(e==null?void 0:e.getAttribute(\"disabled\"))===\"\";return t&&i(l)?!1:t}function i(n){if(!n)return!1;let e=n.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}export{r as isDisabledReactIssue7711};\n", "\"use client\";import m,{createContext as T,useContext as u,useMemo as c,useState as P}from\"react\";import{useEvent as g}from'../../hooks/use-event.js';import{useId as x}from'../../hooks/use-id.js';import{useIsoMorphicEffect as y}from'../../hooks/use-iso-morphic-effect.js';import{useSyncRefs as E}from'../../hooks/use-sync-refs.js';import{useDisabled as v}from'../../internal/disabled.js';import{forwardRefWithAs as R,render as I}from'../../utils/render.js';let a=T(null);a.displayName=\"DescriptionContext\";function f(){let r=u(a);if(r===null){let e=new Error(\"You used a <Description /> component, but it is not inside a relevant parent.\");throw Error.captureStackTrace&&Error.captureStackTrace(e,f),e}return r}function w(){var r,e;return(e=(r=u(a))==null?void 0:r.value)!=null?e:void 0}function G(){let[r,e]=P([]);return[r.length>0?r.join(\" \"):void 0,c(()=>function(t){let i=g(n=>(e(s=>[...s,n]),()=>e(s=>{let o=s.slice(),p=o.indexOf(n);return p!==-1&&o.splice(p,1),o}))),l=c(()=>({register:i,slot:t.slot,name:t.name,props:t.props,value:t.value}),[i,t.slot,t.name,t.props,t.value]);return m.createElement(a.Provider,{value:l},t.children)},[e])]}let S=\"p\";function h(r,e){let d=x(),t=v(),{id:i=`headlessui-description-${d}`,...l}=r,n=f(),s=E(e);y(()=>n.register(i),[i,n.register]);let o=t||!1,p=c(()=>({...n.slot,disabled:o}),[n.slot,o]),D={ref:s,...n.props,id:i};return I({ourProps:D,theirProps:l,slot:p,defaultTag:S,name:n.name||\"Description\"})}let C=R(h),U=Object.assign(C,{});export{U as Description,w as useDescribedBy,G as useDescriptions};\n", "import{useEffect as l,useRef as i}from\"react\";import{useEvent as r}from'./use-event.js';let u=Symbol();function T(t,n=!0){return Object.assign(t,{[u]:n})}function y(...t){let n=i(t);l(()=>{n.current=t},[t]);let c=r(e=>{for(let o of n.current)o!=null&&(typeof o==\"function\"?o(e):o.current=e)});return t.every(e=>e==null||(e==null?void 0:e[u]))?void 0:c}export{T as optionalRef,y as useSyncRefs};\n", "var o=(r=>(r.Space=\" \",r.Enter=\"Enter\",r.Escape=\"Escape\",r.Backspace=\"Backspace\",r.Delete=\"Delete\",r.ArrowLeft=\"ArrowLeft\",r.ArrowUp=\"ArrowUp\",r.ArrowRight=\"ArrowRight\",r.ArrowDown=\"ArrowDown\",r.Home=\"Home\",r.End=\"End\",r.PageUp=\"PageUp\",r.PageDown=\"PageDown\",r.Tab=\"Tab\",r))(o||{});export{o as Keys};\n", "\"use client\";import k,{createContext as D,useContext as h,useMemo as T,useState as R}from\"react\";import{useEvent as v}from'../../hooks/use-event.js';import{useId as _}from'../../hooks/use-id.js';import{useIsoMorphicEffect as A}from'../../hooks/use-iso-morphic-effect.js';import{useSyncRefs as B}from'../../hooks/use-sync-refs.js';import{useDisabled as F}from'../../internal/disabled.js';import{useProvidedId as S}from'../../internal/id.js';import{forwardRefWithAs as M,render as H}from'../../utils/render.js';let c=D(null);c.displayName=\"LabelContext\";function P(){let r=h(c);if(r===null){let l=new Error(\"You used a <Label /> component, but it is not inside a relevant parent.\");throw Error.captureStackTrace&&Error.captureStackTrace(l,P),l}return r}function I(r){var a,e,o;let l=(e=(a=h(c))==null?void 0:a.value)!=null?e:void 0;return((o=r==null?void 0:r.length)!=null?o:0)>0?[l,...r].filter(Boolean).join(\" \"):l}function w({inherit:r=!1}={}){let l=I(),[a,e]=R([]),o=r?[l,...a].filter(Boolean):a;return[o.length>0?o.join(\" \"):void 0,T(()=>function(t){let s=v(i=>(e(p=>[...p,i]),()=>e(p=>{let u=p.slice(),d=u.indexOf(i);return d!==-1&&u.splice(d,1),u}))),m=T(()=>({register:s,slot:t.slot,name:t.name,props:t.props,value:t.value}),[s,t.slot,t.name,t.props,t.value]);return k.createElement(c.Provider,{value:m},t.children)},[e])]}let N=\"label\";function G(r,l){var y;let a=_(),e=P(),o=S(),g=F(),{id:t=`headlessui-label-${a}`,htmlFor:s=o!=null?o:(y=e.props)==null?void 0:y.htmlFor,passive:m=!1,...i}=r,p=B(l);A(()=>e.register(t),[t,e.register]);let u=v(L=>{let b=L.currentTarget;if(b instanceof HTMLLabelElement&&L.preventDefault(),e.props&&\"onClick\"in e.props&&typeof e.props.onClick==\"function\"&&e.props.onClick(L),b instanceof HTMLLabelElement){let n=document.getElementById(b.htmlFor);if(n){let E=n.getAttribute(\"disabled\");if(E===\"true\"||E===\"\")return;let x=n.getAttribute(\"aria-disabled\");if(x===\"true\"||x===\"\")return;(n instanceof HTMLInputElement&&(n.type===\"radio\"||n.type===\"checkbox\")||n.role===\"radio\"||n.role===\"checkbox\"||n.role===\"switch\")&&n.click(),n.focus({preventScroll:!0})}}}),d=g||!1,C=T(()=>({...e.slot,disabled:d}),[e.slot,d]),f={ref:p,...e.props,id:t,htmlFor:s,onClick:u};return m&&(\"onClick\"in f&&(delete f.htmlFor,delete f.onClick),\"onClick\"in i&&delete i.onClick),H({ourProps:f,theirProps:i,slot:C,defaultTag:s?N:\"div\",name:e.name||\"Label\"})}let U=M(G),z=Object.assign(U,{});export{z as Label,P as useLabelContext,I as useLabelledBy,w as useLabels};\n", "/**\n * react-virtual\n *\n * Copyright (c) TanStack\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nexport { _extends as extends };\n//# sourceMappingURL=_rollupPluginBabelHelpers.mjs.map\n", "/**\n * virtual-core\n *\n * Copyright (c) TanStack\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nexport { _extends as extends };\n//# sourceMappingURL=_rollupPluginBabelHelpers.mjs.map\n", "export type NoInfer<A extends any> = [A][A extends any ? 0 : never]\n\nexport type PartialKeys<T, K extends keyof T> = Omit<T, K> & Partial<Pick<T, K>>\n\nexport function memo<TDeps extends readonly any[], TResult>(\n  getDeps: () => [...TDeps],\n  fn: (...args: NoInfer<[...TDeps]>) => TResult,\n  opts: {\n    key: false | string\n    debug?: () => any\n    onChange?: (result: TResult) => void\n    initialDeps?: TDeps\n  },\n) {\n  let deps = opts.initialDeps ?? []\n  let result: TResult | undefined\n\n  return (): TResult => {\n    let depTime: number\n    if (opts.key && opts.debug?.()) depTime = Date.now()\n\n    const newDeps = getDeps()\n\n    const depsChanged =\n      newDeps.length !== deps.length ||\n      newDeps.some((dep: any, index: number) => deps[index] !== dep)\n\n    if (!depsChanged) {\n      return result!\n    }\n\n    deps = newDeps\n\n    let resultTime: number\n    if (opts.key && opts.debug?.()) resultTime = Date.now()\n\n    result = fn(...newDeps)\n\n    if (opts.key && opts.debug?.()) {\n      const depEndTime = Math.round((Date.now() - depTime!) * 100) / 100\n      const resultEndTime = Math.round((Date.now() - resultTime!) * 100) / 100\n      const resultFpsPercentage = resultEndTime / 16\n\n      const pad = (str: number | string, num: number) => {\n        str = String(str)\n        while (str.length < num) {\n          str = ' ' + str\n        }\n        return str\n      }\n\n      console.info(\n        `%c⏱ ${pad(resultEndTime, 5)} /${pad(depEndTime, 5)} ms`,\n        `\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(\n              0,\n              Math.min(120 - 120 * resultFpsPercentage, 120),\n            )}deg 100% 31%);`,\n        opts?.key,\n      )\n    }\n\n    opts?.onChange?.(result)\n\n    return result!\n  }\n}\n\nexport function notUndefined<T>(value: T | undefined, msg?: string): T {\n  if (value === undefined) {\n    throw new Error(`Unexpected undefined${msg ? `: ${msg}` : ''}`)\n  } else {\n    return value\n  }\n}\n\nexport const approxEqual = (a: number, b: number) => Math.abs(a - b) < 1\n", "import { approxEqual, memo, notUndefined } from './utils'\n\nexport * from './utils'\n\n//\n\ntype ScrollDirection = 'forward' | 'backward'\n\ntype ScrollAlignment = 'start' | 'center' | 'end' | 'auto'\n\ntype ScrollBehavior = 'auto' | 'smooth'\n\nexport interface ScrollToOptions {\n  align?: ScrollAlignment\n  behavior?: ScrollBehavior\n}\n\ntype ScrollToOffsetOptions = ScrollToOptions\n\ntype ScrollToIndexOptions = ScrollToOptions\n\nexport interface Range {\n  startIndex: number\n  endIndex: number\n  overscan: number\n  count: number\n}\n\ntype Key = number | string\n\nexport interface VirtualItem {\n  key: Key\n  index: number\n  start: number\n  end: number\n  size: number\n  lane: number\n}\n\ninterface Rect {\n  width: number\n  height: number\n}\n\n//\n\nexport const defaultKeyExtractor = (index: number) => index\n\nexport const defaultRangeExtractor = (range: Range) => {\n  const start = Math.max(range.startIndex - range.overscan, 0)\n  const end = Math.min(range.endIndex + range.overscan, range.count - 1)\n\n  const arr = []\n\n  for (let i = start; i <= end; i++) {\n    arr.push(i)\n  }\n\n  return arr\n}\n\nexport const observeElementRect = <T extends Element>(\n  instance: Virtualizer<T, any>,\n  cb: (rect: Rect) => void,\n) => {\n  const element = instance.scrollElement\n  if (!element) {\n    return\n  }\n\n  const handler = (rect: Rect) => {\n    const { width, height } = rect\n    cb({ width: Math.round(width), height: Math.round(height) })\n  }\n\n  handler(element.getBoundingClientRect())\n\n  const observer = new ResizeObserver((entries) => {\n    const entry = entries[0]\n    if (entry?.borderBoxSize) {\n      const box = entry.borderBoxSize[0]\n      if (box) {\n        handler({ width: box.inlineSize, height: box.blockSize })\n        return\n      }\n    }\n    handler(element.getBoundingClientRect())\n  })\n\n  observer.observe(element, { box: 'border-box' })\n\n  return () => {\n    observer.unobserve(element)\n  }\n}\n\nexport const observeWindowRect = (\n  instance: Virtualizer<Window, any>,\n  cb: (rect: Rect) => void,\n) => {\n  const element = instance.scrollElement\n  if (!element) {\n    return\n  }\n\n  const handler = () => {\n    cb({ width: element.innerWidth, height: element.innerHeight })\n  }\n  handler()\n\n  element.addEventListener('resize', handler, {\n    passive: true,\n  })\n\n  return () => {\n    element.removeEventListener('resize', handler)\n  }\n}\n\nexport const observeElementOffset = <T extends Element>(\n  instance: Virtualizer<T, any>,\n  cb: (offset: number) => void,\n) => {\n  const element = instance.scrollElement\n  if (!element) {\n    return\n  }\n\n  const handler = () => {\n    cb(element[instance.options.horizontal ? 'scrollLeft' : 'scrollTop'])\n  }\n  handler()\n\n  element.addEventListener('scroll', handler, {\n    passive: true,\n  })\n\n  return () => {\n    element.removeEventListener('scroll', handler)\n  }\n}\n\nexport const observeWindowOffset = (\n  instance: Virtualizer<Window, any>,\n  cb: (offset: number) => void,\n) => {\n  const element = instance.scrollElement\n  if (!element) {\n    return\n  }\n\n  const handler = () => {\n    cb(element[instance.options.horizontal ? 'scrollX' : 'scrollY'])\n  }\n  handler()\n\n  element.addEventListener('scroll', handler, {\n    passive: true,\n  })\n\n  return () => {\n    element.removeEventListener('scroll', handler)\n  }\n}\n\nexport const measureElement = <TItemElement extends Element>(\n  element: TItemElement,\n  entry: ResizeObserverEntry | undefined,\n  instance: Virtualizer<any, TItemElement>,\n) => {\n  if (entry?.borderBoxSize) {\n    const box = entry.borderBoxSize[0]\n    if (box) {\n      const size = Math.round(\n        box[instance.options.horizontal ? 'inlineSize' : 'blockSize'],\n      )\n      return size\n    }\n  }\n  return Math.round(\n    element.getBoundingClientRect()[\n      instance.options.horizontal ? 'width' : 'height'\n    ],\n  )\n}\n\nexport const windowScroll = <T extends Window>(\n  offset: number,\n  {\n    adjustments = window.scrollY,\n    behavior,\n  }: { adjustments?: number; behavior?: ScrollBehavior },\n  instance: Virtualizer<T, any>,\n) => {\n  const toOffset = offset + adjustments\n\n  instance.scrollElement?.scrollTo?.({\n    [instance.options.horizontal ? 'left' : 'top']: toOffset,\n    behavior,\n  })\n}\n\nexport const elementScroll = <T extends Element>(\n  offset: number,\n  {\n    adjustments = 0,\n    behavior,\n  }: { adjustments?: number; behavior?: ScrollBehavior },\n  instance: Virtualizer<T, any>,\n) => {\n  const toOffset = offset + adjustments\n\n  instance.scrollElement?.scrollTo?.({\n    [instance.options.horizontal ? 'left' : 'top']: toOffset,\n    behavior,\n  })\n}\n\nexport interface VirtualizerOptions<\n  TScrollElement extends Element | Window,\n  TItemElement extends Element,\n> {\n  // Required from the user\n  count: number\n  getScrollElement: () => TScrollElement | null\n  estimateSize: (index: number) => number\n\n  // Required from the framework adapter (but can be overridden)\n  scrollToFn: (\n    offset: number,\n    options: { adjustments?: number; behavior?: ScrollBehavior },\n    instance: Virtualizer<TScrollElement, TItemElement>,\n  ) => void\n  observeElementRect: (\n    instance: Virtualizer<TScrollElement, TItemElement>,\n    cb: (rect: Rect) => void,\n  ) => void | (() => void)\n  observeElementOffset: (\n    instance: Virtualizer<TScrollElement, TItemElement>,\n    cb: (offset: number) => void,\n  ) => void | (() => void)\n\n  // Optional\n  debug?: any\n  initialRect?: Rect\n  onChange?: (instance: Virtualizer<TScrollElement, TItemElement>) => void\n  measureElement?: (\n    element: TItemElement,\n    entry: ResizeObserverEntry | undefined,\n    instance: Virtualizer<TScrollElement, TItemElement>,\n  ) => number\n  overscan?: number\n  horizontal?: boolean\n  paddingStart?: number\n  paddingEnd?: number\n  scrollPaddingStart?: number\n  scrollPaddingEnd?: number\n  initialOffset?: number\n  getItemKey?: (index: number) => Key\n  rangeExtractor?: (range: Range) => number[]\n  scrollMargin?: number\n  scrollingDelay?: number\n  indexAttribute?: string\n  initialMeasurementsCache?: VirtualItem[]\n  lanes?: number\n}\n\nexport class Virtualizer<\n  TScrollElement extends Element | Window,\n  TItemElement extends Element,\n> {\n  private unsubs: (void | (() => void))[] = []\n  options!: Required<VirtualizerOptions<TScrollElement, TItemElement>>\n  scrollElement: TScrollElement | null = null\n  isScrolling: boolean = false\n  private isScrollingTimeoutId: ReturnType<typeof setTimeout> | null = null\n  private scrollToIndexTimeoutId: ReturnType<typeof setTimeout> | null = null\n  measurementsCache: VirtualItem[] = []\n  private itemSizeCache = new Map<Key, number>()\n  private pendingMeasuredCacheIndexes: number[] = []\n  private scrollRect: Rect\n  scrollOffset: number\n  scrollDirection: ScrollDirection | null = null\n  private scrollAdjustments: number = 0\n  measureElementCache = new Map<Key, TItemElement>()\n  private observer = (() => {\n    let _ro: ResizeObserver | null = null\n\n    const get = () => {\n      if (_ro) {\n        return _ro\n      } else if (typeof ResizeObserver !== 'undefined') {\n        return (_ro = new ResizeObserver((entries) => {\n          entries.forEach((entry) => {\n            this._measureElement(entry.target as TItemElement, entry)\n          })\n        }))\n      } else {\n        return null\n      }\n    }\n\n    return {\n      disconnect: () => get()?.disconnect(),\n      observe: (target: Element) =>\n        get()?.observe(target, { box: 'border-box' }),\n      unobserve: (target: Element) => get()?.unobserve(target),\n    }\n  })()\n  range: { startIndex: number; endIndex: number } = {\n    startIndex: 0,\n    endIndex: 0,\n  }\n\n  constructor(opts: VirtualizerOptions<TScrollElement, TItemElement>) {\n    this.setOptions(opts)\n    this.scrollRect = this.options.initialRect\n    this.scrollOffset = this.options.initialOffset\n    this.measurementsCache = this.options.initialMeasurementsCache\n    this.measurementsCache.forEach((item) => {\n      this.itemSizeCache.set(item.key, item.size)\n    })\n\n    this.maybeNotify()\n  }\n\n  setOptions = (opts: VirtualizerOptions<TScrollElement, TItemElement>) => {\n    Object.entries(opts).forEach(([key, value]) => {\n      if (typeof value === 'undefined') delete (opts as any)[key]\n    })\n\n    this.options = {\n      debug: false,\n      initialOffset: 0,\n      overscan: 1,\n      paddingStart: 0,\n      paddingEnd: 0,\n      scrollPaddingStart: 0,\n      scrollPaddingEnd: 0,\n      horizontal: false,\n      getItemKey: defaultKeyExtractor,\n      rangeExtractor: defaultRangeExtractor,\n      onChange: () => {},\n      measureElement,\n      initialRect: { width: 0, height: 0 },\n      scrollMargin: 0,\n      scrollingDelay: 150,\n      indexAttribute: 'data-index',\n      initialMeasurementsCache: [],\n      lanes: 1,\n      ...opts,\n    }\n  }\n\n  private notify = () => {\n    this.options.onChange?.(this)\n  }\n\n  private cleanup = () => {\n    this.unsubs.filter(Boolean).forEach((d) => d!())\n    this.unsubs = []\n    this.scrollElement = null\n  }\n\n  _didMount = () => {\n    this.measureElementCache.forEach(this.observer.observe)\n    return () => {\n      this.observer.disconnect()\n      this.cleanup()\n    }\n  }\n\n  _willUpdate = () => {\n    const scrollElement = this.options.getScrollElement()\n\n    if (this.scrollElement !== scrollElement) {\n      this.cleanup()\n\n      this.scrollElement = scrollElement\n\n      this._scrollToOffset(this.scrollOffset, {\n        adjustments: undefined,\n        behavior: undefined,\n      })\n\n      this.unsubs.push(\n        this.options.observeElementRect(this, (rect) => {\n          const prev = this.scrollRect\n          this.scrollRect = rect\n          if (\n            this.options.horizontal\n              ? rect.width !== prev.width\n              : rect.height !== prev.height\n          ) {\n            this.maybeNotify()\n          }\n        }),\n      )\n\n      this.unsubs.push(\n        this.options.observeElementOffset(this, (offset) => {\n          this.scrollAdjustments = 0\n\n          if (this.scrollOffset === offset) {\n            return\n          }\n\n          if (this.isScrollingTimeoutId !== null) {\n            clearTimeout(this.isScrollingTimeoutId)\n            this.isScrollingTimeoutId = null\n          }\n\n          this.isScrolling = true\n          this.scrollDirection =\n            this.scrollOffset < offset ? 'forward' : 'backward'\n          this.scrollOffset = offset\n\n          this.maybeNotify()\n\n          this.isScrollingTimeoutId = setTimeout(() => {\n            this.isScrollingTimeoutId = null\n            this.isScrolling = false\n            this.scrollDirection = null\n\n            this.maybeNotify()\n          }, this.options.scrollingDelay)\n        }),\n      )\n    }\n  }\n\n  private getSize = () => {\n    return this.scrollRect[this.options.horizontal ? 'width' : 'height']\n  }\n\n  private memoOptions = memo(\n    () => [\n      this.options.count,\n      this.options.paddingStart,\n      this.options.scrollMargin,\n      this.options.getItemKey,\n    ],\n    (count, paddingStart, scrollMargin, getItemKey) => {\n      this.pendingMeasuredCacheIndexes = []\n      return {\n        count,\n        paddingStart,\n        scrollMargin,\n        getItemKey,\n      }\n    },\n    {\n      key: false,\n    },\n  )\n\n  private getFurthestMeasurement = (\n    measurements: VirtualItem[],\n    index: number,\n  ) => {\n    const furthestMeasurementsFound = new Map<number, true>()\n    const furthestMeasurements = new Map<number, VirtualItem>()\n    for (let m = index - 1; m >= 0; m--) {\n      const measurement = measurements[m]!\n\n      if (furthestMeasurementsFound.has(measurement.lane)) {\n        continue\n      }\n\n      const previousFurthestMeasurement = furthestMeasurements.get(\n        measurement.lane,\n      )\n      if (\n        previousFurthestMeasurement == null ||\n        measurement.end > previousFurthestMeasurement.end\n      ) {\n        furthestMeasurements.set(measurement.lane, measurement)\n      } else if (measurement.end < previousFurthestMeasurement.end) {\n        furthestMeasurementsFound.set(measurement.lane, true)\n      }\n\n      if (furthestMeasurementsFound.size === this.options.lanes) {\n        break\n      }\n    }\n\n    return furthestMeasurements.size === this.options.lanes\n      ? Array.from(furthestMeasurements.values()).sort(\n          (a, b) => a.end - b.end,\n        )[0]\n      : undefined\n  }\n\n  private getMeasurements = memo(\n    () => [this.memoOptions(), this.itemSizeCache],\n    ({ count, paddingStart, scrollMargin, getItemKey }, itemSizeCache) => {\n      const min =\n        this.pendingMeasuredCacheIndexes.length > 0\n          ? Math.min(...this.pendingMeasuredCacheIndexes)\n          : 0\n      this.pendingMeasuredCacheIndexes = []\n\n      const measurements = this.measurementsCache.slice(0, min)\n\n      for (let i = min; i < count; i++) {\n        const key = getItemKey(i)\n\n        const furthestMeasurement =\n          this.options.lanes === 1\n            ? measurements[i - 1]\n            : this.getFurthestMeasurement(measurements, i)\n\n        const start = furthestMeasurement\n          ? furthestMeasurement.end\n          : paddingStart + scrollMargin\n\n        const measuredSize = itemSizeCache.get(key)\n        const size =\n          typeof measuredSize === 'number'\n            ? measuredSize\n            : this.options.estimateSize(i)\n\n        const end = start + size\n\n        const lane = furthestMeasurement\n          ? furthestMeasurement.lane\n          : i % this.options.lanes\n\n        measurements[i] = {\n          index: i,\n          start,\n          size,\n          end,\n          key,\n          lane,\n        }\n      }\n\n      this.measurementsCache = measurements\n\n      return measurements\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'getMeasurements',\n      debug: () => this.options.debug,\n    },\n  )\n\n  calculateRange = memo(\n    () => [this.getMeasurements(), this.getSize(), this.scrollOffset],\n    (measurements, outerSize, scrollOffset) => {\n      return (this.range = calculateRange({\n        measurements,\n        outerSize,\n        scrollOffset,\n      }))\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'calculateRange',\n      debug: () => this.options.debug,\n    },\n  )\n\n  private maybeNotify = memo(\n    () => {\n      const range = this.calculateRange()\n\n      return [range.startIndex, range.endIndex, this.isScrolling]\n    },\n    () => {\n      this.notify()\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'maybeNotify',\n      debug: () => this.options.debug,\n      initialDeps: [\n        this.range.startIndex,\n        this.range.endIndex,\n        this.isScrolling,\n      ],\n    },\n  )\n\n  private getIndexes = memo(\n    () => [\n      this.options.rangeExtractor,\n      this.calculateRange(),\n      this.options.overscan,\n      this.options.count,\n    ],\n    (rangeExtractor, range, overscan, count) => {\n      return rangeExtractor({\n        ...range,\n        overscan,\n        count,\n      })\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'getIndexes',\n      debug: () => this.options.debug,\n    },\n  )\n\n  indexFromElement = (node: TItemElement) => {\n    const attributeName = this.options.indexAttribute\n    const indexStr = node.getAttribute(attributeName)\n\n    if (!indexStr) {\n      console.warn(\n        `Missing attribute name '${attributeName}={index}' on measured element.`,\n      )\n      return -1\n    }\n\n    return parseInt(indexStr, 10)\n  }\n\n  private _measureElement = (\n    node: TItemElement,\n    entry: ResizeObserverEntry | undefined,\n  ) => {\n    const item = this.measurementsCache[this.indexFromElement(node)]\n    if (!item) {\n      this.measureElementCache.forEach((cached, key) => {\n        if (cached === node) {\n          this.observer.unobserve(node)\n          this.measureElementCache.delete(key)\n        }\n      })\n      return\n    }\n\n    const prevNode = this.measureElementCache.get(item.key)\n\n    if (!node.isConnected) {\n      if (prevNode) {\n        this.observer.unobserve(prevNode)\n        this.measureElementCache.delete(item.key)\n      }\n      return\n    }\n\n    if (prevNode !== node) {\n      if (prevNode) {\n        this.observer.unobserve(prevNode)\n      }\n      this.observer.observe(node)\n      this.measureElementCache.set(item.key, node)\n    }\n\n    const measuredItemSize = this.options.measureElement(node, entry, this)\n\n    this.resizeItem(item, measuredItemSize)\n  }\n\n  resizeItem = (item: VirtualItem, size: number) => {\n    const itemSize = this.itemSizeCache.get(item.key) ?? item.size\n    const delta = size - itemSize\n\n    if (delta !== 0) {\n      if (item.start < this.scrollOffset) {\n        if (process.env.NODE_ENV !== 'production' && this.options.debug) {\n          console.info('correction', delta)\n        }\n\n        this._scrollToOffset(this.scrollOffset, {\n          adjustments: (this.scrollAdjustments += delta),\n          behavior: undefined,\n        })\n      }\n\n      this.pendingMeasuredCacheIndexes.push(item.index)\n      this.itemSizeCache = new Map(this.itemSizeCache.set(item.key, size))\n\n      this.notify()\n    }\n  }\n\n  measureElement = (node: TItemElement | null) => {\n    if (!node) {\n      return\n    }\n\n    this._measureElement(node, undefined)\n  }\n\n  getVirtualItems = memo(\n    () => [this.getIndexes(), this.getMeasurements()],\n    (indexes, measurements) => {\n      const virtualItems: VirtualItem[] = []\n\n      for (let k = 0, len = indexes.length; k < len; k++) {\n        const i = indexes[k]!\n        const measurement = measurements[i]!\n\n        virtualItems.push(measurement)\n      }\n\n      return virtualItems\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'getIndexes',\n      debug: () => this.options.debug,\n    },\n  )\n\n  getVirtualItemForOffset = (offset: number) => {\n    const measurements = this.getMeasurements()\n\n    return notUndefined(\n      measurements[\n        findNearestBinarySearch(\n          0,\n          measurements.length - 1,\n          (index: number) => notUndefined(measurements[index]).start,\n          offset,\n        )\n      ],\n    )\n  }\n\n  getOffsetForAlignment = (toOffset: number, align: ScrollAlignment) => {\n    const size = this.getSize()\n\n    if (align === 'auto') {\n      if (toOffset <= this.scrollOffset) {\n        align = 'start'\n      } else if (toOffset >= this.scrollOffset + size) {\n        align = 'end'\n      } else {\n        align = 'start'\n      }\n    }\n\n    if (align === 'start') {\n      toOffset = toOffset\n    } else if (align === 'end') {\n      toOffset = toOffset - size\n    } else if (align === 'center') {\n      toOffset = toOffset - size / 2\n    }\n\n    const scrollSizeProp = this.options.horizontal\n      ? 'scrollWidth'\n      : 'scrollHeight'\n    const scrollSize = this.scrollElement\n      ? 'document' in this.scrollElement\n        ? this.scrollElement.document.documentElement[scrollSizeProp]\n        : this.scrollElement[scrollSizeProp]\n      : 0\n\n    const maxOffset = scrollSize - this.getSize()\n\n    return Math.max(Math.min(maxOffset, toOffset), 0)\n  }\n\n  getOffsetForIndex = (index: number, align: ScrollAlignment = 'auto') => {\n    index = Math.max(0, Math.min(index, this.options.count - 1))\n\n    const measurement = notUndefined(this.getMeasurements()[index])\n\n    if (align === 'auto') {\n      if (\n        measurement.end >=\n        this.scrollOffset + this.getSize() - this.options.scrollPaddingEnd\n      ) {\n        align = 'end'\n      } else if (\n        measurement.start <=\n        this.scrollOffset + this.options.scrollPaddingStart\n      ) {\n        align = 'start'\n      } else {\n        return [this.scrollOffset, align] as const\n      }\n    }\n\n    const toOffset =\n      align === 'end'\n        ? measurement.end + this.options.scrollPaddingEnd\n        : measurement.start - this.options.scrollPaddingStart\n\n    return [this.getOffsetForAlignment(toOffset, align), align] as const\n  }\n\n  private isDynamicMode = () => this.measureElementCache.size > 0\n\n  private cancelScrollToIndex = () => {\n    if (this.scrollToIndexTimeoutId !== null) {\n      clearTimeout(this.scrollToIndexTimeoutId)\n      this.scrollToIndexTimeoutId = null\n    }\n  }\n\n  scrollToOffset = (\n    toOffset: number,\n    { align = 'start', behavior }: ScrollToOffsetOptions = {},\n  ) => {\n    this.cancelScrollToIndex()\n\n    if (behavior === 'smooth' && this.isDynamicMode()) {\n      console.warn(\n        'The `smooth` scroll behavior is not fully supported with dynamic size.',\n      )\n    }\n\n    this._scrollToOffset(this.getOffsetForAlignment(toOffset, align), {\n      adjustments: undefined,\n      behavior,\n    })\n  }\n\n  scrollToIndex = (\n    index: number,\n    { align: initialAlign = 'auto', behavior }: ScrollToIndexOptions = {},\n  ) => {\n    index = Math.max(0, Math.min(index, this.options.count - 1))\n\n    this.cancelScrollToIndex()\n\n    if (behavior === 'smooth' && this.isDynamicMode()) {\n      console.warn(\n        'The `smooth` scroll behavior is not fully supported with dynamic size.',\n      )\n    }\n\n    const [toOffset, align] = this.getOffsetForIndex(index, initialAlign)\n\n    this._scrollToOffset(toOffset, { adjustments: undefined, behavior })\n\n    if (behavior !== 'smooth' && this.isDynamicMode()) {\n      this.scrollToIndexTimeoutId = setTimeout(() => {\n        this.scrollToIndexTimeoutId = null\n\n        const elementInDOM = this.measureElementCache.has(\n          this.options.getItemKey(index),\n        )\n\n        if (elementInDOM) {\n          const [toOffset] = this.getOffsetForIndex(index, align)\n\n          if (!approxEqual(toOffset, this.scrollOffset)) {\n            this.scrollToIndex(index, { align, behavior })\n          }\n        } else {\n          this.scrollToIndex(index, { align, behavior })\n        }\n      })\n    }\n  }\n\n  scrollBy = (delta: number, { behavior }: ScrollToOffsetOptions = {}) => {\n    this.cancelScrollToIndex()\n\n    if (behavior === 'smooth' && this.isDynamicMode()) {\n      console.warn(\n        'The `smooth` scroll behavior is not fully supported with dynamic size.',\n      )\n    }\n\n    this._scrollToOffset(this.scrollOffset + delta, {\n      adjustments: undefined,\n      behavior,\n    })\n  }\n\n  getTotalSize = () =>\n    (this.getMeasurements()[this.options.count - 1]?.end ||\n      this.options.paddingStart) -\n    this.options.scrollMargin +\n    this.options.paddingEnd\n\n  private _scrollToOffset = (\n    offset: number,\n    {\n      adjustments,\n      behavior,\n    }: {\n      adjustments: number | undefined\n      behavior: ScrollBehavior | undefined\n    },\n  ) => {\n    this.options.scrollToFn(offset, { behavior, adjustments }, this)\n  }\n\n  measure = () => {\n    this.itemSizeCache = new Map()\n    this.notify()\n  }\n}\n\nconst findNearestBinarySearch = (\n  low: number,\n  high: number,\n  getCurrentValue: (i: number) => number,\n  value: number,\n) => {\n  while (low <= high) {\n    const middle = ((low + high) / 2) | 0\n    const currentValue = getCurrentValue(middle)\n\n    if (currentValue < value) {\n      low = middle + 1\n    } else if (currentValue > value) {\n      high = middle - 1\n    } else {\n      return middle\n    }\n  }\n\n  if (low > 0) {\n    return low - 1\n  } else {\n    return 0\n  }\n}\n\nfunction calculateRange({\n  measurements,\n  outerSize,\n  scrollOffset,\n}: {\n  measurements: VirtualItem[]\n  outerSize: number\n  scrollOffset: number\n}) {\n  const count = measurements.length - 1\n  const getOffset = (index: number) => measurements[index]!.start\n\n  const startIndex = findNearestBinarySearch(0, count, getOffset, scrollOffset)\n  let endIndex = startIndex\n\n  while (\n    endIndex < count &&\n    measurements[endIndex]!.end < scrollOffset + outerSize\n  ) {\n    endIndex++\n  }\n\n  return { startIndex, endIndex }\n}\n", "import * as React from 'react'\nimport {\n  elementScroll,\n  observeElementOffset,\n  observeElementRect,\n  observeWindowOffset,\n  observeWindowRect,\n  PartialKeys,\n  Virtualizer,\n  VirtualizerOptions,\n  windowScroll,\n} from '@tanstack/virtual-core'\nexport * from '@tanstack/virtual-core'\n\n//\n\nconst useIsomorphicLayoutEffect =\n  typeof document !== 'undefined' ? React.useLayoutEffect : React.useEffect\n\nfunction useVirtualizerBase<\n  TScrollElement extends Element | Window,\n  TItemElement extends Element,\n>(\n  options: VirtualizerOptions<TScrollElement, TItemElement>,\n): Virtualizer<TScrollElement, TItemElement> {\n  const rerender = React.useReducer(() => ({}), {})[1]\n\n  const resolvedOptions: VirtualizerOptions<TScrollElement, TItemElement> = {\n    ...options,\n    onChange: (instance) => {\n      rerender()\n      options.onChange?.(instance)\n    },\n  }\n\n  const [instance] = React.useState(\n    () => new Virtualizer<TScrollElement, TItemElement>(resolvedOptions),\n  )\n\n  instance.setOptions(resolvedOptions)\n\n  React.useEffect(() => {\n    return instance._didMount()\n  }, [])\n\n  useIsomorphicLayoutEffect(() => {\n    return instance._willUpdate()\n  })\n\n  return instance\n}\n\nexport function useVirtualizer<\n  TScrollElement extends Element,\n  TItemElement extends Element,\n>(\n  options: PartialKeys<\n    VirtualizerOptions<TScrollElement, TItemElement>,\n    'observeElementRect' | 'observeElementOffset' | 'scrollToFn'\n  >,\n): Virtualizer<TScrollElement, TItemElement> {\n  return useVirtualizerBase<TScrollElement, TItemElement>({\n    observeElementRect: observeElementRect,\n    observeElementOffset: observeElementOffset,\n    scrollToFn: elementScroll,\n    ...options,\n  })\n}\n\nexport function useWindowVirtualizer<TItemElement extends Element>(\n  options: PartialKeys<\n    VirtualizerOptions<Window, TItemElement>,\n    | 'getScrollElement'\n    | 'observeElementRect'\n    | 'observeElementOffset'\n    | 'scrollToFn'\n  >,\n): Virtualizer<Window, TItemElement> {\n  return useVirtualizerBase<Window, TItemElement>({\n    getScrollElement: () => (typeof document !== 'undefined' ? window : null),\n    observeElementRect: observeWindowRect,\n    observeElementOffset: observeWindowOffset,\n    scrollToFn: windowScroll,\n    ...options,\n  })\n}\n", "\"use client\";import{useFocusRing as xe}from\"@react-aria/focus\";import{useHover as ge}from\"@react-aria/interactions\";import{useVirtualizer as Fe}from\"@tanstack/react-virtual\";import w,{Fragment as ve,createContext as se,createRef as _e,useCallback as Oe,useContext as de,useMemo as j,useReducer as Ve,useRef as H,useState as De}from\"react\";import{useActivePress as he}from'../../hooks/use-active-press.js';import{useByComparator as Me}from'../../hooks/use-by-comparator.js';import{useControllable as Le}from'../../hooks/use-controllable.js';import{useDisposables as Ce}from'../../hooks/use-disposables.js';import{useEvent as x}from'../../hooks/use-event.js';import{useId as re}from'../../hooks/use-id.js';import{useIsoMorphicEffect as K}from'../../hooks/use-iso-morphic-effect.js';import{useLatestValue as Be}from'../../hooks/use-latest-value.js';import{useOutsideClick as we}from'../../hooks/use-outside-click.js';import{useOwnerDocument as Ue}from'../../hooks/use-owner.js';import{useResolveButtonType as ke}from'../../hooks/use-resolve-button-type.js';import{useSyncRefs as ae}from'../../hooks/use-sync-refs.js';import{useTrackedPointer as Ne}from'../../hooks/use-tracked-pointer.js';import{useTreeWalker as Ge}from'../../hooks/use-tree-walker.js';import{useWatch as ye}from'../../hooks/use-watch.js';import{useDisabled as He}from'../../internal/disabled.js';import{FloatingProvider as Xe,useFloatingPanel as je,useFloatingReference as Ke}from'../../internal/floating.js';import{FormFields as Je}from'../../internal/form-fields.js';import{useProvidedId as We}from'../../internal/id.js';import{OpenClosedProvider as $e,State as ie,useOpenClosed as ze}from'../../internal/open-closed.js';import{history as Re}from'../../utils/active-element-history.js';import{isDisabledReactIssue7711 as qe}from'../../utils/bugs.js';import{Focus as P,calculateActiveIndex as Ae}from'../../utils/calculate-active-index.js';import{disposables as Se}from'../../utils/disposables.js';import{sortByDomNode as Ye}from'../../utils/focus-management.js';import{match as $}from'../../utils/match.js';import{isMobile as Qe}from'../../utils/platform.js';import{RenderFeatures as Pe,forwardRefWithAs as q,mergeProps as Ee,render as Y}from'../../utils/render.js';import{useDescribedBy as Ze}from'../description/description.js';import{Keys as M}from'../keyboard.js';import{Label as eo,useLabelledBy as be,useLabels as oo}from'../label/label.js';var to=(t=>(t[t.Open=0]=\"Open\",t[t.Closed=1]=\"Closed\",t))(to||{}),no=(t=>(t[t.Single=0]=\"Single\",t[t.Multi=1]=\"Multi\",t))(no||{}),ro=(l=>(l[l.Pointer=0]=\"Pointer\",l[l.Focus=1]=\"Focus\",l[l.Other=2]=\"Other\",l))(ro||{}),ao=(a=>(a[a.OpenCombobox=0]=\"OpenCombobox\",a[a.CloseCombobox=1]=\"CloseCombobox\",a[a.GoToOption=2]=\"GoToOption\",a[a.RegisterOption=3]=\"RegisterOption\",a[a.UnregisterOption=4]=\"UnregisterOption\",a[a.SetActivationTrigger=5]=\"SetActivationTrigger\",a[a.UpdateVirtualOptions=6]=\"UpdateVirtualOptions\",a))(ao||{});function ce(e,n=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,l=n(e.options.slice()),p=l.length>0&&l[0].dataRef.current.order!==null?l.sort((f,a)=>f.dataRef.current.order-a.dataRef.current.order):Ye(l,f=>f.dataRef.current.domRef.current),b=t?p.indexOf(t):null;return b===-1&&(b=null),{options:p,activeOptionIndex:b}}let io={[1](e){var n;return(n=e.dataRef.current)!=null&&n.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},[0](e){var n,t;if((n=e.dataRef.current)!=null&&n.disabled||e.comboboxState===0)return e;if((t=e.dataRef.current)!=null&&t.value){let l=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(l!==-1)return{...e,activeOptionIndex:l,comboboxState:0}}return{...e,comboboxState:0}},[2](e,n){var b,f,a,r,o;if((b=e.dataRef.current)!=null&&b.disabled||(f=e.dataRef.current)!=null&&f.optionsRef.current&&!((a=e.dataRef.current)!=null&&a.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let i=n.focus===P.Specific?n.idx:Ae(n,{resolveItems:()=>e.virtual.options,resolveActiveIndex:()=>{var v,T;return(T=(v=e.activeOptionIndex)!=null?v:e.virtual.options.findIndex(d=>!e.virtual.disabled(d)))!=null?T:null},resolveDisabled:e.virtual.disabled,resolveId(){throw new Error(\"Function not implemented.\")}}),A=(r=n.trigger)!=null?r:2;return e.activeOptionIndex===i&&e.activationTrigger===A?e:{...e,activeOptionIndex:i,activationTrigger:A}}let t=ce(e);if(t.activeOptionIndex===null){let i=t.options.findIndex(A=>!A.dataRef.current.disabled);i!==-1&&(t.activeOptionIndex=i)}let l=n.focus===P.Specific?n.idx:Ae(n,{resolveItems:()=>t.options,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled}),p=(o=n.trigger)!=null?o:2;return e.activeOptionIndex===l&&e.activationTrigger===p?e:{...e,...t,activeOptionIndex:l,activationTrigger:p}},[3]:(e,n)=>{var b,f,a;if((b=e.dataRef.current)!=null&&b.virtual)return{...e,options:[...e.options,n.payload]};let t=n.payload,l=ce(e,r=>(r.push(t),r));e.activeOptionIndex===null&&(f=e.dataRef.current)!=null&&f.isSelected(n.payload.dataRef.current.value)&&(l.activeOptionIndex=l.options.indexOf(t));let p={...e,...l,activationTrigger:2};return(a=e.dataRef.current)!=null&&a.__demoMode&&e.dataRef.current.value===void 0&&(p.activeOptionIndex=0),p},[4]:(e,n)=>{var l;if((l=e.dataRef.current)!=null&&l.virtual)return{...e,options:e.options.filter(p=>p.id!==n.id)};let t=ce(e,p=>{let b=p.findIndex(f=>f.id===n.id);return b!==-1&&p.splice(b,1),p});return{...e,...t,activationTrigger:2}},[5]:(e,n)=>e.activationTrigger===n.trigger?e:{...e,activationTrigger:n.trigger},[6]:(e,n)=>{var l;if(((l=e.virtual)==null?void 0:l.options)===n.options)return e;let t=e.activeOptionIndex;if(e.activeOptionIndex!==null){let p=n.options.indexOf(e.virtual.options[e.activeOptionIndex]);p!==-1?t=p:t=null}return{...e,activeOptionIndex:t,virtual:Object.assign({},e.virtual,{options:n.options})}}},fe=se(null);fe.displayName=\"ComboboxActionsContext\";function le(e){let n=de(fe);if(n===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,le),t}return n}let Ie=se(null);function lo(e){var a;let n=z(\"VirtualProvider\"),[t,l]=j(()=>{let r=n.optionsRef.current;if(!r)return[0,0];let o=window.getComputedStyle(r);return[parseFloat(o.paddingBlockStart||o.paddingTop),parseFloat(o.paddingBlockEnd||o.paddingBottom)]},[n.optionsRef.current]),p=Fe({scrollPaddingStart:t,scrollPaddingEnd:l,count:n.virtual.options.length,estimateSize(){return 40},getScrollElement(){var r;return(r=n.optionsRef.current)!=null?r:null},overscan:12}),[b,f]=De(0);return K(()=>{f(r=>r+1)},[(a=n.virtual)==null?void 0:a.options]),w.createElement(Ie.Provider,{value:p},w.createElement(\"div\",{style:{position:\"relative\",width:\"100%\",height:`${p.getTotalSize()}px`},ref:r=>{if(r){if(typeof process!=\"undefined\"&&process.env.JEST_WORKER_ID!==void 0||n.activationTrigger===0)return;n.activeOptionIndex!==null&&n.virtual.options.length>n.activeOptionIndex&&p.scrollToIndex(n.activeOptionIndex)}}},p.getVirtualItems().map(r=>{var o;return w.createElement(ve,{key:r.key},w.cloneElement((o=e.children)==null?void 0:o.call(e,{option:n.virtual.options[r.index],open:n.comboboxState===0}),{key:`${b}-${r.key}`,\"data-index\":r.index,\"aria-setsize\":n.virtual.options.length,\"aria-posinset\":r.index+1,style:{position:\"absolute\",top:0,left:0,transform:`translateY(${r.start}px)`,overflowAnchor:\"none\"}}))})))}let me=se(null);me.displayName=\"ComboboxDataContext\";function z(e){let n=de(me);if(n===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,z),t}return n}function uo(e,n){return $(n.type,io,e,n)}let po=ve;function so(e,n){var O,h;let t=He(),{value:l,defaultValue:p,onChange:b,form:f,name:a,by:r,disabled:o=t||!1,__demoMode:i=!1,nullable:A=!1,multiple:v=!1,immediate:T=!1,virtual:d=null,...L}=e,[y=v?[]:void 0,m]=Le(l,b,p),[F,_]=Ve(uo,{dataRef:_e(),comboboxState:i?0:1,options:[],virtual:d?{options:d.options,disabled:(O=d.disabled)!=null?O:()=>!1}:null,activeOptionIndex:null,activationTrigger:2}),V=H(!1),k=H({static:!1,hold:!1}),N=H(null),S=H(null),E=H(null),G=Me(r),X=x(c=>d?r===null?d.options.indexOf(c):d.options.findIndex(g=>G(g,c)):F.options.findIndex(g=>G(g.dataRef.current.value,c))),R=Oe(c=>$(s.mode,{[1]:()=>y.some(g=>G(g,c)),[0]:()=>G(y,c)}),[y]),C=x(c=>F.activeOptionIndex===X(c)),s=j(()=>({...F,immediate:T,optionsPropsRef:k,inputRef:N,buttonRef:S,optionsRef:E,value:y,defaultValue:p,disabled:o,mode:v?1:0,virtual:F.virtual,get activeOptionIndex(){if(V.current&&F.activeOptionIndex===null&&(d?d.options.length>0:F.options.length>0)){if(d){let g=d.options.findIndex(U=>{var ne,Te;return!((Te=(ne=d==null?void 0:d.disabled)==null?void 0:ne.call(d,U))!=null&&Te)});if(g!==-1)return g}let c=F.options.findIndex(g=>!g.dataRef.current.disabled);if(c!==-1)return c}return F.activeOptionIndex},calculateIndex:X,compare:G,isSelected:R,isActive:C,nullable:A,__demoMode:i}),[y,p,o,v,A,i,F,d]);K(()=>{d&&_({type:6,options:d.options})},[d,d==null?void 0:d.options]),K(()=>{F.dataRef.current=s},[s]),we([s.buttonRef,s.inputRef,s.optionsRef],()=>W.closeCombobox(),s.comboboxState===0);let ue=j(()=>{var c,g,U;return{open:s.comboboxState===0,disabled:o,activeIndex:s.activeOptionIndex,activeOption:s.activeOptionIndex===null?null:s.virtual?s.virtual.options[(c=s.activeOptionIndex)!=null?c:0]:(U=(g=s.options[s.activeOptionIndex])==null?void 0:g.dataRef.current.value)!=null?U:null,value:y}},[s,o,y]),pe=x(()=>{if(s.activeOptionIndex!==null){if(s.virtual)J(s.virtual.options[s.activeOptionIndex]);else{let{dataRef:c}=s.options[s.activeOptionIndex];J(c.current.value)}W.goToOption(P.Specific,s.activeOptionIndex)}}),Q=x(()=>{_({type:0}),V.current=!0}),Z=x(()=>{_({type:1}),V.current=!1}),ee=x((c,g,U)=>(V.current=!1,c===P.Specific?_({type:2,focus:P.Specific,idx:g,trigger:U}):_({type:2,focus:c,trigger:U}))),oe=x((c,g)=>(_({type:3,payload:{id:c,dataRef:g}}),()=>{s.isActive(g.current.value)&&(V.current=!0),_({type:4,id:c})})),J=x(c=>$(s.mode,{[0](){return m==null?void 0:m(c)},[1](){let g=s.value.slice(),U=g.findIndex(ne=>G(ne,c));return U===-1?g.push(c):g.splice(U,1),m==null?void 0:m(g)}})),te=x(c=>{_({type:5,trigger:c})}),W=j(()=>({onChange:J,registerOption:oe,goToOption:ee,closeCombobox:Z,openCombobox:Q,setActivationTrigger:te,selectActiveOption:pe}),[]),[u,D]=oo(),I=n===null?{}:{ref:n},B=Oe(()=>m==null?void 0:m(p),[m]);return w.createElement(D,{value:u,props:{htmlFor:(h=s.inputRef.current)==null?void 0:h.id},slot:{open:s.comboboxState===0,disabled:o}},w.createElement(Xe,null,w.createElement(fe.Provider,{value:W},w.createElement(me.Provider,{value:s},w.createElement($e,{value:$(s.comboboxState,{[0]:ie.Open,[1]:ie.Closed})},a!=null&&w.createElement(Je,{data:y!=null?{[a]:y}:{},form:f,onReset:B}),Y({ourProps:I,theirProps:L,slot:ue,defaultTag:po,name:\"Combobox\"}))))))}let bo=\"input\";function co(e,n){var Q,Z,ee,oe,J,te,W;let t=re(),l=We(),{id:p=l||`headlessui-combobox-input-${t}`,onChange:b,displayValue:f,type:a=\"text\",...r}=e,o=z(\"Combobox.Input\"),i=le(\"Combobox.Input\"),A=ae(o.inputRef,n,Ke()),v=Ue(o.inputRef),T=H(!1),d=Ce(),L=x(()=>{i.onChange(null),o.optionsRef.current&&(o.optionsRef.current.scrollTop=0),i.goToOption(P.Nothing)}),y=function(){var u;return typeof f==\"function\"&&o.value!==void 0?(u=f(o.value))!=null?u:\"\":typeof o.value==\"string\"?o.value:\"\"}();ye(([u,D],[I,B])=>{if(T.current)return;let O=o.inputRef.current;O&&((B===0&&D===1||u!==I)&&(O.value=u),requestAnimationFrame(()=>{if(T.current||!O||(v==null?void 0:v.activeElement)!==O)return;let{selectionStart:h,selectionEnd:c}=O;Math.abs((c!=null?c:0)-(h!=null?h:0))===0&&h===0&&O.setSelectionRange(O.value.length,O.value.length)}))},[y,o.comboboxState,v]),ye(([u],[D])=>{if(u===0&&D===1){if(T.current)return;let I=o.inputRef.current;if(!I)return;let B=I.value,{selectionStart:O,selectionEnd:h,selectionDirection:c}=I;I.value=\"\",I.value=B,c!==null?I.setSelectionRange(O,h,c):I.setSelectionRange(O,h)}},[o.comboboxState]);let m=H(!1),F=x(()=>{m.current=!0}),_=x(()=>{d.nextFrame(()=>{m.current=!1})}),V=x(u=>{switch(T.current=!0,u.key){case M.Enter:if(T.current=!1,o.comboboxState!==0||m.current)return;if(u.preventDefault(),u.stopPropagation(),o.activeOptionIndex===null){i.closeCombobox();return}i.selectActiveOption(),o.mode===0&&i.closeCombobox();break;case M.ArrowDown:return T.current=!1,u.preventDefault(),u.stopPropagation(),$(o.comboboxState,{[0]:()=>i.goToOption(P.Next),[1]:()=>i.openCombobox()});case M.ArrowUp:return T.current=!1,u.preventDefault(),u.stopPropagation(),$(o.comboboxState,{[0]:()=>i.goToOption(P.Previous),[1]:()=>{i.openCombobox(),d.nextFrame(()=>{o.value||i.goToOption(P.Last)})}});case M.Home:if(u.shiftKey)break;return T.current=!1,u.preventDefault(),u.stopPropagation(),i.goToOption(P.First);case M.PageUp:return T.current=!1,u.preventDefault(),u.stopPropagation(),i.goToOption(P.First);case M.End:if(u.shiftKey)break;return T.current=!1,u.preventDefault(),u.stopPropagation(),i.goToOption(P.Last);case M.PageDown:return T.current=!1,u.preventDefault(),u.stopPropagation(),i.goToOption(P.Last);case M.Escape:return T.current=!1,o.comboboxState!==0?void 0:(u.preventDefault(),o.optionsRef.current&&!o.optionsPropsRef.current.static&&u.stopPropagation(),o.nullable&&o.mode===0&&o.value===null&&L(),i.closeCombobox());case M.Tab:if(T.current=!1,o.comboboxState!==0)return;o.mode===0&&o.activationTrigger!==1&&i.selectActiveOption(),i.closeCombobox();break}}),k=x(u=>{b==null||b(u),o.nullable&&o.mode===0&&u.target.value===\"\"&&L(),i.openCombobox()}),N=x(u=>{var I,B,O;let D=(I=u.relatedTarget)!=null?I:Re.find(h=>h!==u.currentTarget);if(T.current=!1,!((B=o.optionsRef.current)!=null&&B.contains(D))&&!((O=o.buttonRef.current)!=null&&O.contains(D))&&o.comboboxState===0)return u.preventDefault(),o.mode===0&&(o.nullable&&o.value===null?L():o.activationTrigger!==1&&i.selectActiveOption()),i.closeCombobox()}),S=x(u=>{var I,B,O;let D=(I=u.relatedTarget)!=null?I:Re.find(h=>h!==u.currentTarget);(B=o.buttonRef.current)!=null&&B.contains(D)||(O=o.optionsRef.current)!=null&&O.contains(D)||o.disabled||o.immediate&&o.comboboxState!==0&&(i.openCombobox(),d.nextFrame(()=>{i.setActivationTrigger(1)}))}),E=be(),G=Ze(),{isFocusVisible:X,focusProps:R}=xe({isTextInput:!0,autoFocus:(Q=e.autoFocus)!=null?Q:!1}),{isHovered:C,hoverProps:s}=ge({isDisabled:(Z=o.disabled)!=null?Z:!1}),ue=j(()=>{var u;return{open:o.comboboxState===0,disabled:o.disabled,hover:C,focus:X,autofocus:(u=e.autoFocus)!=null?u:!1}},[o,C,X,e.autoFocus]),pe=Ee({ref:A,id:p,role:\"combobox\",type:a,\"aria-controls\":(ee=o.optionsRef.current)==null?void 0:ee.id,\"aria-expanded\":o.comboboxState===0,\"aria-activedescendant\":o.activeOptionIndex===null?void 0:o.virtual?(oe=o.options.find(u=>{var D;return!((D=o.virtual)!=null&&D.disabled(u.dataRef.current.value))&&o.compare(u.dataRef.current.value,o.virtual.options[o.activeOptionIndex])}))==null?void 0:oe.id:(J=o.options[o.activeOptionIndex])==null?void 0:J.id,\"aria-labelledby\":E,\"aria-describedby\":G,\"aria-autocomplete\":\"list\",defaultValue:(W=(te=e.defaultValue)!=null?te:o.defaultValue!==void 0?f==null?void 0:f(o.defaultValue):null)!=null?W:o.defaultValue,disabled:o.disabled,onCompositionStart:F,onCompositionEnd:_,onKeyDown:V,onChange:k,onFocus:S,onBlur:N},R,s);return Y({ourProps:pe,theirProps:r,slot:ue,defaultTag:bo,name:\"Combobox.Input\"})}let fo=\"button\";function mo(e,n){var V,k,N;let t=z(\"Combobox.Button\"),l=le(\"Combobox.Button\"),p=ae(t.buttonRef,n),b=re(),{id:f=`headlessui-combobox-button-${b}`,...a}=e,r=Ce(),o=x(S=>{switch(S.key){case M.ArrowDown:return S.preventDefault(),S.stopPropagation(),t.comboboxState===1&&l.openCombobox(),r.nextFrame(()=>{var E;return(E=t.inputRef.current)==null?void 0:E.focus({preventScroll:!0})});case M.ArrowUp:return S.preventDefault(),S.stopPropagation(),t.comboboxState===1&&(l.openCombobox(),r.nextFrame(()=>{t.value||l.goToOption(P.Last)})),r.nextFrame(()=>{var E;return(E=t.inputRef.current)==null?void 0:E.focus({preventScroll:!0})});case M.Escape:return t.comboboxState!==0?void 0:(S.preventDefault(),t.optionsRef.current&&!t.optionsPropsRef.current.static&&S.stopPropagation(),l.closeCombobox(),r.nextFrame(()=>{var E;return(E=t.inputRef.current)==null?void 0:E.focus({preventScroll:!0})}));default:return}}),i=x(S=>{if(qe(S.currentTarget))return S.preventDefault();t.comboboxState===0?l.closeCombobox():(S.preventDefault(),l.openCombobox()),r.nextFrame(()=>{var E;return(E=t.inputRef.current)==null?void 0:E.focus({preventScroll:!0})})}),A=be([f]),{isFocusVisible:v,focusProps:T}=xe({isTextInput:!0,autoFocus:(V=e.autoFocus)!=null?V:!1}),{isHovered:d,hoverProps:L}=ge({isDisabled:(k=t.disabled)!=null?k:!1}),{pressed:y,pressProps:m}=he(),F=j(()=>({open:t.comboboxState===0,active:y||t.comboboxState===0,disabled:t.disabled,value:t.value,hover:d,focus:v}),[t,d,v,y]),_=Ee({ref:p,id:f,type:ke(e,t.buttonRef),tabIndex:-1,\"aria-haspopup\":\"listbox\",\"aria-controls\":(N=t.optionsRef.current)==null?void 0:N.id,\"aria-expanded\":t.comboboxState===0,\"aria-labelledby\":A,disabled:t.disabled,onClick:i,onKeyDown:o},T,L,m);return Y({ourProps:_,theirProps:a,slot:F,defaultTag:fo,name:\"Combobox.Button\"})}let To=\"ul\",xo=Pe.RenderStrategy|Pe.Static;function go(e,n){var y;let t=re(),{id:l=`headlessui-combobox-options-${t}`,hold:p=!1,anchor:b,...f}=e,a=z(\"Combobox.Options\"),[r,o]=je(b),i=ae(a.optionsRef,n,r),A=ze(),v=(()=>A!==null?(A&ie.Open)===ie.Open:a.comboboxState===0)();K(()=>{var m;a.optionsPropsRef.current.static=(m=e.static)!=null?m:!1},[a.optionsPropsRef,e.static]),K(()=>{a.optionsPropsRef.current.hold=p},[a.optionsPropsRef,p]),Ge({container:a.optionsRef.current,enabled:a.comboboxState===0,accept(m){return m.getAttribute(\"role\")===\"option\"?NodeFilter.FILTER_REJECT:m.hasAttribute(\"role\")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(m){m.setAttribute(\"role\",\"none\")}});let T=be([(y=a.buttonRef.current)==null?void 0:y.id]),d=j(()=>({open:a.comboboxState===0,option:void 0}),[a]),L={\"aria-labelledby\":T,role:\"listbox\",\"aria-multiselectable\":a.mode===1?!0:void 0,id:l,ref:i,...o?{style:o}:{}};return a.virtual&&a.comboboxState===0&&Object.assign(f,{children:w.createElement(lo,null,f.children)}),Y({ourProps:L,theirProps:f,slot:d,defaultTag:To,features:xo,visible:v,name:\"Combobox.Options\"})}let vo=\"li\";function Oo(e,n){var X;let t=re(),{id:l=`headlessui-combobox-option-${t}`,disabled:p=!1,value:b,order:f=null,...a}=e,r=z(\"Combobox.Option\"),o=le(\"Combobox.Option\"),i=r.virtual?r.activeOptionIndex===r.calculateIndex(b):r.activeOptionIndex===null?!1:((X=r.options[r.activeOptionIndex])==null?void 0:X.id)===l,A=r.isSelected(b),v=H(null),T=Be({disabled:p,value:b,domRef:v,order:f}),d=de(Ie),L=ae(n,v,d?d.measureElement:null),y=x(()=>o.onChange(b));K(()=>o.registerOption(l,T),[T,l]);let m=H(!(r.virtual||r.__demoMode));K(()=>{if(!r.virtual||!r.__demoMode)return;let R=Se();return R.requestAnimationFrame(()=>{m.current=!0}),R.dispose},[r.virtual,r.__demoMode]),K(()=>{if(!m.current||r.comboboxState!==0||!i||r.activationTrigger===0)return;let R=Se();return R.requestAnimationFrame(()=>{var C,s;(s=(C=v.current)==null?void 0:C.scrollIntoView)==null||s.call(C,{block:\"nearest\"})}),R.dispose},[v,i,r.comboboxState,r.activationTrigger,r.activeOptionIndex]);let F=x(R=>{var C;if(p||(C=r.virtual)!=null&&C.disabled(b))return R.preventDefault();y(),Qe()||requestAnimationFrame(()=>{var s;return(s=r.inputRef.current)==null?void 0:s.focus({preventScroll:!0})}),r.mode===0&&requestAnimationFrame(()=>o.closeCombobox())}),_=x(()=>{var C;if(p||(C=r.virtual)!=null&&C.disabled(b))return o.goToOption(P.Nothing);let R=r.calculateIndex(b);o.goToOption(P.Specific,R)}),V=Ne(),k=x(R=>V.update(R)),N=x(R=>{var s;if(!V.wasMoved(R)||p||(s=r.virtual)!=null&&s.disabled(b)||i)return;let C=r.calculateIndex(b);o.goToOption(P.Specific,C,0)}),S=x(R=>{var C;V.wasMoved(R)&&(p||(C=r.virtual)!=null&&C.disabled(b)||i&&(r.optionsPropsRef.current.hold||o.goToOption(P.Nothing)))}),E=j(()=>({active:i,focus:i,selected:A,disabled:p}),[i,A,p]);return Y({ourProps:{id:l,ref:L,role:\"option\",tabIndex:p===!0?void 0:-1,\"aria-disabled\":p===!0?!0:void 0,\"aria-selected\":A,disabled:void 0,onClick:F,onFocus:_,onPointerEnter:k,onMouseEnter:k,onPointerMove:N,onMouseMove:N,onPointerLeave:S,onMouseLeave:S},theirProps:a,slot:E,defaultTag:vo,name:\"Combobox.Option\"})}let Co=q(so),yo=q(mo),Ro=q(co),Ao=eo,So=q(go),Po=q(Oo),pt=Object.assign(Co,{Input:Ro,Button:yo,Label:Ao,Options:So,Option:Po});export{pt as Combobox,yo as ComboboxButton,Ro as ComboboxInput,Ao as ComboboxLabel,Po as ComboboxOption,So as ComboboxOptions};\n", "import{useCallback as n}from\"react\";function i(t,r){return t!==null&&r!==null&&typeof t==\"object\"&&typeof r==\"object\"&&\"id\"in t&&\"id\"in r?t.id===r.id:t===r}function T(t=i){return n((r,e)=>{if(typeof t==\"string\"){let o=t;return(r==null?void 0:r[o])===(e==null?void 0:e[o])}return t(r,e)},[t])}export{T as useByComparator};\n", "import{useEffect as d,useRef as f}from\"react\";import{FocusableMode as p,isFocusableElement as C}from'../utils/focus-management.js';import{isMobile as M}from'../utils/platform.js';import{useDocumentEvent as l}from'./use-document-event.js';import{useWindowEvent as T}from'./use-window-event.js';function w(s,m,a=!0){let i=f(!1);d(()=>{requestAnimationFrame(()=>{i.current=a})},[a]);function c(e,r){if(!i.current||e.defaultPrevented)return;let t=r(e);if(t===null||!t.getRootNode().contains(t)||!t.isConnected)return;let E=function u(n){return typeof n==\"function\"?u(n()):Array.isArray(n)||n instanceof Set?n:[n]}(s);for(let u of E){if(u===null)continue;let n=u instanceof HTMLElement?u:u.current;if(n!=null&&n.contains(t)||e.composed&&e.composedPath().includes(n))return}return!C(t,p.Loose)&&t.tabIndex!==-1&&e.preventDefault(),m(e,t)}let o=f(null);l(\"pointerdown\",e=>{var r,t;i.current&&(o.current=((t=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:t[0])||e.target)},!0),l(\"mousedown\",e=>{var r,t;i.current&&(o.current=((t=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:t[0])||e.target)},!0),l(\"click\",e=>{M()||o.current&&(c(e,()=>o.current),o.current=null)},!0),l(\"touchend\",e=>c(e,()=>e.target instanceof HTMLElement?e.target:null),!0),T(\"blur\",e=>c(e,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}export{w as useOutsideClick};\n", "import{disposables as N}from'./disposables.js';import{match as L}from'./match.js';import{getOwnerDocument as E}from'./owner.js';let f=[\"[contentEditable=true]\",\"[tabindex]\",\"a[href]\",\"area[href]\",\"button:not([disabled])\",\"iframe\",\"input:not([disabled])\",\"select:not([disabled])\",\"textarea:not([disabled])\"].map(e=>`${e}:not([tabindex='-1'])`).join(\",\"),p=[\"[data-autofocus]\"].map(e=>`${e}:not([tabindex='-1'])`).join(\",\");var F=(n=>(n[n.First=1]=\"First\",n[n.Previous=2]=\"Previous\",n[n.Next=4]=\"Next\",n[n.Last=8]=\"Last\",n[n.WrapAround=16]=\"WrapAround\",n[n.NoScroll=32]=\"NoScroll\",n[n.AutoFocus=64]=\"AutoFocus\",n))(F||{}),T=(o=>(o[o.Error=0]=\"Error\",o[o.Overflow=1]=\"Overflow\",o[o.Success=2]=\"Success\",o[o.Underflow=3]=\"Underflow\",o))(T||{}),y=(t=>(t[t.Previous=-1]=\"Previous\",t[t.Next=1]=\"Next\",t))(y||{});function b(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(f)).sort((r,t)=>Math.sign((r.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}function S(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(p)).sort((r,t)=>Math.sign((r.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var h=(t=>(t[t.Strict=0]=\"Strict\",t[t.Loose=1]=\"Loose\",t))(h||{});function A(e,r=0){var t;return e===((t=E(e))==null?void 0:t.body)?!1:L(r,{[0](){return e.matches(f)},[1](){let u=e;for(;u!==null;){if(u.matches(f))return!0;u=u.parentElement}return!1}})}function j(e){let r=E(e);N().nextFrame(()=>{r&&!A(r.activeElement,0)&&w(e)})}var H=(t=>(t[t.Keyboard=0]=\"Keyboard\",t[t.Mouse=1]=\"Mouse\",t))(H||{});typeof window!=\"undefined\"&&typeof document!=\"undefined\"&&(document.addEventListener(\"keydown\",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible=\"\")},!0),document.addEventListener(\"click\",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible=\"\")},!0));function w(e){e==null||e.focus({preventScroll:!0})}let I=[\"textarea\",\"input\"].join(\",\");function O(e){var r,t;return(t=(r=e==null?void 0:e.matches)==null?void 0:r.call(e,I))!=null?t:!1}function _(e,r=t=>t){return e.slice().sort((t,u)=>{let o=r(t),c=r(u);if(o===null||c===null)return 0;let l=o.compareDocumentPosition(c);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function V(e,r){return P(b(),r,{relativeTo:e})}function P(e,r,{sorted:t=!0,relativeTo:u=null,skipElements:o=[]}={}){let c=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,l=Array.isArray(e)?t?_(e):e:r&64?S(e):b(e);o.length>0&&l.length>1&&(l=l.filter(s=>!o.some(a=>a!=null&&\"current\"in a?(a==null?void 0:a.current)===s:a===s))),u=u!=null?u:c.activeElement;let n=(()=>{if(r&5)return 1;if(r&10)return-1;throw new Error(\"Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last\")})(),x=(()=>{if(r&1)return 0;if(r&2)return Math.max(0,l.indexOf(u))-1;if(r&4)return Math.max(0,l.indexOf(u))+1;if(r&8)return l.length-1;throw new Error(\"Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last\")})(),M=r&32?{preventScroll:!0}:{},m=0,d=l.length,i;do{if(m>=d||m+d<=0)return 0;let s=x+m;if(r&16)s=(s+d)%d;else{if(s<0)return 3;if(s>=d)return 1}i=l[s],i==null||i.focus(M),m+=n}while(i!==c.activeElement);return r&6&&O(i)&&i.select(),2}export{F as Focus,T as FocusResult,h as FocusableMode,w as focusElement,V as focusFrom,P as focusIn,S as getAutoFocusableElements,b as getFocusableElements,A as isFocusableElement,j as restoreFocusIfNecessary,_ as sortByDomNode};\n", "import{useEffect as m}from\"react\";import{useLatestValue as c}from'./use-latest-value.js';function d(e,r,n){let o=c(r);m(()=>{function t(u){o.current(u)}return document.addEventListener(e,t,n),()=>document.removeEventListener(e,t,n)},[e,n])}export{d as useDocumentEvent};\n", "import{useEffect as d}from\"react\";import{useLatestValue as a}from'./use-latest-value.js';function s(e,r,n){let o=a(r);d(()=>{function t(i){o.current(i)}return window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)},[e,n])}export{s as useWindowEvent};\n", "import{useState as o}from\"react\";import{useIsoMorphicEffect as r}from'./use-iso-morphic-effect.js';function i(t){var n;if(t.type)return t.type;let e=(n=t.as)!=null?n:\"button\";if(typeof e==\"string\"&&e.toLowerCase()===\"button\")return\"button\"}function T(t,e){let[n,u]=o(()=>i(t));return r(()=>{u(i(t))},[t.type,t.as]),r(()=>{n||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute(\"type\")&&u(\"button\")},[n,e]),n}export{T as useResolveButtonType};\n", "import{useRef as o}from\"react\";function t(e){return[e.screenX,e.screenY]}function u(){let e=o([-1,-1]);return{wasMoved(r){let n=t(r);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(r){e.current=t(r)}}}export{u as useTrackedPointer};\n", "import{useEffect as m,useRef as E}from\"react\";import{getOwnerDocument as T}from'../utils/owner.js';import{useIsoMorphicEffect as N}from'./use-iso-morphic-effect.js';function F({container:e,accept:t,walk:r,enabled:c=!0}){let o=E(t),l=E(r);m(()=>{o.current=t,l.current=r},[t,r]),N(()=>{if(!e||!c)return;let n=T(e);if(!n)return;let f=o.current,p=l.current,d=Object.assign(i=>f(i),{acceptNode:f}),u=n.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,d,!1);for(;u.nextNode();)p(u.currentNode)},[e,c,o,l])}export{F as useTreeWalker};\n", "import{useEffect as s,useRef as f}from\"react\";import{useEvent as i}from'./use-event.js';function m(u,t){let e=f([]),r=i(u);s(()=>{let o=[...e.current];for(let[n,a]of t.entries())if(e.current[n]!==a){let l=r(t,o);return e.current=t,l}},[r,...t])}export{m as useWatch};\n", "import * as React from 'react';\nimport { useLayoutEffect, useEffect, useRef } from 'react';\nimport { stopEvent, getDocument, isMouseLikePointerType, contains, activeElement, isSafari, isTypeableCombobox, isVirtualClick, isVirtualPointerEvent, getTarget, getPlatform, isTypeableElement, isReactEvent, isRootElement, isEventTargetWithin, isMac, getUserAgent } from '@floating-ui/react/utils';\nimport { floor } from '@floating-ui/utils';\nimport { platform, getOverflowAncestors, useFloating as useFloating$1, offset, detectOverflow } from '@floating-ui/react-dom';\nexport { arrow, autoPlacement, autoUpdate, computePosition, detectOverflow, flip, getOverflowAncestors, hide, inline, limitShift, offset, platform, shift, size } from '@floating-ui/react-dom';\nimport { isElement, isHTMLElement, getNodeName, getWindow, isLastTraversableNode, getParentNode, getComputedStyle } from '@floating-ui/utils/dom';\nimport { tabbable } from 'tabbable';\nimport { createPortal, flushSync } from 'react-dom';\n\n/**\n * Merges an array of refs into a single memoized callback ref or `null`.\n * @see https://floating-ui.com/docs/react-utils#usemergerefs\n */\nfunction useMergeRefs(refs) {\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  return React.useMemo(() => {\n    if (refs.every(ref => ref == null)) {\n      return null;\n    }\n    return value => {\n      refs.forEach(ref => {\n        if (typeof ref === 'function') {\n          ref(value);\n        } else if (ref != null) {\n          ref.current = value;\n        }\n      });\n    };\n  }, refs);\n}\n\n// `toString()` prevents bundlers from trying to `import { useInsertionEffect } from 'react'`\nconst useInsertionEffect = React[/*#__PURE__*/'useInsertionEffect'.toString()];\nconst useSafeInsertionEffect = useInsertionEffect || (fn => fn());\nfunction useEffectEvent(callback) {\n  const ref = React.useRef(() => {\n    if (process.env.NODE_ENV !== \"production\") {\n      throw new Error('Cannot call an event handler while rendering.');\n    }\n  });\n  useSafeInsertionEffect(() => {\n    ref.current = callback;\n  });\n  return React.useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return ref.current == null ? void 0 : ref.current(...args);\n  }, []);\n}\n\nconst ARROW_UP = 'ArrowUp';\nconst ARROW_DOWN = 'ArrowDown';\nconst ARROW_LEFT = 'ArrowLeft';\nconst ARROW_RIGHT = 'ArrowRight';\nfunction isDifferentRow(index, cols, prevRow) {\n  return Math.floor(index / cols) !== prevRow;\n}\nfunction isIndexOutOfBounds(listRef, index) {\n  return index < 0 || index >= listRef.current.length;\n}\nfunction getMinIndex(listRef, disabledIndices) {\n  return findNonDisabledIndex(listRef, {\n    disabledIndices\n  });\n}\nfunction getMaxIndex(listRef, disabledIndices) {\n  return findNonDisabledIndex(listRef, {\n    decrement: true,\n    startingIndex: listRef.current.length,\n    disabledIndices\n  });\n}\nfunction findNonDisabledIndex(listRef, _temp) {\n  let {\n    startingIndex = -1,\n    decrement = false,\n    disabledIndices,\n    amount = 1\n  } = _temp === void 0 ? {} : _temp;\n  const list = listRef.current;\n  const isDisabledIndex = disabledIndices ? index => disabledIndices.includes(index) : index => {\n    const element = list[index];\n    return element == null || element.hasAttribute('disabled') || element.getAttribute('aria-disabled') === 'true';\n  };\n  let index = startingIndex;\n  do {\n    index += decrement ? -amount : amount;\n  } while (index >= 0 && index <= list.length - 1 && isDisabledIndex(index));\n  return index;\n}\nfunction getGridNavigatedIndex(elementsRef, _ref) {\n  let {\n    event,\n    orientation,\n    loop,\n    cols,\n    disabledIndices,\n    minIndex,\n    maxIndex,\n    prevIndex,\n    stopEvent: stop = false\n  } = _ref;\n  let nextIndex = prevIndex;\n  if (event.key === ARROW_UP) {\n    stop && stopEvent(event);\n    if (prevIndex === -1) {\n      nextIndex = maxIndex;\n    } else {\n      nextIndex = findNonDisabledIndex(elementsRef, {\n        startingIndex: nextIndex,\n        amount: cols,\n        decrement: true,\n        disabledIndices\n      });\n      if (loop && (prevIndex - cols < minIndex || nextIndex < 0)) {\n        const col = prevIndex % cols;\n        const maxCol = maxIndex % cols;\n        const offset = maxIndex - (maxCol - col);\n        if (maxCol === col) {\n          nextIndex = maxIndex;\n        } else {\n          nextIndex = maxCol > col ? offset : offset - cols;\n        }\n      }\n    }\n    if (isIndexOutOfBounds(elementsRef, nextIndex)) {\n      nextIndex = prevIndex;\n    }\n  }\n  if (event.key === ARROW_DOWN) {\n    stop && stopEvent(event);\n    if (prevIndex === -1) {\n      nextIndex = minIndex;\n    } else {\n      nextIndex = findNonDisabledIndex(elementsRef, {\n        startingIndex: prevIndex,\n        amount: cols,\n        disabledIndices\n      });\n      if (loop && prevIndex + cols > maxIndex) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex % cols - cols,\n          amount: cols,\n          disabledIndices\n        });\n      }\n    }\n    if (isIndexOutOfBounds(elementsRef, nextIndex)) {\n      nextIndex = prevIndex;\n    }\n  }\n\n  // Remains on the same row/column.\n  if (orientation === 'both') {\n    const prevRow = floor(prevIndex / cols);\n    if (event.key === ARROW_RIGHT) {\n      stop && stopEvent(event);\n      if (prevIndex % cols !== cols - 1) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex,\n          disabledIndices\n        });\n        if (loop && isDifferentRow(nextIndex, cols, prevRow)) {\n          nextIndex = findNonDisabledIndex(elementsRef, {\n            startingIndex: prevIndex - prevIndex % cols - 1,\n            disabledIndices\n          });\n        }\n      } else if (loop) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex - prevIndex % cols - 1,\n          disabledIndices\n        });\n      }\n      if (isDifferentRow(nextIndex, cols, prevRow)) {\n        nextIndex = prevIndex;\n      }\n    }\n    if (event.key === ARROW_LEFT) {\n      stop && stopEvent(event);\n      if (prevIndex % cols !== 0) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex,\n          disabledIndices,\n          decrement: true\n        });\n        if (loop && isDifferentRow(nextIndex, cols, prevRow)) {\n          nextIndex = findNonDisabledIndex(elementsRef, {\n            startingIndex: prevIndex + (cols - prevIndex % cols),\n            decrement: true,\n            disabledIndices\n          });\n        }\n      } else if (loop) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex + (cols - prevIndex % cols),\n          decrement: true,\n          disabledIndices\n        });\n      }\n      if (isDifferentRow(nextIndex, cols, prevRow)) {\n        nextIndex = prevIndex;\n      }\n    }\n    const lastRow = floor(maxIndex / cols) === prevRow;\n    if (isIndexOutOfBounds(elementsRef, nextIndex)) {\n      if (loop && lastRow) {\n        nextIndex = event.key === ARROW_LEFT ? maxIndex : findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex - prevIndex % cols - 1,\n          disabledIndices\n        });\n      } else {\n        nextIndex = prevIndex;\n      }\n    }\n  }\n  return nextIndex;\n}\n\n/** For each cell index, gets the item index that occupies that cell */\nfunction buildCellMap(sizes, cols, dense) {\n  const cellMap = [];\n  let startIndex = 0;\n  sizes.forEach((_ref2, index) => {\n    let {\n      width,\n      height\n    } = _ref2;\n    if (width > cols) {\n      if (process.env.NODE_ENV !== \"production\") {\n        throw new Error(\"[Floating UI]: Invalid grid - item width at index \" + index + \" is greater than grid columns\");\n      }\n    }\n    let itemPlaced = false;\n    if (dense) {\n      startIndex = 0;\n    }\n    while (!itemPlaced) {\n      const targetCells = [];\n      for (let i = 0; i < width; i++) {\n        for (let j = 0; j < height; j++) {\n          targetCells.push(startIndex + i + j * cols);\n        }\n      }\n      if (startIndex % cols + width <= cols && targetCells.every(cell => cellMap[cell] == null)) {\n        targetCells.forEach(cell => {\n          cellMap[cell] = index;\n        });\n        itemPlaced = true;\n      } else {\n        startIndex++;\n      }\n    }\n  });\n\n  // convert into a non-sparse array\n  return [...cellMap];\n}\n\n/** Gets cell index of an item's corner or -1 when index is -1. */\nfunction getCellIndexOfCorner(index, sizes, cellMap, cols, corner) {\n  if (index === -1) return -1;\n  const firstCellIndex = cellMap.indexOf(index);\n  switch (corner) {\n    case 'tl':\n      return firstCellIndex;\n    case 'tr':\n      return firstCellIndex + sizes[index].width - 1;\n    case 'bl':\n      return firstCellIndex + (sizes[index].height - 1) * cols;\n    case 'br':\n      return cellMap.lastIndexOf(index);\n  }\n}\n\n/** Gets all cell indices that correspond to the specified indices */\nfunction getCellIndices(indices, cellMap) {\n  return cellMap.flatMap((index, cellIndex) => indices.includes(index) ? [cellIndex] : []);\n}\n\nlet rafId = 0;\nfunction enqueueFocus(el, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    preventScroll = false,\n    cancelPrevious = true,\n    sync = false\n  } = options;\n  cancelPrevious && cancelAnimationFrame(rafId);\n  const exec = () => el == null ? void 0 : el.focus({\n    preventScroll\n  });\n  if (sync) {\n    exec();\n  } else {\n    rafId = requestAnimationFrame(exec);\n  }\n}\n\nvar index = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\n\nfunction sortByDocumentPosition(a, b) {\n  const position = a.compareDocumentPosition(b);\n  if (position & Node.DOCUMENT_POSITION_FOLLOWING || position & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n    return -1;\n  }\n  if (position & Node.DOCUMENT_POSITION_PRECEDING || position & Node.DOCUMENT_POSITION_CONTAINS) {\n    return 1;\n  }\n  return 0;\n}\nfunction areMapsEqual(map1, map2) {\n  if (map1.size !== map2.size) {\n    return false;\n  }\n  for (const [key, value] of map1.entries()) {\n    if (value !== map2.get(key)) {\n      return false;\n    }\n  }\n  return true;\n}\nconst FloatingListContext = /*#__PURE__*/React.createContext({\n  register: () => {},\n  unregister: () => {},\n  map: /*#__PURE__*/new Map(),\n  elementsRef: {\n    current: []\n  }\n});\n/**\n * Provides context for a list of items within the floating element.\n * @see https://floating-ui.com/docs/FloatingList\n */\nfunction FloatingList(_ref) {\n  let {\n    children,\n    elementsRef,\n    labelsRef\n  } = _ref;\n  const [map, setMap] = React.useState(() => new Map());\n  const register = React.useCallback(node => {\n    setMap(prevMap => new Map(prevMap).set(node, null));\n  }, []);\n  const unregister = React.useCallback(node => {\n    setMap(prevMap => {\n      const map = new Map(prevMap);\n      map.delete(node);\n      return map;\n    });\n  }, []);\n  index(() => {\n    const newMap = new Map(map);\n    const nodes = Array.from(newMap.keys()).sort(sortByDocumentPosition);\n    nodes.forEach((node, index) => {\n      newMap.set(node, index);\n    });\n    if (!areMapsEqual(map, newMap)) {\n      setMap(newMap);\n    }\n  }, [map]);\n  return /*#__PURE__*/React.createElement(FloatingListContext.Provider, {\n    value: React.useMemo(() => ({\n      register,\n      unregister,\n      map,\n      elementsRef,\n      labelsRef\n    }), [register, unregister, map, elementsRef, labelsRef])\n  }, children);\n}\n/**\n * Used to register a list item and its index (DOM position) in the\n * `FloatingList`.\n * @see https://floating-ui.com/docs/FloatingList#uselistitem\n */\nfunction useListItem(_temp) {\n  let {\n    label\n  } = _temp === void 0 ? {} : _temp;\n  const [index$1, setIndex] = React.useState(null);\n  const componentRef = React.useRef(null);\n  const {\n    register,\n    unregister,\n    map,\n    elementsRef,\n    labelsRef\n  } = React.useContext(FloatingListContext);\n  const ref = React.useCallback(node => {\n    componentRef.current = node;\n    if (index$1 !== null) {\n      elementsRef.current[index$1] = node;\n      if (labelsRef) {\n        var _node$textContent;\n        const isLabelDefined = label !== undefined;\n        labelsRef.current[index$1] = isLabelDefined ? label : (_node$textContent = node == null ? void 0 : node.textContent) != null ? _node$textContent : null;\n      }\n    }\n  }, [index$1, elementsRef, labelsRef, label]);\n  index(() => {\n    const node = componentRef.current;\n    if (node) {\n      register(node);\n      return () => {\n        unregister(node);\n      };\n    }\n  }, [register, unregister]);\n  index(() => {\n    const index = componentRef.current ? map.get(componentRef.current) : null;\n    if (index != null) {\n      setIndex(index);\n    }\n  }, [map]);\n  return React.useMemo(() => ({\n    ref,\n    index: index$1 == null ? -1 : index$1\n  }), [index$1, ref]);\n}\n\nfunction renderJsx(render, computedProps) {\n  if (typeof render === 'function') {\n    return render(computedProps);\n  }\n  if (render) {\n    return /*#__PURE__*/React.cloneElement(render, computedProps);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", computedProps);\n}\nconst CompositeContext = /*#__PURE__*/React.createContext({\n  activeIndex: 0,\n  onNavigate: () => {}\n});\nconst horizontalKeys = [ARROW_LEFT, ARROW_RIGHT];\nconst verticalKeys = [ARROW_UP, ARROW_DOWN];\nconst allKeys = [...horizontalKeys, ...verticalKeys];\n\n/**\n * Creates a single tab stop whose items are navigated by arrow keys, which\n * provides list navigation outside of floating element contexts.\n *\n * This is useful to enable navigation of a list of items that aren’t part of a\n * floating element. A menubar is an example of a composite, with each reference\n * element being an item.\n * @see https://floating-ui.com/docs/Composite\n */\nconst Composite = /*#__PURE__*/React.forwardRef(function Composite(_ref, forwardedRef) {\n  let {\n    render,\n    orientation = 'both',\n    loop = true,\n    cols = 1,\n    disabledIndices = [],\n    activeIndex: externalActiveIndex,\n    onNavigate: externalSetActiveIndex,\n    itemSizes,\n    dense = false,\n    ...props\n  } = _ref;\n  const [internalActiveIndex, internalSetActiveIndex] = React.useState(0);\n  const activeIndex = externalActiveIndex != null ? externalActiveIndex : internalActiveIndex;\n  const onNavigate = useEffectEvent(externalSetActiveIndex != null ? externalSetActiveIndex : internalSetActiveIndex);\n  const elementsRef = React.useRef([]);\n  const renderElementProps = render && typeof render !== 'function' ? render.props : {};\n  const contextValue = React.useMemo(() => ({\n    activeIndex,\n    onNavigate\n  }), [activeIndex, onNavigate]);\n  const isGrid = cols > 1;\n  function handleKeyDown(event) {\n    if (!allKeys.includes(event.key)) return;\n    let nextIndex = activeIndex;\n    if (isGrid) {\n      const sizes = itemSizes || Array.from({\n        length: elementsRef.current.length\n      }, () => ({\n        width: 1,\n        height: 1\n      }));\n      // To calculate movements on the grid, we use hypothetical cell indices\n      // as if every item was 1x1, then convert back to real indices.\n      const cellMap = buildCellMap(sizes, cols, dense);\n      const minGridIndex = cellMap.findIndex(index => index != null && !disabledIndices.includes(index));\n      // last enabled index\n      const maxGridIndex = cellMap.reduce((foundIndex, index, cellIndex) => index != null && !(disabledIndices != null && disabledIndices.includes(index)) ? cellIndex : foundIndex, -1);\n      nextIndex = cellMap[getGridNavigatedIndex({\n        current: cellMap.map(itemIndex => itemIndex ? elementsRef.current[itemIndex] : null)\n      }, {\n        event,\n        orientation,\n        loop,\n        cols,\n        // treat undefined (empty grid spaces) as disabled indices so we\n        // don't end up in them\n        disabledIndices: getCellIndices([...disabledIndices, undefined], cellMap),\n        minIndex: minGridIndex,\n        maxIndex: maxGridIndex,\n        prevIndex: getCellIndexOfCorner(activeIndex, sizes, cellMap, cols,\n        // use a corner matching the edge closest to the direction we're\n        // moving in so we don't end up in the same item. Prefer\n        // top/left over bottom/right.\n        event.key === ARROW_DOWN ? 'bl' : event.key === ARROW_RIGHT ? 'tr' : 'tl')\n      })]; // navigated cell will never be nullish\n    }\n    const minIndex = getMinIndex(elementsRef, disabledIndices);\n    const maxIndex = getMaxIndex(elementsRef, disabledIndices);\n    const toEndKeys = {\n      horizontal: [ARROW_RIGHT],\n      vertical: [ARROW_DOWN],\n      both: [ARROW_RIGHT, ARROW_DOWN]\n    }[orientation];\n    const toStartKeys = {\n      horizontal: [ARROW_LEFT],\n      vertical: [ARROW_UP],\n      both: [ARROW_LEFT, ARROW_UP]\n    }[orientation];\n    const preventedKeys = isGrid ? allKeys : {\n      horizontal: horizontalKeys,\n      vertical: verticalKeys,\n      both: allKeys\n    }[orientation];\n    if (nextIndex === activeIndex && [...toEndKeys, ...toStartKeys].includes(event.key)) {\n      if (loop && nextIndex === maxIndex && toEndKeys.includes(event.key)) {\n        nextIndex = minIndex;\n      } else if (loop && nextIndex === minIndex && toStartKeys.includes(event.key)) {\n        nextIndex = maxIndex;\n      } else {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: nextIndex,\n          decrement: toStartKeys.includes(event.key),\n          disabledIndices\n        });\n      }\n    }\n    if (nextIndex !== activeIndex && !isIndexOutOfBounds(elementsRef, nextIndex)) {\n      event.stopPropagation();\n      if (preventedKeys.includes(event.key)) {\n        event.preventDefault();\n      }\n      onNavigate(nextIndex);\n\n      // Wait for FocusManager `returnFocus` to execute.\n      queueMicrotask(() => {\n        enqueueFocus(elementsRef.current[nextIndex]);\n      });\n    }\n  }\n  const computedProps = {\n    ...props,\n    ...renderElementProps,\n    ref: forwardedRef,\n    'aria-orientation': orientation === 'both' ? undefined : orientation,\n    onKeyDown(e) {\n      props.onKeyDown == null || props.onKeyDown(e);\n      renderElementProps.onKeyDown == null || renderElementProps.onKeyDown(e);\n      handleKeyDown(e);\n    }\n  };\n  return /*#__PURE__*/React.createElement(CompositeContext.Provider, {\n    value: contextValue\n  }, /*#__PURE__*/React.createElement(FloatingList, {\n    elementsRef: elementsRef\n  }, renderJsx(render, computedProps)));\n});\n/**\n * @see https://floating-ui.com/docs/Composite\n */\nconst CompositeItem = /*#__PURE__*/React.forwardRef(function CompositeItem(_ref2, forwardedRef) {\n  let {\n    render,\n    ...props\n  } = _ref2;\n  const renderElementProps = render && typeof render !== 'function' ? render.props : {};\n  const {\n    activeIndex,\n    onNavigate\n  } = React.useContext(CompositeContext);\n  const {\n    ref,\n    index\n  } = useListItem();\n  const mergedRef = useMergeRefs([ref, forwardedRef, renderElementProps.ref]);\n  const isActive = activeIndex === index;\n  const computedProps = {\n    ...props,\n    ...renderElementProps,\n    ref: mergedRef,\n    tabIndex: isActive ? 0 : -1,\n    'data-active': isActive ? '' : undefined,\n    onFocus(e) {\n      props.onFocus == null || props.onFocus(e);\n      renderElementProps.onFocus == null || renderElementProps.onFocus(e);\n      onNavigate(index);\n    }\n  };\n  return renderJsx(render, computedProps);\n});\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nlet serverHandoffComplete = false;\nlet count = 0;\nconst genId = () => \"floating-ui-\" + count++;\nfunction useFloatingId() {\n  const [id, setId] = React.useState(() => serverHandoffComplete ? genId() : undefined);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  index(() => {\n    if (id == null) {\n      setId(genId());\n    }\n  }, []);\n  React.useEffect(() => {\n    if (!serverHandoffComplete) {\n      serverHandoffComplete = true;\n    }\n  }, []);\n  return id;\n}\n\n// `toString()` prevents bundlers from trying to `import { useId } from 'react'`\nconst useReactId = React[/*#__PURE__*/'useId'.toString()];\n\n/**\n * Uses React 18's built-in `useId()` when available, or falls back to a\n * slightly less performant (requiring a double render) implementation for\n * earlier React versions.\n * @see https://floating-ui.com/docs/react-utils#useid\n */\nconst useId = useReactId || useFloatingId;\n\n/**\n * Renders a pointing arrow triangle.\n * @see https://floating-ui.com/docs/FloatingArrow\n */\nconst FloatingArrow = /*#__PURE__*/React.forwardRef(function FloatingArrow(_ref, ref) {\n  let {\n    context: {\n      placement,\n      elements: {\n        floating\n      },\n      middlewareData: {\n        arrow\n      }\n    },\n    width = 14,\n    height = 7,\n    tipRadius = 0,\n    strokeWidth = 0,\n    staticOffset,\n    stroke,\n    d,\n    style: {\n      transform,\n      ...restStyle\n    } = {},\n    ...rest\n  } = _ref;\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!ref) {\n      console.warn('Floating UI: The `ref` prop is required for the `FloatingArrow`', 'component.');\n    }\n  }\n  const clipPathId = useId();\n  if (!floating) {\n    return null;\n  }\n\n  // Strokes must be double the border width, this ensures the stroke's width\n  // works as you'd expect.\n  strokeWidth *= 2;\n  const halfStrokeWidth = strokeWidth / 2;\n  const svgX = width / 2 * (tipRadius / -8 + 1);\n  const svgY = height / 2 * tipRadius / 4;\n  const [side, alignment] = placement.split('-');\n  const isRTL = platform.isRTL(floating);\n  const isCustomShape = !!d;\n  const isVerticalSide = side === 'top' || side === 'bottom';\n  const yOffsetProp = staticOffset && alignment === 'end' ? 'bottom' : 'top';\n  let xOffsetProp = staticOffset && alignment === 'end' ? 'right' : 'left';\n  if (staticOffset && isRTL) {\n    xOffsetProp = alignment === 'end' ? 'left' : 'right';\n  }\n  const arrowX = (arrow == null ? void 0 : arrow.x) != null ? staticOffset || arrow.x : '';\n  const arrowY = (arrow == null ? void 0 : arrow.y) != null ? staticOffset || arrow.y : '';\n  const dValue = d ||\n  // biome-ignore lint/style/useTemplate: readability\n  'M0,0' + (\" H\" + width) + (\" L\" + (width - svgX) + \",\" + (height - svgY)) + (\" Q\" + width / 2 + \",\" + height + \" \" + svgX + \",\" + (height - svgY)) + ' Z';\n  const rotation = {\n    top: isCustomShape ? 'rotate(180deg)' : '',\n    left: isCustomShape ? 'rotate(90deg)' : 'rotate(-90deg)',\n    bottom: isCustomShape ? '' : 'rotate(180deg)',\n    right: isCustomShape ? 'rotate(-90deg)' : 'rotate(90deg)'\n  }[side];\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({}, rest, {\n    \"aria-hidden\": true,\n    ref: ref,\n    width: isCustomShape ? width : width + strokeWidth,\n    height: width,\n    viewBox: \"0 0 \" + width + \" \" + (height > width ? height : width),\n    style: {\n      position: 'absolute',\n      pointerEvents: 'none',\n      [xOffsetProp]: arrowX,\n      [yOffsetProp]: arrowY,\n      [side]: isVerticalSide || isCustomShape ? '100%' : \"calc(100% - \" + strokeWidth / 2 + \"px)\",\n      transform: \"\" + rotation + (transform != null ? transform : ''),\n      ...restStyle\n    }\n  }), strokeWidth > 0 && /*#__PURE__*/React.createElement(\"path\", {\n    clipPath: \"url(#\" + clipPathId + \")\",\n    fill: \"none\",\n    stroke: stroke\n    // Account for the stroke on the fill path rendered below.\n    ,\n    strokeWidth: strokeWidth + (d ? 0 : 1),\n    d: dValue\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: strokeWidth && !d ? rest.fill : 'none',\n    d: dValue\n  }), /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: clipPathId\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: -halfStrokeWidth,\n    y: halfStrokeWidth * (isCustomShape ? -1 : 1),\n    width: width + strokeWidth,\n    height: width\n  })));\n});\n\nfunction createPubSub() {\n  const map = new Map();\n  return {\n    emit(event, data) {\n      var _map$get;\n      (_map$get = map.get(event)) == null || _map$get.forEach(handler => handler(data));\n    },\n    on(event, listener) {\n      map.set(event, [...(map.get(event) || []), listener]);\n    },\n    off(event, listener) {\n      var _map$get2;\n      map.set(event, ((_map$get2 = map.get(event)) == null ? void 0 : _map$get2.filter(l => l !== listener)) || []);\n    }\n  };\n}\n\nconst FloatingNodeContext = /*#__PURE__*/React.createContext(null);\nconst FloatingTreeContext = /*#__PURE__*/React.createContext(null);\n\n/**\n * Returns the parent node id for nested floating elements, if available.\n * Returns `null` for top-level floating elements.\n */\nconst useFloatingParentNodeId = () => {\n  var _React$useContext;\n  return ((_React$useContext = React.useContext(FloatingNodeContext)) == null ? void 0 : _React$useContext.id) || null;\n};\n\n/**\n * Returns the nearest floating tree context, if available.\n */\nconst useFloatingTree = () => React.useContext(FloatingTreeContext);\n\n/**\n * Registers a node into the `FloatingTree`, returning its id.\n * @see https://floating-ui.com/docs/FloatingTree\n */\nfunction useFloatingNodeId(customParentId) {\n  const id = useId();\n  const tree = useFloatingTree();\n  const reactParentId = useFloatingParentNodeId();\n  const parentId = customParentId || reactParentId;\n  index(() => {\n    const node = {\n      id,\n      parentId\n    };\n    tree == null || tree.addNode(node);\n    return () => {\n      tree == null || tree.removeNode(node);\n    };\n  }, [tree, id, parentId]);\n  return id;\n}\n\n/**\n * Provides parent node context for nested floating elements.\n * @see https://floating-ui.com/docs/FloatingTree\n */\nfunction FloatingNode(_ref) {\n  let {\n    children,\n    id\n  } = _ref;\n  const parentId = useFloatingParentNodeId();\n  return /*#__PURE__*/React.createElement(FloatingNodeContext.Provider, {\n    value: React.useMemo(() => ({\n      id,\n      parentId\n    }), [id, parentId])\n  }, children);\n}\n\n/**\n * Provides context for nested floating elements when they are not children of\n * each other on the DOM.\n * This is not necessary in all cases, except when there must be explicit communication between parent and child floating elements. It is necessary for:\n * - The `bubbles` option in the `useDismiss()` Hook\n * - Nested virtual list navigation\n * - Nested floating elements that each open on hover\n * - Custom communication between parent and child floating elements\n * @see https://floating-ui.com/docs/FloatingTree\n */\nfunction FloatingTree(_ref2) {\n  let {\n    children\n  } = _ref2;\n  const nodesRef = React.useRef([]);\n  const addNode = React.useCallback(node => {\n    nodesRef.current = [...nodesRef.current, node];\n  }, []);\n  const removeNode = React.useCallback(node => {\n    nodesRef.current = nodesRef.current.filter(n => n !== node);\n  }, []);\n  const events = React.useState(() => createPubSub())[0];\n  return /*#__PURE__*/React.createElement(FloatingTreeContext.Provider, {\n    value: React.useMemo(() => ({\n      nodesRef,\n      addNode,\n      removeNode,\n      events\n    }), [addNode, removeNode, events])\n  }, children);\n}\n\nfunction createAttribute(name) {\n  return \"data-floating-ui-\" + name;\n}\n\nfunction useLatestRef(value) {\n  const ref = useRef(value);\n  index(() => {\n    ref.current = value;\n  });\n  return ref;\n}\n\nconst safePolygonIdentifier = /*#__PURE__*/createAttribute('safe-polygon');\nfunction getDelay(value, prop, pointerType) {\n  if (pointerType && !isMouseLikePointerType(pointerType)) {\n    return 0;\n  }\n  if (typeof value === 'number') {\n    return value;\n  }\n  return value == null ? void 0 : value[prop];\n}\n/**\n * Opens the floating element while hovering over the reference element, like\n * CSS `:hover`.\n * @see https://floating-ui.com/docs/useHover\n */\nfunction useHover(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    dataRef,\n    events,\n    elements: {\n      domReference,\n      floating\n    },\n    refs\n  } = context;\n  const {\n    enabled = true,\n    delay = 0,\n    handleClose = null,\n    mouseOnly = false,\n    restMs = 0,\n    move = true\n  } = props;\n  const tree = useFloatingTree();\n  const parentId = useFloatingParentNodeId();\n  const handleCloseRef = useLatestRef(handleClose);\n  const delayRef = useLatestRef(delay);\n  const pointerTypeRef = React.useRef();\n  const timeoutRef = React.useRef();\n  const handlerRef = React.useRef();\n  const restTimeoutRef = React.useRef();\n  const blockMouseMoveRef = React.useRef(true);\n  const performedPointerEventsMutationRef = React.useRef(false);\n  const unbindMouseMoveRef = React.useRef(() => {});\n  const isHoverOpen = React.useCallback(() => {\n    var _dataRef$current$open;\n    const type = (_dataRef$current$open = dataRef.current.openEvent) == null ? void 0 : _dataRef$current$open.type;\n    return (type == null ? void 0 : type.includes('mouse')) && type !== 'mousedown';\n  }, [dataRef]);\n\n  // When closing before opening, clear the delay timeouts to cancel it\n  // from showing.\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function onOpenChange(_ref) {\n      let {\n        open\n      } = _ref;\n      if (!open) {\n        clearTimeout(timeoutRef.current);\n        clearTimeout(restTimeoutRef.current);\n        blockMouseMoveRef.current = true;\n      }\n    }\n    events.on('openchange', onOpenChange);\n    return () => {\n      events.off('openchange', onOpenChange);\n    };\n  }, [enabled, events]);\n  React.useEffect(() => {\n    if (!enabled || !handleCloseRef.current || !open) {\n      return;\n    }\n    function onLeave(event) {\n      if (isHoverOpen()) {\n        onOpenChange(false, event, 'hover');\n      }\n    }\n    const html = getDocument(floating).documentElement;\n    html.addEventListener('mouseleave', onLeave);\n    return () => {\n      html.removeEventListener('mouseleave', onLeave);\n    };\n  }, [floating, open, onOpenChange, enabled, handleCloseRef, isHoverOpen]);\n  const closeWithDelay = React.useCallback(function (event, runElseBranch, reason) {\n    if (runElseBranch === void 0) {\n      runElseBranch = true;\n    }\n    if (reason === void 0) {\n      reason = 'hover';\n    }\n    const closeDelay = getDelay(delayRef.current, 'close', pointerTypeRef.current);\n    if (closeDelay && !handlerRef.current) {\n      clearTimeout(timeoutRef.current);\n      timeoutRef.current = setTimeout(() => onOpenChange(false, event, reason), closeDelay);\n    } else if (runElseBranch) {\n      clearTimeout(timeoutRef.current);\n      onOpenChange(false, event, reason);\n    }\n  }, [delayRef, onOpenChange]);\n  const cleanupMouseMoveHandler = React.useCallback(() => {\n    unbindMouseMoveRef.current();\n    handlerRef.current = undefined;\n  }, []);\n  const clearPointerEvents = React.useCallback(() => {\n    if (performedPointerEventsMutationRef.current) {\n      const body = getDocument(refs.floating.current).body;\n      body.style.pointerEvents = '';\n      body.removeAttribute(safePolygonIdentifier);\n      performedPointerEventsMutationRef.current = false;\n    }\n  }, [refs]);\n\n  // Registering the mouse events on the reference directly to bypass React's\n  // delegation system. If the cursor was on a disabled element and then entered\n  // the reference (no gap), `mouseenter` doesn't fire in the delegation system.\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function isClickLikeOpenEvent() {\n      return dataRef.current.openEvent ? ['click', 'mousedown'].includes(dataRef.current.openEvent.type) : false;\n    }\n    function onMouseEnter(event) {\n      clearTimeout(timeoutRef.current);\n      blockMouseMoveRef.current = false;\n      if (mouseOnly && !isMouseLikePointerType(pointerTypeRef.current) || restMs > 0 && getDelay(delayRef.current, 'open') === 0) {\n        return;\n      }\n      const openDelay = getDelay(delayRef.current, 'open', pointerTypeRef.current);\n      if (openDelay) {\n        timeoutRef.current = setTimeout(() => {\n          onOpenChange(true, event, 'hover');\n        }, openDelay);\n      } else {\n        onOpenChange(true, event, 'hover');\n      }\n    }\n    function onMouseLeave(event) {\n      if (isClickLikeOpenEvent()) {\n        return;\n      }\n      unbindMouseMoveRef.current();\n      const doc = getDocument(floating);\n      clearTimeout(restTimeoutRef.current);\n      if (handleCloseRef.current) {\n        // Prevent clearing `onScrollMouseLeave` timeout.\n        if (!open) {\n          clearTimeout(timeoutRef.current);\n        }\n        handlerRef.current = handleCloseRef.current({\n          ...context,\n          tree,\n          x: event.clientX,\n          y: event.clientY,\n          onClose() {\n            clearPointerEvents();\n            cleanupMouseMoveHandler();\n            closeWithDelay(event, true, 'safe-polygon');\n          }\n        });\n        const handler = handlerRef.current;\n        doc.addEventListener('mousemove', handler);\n        unbindMouseMoveRef.current = () => {\n          doc.removeEventListener('mousemove', handler);\n        };\n        return;\n      }\n\n      // Allow interactivity without `safePolygon` on touch devices. With a\n      // pointer, a short close delay is an alternative, so it should work\n      // consistently.\n      const shouldClose = pointerTypeRef.current === 'touch' ? !contains(floating, event.relatedTarget) : true;\n      if (shouldClose) {\n        closeWithDelay(event);\n      }\n    }\n\n    // Ensure the floating element closes after scrolling even if the pointer\n    // did not move.\n    // https://github.com/floating-ui/floating-ui/discussions/1692\n    function onScrollMouseLeave(event) {\n      if (isClickLikeOpenEvent()) {\n        return;\n      }\n      handleCloseRef.current == null || handleCloseRef.current({\n        ...context,\n        tree,\n        x: event.clientX,\n        y: event.clientY,\n        onClose() {\n          clearPointerEvents();\n          cleanupMouseMoveHandler();\n          closeWithDelay(event);\n        }\n      })(event);\n    }\n    if (isElement(domReference)) {\n      const ref = domReference;\n      open && ref.addEventListener('mouseleave', onScrollMouseLeave);\n      floating == null || floating.addEventListener('mouseleave', onScrollMouseLeave);\n      move && ref.addEventListener('mousemove', onMouseEnter, {\n        once: true\n      });\n      ref.addEventListener('mouseenter', onMouseEnter);\n      ref.addEventListener('mouseleave', onMouseLeave);\n      return () => {\n        open && ref.removeEventListener('mouseleave', onScrollMouseLeave);\n        floating == null || floating.removeEventListener('mouseleave', onScrollMouseLeave);\n        move && ref.removeEventListener('mousemove', onMouseEnter);\n        ref.removeEventListener('mouseenter', onMouseEnter);\n        ref.removeEventListener('mouseleave', onMouseLeave);\n      };\n    }\n  }, [domReference, floating, enabled, context, mouseOnly, restMs, move, closeWithDelay, cleanupMouseMoveHandler, clearPointerEvents, onOpenChange, open, tree, delayRef, handleCloseRef, dataRef]);\n\n  // Block pointer-events of every element other than the reference and floating\n  // while the floating element is open and has a `handleClose` handler. Also\n  // handles nested floating elements.\n  // https://github.com/floating-ui/floating-ui/issues/1722\n  index(() => {\n    var _handleCloseRef$curre;\n    if (!enabled) {\n      return;\n    }\n    if (open && (_handleCloseRef$curre = handleCloseRef.current) != null && _handleCloseRef$curre.__options.blockPointerEvents && isHoverOpen()) {\n      const body = getDocument(floating).body;\n      body.setAttribute(safePolygonIdentifier, '');\n      body.style.pointerEvents = 'none';\n      performedPointerEventsMutationRef.current = true;\n      if (isElement(domReference) && floating) {\n        var _tree$nodesRef$curren;\n        const ref = domReference;\n        const parentFloating = tree == null || (_tree$nodesRef$curren = tree.nodesRef.current.find(node => node.id === parentId)) == null || (_tree$nodesRef$curren = _tree$nodesRef$curren.context) == null ? void 0 : _tree$nodesRef$curren.elements.floating;\n        if (parentFloating) {\n          parentFloating.style.pointerEvents = '';\n        }\n        ref.style.pointerEvents = 'auto';\n        floating.style.pointerEvents = 'auto';\n        return () => {\n          ref.style.pointerEvents = '';\n          floating.style.pointerEvents = '';\n        };\n      }\n    }\n  }, [enabled, open, parentId, floating, domReference, tree, handleCloseRef, isHoverOpen]);\n  index(() => {\n    if (!open) {\n      pointerTypeRef.current = undefined;\n      cleanupMouseMoveHandler();\n      clearPointerEvents();\n    }\n  }, [open, cleanupMouseMoveHandler, clearPointerEvents]);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  React.useEffect(() => {\n    return () => {\n      cleanupMouseMoveHandler();\n      clearTimeout(timeoutRef.current);\n      clearTimeout(restTimeoutRef.current);\n      clearPointerEvents();\n    };\n  }, [enabled, domReference, cleanupMouseMoveHandler, clearPointerEvents]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    function setPointerRef(event) {\n      pointerTypeRef.current = event.pointerType;\n    }\n    return {\n      reference: {\n        onPointerDown: setPointerRef,\n        onPointerEnter: setPointerRef,\n        onMouseMove(event) {\n          if (open || restMs === 0) {\n            return;\n          }\n          clearTimeout(restTimeoutRef.current);\n          restTimeoutRef.current = setTimeout(() => {\n            if (!blockMouseMoveRef.current) {\n              onOpenChange(true, event.nativeEvent, 'hover');\n            }\n          }, restMs);\n        }\n      },\n      floating: {\n        onMouseEnter() {\n          clearTimeout(timeoutRef.current);\n        },\n        onMouseLeave(event) {\n          closeWithDelay(event.nativeEvent, false);\n        }\n      }\n    };\n  }, [enabled, restMs, open, onOpenChange, closeWithDelay]);\n}\n\nconst FloatingDelayGroupContext = /*#__PURE__*/React.createContext({\n  delay: 0,\n  initialDelay: 0,\n  timeoutMs: 0,\n  currentId: null,\n  setCurrentId: () => {},\n  setState: () => {},\n  isInstantPhase: false\n});\nconst useDelayGroupContext = () => React.useContext(FloatingDelayGroupContext);\n/**\n * Provides context for a group of floating elements that should share a\n * `delay`.\n * @see https://floating-ui.com/docs/FloatingDelayGroup\n */\nconst FloatingDelayGroup = _ref => {\n  let {\n    children,\n    delay,\n    timeoutMs = 0\n  } = _ref;\n  const [state, setState] = React.useReducer((prev, next) => ({\n    ...prev,\n    ...next\n  }), {\n    delay,\n    timeoutMs,\n    initialDelay: delay,\n    currentId: null,\n    isInstantPhase: false\n  });\n  const initialCurrentIdRef = React.useRef(null);\n  const setCurrentId = React.useCallback(currentId => {\n    setState({\n      currentId\n    });\n  }, []);\n  index(() => {\n    if (state.currentId) {\n      if (initialCurrentIdRef.current === null) {\n        initialCurrentIdRef.current = state.currentId;\n      } else {\n        setState({\n          isInstantPhase: true\n        });\n      }\n    } else {\n      setState({\n        isInstantPhase: false\n      });\n      initialCurrentIdRef.current = null;\n    }\n  }, [state.currentId]);\n  return /*#__PURE__*/React.createElement(FloatingDelayGroupContext.Provider, {\n    value: React.useMemo(() => ({\n      ...state,\n      setState,\n      setCurrentId\n    }), [state, setCurrentId])\n  }, children);\n};\n/**\n * Enables grouping when called inside a component that's a child of a\n * `FloatingDelayGroup`.\n * @see https://floating-ui.com/docs/FloatingDelayGroup\n */\nconst useDelayGroup = (_ref2, _ref3) => {\n  let {\n    open,\n    onOpenChange\n  } = _ref2;\n  let {\n    id\n  } = _ref3;\n  const {\n    currentId,\n    setCurrentId,\n    initialDelay,\n    setState,\n    timeoutMs\n  } = useDelayGroupContext();\n  index(() => {\n    if (currentId) {\n      setState({\n        delay: {\n          open: 1,\n          close: getDelay(initialDelay, 'close')\n        }\n      });\n      if (currentId !== id) {\n        onOpenChange(false);\n      }\n    }\n  }, [id, onOpenChange, setState, currentId, initialDelay]);\n  index(() => {\n    function unset() {\n      onOpenChange(false);\n      setState({\n        delay: initialDelay,\n        currentId: null\n      });\n    }\n    if (!open && currentId === id) {\n      if (timeoutMs) {\n        const timeout = window.setTimeout(unset, timeoutMs);\n        return () => {\n          clearTimeout(timeout);\n        };\n      }\n      unset();\n    }\n  }, [open, setState, currentId, id, onOpenChange, initialDelay, timeoutMs]);\n  index(() => {\n    if (open) {\n      setCurrentId(id);\n    }\n  }, [open, setCurrentId, id]);\n};\n\nfunction getAncestors(nodes, id) {\n  var _nodes$find;\n  let allAncestors = [];\n  let currentParentId = (_nodes$find = nodes.find(node => node.id === id)) == null ? void 0 : _nodes$find.parentId;\n  while (currentParentId) {\n    const currentNode = nodes.find(node => node.id === currentParentId);\n    currentParentId = currentNode == null ? void 0 : currentNode.parentId;\n    if (currentNode) {\n      allAncestors = allAncestors.concat(currentNode);\n    }\n  }\n  return allAncestors;\n}\n\nfunction getChildren(nodes, id) {\n  let allChildren = nodes.filter(node => {\n    var _node$context;\n    return node.parentId === id && ((_node$context = node.context) == null ? void 0 : _node$context.open);\n  });\n  let currentChildren = allChildren;\n  while (currentChildren.length) {\n    currentChildren = nodes.filter(node => {\n      var _currentChildren;\n      return (_currentChildren = currentChildren) == null ? void 0 : _currentChildren.some(n => {\n        var _node$context2;\n        return node.parentId === n.id && ((_node$context2 = node.context) == null ? void 0 : _node$context2.open);\n      });\n    });\n    allChildren = allChildren.concat(currentChildren);\n  }\n  return allChildren;\n}\nfunction getDeepestNode(nodes, id) {\n  let deepestNodeId;\n  let maxDepth = -1;\n  function findDeepest(nodeId, depth) {\n    if (depth > maxDepth) {\n      deepestNodeId = nodeId;\n      maxDepth = depth;\n    }\n    const children = getChildren(nodes, nodeId);\n    children.forEach(child => {\n      findDeepest(child.id, depth + 1);\n    });\n  }\n  findDeepest(id, 0);\n  return nodes.find(node => node.id === deepestNodeId);\n}\n\n// Modified to add conditional `aria-hidden` support:\n// https://github.com/theKashey/aria-hidden/blob/9220c8f4a4fd35f63bee5510a9f41a37264382d4/src/index.ts\nlet counterMap = /*#__PURE__*/new WeakMap();\nlet uncontrolledElementsSet = /*#__PURE__*/new WeakSet();\nlet markerMap = {};\nlet lockCount = 0;\nconst supportsInert = () => typeof HTMLElement !== 'undefined' && 'inert' in HTMLElement.prototype;\nconst unwrapHost = node => node && (node.host || unwrapHost(node.parentNode));\nconst correctElements = (parent, targets) => targets.map(target => {\n  if (parent.contains(target)) {\n    return target;\n  }\n  const correctedTarget = unwrapHost(target);\n  if (parent.contains(correctedTarget)) {\n    return correctedTarget;\n  }\n  return null;\n}).filter(x => x != null);\nfunction applyAttributeToOthers(uncorrectedAvoidElements, body, ariaHidden, inert) {\n  const markerName = 'data-floating-ui-inert';\n  const controlAttribute = inert ? 'inert' : ariaHidden ? 'aria-hidden' : null;\n  const avoidElements = correctElements(body, uncorrectedAvoidElements);\n  const elementsToKeep = new Set();\n  const elementsToStop = new Set(avoidElements);\n  const hiddenElements = [];\n  if (!markerMap[markerName]) {\n    markerMap[markerName] = new WeakMap();\n  }\n  const markerCounter = markerMap[markerName];\n  avoidElements.forEach(keep);\n  deep(body);\n  elementsToKeep.clear();\n  function keep(el) {\n    if (!el || elementsToKeep.has(el)) {\n      return;\n    }\n    elementsToKeep.add(el);\n    el.parentNode && keep(el.parentNode);\n  }\n  function deep(parent) {\n    if (!parent || elementsToStop.has(parent)) {\n      return;\n    }\n    Array.prototype.forEach.call(parent.children, node => {\n      if (elementsToKeep.has(node)) {\n        deep(node);\n      } else {\n        const attr = controlAttribute ? node.getAttribute(controlAttribute) : null;\n        const alreadyHidden = attr !== null && attr !== 'false';\n        const counterValue = (counterMap.get(node) || 0) + 1;\n        const markerValue = (markerCounter.get(node) || 0) + 1;\n        counterMap.set(node, counterValue);\n        markerCounter.set(node, markerValue);\n        hiddenElements.push(node);\n        if (counterValue === 1 && alreadyHidden) {\n          uncontrolledElementsSet.add(node);\n        }\n        if (markerValue === 1) {\n          node.setAttribute(markerName, '');\n        }\n        if (!alreadyHidden && controlAttribute) {\n          node.setAttribute(controlAttribute, 'true');\n        }\n      }\n    });\n  }\n  lockCount++;\n  return () => {\n    hiddenElements.forEach(element => {\n      const counterValue = (counterMap.get(element) || 0) - 1;\n      const markerValue = (markerCounter.get(element) || 0) - 1;\n      counterMap.set(element, counterValue);\n      markerCounter.set(element, markerValue);\n      if (!counterValue) {\n        if (!uncontrolledElementsSet.has(element) && controlAttribute) {\n          element.removeAttribute(controlAttribute);\n        }\n        uncontrolledElementsSet.delete(element);\n      }\n      if (!markerValue) {\n        element.removeAttribute(markerName);\n      }\n    });\n    lockCount--;\n    if (!lockCount) {\n      counterMap = new WeakMap();\n      counterMap = new WeakMap();\n      uncontrolledElementsSet = new WeakSet();\n      markerMap = {};\n    }\n  };\n}\nfunction markOthers(avoidElements, ariaHidden, inert) {\n  if (ariaHidden === void 0) {\n    ariaHidden = false;\n  }\n  if (inert === void 0) {\n    inert = false;\n  }\n  const body = getDocument(avoidElements[0]).body;\n  return applyAttributeToOthers(avoidElements.concat(Array.from(body.querySelectorAll('[aria-live]'))), body, ariaHidden, inert);\n}\n\nconst getTabbableOptions = () => ({\n  getShadowRoot: true,\n  displayCheck:\n  // JSDOM does not support the `tabbable` library. To solve this we can\n  // check if `ResizeObserver` is a real function (not polyfilled), which\n  // determines if the current environment is JSDOM-like.\n  typeof ResizeObserver === 'function' && ResizeObserver.toString().includes('[native code]') ? 'full' : 'none'\n});\nfunction getTabbableIn(container, direction) {\n  const allTabbable = tabbable(container, getTabbableOptions());\n  if (direction === 'prev') {\n    allTabbable.reverse();\n  }\n  const activeIndex = allTabbable.indexOf(activeElement(getDocument(container)));\n  const nextTabbableElements = allTabbable.slice(activeIndex + 1);\n  return nextTabbableElements[0];\n}\nfunction getNextTabbable() {\n  return getTabbableIn(document.body, 'next');\n}\nfunction getPreviousTabbable() {\n  return getTabbableIn(document.body, 'prev');\n}\nfunction isOutsideEvent(event, container) {\n  const containerElement = container || event.currentTarget;\n  const relatedTarget = event.relatedTarget;\n  return !relatedTarget || !contains(containerElement, relatedTarget);\n}\nfunction disableFocusInside(container) {\n  const tabbableElements = tabbable(container, getTabbableOptions());\n  tabbableElements.forEach(element => {\n    element.dataset.tabindex = element.getAttribute('tabindex') || '';\n    element.setAttribute('tabindex', '-1');\n  });\n}\nfunction enableFocusInside(container) {\n  const elements = container.querySelectorAll('[data-tabindex]');\n  elements.forEach(element => {\n    const tabindex = element.dataset.tabindex;\n    // biome-ignore lint/performance/noDelete: purity\n    delete element.dataset.tabindex;\n    if (tabindex) {\n      element.setAttribute('tabindex', tabindex);\n    } else {\n      element.removeAttribute('tabindex');\n    }\n  });\n}\n\n// See Diego Haz's Sandbox for making this logic work well on Safari/iOS:\n// https://codesandbox.io/s/tabbable-portal-f4tng?file=/src/FocusTrap.tsx\n\nconst HIDDEN_STYLES = {\n  border: 0,\n  clip: 'rect(0 0 0 0)',\n  height: '1px',\n  margin: '-1px',\n  overflow: 'hidden',\n  padding: 0,\n  position: 'fixed',\n  whiteSpace: 'nowrap',\n  width: '1px',\n  top: 0,\n  left: 0\n};\nlet timeoutId;\nfunction setActiveElementOnTab(event) {\n  if (event.key === 'Tab') {\n    event.target;\n    clearTimeout(timeoutId);\n  }\n}\nconst FocusGuard = /*#__PURE__*/React.forwardRef(function FocusGuard(props, ref) {\n  const [role, setRole] = React.useState();\n  index(() => {\n    if (isSafari()) {\n      // Unlike other screen readers such as NVDA and JAWS, the virtual cursor\n      // on VoiceOver does trigger the onFocus event, so we can use the focus\n      // trap element. On Safari, only buttons trigger the onFocus event.\n      // NB: \"group\" role in the Sandbox no longer appears to work, must be a\n      // button role.\n      setRole('button');\n    }\n    document.addEventListener('keydown', setActiveElementOnTab);\n    return () => {\n      document.removeEventListener('keydown', setActiveElementOnTab);\n    };\n  }, []);\n  const restProps = {\n    ref,\n    tabIndex: 0,\n    // Role is only for VoiceOver\n    role,\n    'aria-hidden': role ? undefined : true,\n    [createAttribute('focus-guard')]: '',\n    style: HIDDEN_STYLES\n  };\n  return /*#__PURE__*/React.createElement(\"span\", _extends({}, props, restProps));\n});\n\nconst PortalContext = /*#__PURE__*/React.createContext(null);\nconst attr = /*#__PURE__*/createAttribute('portal');\n\n/**\n * @see https://floating-ui.com/docs/FloatingPortal#usefloatingportalnode\n */\nfunction useFloatingPortalNode(_temp) {\n  let {\n    id,\n    root\n  } = _temp === void 0 ? {} : _temp;\n  const [portalNode, setPortalNode] = React.useState(null);\n  const uniqueId = useId();\n  const portalContext = usePortalContext();\n  const portalNodeRef = React.useRef(null);\n  index(() => {\n    return () => {\n      portalNode == null || portalNode.remove();\n      // Allow the subsequent layout effects to create a new node on updates.\n      // The portal node will still be cleaned up on unmount.\n      // https://github.com/floating-ui/floating-ui/issues/2454\n      queueMicrotask(() => {\n        portalNodeRef.current = null;\n      });\n    };\n  }, [portalNode]);\n  index(() => {\n    if (portalNodeRef.current) return;\n    const existingIdRoot = id ? document.getElementById(id) : null;\n    if (!existingIdRoot) return;\n    const subRoot = document.createElement('div');\n    subRoot.id = uniqueId;\n    subRoot.setAttribute(attr, '');\n    existingIdRoot.appendChild(subRoot);\n    portalNodeRef.current = subRoot;\n    setPortalNode(subRoot);\n  }, [id, uniqueId]);\n  index(() => {\n    if (portalNodeRef.current) return;\n    let container = root || (portalContext == null ? void 0 : portalContext.portalNode);\n    if (container && !isElement(container)) container = container.current;\n    container = container || document.body;\n    let idWrapper = null;\n    if (id) {\n      idWrapper = document.createElement('div');\n      idWrapper.id = id;\n      container.appendChild(idWrapper);\n    }\n    const subRoot = document.createElement('div');\n    subRoot.id = uniqueId;\n    subRoot.setAttribute(attr, '');\n    container = idWrapper || container;\n    container.appendChild(subRoot);\n    portalNodeRef.current = subRoot;\n    setPortalNode(subRoot);\n  }, [id, root, uniqueId, portalContext]);\n  return portalNode;\n}\n/**\n * Portals the floating element into a given container element — by default,\n * outside of the app root and into the body.\n * This is necessary to ensure the floating element can appear outside any\n * potential parent containers that cause clipping (such as `overflow: hidden`),\n * while retaining its location in the React tree.\n * @see https://floating-ui.com/docs/FloatingPortal\n */\nfunction FloatingPortal(_ref) {\n  let {\n    children,\n    id,\n    root = null,\n    preserveTabOrder = true\n  } = _ref;\n  const portalNode = useFloatingPortalNode({\n    id,\n    root\n  });\n  const [focusManagerState, setFocusManagerState] = React.useState(null);\n  const beforeOutsideRef = React.useRef(null);\n  const afterOutsideRef = React.useRef(null);\n  const beforeInsideRef = React.useRef(null);\n  const afterInsideRef = React.useRef(null);\n  const shouldRenderGuards =\n  // The FocusManager and therefore floating element are currently open/\n  // rendered.\n  !!focusManagerState &&\n  // Guards are only for non-modal focus management.\n  !focusManagerState.modal &&\n  // Don't render if unmount is transitioning.\n  focusManagerState.open && preserveTabOrder && !!(root || portalNode);\n\n  // https://codesandbox.io/s/tabbable-portal-f4tng?file=/src/TabbablePortal.tsx\n  React.useEffect(() => {\n    if (!portalNode || !preserveTabOrder || focusManagerState != null && focusManagerState.modal) {\n      return;\n    }\n\n    // Make sure elements inside the portal element are tabbable only when the\n    // portal has already been focused, either by tabbing into a focus trap\n    // element outside or using the mouse.\n    function onFocus(event) {\n      if (portalNode && isOutsideEvent(event)) {\n        const focusing = event.type === 'focusin';\n        const manageFocus = focusing ? enableFocusInside : disableFocusInside;\n        manageFocus(portalNode);\n      }\n    }\n    // Listen to the event on the capture phase so they run before the focus\n    // trap elements onFocus prop is called.\n    portalNode.addEventListener('focusin', onFocus, true);\n    portalNode.addEventListener('focusout', onFocus, true);\n    return () => {\n      portalNode.removeEventListener('focusin', onFocus, true);\n      portalNode.removeEventListener('focusout', onFocus, true);\n    };\n  }, [portalNode, preserveTabOrder, focusManagerState == null ? void 0 : focusManagerState.modal]);\n  return /*#__PURE__*/React.createElement(PortalContext.Provider, {\n    value: React.useMemo(() => ({\n      preserveTabOrder,\n      beforeOutsideRef,\n      afterOutsideRef,\n      beforeInsideRef,\n      afterInsideRef,\n      portalNode,\n      setFocusManagerState\n    }), [preserveTabOrder, portalNode])\n  }, shouldRenderGuards && portalNode && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"outside\",\n    ref: beforeOutsideRef,\n    onFocus: event => {\n      if (isOutsideEvent(event, portalNode)) {\n        var _beforeInsideRef$curr;\n        (_beforeInsideRef$curr = beforeInsideRef.current) == null || _beforeInsideRef$curr.focus();\n      } else {\n        const prevTabbable = getPreviousTabbable() || (focusManagerState == null ? void 0 : focusManagerState.refs.domReference.current);\n        prevTabbable == null || prevTabbable.focus();\n      }\n    }\n  }), shouldRenderGuards && portalNode && /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-owns\": portalNode.id,\n    style: HIDDEN_STYLES\n  }), portalNode && /*#__PURE__*/createPortal(children, portalNode), shouldRenderGuards && portalNode && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"outside\",\n    ref: afterOutsideRef,\n    onFocus: event => {\n      if (isOutsideEvent(event, portalNode)) {\n        var _afterInsideRef$curre;\n        (_afterInsideRef$curre = afterInsideRef.current) == null || _afterInsideRef$curre.focus();\n      } else {\n        const nextTabbable = getNextTabbable() || (focusManagerState == null ? void 0 : focusManagerState.refs.domReference.current);\n        nextTabbable == null || nextTabbable.focus();\n        (focusManagerState == null ? void 0 : focusManagerState.closeOnFocusOut) && (focusManagerState == null ? void 0 : focusManagerState.onOpenChange(false, event.nativeEvent));\n      }\n    }\n  }));\n}\nconst usePortalContext = () => React.useContext(PortalContext);\n\nconst LIST_LIMIT = 20;\nlet previouslyFocusedElements = [];\nfunction addPreviouslyFocusedElement(element) {\n  previouslyFocusedElements = previouslyFocusedElements.filter(el => el.isConnected);\n  if (element && getNodeName(element) !== 'body') {\n    previouslyFocusedElements.push(element);\n    if (previouslyFocusedElements.length > LIST_LIMIT) {\n      previouslyFocusedElements = previouslyFocusedElements.slice(-LIST_LIMIT);\n    }\n  }\n}\nfunction getPreviouslyFocusedElement() {\n  return previouslyFocusedElements.slice().reverse().find(el => el.isConnected);\n}\nconst VisuallyHiddenDismiss = /*#__PURE__*/React.forwardRef(function VisuallyHiddenDismiss(props, ref) {\n  return /*#__PURE__*/React.createElement(\"button\", _extends({}, props, {\n    type: \"button\",\n    ref: ref,\n    tabIndex: -1,\n    style: HIDDEN_STYLES\n  }));\n});\n/**\n * Provides focus management for the floating element.\n * @see https://floating-ui.com/docs/FloatingFocusManager\n */\nfunction FloatingFocusManager(props) {\n  const {\n    context,\n    children,\n    disabled = false,\n    order = ['content'],\n    guards: _guards = true,\n    initialFocus = 0,\n    returnFocus = true,\n    modal = true,\n    visuallyHiddenDismiss = false,\n    closeOnFocusOut = true\n  } = props;\n  const {\n    open,\n    refs,\n    nodeId,\n    onOpenChange,\n    events,\n    dataRef,\n    elements: {\n      domReference,\n      floating\n    }\n  } = context;\n  const ignoreInitialFocus = typeof initialFocus === 'number' && initialFocus < 0;\n  // If the reference is a combobox and is typeable (e.g. input/textarea),\n  // there are different focus semantics. The guards should not be rendered, but\n  // aria-hidden should be applied to all nodes still. Further, the visually\n  // hidden dismiss button should only appear at the end of the list, not the\n  // start.\n  const isUntrappedTypeableCombobox = isTypeableCombobox(domReference) && ignoreInitialFocus;\n\n  // Force the guards to be rendered if the `inert` attribute is not supported.\n  const guards = supportsInert() ? _guards : true;\n  const orderRef = useLatestRef(order);\n  const initialFocusRef = useLatestRef(initialFocus);\n  const returnFocusRef = useLatestRef(returnFocus);\n  const tree = useFloatingTree();\n  const portalContext = usePortalContext();\n  const startDismissButtonRef = React.useRef(null);\n  const endDismissButtonRef = React.useRef(null);\n  const preventReturnFocusRef = React.useRef(false);\n  const isPointerDownRef = React.useRef(false);\n  const isInsidePortal = portalContext != null;\n  const getTabbableContent = React.useCallback(function (container) {\n    if (container === void 0) {\n      container = floating;\n    }\n    return container ? tabbable(container, getTabbableOptions()) : [];\n  }, [floating]);\n  const getTabbableElements = React.useCallback(container => {\n    const content = getTabbableContent(container);\n    return orderRef.current.map(type => {\n      if (domReference && type === 'reference') {\n        return domReference;\n      }\n      if (floating && type === 'floating') {\n        return floating;\n      }\n      return content;\n    }).filter(Boolean).flat();\n  }, [domReference, floating, orderRef, getTabbableContent]);\n  React.useEffect(() => {\n    if (disabled || !modal) return;\n    function onKeyDown(event) {\n      if (event.key === 'Tab') {\n        // The focus guards have nothing to focus, so we need to stop the event.\n        if (contains(floating, activeElement(getDocument(floating))) && getTabbableContent().length === 0 && !isUntrappedTypeableCombobox) {\n          stopEvent(event);\n        }\n        const els = getTabbableElements();\n        const target = getTarget(event);\n        if (orderRef.current[0] === 'reference' && target === domReference) {\n          stopEvent(event);\n          if (event.shiftKey) {\n            enqueueFocus(els[els.length - 1]);\n          } else {\n            enqueueFocus(els[1]);\n          }\n        }\n        if (orderRef.current[1] === 'floating' && target === floating && event.shiftKey) {\n          stopEvent(event);\n          enqueueFocus(els[0]);\n        }\n      }\n    }\n    const doc = getDocument(floating);\n    doc.addEventListener('keydown', onKeyDown);\n    return () => {\n      doc.removeEventListener('keydown', onKeyDown);\n    };\n  }, [disabled, domReference, floating, modal, orderRef, isUntrappedTypeableCombobox, getTabbableContent, getTabbableElements]);\n  React.useEffect(() => {\n    if (disabled || !closeOnFocusOut) return;\n\n    // In Safari, buttons lose focus when pressing them.\n    function handlePointerDown() {\n      isPointerDownRef.current = true;\n      setTimeout(() => {\n        isPointerDownRef.current = false;\n      });\n    }\n    function handleFocusOutside(event) {\n      const relatedTarget = event.relatedTarget;\n      queueMicrotask(() => {\n        const movedToUnrelatedNode = !(contains(domReference, relatedTarget) || contains(floating, relatedTarget) || contains(relatedTarget, floating) || contains(portalContext == null ? void 0 : portalContext.portalNode, relatedTarget) || relatedTarget != null && relatedTarget.hasAttribute(createAttribute('focus-guard')) || tree && (getChildren(tree.nodesRef.current, nodeId).find(node => {\n          var _node$context, _node$context2;\n          return contains((_node$context = node.context) == null ? void 0 : _node$context.elements.floating, relatedTarget) || contains((_node$context2 = node.context) == null ? void 0 : _node$context2.elements.domReference, relatedTarget);\n        }) || getAncestors(tree.nodesRef.current, nodeId).find(node => {\n          var _node$context3, _node$context4;\n          return ((_node$context3 = node.context) == null ? void 0 : _node$context3.elements.floating) === relatedTarget || ((_node$context4 = node.context) == null ? void 0 : _node$context4.elements.domReference) === relatedTarget;\n        })));\n\n        // Focus did not move inside the floating tree, and there are no tabbable\n        // portal guards to handle closing.\n        if (relatedTarget && movedToUnrelatedNode && !isPointerDownRef.current &&\n        // Fix React 18 Strict Mode returnFocus due to double rendering.\n        relatedTarget !== getPreviouslyFocusedElement()) {\n          preventReturnFocusRef.current = true;\n          onOpenChange(false, event);\n        }\n      });\n    }\n    if (floating && isHTMLElement(domReference)) {\n      domReference.addEventListener('focusout', handleFocusOutside);\n      domReference.addEventListener('pointerdown', handlePointerDown);\n      !modal && floating.addEventListener('focusout', handleFocusOutside);\n      return () => {\n        domReference.removeEventListener('focusout', handleFocusOutside);\n        domReference.removeEventListener('pointerdown', handlePointerDown);\n        !modal && floating.removeEventListener('focusout', handleFocusOutside);\n      };\n    }\n  }, [disabled, domReference, floating, modal, nodeId, tree, portalContext, onOpenChange, closeOnFocusOut]);\n  React.useEffect(() => {\n    var _portalContext$portal;\n    if (disabled) return;\n\n    // Don't hide portals nested within the parent portal.\n    const portalNodes = Array.from((portalContext == null || (_portalContext$portal = portalContext.portalNode) == null ? void 0 : _portalContext$portal.querySelectorAll(\"[\" + createAttribute('portal') + \"]\")) || []);\n    if (floating) {\n      const insideElements = [floating, ...portalNodes, startDismissButtonRef.current, endDismissButtonRef.current, orderRef.current.includes('reference') || isUntrappedTypeableCombobox ? domReference : null].filter(x => x != null);\n      const cleanup = modal || isUntrappedTypeableCombobox ? markOthers(insideElements, guards, !guards) : markOthers(insideElements);\n      return () => {\n        cleanup();\n      };\n    }\n  }, [disabled, domReference, floating, modal, orderRef, portalContext, isUntrappedTypeableCombobox, guards]);\n  index(() => {\n    if (disabled || !floating) return;\n    const doc = getDocument(floating);\n    const previouslyFocusedElement = activeElement(doc);\n\n    // Wait for any layout effect state setters to execute to set `tabIndex`.\n    queueMicrotask(() => {\n      const focusableElements = getTabbableElements(floating);\n      const initialFocusValue = initialFocusRef.current;\n      const elToFocus = (typeof initialFocusValue === 'number' ? focusableElements[initialFocusValue] : initialFocusValue.current) || floating;\n      const focusAlreadyInsideFloatingEl = contains(floating, previouslyFocusedElement);\n      if (!ignoreInitialFocus && !focusAlreadyInsideFloatingEl && open) {\n        enqueueFocus(elToFocus, {\n          preventScroll: elToFocus === floating\n        });\n      }\n    });\n  }, [disabled, open, floating, ignoreInitialFocus, getTabbableElements, initialFocusRef]);\n  index(() => {\n    if (disabled || !floating) return;\n    let preventReturnFocusScroll = false;\n    const doc = getDocument(floating);\n    const previouslyFocusedElement = activeElement(doc);\n    const contextData = dataRef.current;\n    addPreviouslyFocusedElement(previouslyFocusedElement);\n\n    // Dismissing via outside press should always ignore `returnFocus` to\n    // prevent unwanted scrolling.\n    function onOpenChange(_ref) {\n      let {\n        reason,\n        event,\n        nested\n      } = _ref;\n      if (reason === 'escape-key' && refs.domReference.current) {\n        addPreviouslyFocusedElement(refs.domReference.current);\n      }\n      if (reason === 'hover' && event.type === 'mouseleave') {\n        preventReturnFocusRef.current = true;\n      }\n      if (reason !== 'outside-press') return;\n      if (nested) {\n        preventReturnFocusRef.current = false;\n        preventReturnFocusScroll = true;\n      } else {\n        preventReturnFocusRef.current = !(isVirtualClick(event) || isVirtualPointerEvent(event));\n      }\n    }\n    events.on('openchange', onOpenChange);\n    return () => {\n      events.off('openchange', onOpenChange);\n      const activeEl = activeElement(doc);\n      const isFocusInsideFloatingTree = contains(floating, activeEl) || tree && getChildren(tree.nodesRef.current, nodeId).some(node => {\n        var _node$context5;\n        return contains((_node$context5 = node.context) == null ? void 0 : _node$context5.elements.floating, activeEl);\n      });\n      const shouldFocusReference = isFocusInsideFloatingTree || contextData.openEvent && ['click', 'mousedown'].includes(contextData.openEvent.type);\n      if (shouldFocusReference && refs.domReference.current) {\n        addPreviouslyFocusedElement(refs.domReference.current);\n      }\n      const returnElement = getPreviouslyFocusedElement();\n      if (returnFocusRef.current && !preventReturnFocusRef.current && isHTMLElement(returnElement) && (\n      // If the focus moved somewhere else after mount, avoid returning focus\n      // since it likely entered a different element which should be\n      // respected: https://github.com/floating-ui/floating-ui/issues/2607\n      returnElement !== activeEl && activeEl !== doc.body ? isFocusInsideFloatingTree : true)) {\n        enqueueFocus(returnElement, {\n          // When dismissing nested floating elements, by the time the rAF has\n          // executed, the menus will all have been unmounted. When they try\n          // to get focused, the calls get ignored — leaving the root\n          // reference focused as desired.\n          cancelPrevious: false,\n          preventScroll: preventReturnFocusScroll\n        });\n      }\n    };\n  }, [disabled, floating, returnFocusRef, dataRef, refs, events, tree, nodeId]);\n\n  // Synchronize the `context` & `modal` value to the FloatingPortal context.\n  // It will decide whether or not it needs to render its own guards.\n  index(() => {\n    if (disabled || !portalContext) return;\n    portalContext.setFocusManagerState({\n      modal,\n      closeOnFocusOut,\n      open,\n      onOpenChange,\n      refs\n    });\n    return () => {\n      portalContext.setFocusManagerState(null);\n    };\n  }, [disabled, portalContext, modal, open, onOpenChange, refs, closeOnFocusOut]);\n  index(() => {\n    if (disabled || !floating || typeof MutationObserver !== 'function' || ignoreInitialFocus) {\n      return;\n    }\n    const handleMutation = () => {\n      const tabIndex = floating.getAttribute('tabindex');\n      if (orderRef.current.includes('floating') || activeElement(getDocument(floating)) !== refs.domReference.current && getTabbableContent().length === 0) {\n        if (tabIndex !== '0') {\n          floating.setAttribute('tabindex', '0');\n        }\n      } else if (tabIndex !== '-1') {\n        floating.setAttribute('tabindex', '-1');\n      }\n    };\n    handleMutation();\n    const observer = new MutationObserver(handleMutation);\n    observer.observe(floating, {\n      childList: true,\n      subtree: true,\n      attributes: true\n    });\n    return () => {\n      observer.disconnect();\n    };\n  }, [disabled, floating, refs, orderRef, getTabbableContent, ignoreInitialFocus]);\n  function renderDismissButton(location) {\n    if (disabled || !visuallyHiddenDismiss || !modal) {\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(VisuallyHiddenDismiss, {\n      ref: location === 'start' ? startDismissButtonRef : endDismissButtonRef,\n      onClick: event => onOpenChange(false, event.nativeEvent)\n    }, typeof visuallyHiddenDismiss === 'string' ? visuallyHiddenDismiss : 'Dismiss');\n  }\n  const shouldRenderGuards = !disabled && guards && (isInsidePortal || modal);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, shouldRenderGuards && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"inside\",\n    ref: portalContext == null ? void 0 : portalContext.beforeInsideRef,\n    onFocus: event => {\n      if (modal) {\n        const els = getTabbableElements();\n        enqueueFocus(order[0] === 'reference' ? els[0] : els[els.length - 1]);\n      } else if (portalContext != null && portalContext.preserveTabOrder && portalContext.portalNode) {\n        preventReturnFocusRef.current = false;\n        if (isOutsideEvent(event, portalContext.portalNode)) {\n          const nextTabbable = getNextTabbable() || domReference;\n          nextTabbable == null || nextTabbable.focus();\n        } else {\n          var _portalContext$before;\n          (_portalContext$before = portalContext.beforeOutsideRef.current) == null || _portalContext$before.focus();\n        }\n      }\n    }\n  }), !isUntrappedTypeableCombobox && renderDismissButton('start'), children, renderDismissButton('end'), shouldRenderGuards && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"inside\",\n    ref: portalContext == null ? void 0 : portalContext.afterInsideRef,\n    onFocus: event => {\n      if (modal) {\n        enqueueFocus(getTabbableElements()[0]);\n      } else if (portalContext != null && portalContext.preserveTabOrder && portalContext.portalNode) {\n        if (closeOnFocusOut) {\n          preventReturnFocusRef.current = true;\n        }\n        if (isOutsideEvent(event, portalContext.portalNode)) {\n          const prevTabbable = getPreviousTabbable() || domReference;\n          prevTabbable == null || prevTabbable.focus();\n        } else {\n          var _portalContext$afterO;\n          (_portalContext$afterO = portalContext.afterOutsideRef.current) == null || _portalContext$afterO.focus();\n        }\n      }\n    }\n  }));\n}\n\nconst activeLocks = /*#__PURE__*/new Set();\n/**\n * Provides base styling for a fixed overlay element to dim content or block\n * pointer events behind a floating element.\n * It's a regular `<div>`, so it can be styled via any CSS solution you prefer.\n * @see https://floating-ui.com/docs/FloatingOverlay\n */\nconst FloatingOverlay = /*#__PURE__*/React.forwardRef(function FloatingOverlay(_ref, ref) {\n  let {\n    lockScroll = false,\n    ...rest\n  } = _ref;\n  const lockId = useId();\n  index(() => {\n    if (!lockScroll) return;\n    activeLocks.add(lockId);\n    const isIOS = /iP(hone|ad|od)|iOS/.test(getPlatform());\n    const bodyStyle = document.body.style;\n    // RTL <body> scrollbar\n    const scrollbarX = Math.round(document.documentElement.getBoundingClientRect().left) + document.documentElement.scrollLeft;\n    const paddingProp = scrollbarX ? 'paddingLeft' : 'paddingRight';\n    const scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\n    const scrollX = bodyStyle.left ? parseFloat(bodyStyle.left) : window.pageXOffset;\n    const scrollY = bodyStyle.top ? parseFloat(bodyStyle.top) : window.pageYOffset;\n    bodyStyle.overflow = 'hidden';\n    if (scrollbarWidth) {\n      bodyStyle[paddingProp] = scrollbarWidth + \"px\";\n    }\n\n    // Only iOS doesn't respect `overflow: hidden` on document.body, and this\n    // technique has fewer side effects.\n    if (isIOS) {\n      var _window$visualViewpor, _window$visualViewpor2;\n      // iOS 12 does not support `visualViewport`.\n      const offsetLeft = ((_window$visualViewpor = window.visualViewport) == null ? void 0 : _window$visualViewpor.offsetLeft) || 0;\n      const offsetTop = ((_window$visualViewpor2 = window.visualViewport) == null ? void 0 : _window$visualViewpor2.offsetTop) || 0;\n      Object.assign(bodyStyle, {\n        position: 'fixed',\n        top: -(scrollY - Math.floor(offsetTop)) + \"px\",\n        left: -(scrollX - Math.floor(offsetLeft)) + \"px\",\n        right: '0'\n      });\n    }\n    return () => {\n      activeLocks.delete(lockId);\n      if (activeLocks.size === 0) {\n        Object.assign(bodyStyle, {\n          overflow: '',\n          [paddingProp]: ''\n        });\n        if (isIOS) {\n          Object.assign(bodyStyle, {\n            position: '',\n            top: '',\n            left: '',\n            right: ''\n          });\n          window.scrollTo(scrollX, scrollY);\n        }\n      }\n    };\n  }, [lockId, lockScroll]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref\n  }, rest, {\n    style: {\n      position: 'fixed',\n      overflow: 'auto',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      ...rest.style\n    }\n  }));\n});\n\nfunction isButtonTarget(event) {\n  return isHTMLElement(event.target) && event.target.tagName === 'BUTTON';\n}\nfunction isSpaceIgnored(element) {\n  return isTypeableElement(element);\n}\n/**\n * Opens or closes the floating element when clicking the reference element.\n * @see https://floating-ui.com/docs/useClick\n */\nfunction useClick(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    dataRef,\n    elements: {\n      domReference\n    }\n  } = context;\n  const {\n    enabled = true,\n    event: eventOption = 'click',\n    toggle = true,\n    ignoreMouse = false,\n    keyboardHandlers = true\n  } = props;\n  const pointerTypeRef = React.useRef();\n  const didKeyDownRef = React.useRef(false);\n  return React.useMemo(() => {\n    if (!enabled) return {};\n    return {\n      reference: {\n        onPointerDown(event) {\n          pointerTypeRef.current = event.pointerType;\n        },\n        onMouseDown(event) {\n          // Ignore all buttons except for the \"main\" button.\n          // https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n          if (event.button !== 0) {\n            return;\n          }\n          if (isMouseLikePointerType(pointerTypeRef.current, true) && ignoreMouse) {\n            return;\n          }\n          if (eventOption === 'click') {\n            return;\n          }\n          if (open && toggle && (dataRef.current.openEvent ? dataRef.current.openEvent.type === 'mousedown' : true)) {\n            onOpenChange(false, event.nativeEvent, 'click');\n          } else {\n            // Prevent stealing focus from the floating element\n            event.preventDefault();\n            onOpenChange(true, event.nativeEvent, 'click');\n          }\n        },\n        onClick(event) {\n          if (eventOption === 'mousedown' && pointerTypeRef.current) {\n            pointerTypeRef.current = undefined;\n            return;\n          }\n          if (isMouseLikePointerType(pointerTypeRef.current, true) && ignoreMouse) {\n            return;\n          }\n          if (open && toggle && (dataRef.current.openEvent ? dataRef.current.openEvent.type === 'click' : true)) {\n            onOpenChange(false, event.nativeEvent, 'click');\n          } else {\n            onOpenChange(true, event.nativeEvent, 'click');\n          }\n        },\n        onKeyDown(event) {\n          pointerTypeRef.current = undefined;\n          if (event.defaultPrevented || !keyboardHandlers || isButtonTarget(event)) {\n            return;\n          }\n          if (event.key === ' ' && !isSpaceIgnored(domReference)) {\n            // Prevent scrolling\n            event.preventDefault();\n            didKeyDownRef.current = true;\n          }\n          if (event.key === 'Enter') {\n            if (open && toggle) {\n              onOpenChange(false, event.nativeEvent, 'click');\n            } else {\n              onOpenChange(true, event.nativeEvent, 'click');\n            }\n          }\n        },\n        onKeyUp(event) {\n          if (event.defaultPrevented || !keyboardHandlers || isButtonTarget(event) || isSpaceIgnored(domReference)) {\n            return;\n          }\n          if (event.key === ' ' && didKeyDownRef.current) {\n            didKeyDownRef.current = false;\n            if (open && toggle) {\n              onOpenChange(false, event.nativeEvent, 'click');\n            } else {\n              onOpenChange(true, event.nativeEvent, 'click');\n            }\n          }\n        }\n      }\n    };\n  }, [enabled, dataRef, eventOption, ignoreMouse, keyboardHandlers, domReference, toggle, open, onOpenChange]);\n}\n\nfunction createVirtualElement(domRef, data) {\n  let offsetX = null;\n  let offsetY = null;\n  let isAutoUpdateEvent = false;\n  return {\n    contextElement: domRef.current || undefined,\n    getBoundingClientRect() {\n      var _domRef$current, _data$dataRef$current;\n      const domRect = ((_domRef$current = domRef.current) == null ? void 0 : _domRef$current.getBoundingClientRect()) || {\n        width: 0,\n        height: 0,\n        x: 0,\n        y: 0\n      };\n      const isXAxis = data.axis === 'x' || data.axis === 'both';\n      const isYAxis = data.axis === 'y' || data.axis === 'both';\n      const canTrackCursorOnAutoUpdate = ['mouseenter', 'mousemove'].includes(((_data$dataRef$current = data.dataRef.current.openEvent) == null ? void 0 : _data$dataRef$current.type) || '') && data.pointerType !== 'touch';\n      let width = domRect.width;\n      let height = domRect.height;\n      let x = domRect.x;\n      let y = domRect.y;\n      if (offsetX == null && data.x && isXAxis) {\n        offsetX = domRect.x - data.x;\n      }\n      if (offsetY == null && data.y && isYAxis) {\n        offsetY = domRect.y - data.y;\n      }\n      x -= offsetX || 0;\n      y -= offsetY || 0;\n      width = 0;\n      height = 0;\n      if (!isAutoUpdateEvent || canTrackCursorOnAutoUpdate) {\n        width = data.axis === 'y' ? domRect.width : 0;\n        height = data.axis === 'x' ? domRect.height : 0;\n        x = isXAxis && data.x != null ? data.x : x;\n        y = isYAxis && data.y != null ? data.y : y;\n      } else if (isAutoUpdateEvent && !canTrackCursorOnAutoUpdate) {\n        height = data.axis === 'x' ? domRect.height : height;\n        width = data.axis === 'y' ? domRect.width : width;\n      }\n      isAutoUpdateEvent = true;\n      return {\n        width,\n        height,\n        x,\n        y,\n        top: y,\n        right: x + width,\n        bottom: y + height,\n        left: x\n      };\n    }\n  };\n}\nfunction isMouseBasedEvent(event) {\n  return event != null && event.clientX != null;\n}\n/**\n * Positions the floating element relative to a client point (in the viewport),\n * such as the mouse position. By default, it follows the mouse cursor.\n * @see https://floating-ui.com/docs/useClientPoint\n */\nfunction useClientPoint(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    refs,\n    dataRef,\n    elements: {\n      floating\n    }\n  } = context;\n  const {\n    enabled = true,\n    axis = 'both',\n    x = null,\n    y = null\n  } = props;\n  const initialRef = React.useRef(false);\n  const cleanupListenerRef = React.useRef(null);\n  const [pointerType, setPointerType] = React.useState();\n  const [reactive, setReactive] = React.useState([]);\n  const setReference = useEffectEvent((x, y) => {\n    if (initialRef.current) return;\n\n    // Prevent setting if the open event was not a mouse-like one\n    // (e.g. focus to open, then hover over the reference element).\n    // Only apply if the event exists.\n    if (dataRef.current.openEvent && !isMouseBasedEvent(dataRef.current.openEvent)) {\n      return;\n    }\n    refs.setPositionReference(createVirtualElement(refs.domReference, {\n      x,\n      y,\n      axis,\n      dataRef,\n      pointerType\n    }));\n  });\n  const handleReferenceEnterOrMove = useEffectEvent(event => {\n    if (x != null || y != null) return;\n    if (!open) {\n      setReference(event.clientX, event.clientY);\n    } else if (!cleanupListenerRef.current) {\n      // If there's no cleanup, there's no listener, but we want to ensure\n      // we add the listener if the cursor landed on the floating element and\n      // then back on the reference (i.e. it's interactive).\n      setReactive([]);\n    }\n  });\n\n  // If the pointer is a mouse-like pointer, we want to continue following the\n  // mouse even if the floating element is transitioning out. On touch\n  // devices, this is undesirable because the floating element will move to\n  // the dismissal touch point.\n  const openCheck = isMouseLikePointerType(pointerType) ? floating : open;\n  const addListener = React.useCallback(() => {\n    // Explicitly specified `x`/`y` coordinates shouldn't add a listener.\n    if (!openCheck || !enabled || x != null || y != null) return;\n    const win = getWindow(refs.floating.current);\n    function handleMouseMove(event) {\n      const target = getTarget(event);\n      if (!contains(refs.floating.current, target)) {\n        setReference(event.clientX, event.clientY);\n      } else {\n        win.removeEventListener('mousemove', handleMouseMove);\n        cleanupListenerRef.current = null;\n      }\n    }\n    if (!dataRef.current.openEvent || isMouseBasedEvent(dataRef.current.openEvent)) {\n      win.addEventListener('mousemove', handleMouseMove);\n      const cleanup = () => {\n        win.removeEventListener('mousemove', handleMouseMove);\n        cleanupListenerRef.current = null;\n      };\n      cleanupListenerRef.current = cleanup;\n      return cleanup;\n    }\n    refs.setPositionReference(refs.domReference.current);\n  }, [dataRef, enabled, openCheck, refs, setReference, x, y]);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentionally specifying `reactive`\n  React.useEffect(() => {\n    return addListener();\n  }, [addListener, reactive]);\n  React.useEffect(() => {\n    if (enabled && !floating) {\n      initialRef.current = false;\n    }\n  }, [enabled, floating]);\n  React.useEffect(() => {\n    if (!enabled && open) {\n      initialRef.current = true;\n    }\n  }, [enabled, open]);\n  index(() => {\n    if (enabled && (x != null || y != null)) {\n      initialRef.current = false;\n      setReference(x, y);\n    }\n  }, [enabled, x, y, setReference]);\n  return React.useMemo(() => {\n    if (!enabled) return {};\n    function setPointerTypeRef(_ref) {\n      let {\n        pointerType\n      } = _ref;\n      setPointerType(pointerType);\n    }\n    return {\n      reference: {\n        onPointerDown: setPointerTypeRef,\n        onPointerEnter: setPointerTypeRef,\n        onMouseMove: handleReferenceEnterOrMove,\n        onMouseEnter: handleReferenceEnterOrMove\n      }\n    };\n  }, [enabled, handleReferenceEnterOrMove]);\n}\n\nconst bubbleHandlerKeys = {\n  pointerdown: 'onPointerDown',\n  mousedown: 'onMouseDown',\n  click: 'onClick'\n};\nconst captureHandlerKeys = {\n  pointerdown: 'onPointerDownCapture',\n  mousedown: 'onMouseDownCapture',\n  click: 'onClickCapture'\n};\nconst normalizeProp = normalizable => {\n  var _normalizable$escapeK, _normalizable$outside;\n  return {\n    escapeKey: typeof normalizable === 'boolean' ? normalizable : (_normalizable$escapeK = normalizable == null ? void 0 : normalizable.escapeKey) != null ? _normalizable$escapeK : false,\n    outsidePress: typeof normalizable === 'boolean' ? normalizable : (_normalizable$outside = normalizable == null ? void 0 : normalizable.outsidePress) != null ? _normalizable$outside : true\n  };\n};\n/**\n * Closes the floating element when a dismissal is requested — by default, when\n * the user presses the `escape` key or outside of the floating element.\n * @see https://floating-ui.com/docs/useDismiss\n */\nfunction useDismiss(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    nodeId,\n    elements: {\n      reference,\n      domReference,\n      floating\n    },\n    dataRef\n  } = context;\n  const {\n    enabled = true,\n    escapeKey = true,\n    outsidePress: unstable_outsidePress = true,\n    outsidePressEvent = 'pointerdown',\n    referencePress = false,\n    referencePressEvent = 'pointerdown',\n    ancestorScroll = false,\n    bubbles,\n    capture\n  } = props;\n  const tree = useFloatingTree();\n  const outsidePressFn = useEffectEvent(typeof unstable_outsidePress === 'function' ? unstable_outsidePress : () => false);\n  const outsidePress = typeof unstable_outsidePress === 'function' ? outsidePressFn : unstable_outsidePress;\n  const insideReactTreeRef = React.useRef(false);\n  const endedOrStartedInsideRef = React.useRef(false);\n  const {\n    escapeKey: escapeKeyBubbles,\n    outsidePress: outsidePressBubbles\n  } = normalizeProp(bubbles);\n  const {\n    escapeKey: escapeKeyCapture,\n    outsidePress: outsidePressCapture\n  } = normalizeProp(capture);\n  const closeOnEscapeKeyDown = useEffectEvent(event => {\n    if (!open || !enabled || !escapeKey || event.key !== 'Escape') {\n      return;\n    }\n    const children = tree ? getChildren(tree.nodesRef.current, nodeId) : [];\n    if (!escapeKeyBubbles) {\n      event.stopPropagation();\n      if (children.length > 0) {\n        let shouldDismiss = true;\n        children.forEach(child => {\n          var _child$context;\n          if ((_child$context = child.context) != null && _child$context.open && !child.context.dataRef.current.__escapeKeyBubbles) {\n            shouldDismiss = false;\n            return;\n          }\n        });\n        if (!shouldDismiss) {\n          return;\n        }\n      }\n    }\n    onOpenChange(false, isReactEvent(event) ? event.nativeEvent : event, 'escape-key');\n  });\n  const closeOnEscapeKeyDownCapture = useEffectEvent(event => {\n    var _getTarget2;\n    const callback = () => {\n      var _getTarget;\n      closeOnEscapeKeyDown(event);\n      (_getTarget = getTarget(event)) == null || _getTarget.removeEventListener('keydown', callback);\n    };\n    (_getTarget2 = getTarget(event)) == null || _getTarget2.addEventListener('keydown', callback);\n  });\n  const closeOnPressOutside = useEffectEvent(event => {\n    // Given developers can stop the propagation of the synthetic event,\n    // we can only be confident with a positive value.\n    const insideReactTree = insideReactTreeRef.current;\n    insideReactTreeRef.current = false;\n\n    // When click outside is lazy (`click` event), handle dragging.\n    // Don't close if:\n    // - The click started inside the floating element.\n    // - The click ended inside the floating element.\n    const endedOrStartedInside = endedOrStartedInsideRef.current;\n    endedOrStartedInsideRef.current = false;\n    if (outsidePressEvent === 'click' && endedOrStartedInside) {\n      return;\n    }\n    if (insideReactTree) {\n      return;\n    }\n    if (typeof outsidePress === 'function' && !outsidePress(event)) {\n      return;\n    }\n    const target = getTarget(event);\n    const inertSelector = \"[\" + createAttribute('inert') + \"]\";\n    const markers = getDocument(floating).querySelectorAll(inertSelector);\n    let targetRootAncestor = isElement(target) ? target : null;\n    while (targetRootAncestor && !isLastTraversableNode(targetRootAncestor)) {\n      const nextParent = getParentNode(targetRootAncestor);\n      if (isLastTraversableNode(nextParent) || !isElement(nextParent)) {\n        break;\n      }\n      targetRootAncestor = nextParent;\n    }\n\n    // Check if the click occurred on a third-party element injected after the\n    // floating element rendered.\n    if (markers.length && isElement(target) && !isRootElement(target) &&\n    // Clicked on a direct ancestor (e.g. FloatingOverlay).\n    !contains(target, floating) &&\n    // If the target root element contains none of the markers, then the\n    // element was injected after the floating element rendered.\n    Array.from(markers).every(marker => !contains(targetRootAncestor, marker))) {\n      return;\n    }\n\n    // Check if the click occurred on the scrollbar\n    if (isHTMLElement(target) && floating) {\n      // In Firefox, `target.scrollWidth > target.clientWidth` for inline\n      // elements.\n      const canScrollX = target.clientWidth > 0 && target.scrollWidth > target.clientWidth;\n      const canScrollY = target.clientHeight > 0 && target.scrollHeight > target.clientHeight;\n      let xCond = canScrollY && event.offsetX > target.clientWidth;\n\n      // In some browsers it is possible to change the <body> (or window)\n      // scrollbar to the left side, but is very rare and is difficult to\n      // check for. Plus, for modal dialogs with backdrops, it is more\n      // important that the backdrop is checked but not so much the window.\n      if (canScrollY) {\n        const isRTL = getComputedStyle(target).direction === 'rtl';\n        if (isRTL) {\n          xCond = event.offsetX <= target.offsetWidth - target.clientWidth;\n        }\n      }\n      if (xCond || canScrollX && event.offsetY > target.clientHeight) {\n        return;\n      }\n    }\n    const targetIsInsideChildren = tree && getChildren(tree.nodesRef.current, nodeId).some(node => {\n      var _node$context;\n      return isEventTargetWithin(event, (_node$context = node.context) == null ? void 0 : _node$context.elements.floating);\n    });\n    if (isEventTargetWithin(event, floating) || isEventTargetWithin(event, domReference) || targetIsInsideChildren) {\n      return;\n    }\n    const children = tree ? getChildren(tree.nodesRef.current, nodeId) : [];\n    if (children.length > 0) {\n      let shouldDismiss = true;\n      children.forEach(child => {\n        var _child$context2;\n        if ((_child$context2 = child.context) != null && _child$context2.open && !child.context.dataRef.current.__outsidePressBubbles) {\n          shouldDismiss = false;\n          return;\n        }\n      });\n      if (!shouldDismiss) {\n        return;\n      }\n    }\n    onOpenChange(false, event, 'outside-press');\n  });\n  const closeOnPressOutsideCapture = useEffectEvent(event => {\n    var _getTarget4;\n    const callback = () => {\n      var _getTarget3;\n      closeOnPressOutside(event);\n      (_getTarget3 = getTarget(event)) == null || _getTarget3.removeEventListener(outsidePressEvent, callback);\n    };\n    (_getTarget4 = getTarget(event)) == null || _getTarget4.addEventListener(outsidePressEvent, callback);\n  });\n  React.useEffect(() => {\n    if (!open || !enabled) {\n      return;\n    }\n    dataRef.current.__escapeKeyBubbles = escapeKeyBubbles;\n    dataRef.current.__outsidePressBubbles = outsidePressBubbles;\n    function onScroll(event) {\n      onOpenChange(false, event, 'ancestor-scroll');\n    }\n    const doc = getDocument(floating);\n    escapeKey && doc.addEventListener('keydown', escapeKeyCapture ? closeOnEscapeKeyDownCapture : closeOnEscapeKeyDown, escapeKeyCapture);\n    outsidePress && doc.addEventListener(outsidePressEvent, outsidePressCapture ? closeOnPressOutsideCapture : closeOnPressOutside, outsidePressCapture);\n    let ancestors = [];\n    if (ancestorScroll) {\n      if (isElement(domReference)) {\n        ancestors = getOverflowAncestors(domReference);\n      }\n      if (isElement(floating)) {\n        ancestors = ancestors.concat(getOverflowAncestors(floating));\n      }\n      if (!isElement(reference) && reference && reference.contextElement) {\n        ancestors = ancestors.concat(getOverflowAncestors(reference.contextElement));\n      }\n    }\n\n    // Ignore the visual viewport for scrolling dismissal (allow pinch-zoom)\n    ancestors = ancestors.filter(ancestor => {\n      var _doc$defaultView;\n      return ancestor !== ((_doc$defaultView = doc.defaultView) == null ? void 0 : _doc$defaultView.visualViewport);\n    });\n    ancestors.forEach(ancestor => {\n      ancestor.addEventListener('scroll', onScroll, {\n        passive: true\n      });\n    });\n    return () => {\n      escapeKey && doc.removeEventListener('keydown', escapeKeyCapture ? closeOnEscapeKeyDownCapture : closeOnEscapeKeyDown, escapeKeyCapture);\n      outsidePress && doc.removeEventListener(outsidePressEvent, outsidePressCapture ? closeOnPressOutsideCapture : closeOnPressOutside, outsidePressCapture);\n      ancestors.forEach(ancestor => {\n        ancestor.removeEventListener('scroll', onScroll);\n      });\n    };\n  }, [dataRef, floating, domReference, reference, escapeKey, outsidePress, outsidePressEvent, open, onOpenChange, ancestorScroll, enabled, escapeKeyBubbles, outsidePressBubbles, closeOnEscapeKeyDown, escapeKeyCapture, closeOnEscapeKeyDownCapture, closeOnPressOutside, outsidePressCapture, closeOnPressOutsideCapture]);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  React.useEffect(() => {\n    insideReactTreeRef.current = false;\n  }, [outsidePress, outsidePressEvent]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    return {\n      reference: {\n        onKeyDown: closeOnEscapeKeyDown,\n        [bubbleHandlerKeys[referencePressEvent]]: event => {\n          if (referencePress) {\n            onOpenChange(false, event.nativeEvent, 'reference-press');\n          }\n        }\n      },\n      floating: {\n        onKeyDown: closeOnEscapeKeyDown,\n        onMouseDown() {\n          endedOrStartedInsideRef.current = true;\n        },\n        onMouseUp() {\n          endedOrStartedInsideRef.current = true;\n        },\n        [captureHandlerKeys[outsidePressEvent]]: () => {\n          insideReactTreeRef.current = true;\n        }\n      }\n    };\n  }, [enabled, referencePress, outsidePressEvent, referencePressEvent, onOpenChange, closeOnEscapeKeyDown]);\n}\n\nlet devMessageSet;\nif (process.env.NODE_ENV !== \"production\") {\n  devMessageSet = /*#__PURE__*/new Set();\n}\n\n/**\n * Provides data to position a floating element and context to add interactions.\n * @see https://floating-ui.com/docs/useFloating\n */\nfunction useFloating(options) {\n  var _options$elements2;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    open = false,\n    onOpenChange: unstable_onOpenChange,\n    nodeId\n  } = options;\n  if (process.env.NODE_ENV !== \"production\") {\n    var _options$elements;\n    const err = 'Floating UI: Cannot pass a virtual element to the ' + '`elements.reference` option, as it must be a real DOM element. ' + 'Use `refs.setPositionReference` instead.';\n    if ((_options$elements = options.elements) != null && _options$elements.reference && !isElement(options.elements.reference)) {\n      var _devMessageSet;\n      if (!((_devMessageSet = devMessageSet) != null && _devMessageSet.has(err))) {\n        var _devMessageSet2;\n        (_devMessageSet2 = devMessageSet) == null || _devMessageSet2.add(err);\n        console.error(err);\n      }\n    }\n  }\n  const [_domReference, setDomReference] = React.useState(null);\n  const domReference = ((_options$elements2 = options.elements) == null ? void 0 : _options$elements2.reference) || _domReference;\n  const position = useFloating$1(options);\n  const tree = useFloatingTree();\n  const nested = useFloatingParentNodeId() != null;\n  const onOpenChange = useEffectEvent((open, event, reason) => {\n    if (open) {\n      dataRef.current.openEvent = event;\n    }\n    events.emit('openchange', {\n      open,\n      event,\n      reason,\n      nested\n    });\n    unstable_onOpenChange == null || unstable_onOpenChange(open, event, reason);\n  });\n  const domReferenceRef = React.useRef(null);\n  const dataRef = React.useRef({});\n  const events = React.useState(() => createPubSub())[0];\n  const floatingId = useId();\n  const setPositionReference = React.useCallback(node => {\n    const positionReference = isElement(node) ? {\n      getBoundingClientRect: () => node.getBoundingClientRect(),\n      contextElement: node\n    } : node;\n    position.refs.setReference(positionReference);\n  }, [position.refs]);\n  const setReference = React.useCallback(node => {\n    if (isElement(node) || node === null) {\n      domReferenceRef.current = node;\n      setDomReference(node);\n    }\n\n    // Backwards-compatibility for passing a virtual element to `reference`\n    // after it has set the DOM reference.\n    if (isElement(position.refs.reference.current) || position.refs.reference.current === null ||\n    // Don't allow setting virtual elements using the old technique back to\n    // `null` to support `positionReference` + an unstable `reference`\n    // callback ref.\n    node !== null && !isElement(node)) {\n      position.refs.setReference(node);\n    }\n  }, [position.refs]);\n  const refs = React.useMemo(() => ({\n    ...position.refs,\n    setReference,\n    setPositionReference,\n    domReference: domReferenceRef\n  }), [position.refs, setReference, setPositionReference]);\n  const elements = React.useMemo(() => ({\n    ...position.elements,\n    domReference: domReference\n  }), [position.elements, domReference]);\n  const context = React.useMemo(() => ({\n    ...position,\n    refs,\n    elements,\n    dataRef,\n    nodeId,\n    floatingId,\n    events,\n    open,\n    onOpenChange\n  }), [position, nodeId, floatingId, events, open, onOpenChange, refs, elements]);\n  index(() => {\n    const node = tree == null ? void 0 : tree.nodesRef.current.find(node => node.id === nodeId);\n    if (node) {\n      node.context = context;\n    }\n  });\n  return React.useMemo(() => ({\n    ...position,\n    context,\n    refs,\n    elements\n  }), [position, refs, elements, context]);\n}\n\n/**\n * Opens the floating element while the reference element has focus, like CSS\n * `:focus`.\n * @see https://floating-ui.com/docs/useFocus\n */\nfunction useFocus(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    events,\n    refs,\n    elements: {\n      domReference\n    }\n  } = context;\n  const {\n    enabled = true,\n    visibleOnly = true\n  } = props;\n  const blockFocusRef = React.useRef(false);\n  const timeoutRef = React.useRef();\n  const keyboardModalityRef = React.useRef(true);\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    const win = getWindow(domReference);\n\n    // If the reference was focused and the user left the tab/window, and the\n    // floating element was not open, the focus should be blocked when they\n    // return to the tab/window.\n    function onBlur() {\n      if (!open && isHTMLElement(domReference) && domReference === activeElement(getDocument(domReference))) {\n        blockFocusRef.current = true;\n      }\n    }\n    function onKeyDown() {\n      keyboardModalityRef.current = true;\n    }\n    win.addEventListener('blur', onBlur);\n    win.addEventListener('keydown', onKeyDown, true);\n    return () => {\n      win.removeEventListener('blur', onBlur);\n      win.removeEventListener('keydown', onKeyDown, true);\n    };\n  }, [domReference, open, enabled]);\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function onOpenChange(_ref) {\n      let {\n        reason\n      } = _ref;\n      if (reason === 'reference-press' || reason === 'escape-key') {\n        blockFocusRef.current = true;\n      }\n    }\n    events.on('openchange', onOpenChange);\n    return () => {\n      events.off('openchange', onOpenChange);\n    };\n  }, [events, enabled]);\n  React.useEffect(() => {\n    return () => {\n      clearTimeout(timeoutRef.current);\n    };\n  }, []);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    return {\n      reference: {\n        onPointerDown(event) {\n          if (isVirtualPointerEvent(event.nativeEvent)) return;\n          keyboardModalityRef.current = false;\n        },\n        onMouseLeave() {\n          blockFocusRef.current = false;\n        },\n        onFocus(event) {\n          if (blockFocusRef.current) return;\n          const target = getTarget(event.nativeEvent);\n          if (visibleOnly && isElement(target)) {\n            try {\n              // Mac Safari unreliably matches `:focus-visible` on the reference\n              // if focus was outside the page initially - use the fallback\n              // instead.\n              if (isSafari() && isMac()) throw Error();\n              if (!target.matches(':focus-visible')) return;\n            } catch (e) {\n              // Old browsers will throw an error when using `:focus-visible`.\n              if (!keyboardModalityRef.current && !isTypeableElement(target)) {\n                return;\n              }\n            }\n          }\n          onOpenChange(true, event.nativeEvent, 'focus');\n        },\n        onBlur(event) {\n          blockFocusRef.current = false;\n          const relatedTarget = event.relatedTarget;\n\n          // Hit the non-modal focus management portal guard. Focus will be\n          // moved into the floating element immediately after.\n          const movedToFocusGuard = isElement(relatedTarget) && relatedTarget.hasAttribute(createAttribute('focus-guard')) && relatedTarget.getAttribute('data-type') === 'outside';\n\n          // Wait for the window blur listener to fire.\n          timeoutRef.current = window.setTimeout(() => {\n            const activeEl = activeElement(domReference ? domReference.ownerDocument : document);\n\n            // Focus left the page, keep it open.\n            if (!relatedTarget && activeEl === domReference) return;\n\n            // When focusing the reference element (e.g. regular click), then\n            // clicking into the floating element, prevent it from hiding.\n            // Note: it must be focusable, e.g. `tabindex=\"-1\"`.\n            // We can not rely on relatedTarget to point to the correct element\n            // as it will only point to the shadow host of the newly focused element\n            // and not the element that actually has received focus if it is located\n            // inside a shadow root.\n            if (contains(refs.floating.current, activeEl) || contains(domReference, activeEl) || movedToFocusGuard) {\n              return;\n            }\n            onOpenChange(false, event.nativeEvent, 'focus');\n          });\n        }\n      }\n    };\n  }, [enabled, visibleOnly, domReference, refs, onOpenChange]);\n}\n\nconst ACTIVE_KEY = 'active';\nconst SELECTED_KEY = 'selected';\nfunction mergeProps(userProps, propsList, elementKey) {\n  const map = new Map();\n  const isItem = elementKey === 'item';\n  let domUserProps = userProps;\n  if (isItem && userProps) {\n    const {\n      [ACTIVE_KEY]: _,\n      [SELECTED_KEY]: __,\n      ...validProps\n    } = userProps;\n    domUserProps = validProps;\n  }\n  return {\n    ...(elementKey === 'floating' && {\n      tabIndex: -1\n    }),\n    ...domUserProps,\n    ...propsList.map(value => {\n      const propsOrGetProps = value ? value[elementKey] : null;\n      if (typeof propsOrGetProps === 'function') {\n        return userProps ? propsOrGetProps(userProps) : null;\n      }\n      return propsOrGetProps;\n    }).concat(userProps).reduce((acc, props) => {\n      if (!props) {\n        return acc;\n      }\n      Object.entries(props).forEach(_ref => {\n        let [key, value] = _ref;\n        if (isItem && [ACTIVE_KEY, SELECTED_KEY].includes(key)) {\n          return;\n        }\n        if (key.indexOf('on') === 0) {\n          if (!map.has(key)) {\n            map.set(key, []);\n          }\n          if (typeof value === 'function') {\n            var _map$get;\n            (_map$get = map.get(key)) == null || _map$get.push(value);\n            acc[key] = function () {\n              var _map$get2;\n              for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n              }\n              return (_map$get2 = map.get(key)) == null ? void 0 : _map$get2.map(fn => fn(...args)).find(val => val !== undefined);\n            };\n          }\n        } else {\n          acc[key] = value;\n        }\n      });\n      return acc;\n    }, {})\n  };\n}\n\n/**\n * Merges an array of interaction hooks' props into prop getters, allowing\n * event handler functions to be composed together without overwriting one\n * another.\n * @see https://floating-ui.com/docs/useInteractions\n */\nfunction useInteractions(propsList) {\n  if (propsList === void 0) {\n    propsList = [];\n  }\n  // The dependencies are a dynamic array, so we can't use the linter's\n  // suggestion to add it to the deps array.\n  const deps = propsList;\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  const getReferenceProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'reference'), deps);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  const getFloatingProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'floating'), deps);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  const getItemProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'item'),\n  // Granularly check for `item` changes, because the `getItemProps` getter\n  // should be as referentially stable as possible since it may be passed as\n  // a prop to many components. All `item` key values must therefore be\n  // memoized.\n  propsList.map(key => key == null ? void 0 : key.item));\n  return React.useMemo(() => ({\n    getReferenceProps,\n    getFloatingProps,\n    getItemProps\n  }), [getReferenceProps, getFloatingProps, getItemProps]);\n}\n\nlet isPreventScrollSupported = false;\nfunction doSwitch(orientation, vertical, horizontal) {\n  switch (orientation) {\n    case 'vertical':\n      return vertical;\n    case 'horizontal':\n      return horizontal;\n    default:\n      return vertical || horizontal;\n  }\n}\nfunction isMainOrientationKey(key, orientation) {\n  const vertical = key === ARROW_UP || key === ARROW_DOWN;\n  const horizontal = key === ARROW_LEFT || key === ARROW_RIGHT;\n  return doSwitch(orientation, vertical, horizontal);\n}\nfunction isMainOrientationToEndKey(key, orientation, rtl) {\n  const vertical = key === ARROW_DOWN;\n  const horizontal = rtl ? key === ARROW_LEFT : key === ARROW_RIGHT;\n  return doSwitch(orientation, vertical, horizontal) || key === 'Enter' || key === ' ' || key === '';\n}\nfunction isCrossOrientationOpenKey(key, orientation, rtl) {\n  const vertical = rtl ? key === ARROW_LEFT : key === ARROW_RIGHT;\n  const horizontal = key === ARROW_DOWN;\n  return doSwitch(orientation, vertical, horizontal);\n}\nfunction isCrossOrientationCloseKey(key, orientation, rtl) {\n  const vertical = rtl ? key === ARROW_RIGHT : key === ARROW_LEFT;\n  const horizontal = key === ARROW_UP;\n  return doSwitch(orientation, vertical, horizontal);\n}\n/**\n * Adds arrow key-based navigation of a list of items, either using real DOM\n * focus or virtual focus.\n * @see https://floating-ui.com/docs/useListNavigation\n */\nfunction useListNavigation(context, props) {\n  const {\n    open,\n    onOpenChange,\n    refs,\n    elements: {\n      domReference,\n      floating\n    }\n  } = context;\n  const {\n    listRef,\n    activeIndex,\n    onNavigate: unstable_onNavigate = () => {},\n    enabled = true,\n    selectedIndex = null,\n    allowEscape = false,\n    loop = false,\n    nested = false,\n    rtl = false,\n    virtual = false,\n    focusItemOnOpen = 'auto',\n    focusItemOnHover = true,\n    openOnArrowKeyDown = true,\n    disabledIndices = undefined,\n    orientation = 'vertical',\n    cols = 1,\n    scrollItemIntoView = true,\n    virtualItemRef,\n    itemSizes,\n    dense = false\n  } = props;\n  if (process.env.NODE_ENV !== \"production\") {\n    if (allowEscape) {\n      if (!loop) {\n        console.warn(['Floating UI: `useListNavigation` looping must be enabled to allow', 'escaping.'].join(' '));\n      }\n      if (!virtual) {\n        console.warn(['Floating UI: `useListNavigation` must be virtual to allow', 'escaping.'].join(' '));\n      }\n    }\n    if (orientation === 'vertical' && cols > 1) {\n      console.warn(['Floating UI: In grid list navigation mode (`cols` > 1), the', '`orientation` should be either \"horizontal\" or \"both\".'].join(' '));\n    }\n  }\n  const parentId = useFloatingParentNodeId();\n  const tree = useFloatingTree();\n  const onNavigate = useEffectEvent(unstable_onNavigate);\n  const focusItemOnOpenRef = React.useRef(focusItemOnOpen);\n  const indexRef = React.useRef(selectedIndex != null ? selectedIndex : -1);\n  const keyRef = React.useRef(null);\n  const isPointerModalityRef = React.useRef(true);\n  const previousOnNavigateRef = React.useRef(onNavigate);\n  const previousMountedRef = React.useRef(!!floating);\n  const forceSyncFocus = React.useRef(false);\n  const forceScrollIntoViewRef = React.useRef(false);\n  const disabledIndicesRef = useLatestRef(disabledIndices);\n  const latestOpenRef = useLatestRef(open);\n  const scrollItemIntoViewRef = useLatestRef(scrollItemIntoView);\n  const [activeId, setActiveId] = React.useState();\n  const [virtualId, setVirtualId] = React.useState();\n  const focusItem = useEffectEvent(function (listRef, indexRef, forceScrollIntoView) {\n    if (forceScrollIntoView === void 0) {\n      forceScrollIntoView = false;\n    }\n    const item = listRef.current[indexRef.current];\n    if (!item) return;\n    if (virtual) {\n      setActiveId(item.id);\n      tree == null || tree.events.emit('virtualfocus', item);\n      if (virtualItemRef) {\n        virtualItemRef.current = item;\n      }\n    } else {\n      enqueueFocus(item, {\n        preventScroll: true,\n        // Mac Safari does not move the virtual cursor unless the focus call\n        // is sync. However, for the very first focus call, we need to wait\n        // for the position to be ready in order to prevent unwanted\n        // scrolling. This means the virtual cursor will not move to the first\n        // item when first opening the floating element, but will on\n        // subsequent calls. `preventScroll` is supported in modern Safari,\n        // so we can use that instead.\n        // iOS Safari must be async or the first item will not be focused.\n        sync: isMac() && isSafari() ? isPreventScrollSupported || forceSyncFocus.current : false\n      });\n    }\n    requestAnimationFrame(() => {\n      const scrollIntoViewOptions = scrollItemIntoViewRef.current;\n      const shouldScrollIntoView = scrollIntoViewOptions && item && (forceScrollIntoView || !isPointerModalityRef.current);\n      if (shouldScrollIntoView) {\n        // JSDOM doesn't support `.scrollIntoView()` but it's widely supported\n        // by all browsers.\n        item.scrollIntoView == null || item.scrollIntoView(typeof scrollIntoViewOptions === 'boolean' ? {\n          block: 'nearest',\n          inline: 'nearest'\n        } : scrollIntoViewOptions);\n      }\n    });\n  });\n  index(() => {\n    document.createElement('div').focus({\n      get preventScroll() {\n        isPreventScrollSupported = true;\n        return false;\n      }\n    });\n  }, []);\n\n  // Sync `selectedIndex` to be the `activeIndex` upon opening the floating\n  // element. Also, reset `activeIndex` upon closing the floating element.\n  index(() => {\n    if (!enabled) {\n      return;\n    }\n    if (open && floating) {\n      if (focusItemOnOpenRef.current && selectedIndex != null) {\n        // Regardless of the pointer modality, we want to ensure the selected\n        // item comes into view when the floating element is opened.\n        forceScrollIntoViewRef.current = true;\n        indexRef.current = selectedIndex;\n        onNavigate(selectedIndex);\n      }\n    } else if (previousMountedRef.current) {\n      // Since the user can specify `onNavigate` conditionally\n      // (onNavigate: open ? setActiveIndex : setSelectedIndex),\n      // we store and call the previous function.\n      indexRef.current = -1;\n      previousOnNavigateRef.current(null);\n    }\n  }, [enabled, open, floating, selectedIndex, onNavigate]);\n\n  // Sync `activeIndex` to be the focused item while the floating element is\n  // open.\n  index(() => {\n    if (!enabled) {\n      return;\n    }\n    if (open && floating) {\n      if (activeIndex == null) {\n        forceSyncFocus.current = false;\n        if (selectedIndex != null) {\n          return;\n        }\n\n        // Reset while the floating element was open (e.g. the list changed).\n        if (previousMountedRef.current) {\n          indexRef.current = -1;\n          focusItem(listRef, indexRef);\n        }\n\n        // Initial sync.\n        if (!previousMountedRef.current && focusItemOnOpenRef.current && (keyRef.current != null || focusItemOnOpenRef.current === true && keyRef.current == null)) {\n          let runs = 0;\n          const waitForListPopulated = () => {\n            if (listRef.current[0] == null) {\n              // Avoid letting the browser paint if possible on the first try,\n              // otherwise use rAF. Don't try more than twice, since something\n              // is wrong otherwise.\n              if (runs < 2) {\n                const scheduler = runs ? requestAnimationFrame : queueMicrotask;\n                scheduler(waitForListPopulated);\n              }\n              runs++;\n            } else {\n              indexRef.current = keyRef.current == null || isMainOrientationToEndKey(keyRef.current, orientation, rtl) || nested ? getMinIndex(listRef, disabledIndicesRef.current) : getMaxIndex(listRef, disabledIndicesRef.current);\n              keyRef.current = null;\n              onNavigate(indexRef.current);\n            }\n          };\n          waitForListPopulated();\n        }\n      } else if (!isIndexOutOfBounds(listRef, activeIndex)) {\n        indexRef.current = activeIndex;\n        focusItem(listRef, indexRef, forceScrollIntoViewRef.current);\n        forceScrollIntoViewRef.current = false;\n      }\n    }\n  }, [enabled, open, floating, activeIndex, selectedIndex, nested, listRef, orientation, rtl, onNavigate, focusItem, disabledIndicesRef]);\n\n  // Ensure the parent floating element has focus when a nested child closes\n  // to allow arrow key navigation to work after the pointer leaves the child.\n  index(() => {\n    var _nodes$find;\n    if (!enabled || floating || !tree || virtual || !previousMountedRef.current) {\n      return;\n    }\n    const nodes = tree.nodesRef.current;\n    const parent = (_nodes$find = nodes.find(node => node.id === parentId)) == null || (_nodes$find = _nodes$find.context) == null ? void 0 : _nodes$find.elements.floating;\n    const activeEl = activeElement(getDocument(floating));\n    const treeContainsActiveEl = nodes.some(node => node.context && contains(node.context.elements.floating, activeEl));\n    if (parent && !treeContainsActiveEl && isPointerModalityRef.current) {\n      parent.focus({\n        preventScroll: true\n      });\n    }\n  }, [enabled, floating, tree, parentId, virtual]);\n  index(() => {\n    if (!enabled || !tree || !virtual || parentId) return;\n    function handleVirtualFocus(item) {\n      setVirtualId(item.id);\n      if (virtualItemRef) {\n        virtualItemRef.current = item;\n      }\n    }\n    tree.events.on('virtualfocus', handleVirtualFocus);\n    return () => {\n      tree.events.off('virtualfocus', handleVirtualFocus);\n    };\n  }, [enabled, tree, virtual, parentId, virtualItemRef]);\n  index(() => {\n    previousOnNavigateRef.current = onNavigate;\n    previousMountedRef.current = !!floating;\n  });\n  index(() => {\n    if (!open) {\n      keyRef.current = null;\n    }\n  }, [open]);\n  const hasActiveIndex = activeIndex != null;\n  const item = React.useMemo(() => {\n    function syncCurrentTarget(currentTarget) {\n      if (!open) return;\n      const index = listRef.current.indexOf(currentTarget);\n      if (index !== -1) {\n        onNavigate(index);\n      }\n    }\n    const props = {\n      onFocus(_ref) {\n        let {\n          currentTarget\n        } = _ref;\n        syncCurrentTarget(currentTarget);\n      },\n      onClick: _ref2 => {\n        let {\n          currentTarget\n        } = _ref2;\n        return currentTarget.focus({\n          preventScroll: true\n        });\n      },\n      // Safari\n      ...(focusItemOnHover && {\n        onMouseMove(_ref3) {\n          let {\n            currentTarget\n          } = _ref3;\n          syncCurrentTarget(currentTarget);\n        },\n        onPointerLeave(_ref4) {\n          let {\n            pointerType\n          } = _ref4;\n          if (!isPointerModalityRef.current || pointerType === 'touch') {\n            return;\n          }\n          indexRef.current = -1;\n          focusItem(listRef, indexRef);\n          onNavigate(null);\n          if (!virtual) {\n            enqueueFocus(refs.floating.current, {\n              preventScroll: true\n            });\n          }\n        }\n      })\n    };\n    return props;\n  }, [open, refs, focusItem, focusItemOnHover, listRef, onNavigate, virtual]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    const disabledIndices = disabledIndicesRef.current;\n    function onKeyDown(event) {\n      isPointerModalityRef.current = false;\n      forceSyncFocus.current = true;\n\n      // If the floating element is animating out, ignore navigation. Otherwise,\n      // the `activeIndex` gets set to 0 despite not being open so the next time\n      // the user ArrowDowns, the first item won't be focused.\n      if (!latestOpenRef.current && event.currentTarget === refs.floating.current) {\n        return;\n      }\n      if (nested && isCrossOrientationCloseKey(event.key, orientation, rtl)) {\n        stopEvent(event);\n        onOpenChange(false, event.nativeEvent, 'list-navigation');\n        if (isHTMLElement(domReference) && !virtual) {\n          domReference.focus();\n        }\n        return;\n      }\n      const currentIndex = indexRef.current;\n      const minIndex = getMinIndex(listRef, disabledIndices);\n      const maxIndex = getMaxIndex(listRef, disabledIndices);\n      if (event.key === 'Home') {\n        stopEvent(event);\n        indexRef.current = minIndex;\n        onNavigate(indexRef.current);\n      }\n      if (event.key === 'End') {\n        stopEvent(event);\n        indexRef.current = maxIndex;\n        onNavigate(indexRef.current);\n      }\n\n      // Grid navigation.\n      if (cols > 1) {\n        const sizes = itemSizes || Array.from({\n          length: listRef.current.length\n        }, () => ({\n          width: 1,\n          height: 1\n        }));\n        // To calculate movements on the grid, we use hypothetical cell indices\n        // as if every item was 1x1, then convert back to real indices.\n        const cellMap = buildCellMap(sizes, cols, dense);\n        const minGridIndex = cellMap.findIndex(index => index != null && !(disabledIndices != null && disabledIndices.includes(index)));\n        // last enabled index\n        const maxGridIndex = cellMap.reduce((foundIndex, index, cellIndex) => index != null && !(disabledIndices != null && disabledIndices.includes(index)) ? cellIndex : foundIndex, -1);\n        indexRef.current = cellMap[getGridNavigatedIndex({\n          current: cellMap.map(itemIndex => itemIndex != null ? listRef.current[itemIndex] : null)\n        }, {\n          event,\n          orientation,\n          loop,\n          cols,\n          // treat undefined (empty grid spaces) as disabled indices so we\n          // don't end up in them\n          disabledIndices: getCellIndices([...(disabledIndices || []), undefined], cellMap),\n          minIndex: minGridIndex,\n          maxIndex: maxGridIndex,\n          prevIndex: getCellIndexOfCorner(indexRef.current, sizes, cellMap, cols,\n          // use a corner matching the edge closest to the direction\n          // we're moving in so we don't end up in the same item. Prefer\n          // top/left over bottom/right.\n          event.key === ARROW_DOWN ? 'bl' : event.key === ARROW_RIGHT ? 'tr' : 'tl'),\n          stopEvent: true\n        })]; // navigated cell will never be nullish\n\n        onNavigate(indexRef.current);\n        if (orientation === 'both') {\n          return;\n        }\n      }\n      if (isMainOrientationKey(event.key, orientation)) {\n        stopEvent(event);\n\n        // Reset the index if no item is focused.\n        if (open && !virtual && activeElement(event.currentTarget.ownerDocument) === event.currentTarget) {\n          indexRef.current = isMainOrientationToEndKey(event.key, orientation, rtl) ? minIndex : maxIndex;\n          onNavigate(indexRef.current);\n          return;\n        }\n        if (isMainOrientationToEndKey(event.key, orientation, rtl)) {\n          if (loop) {\n            indexRef.current = currentIndex >= maxIndex ? allowEscape && currentIndex !== listRef.current.length ? -1 : minIndex : findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              disabledIndices\n            });\n          } else {\n            indexRef.current = Math.min(maxIndex, findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              disabledIndices\n            }));\n          }\n        } else {\n          if (loop) {\n            indexRef.current = currentIndex <= minIndex ? allowEscape && currentIndex !== -1 ? listRef.current.length : maxIndex : findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              decrement: true,\n              disabledIndices\n            });\n          } else {\n            indexRef.current = Math.max(minIndex, findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              decrement: true,\n              disabledIndices\n            }));\n          }\n        }\n        if (isIndexOutOfBounds(listRef, indexRef.current)) {\n          onNavigate(null);\n        } else {\n          onNavigate(indexRef.current);\n        }\n      }\n    }\n    function checkVirtualMouse(event) {\n      if (focusItemOnOpen === 'auto' && isVirtualClick(event.nativeEvent)) {\n        focusItemOnOpenRef.current = true;\n      }\n    }\n    function checkVirtualPointer(event) {\n      // `pointerdown` fires first, reset the state then perform the checks.\n      focusItemOnOpenRef.current = focusItemOnOpen;\n      if (focusItemOnOpen === 'auto' && isVirtualPointerEvent(event.nativeEvent)) {\n        focusItemOnOpenRef.current = true;\n      }\n    }\n    const ariaActiveDescendantProp = virtual && open && hasActiveIndex && {\n      'aria-activedescendant': virtualId || activeId\n    };\n    const activeItem = listRef.current.find(item => (item == null ? void 0 : item.id) === activeId);\n    return {\n      reference: {\n        ...ariaActiveDescendantProp,\n        onKeyDown(event) {\n          isPointerModalityRef.current = false;\n          const isArrowKey = event.key.indexOf('Arrow') === 0;\n          const isCrossOpenKey = isCrossOrientationOpenKey(event.key, orientation, rtl);\n          const isCrossCloseKey = isCrossOrientationCloseKey(event.key, orientation, rtl);\n          const isMainKey = isMainOrientationKey(event.key, orientation);\n          const isNavigationKey = (nested ? isCrossOpenKey : isMainKey) || event.key === 'Enter' || event.key.trim() === '';\n          if (virtual && open) {\n            const rootNode = tree == null ? void 0 : tree.nodesRef.current.find(node => node.parentId == null);\n            const deepestNode = tree && rootNode ? getDeepestNode(tree.nodesRef.current, rootNode.id) : null;\n            if (isArrowKey && deepestNode && virtualItemRef) {\n              const eventObject = new KeyboardEvent('keydown', {\n                key: event.key,\n                bubbles: true\n              });\n              if (isCrossOpenKey || isCrossCloseKey) {\n                var _deepestNode$context, _deepestNode$context2;\n                const isCurrentTarget = ((_deepestNode$context = deepestNode.context) == null ? void 0 : _deepestNode$context.elements.domReference) === event.currentTarget;\n                const dispatchItem = isCrossCloseKey && !isCurrentTarget ? (_deepestNode$context2 = deepestNode.context) == null ? void 0 : _deepestNode$context2.elements.domReference : isCrossOpenKey ? activeItem : null;\n                if (dispatchItem) {\n                  stopEvent(event);\n                  dispatchItem.dispatchEvent(eventObject);\n                  setVirtualId(undefined);\n                }\n              }\n              if (isMainKey && deepestNode.context) {\n                if (deepestNode.context.open && deepestNode.parentId && event.currentTarget !== deepestNode.context.elements.domReference) {\n                  var _deepestNode$context$;\n                  stopEvent(event);\n                  (_deepestNode$context$ = deepestNode.context.elements.domReference) == null || _deepestNode$context$.dispatchEvent(eventObject);\n                  return;\n                }\n              }\n            }\n            return onKeyDown(event);\n          }\n\n          // If a floating element should not open on arrow key down, avoid\n          // setting `activeIndex` while it's closed.\n          if (!open && !openOnArrowKeyDown && isArrowKey) {\n            return;\n          }\n          if (isNavigationKey) {\n            keyRef.current = nested && isMainKey ? null : event.key;\n          }\n          if (nested) {\n            if (isCrossOpenKey) {\n              stopEvent(event);\n              if (open) {\n                indexRef.current = getMinIndex(listRef, disabledIndices);\n                onNavigate(indexRef.current);\n              } else {\n                onOpenChange(true, event.nativeEvent, 'list-navigation');\n              }\n            }\n            return;\n          }\n          if (isMainKey) {\n            if (selectedIndex != null) {\n              indexRef.current = selectedIndex;\n            }\n            stopEvent(event);\n            if (!open && openOnArrowKeyDown) {\n              onOpenChange(true, event.nativeEvent, 'list-navigation');\n            } else {\n              onKeyDown(event);\n            }\n            if (open) {\n              onNavigate(indexRef.current);\n            }\n          }\n        },\n        onFocus() {\n          if (open) {\n            onNavigate(null);\n          }\n        },\n        onPointerDown: checkVirtualPointer,\n        onMouseDown: checkVirtualMouse,\n        onClick: checkVirtualMouse\n      },\n      floating: {\n        'aria-orientation': orientation === 'both' ? undefined : orientation,\n        ...(!isTypeableCombobox(domReference) && ariaActiveDescendantProp),\n        onKeyDown,\n        onPointerMove() {\n          isPointerModalityRef.current = true;\n        }\n      },\n      item\n    };\n  }, [domReference, refs, activeId, virtualId, disabledIndicesRef, latestOpenRef, listRef, enabled, orientation, rtl, virtual, open, hasActiveIndex, nested, selectedIndex, openOnArrowKeyDown, allowEscape, cols, loop, focusItemOnOpen, onNavigate, onOpenChange, item, tree, virtualItemRef, itemSizes, dense]);\n}\n\nconst componentRoleToAriaRoleMap = /*#__PURE__*/new Map([['select', 'listbox'], ['combobox', 'listbox'], ['label', false]]);\n\n/**\n * Adds base screen reader props to the reference and floating elements for a\n * given floating element `role`.\n * @see https://floating-ui.com/docs/useRole\n */\nfunction useRole(context, props) {\n  var _componentRoleToAriaR;\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    floatingId\n  } = context;\n  const {\n    enabled = true,\n    role = 'dialog'\n  } = props;\n  const ariaRole = (_componentRoleToAriaR = componentRoleToAriaRoleMap.get(role)) != null ? _componentRoleToAriaR : role;\n  const referenceId = useId();\n  const parentId = useFloatingParentNodeId();\n  const isNested = parentId != null;\n  return React.useMemo(() => {\n    if (!enabled) return {};\n    const floatingProps = {\n      id: floatingId,\n      ...(ariaRole && {\n        role: ariaRole\n      })\n    };\n    if (ariaRole === 'tooltip' || role === 'label') {\n      return {\n        reference: {\n          [\"aria-\" + (role === 'label' ? 'labelledby' : 'describedby')]: open ? floatingId : undefined\n        },\n        floating: floatingProps\n      };\n    }\n    return {\n      reference: {\n        'aria-expanded': open ? 'true' : 'false',\n        'aria-haspopup': ariaRole === 'alertdialog' ? 'dialog' : ariaRole,\n        'aria-controls': open ? floatingId : undefined,\n        ...(ariaRole === 'listbox' && {\n          role: 'combobox'\n        }),\n        ...(ariaRole === 'menu' && {\n          id: referenceId\n        }),\n        ...(ariaRole === 'menu' && isNested && {\n          role: 'menuitem'\n        }),\n        ...(role === 'select' && {\n          'aria-autocomplete': 'none'\n        }),\n        ...(role === 'combobox' && {\n          'aria-autocomplete': 'list'\n        })\n      },\n      floating: {\n        ...floatingProps,\n        ...(ariaRole === 'menu' && {\n          'aria-labelledby': referenceId\n        })\n      },\n      item(_ref) {\n        let {\n          active,\n          selected\n        } = _ref;\n        const commonProps = {\n          role: 'option',\n          ...(active && {\n            id: floatingId + \"-option\"\n          })\n        };\n\n        // For `menu`, we are unable to tell if the item is a `menuitemradio`\n        // or `menuitemcheckbox`. For backwards-compatibility reasons, also\n        // avoid defaulting to `menuitem` as it may overwrite custom role props.\n        switch (role) {\n          case 'select':\n            return {\n              ...commonProps,\n              'aria-selected': active && selected\n            };\n          case 'combobox':\n            {\n              return {\n                ...commonProps,\n                ...(active && {\n                  'aria-selected': true\n                })\n              };\n            }\n        }\n        return {};\n      }\n    };\n  }, [enabled, role, ariaRole, open, floatingId, referenceId, isNested]);\n}\n\n// Converts a JS style key like `backgroundColor` to a CSS transition-property\n// like `background-color`.\nconst camelCaseToKebabCase = str => str.replace(/[A-Z]+(?![a-z])|[A-Z]/g, ($, ofs) => (ofs ? '-' : '') + $.toLowerCase());\nfunction execWithArgsOrReturn(valueOrFn, args) {\n  return typeof valueOrFn === 'function' ? valueOrFn(args) : valueOrFn;\n}\nfunction useDelayUnmount(open, durationMs) {\n  const [isMounted, setIsMounted] = React.useState(open);\n  if (open && !isMounted) {\n    setIsMounted(true);\n  }\n  React.useEffect(() => {\n    if (!open) {\n      const timeout = setTimeout(() => setIsMounted(false), durationMs);\n      return () => clearTimeout(timeout);\n    }\n  }, [open, durationMs]);\n  return isMounted;\n}\n/**\n * Provides a status string to apply CSS transitions to a floating element,\n * correctly handling placement-aware transitions.\n * @see https://floating-ui.com/docs/useTransition#usetransitionstatus\n */\nfunction useTransitionStatus(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    elements: {\n      floating\n    }\n  } = context;\n  const {\n    duration = 250\n  } = props;\n  const isNumberDuration = typeof duration === 'number';\n  const closeDuration = (isNumberDuration ? duration : duration.close) || 0;\n  const [initiated, setInitiated] = React.useState(false);\n  const [status, setStatus] = React.useState('unmounted');\n  const isMounted = useDelayUnmount(open, closeDuration);\n\n  // `initiated` check prevents this `setState` call from breaking\n  // <FloatingPortal />. This call is necessary to ensure subsequent opens\n  // after the initial one allows the correct side animation to play when the\n  // placement has changed.\n  index(() => {\n    if (initiated && !isMounted) {\n      setStatus('unmounted');\n    }\n  }, [initiated, isMounted]);\n  index(() => {\n    if (!floating) return;\n    if (open) {\n      setStatus('initial');\n      const frame = requestAnimationFrame(() => {\n        setStatus('open');\n      });\n      return () => {\n        cancelAnimationFrame(frame);\n      };\n    }\n    setInitiated(true);\n    setStatus('close');\n  }, [open, floating]);\n  return {\n    isMounted,\n    status\n  };\n}\n/**\n * Provides styles to apply CSS transitions to a floating element, correctly\n * handling placement-aware transitions. Wrapper around `useTransitionStatus`.\n * @see https://floating-ui.com/docs/useTransition#usetransitionstyles\n */\nfunction useTransitionStyles(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    initial: unstable_initial = {\n      opacity: 0\n    },\n    open: unstable_open,\n    close: unstable_close,\n    common: unstable_common,\n    duration = 250\n  } = props;\n  const placement = context.placement;\n  const side = placement.split('-')[0];\n  const fnArgs = React.useMemo(() => ({\n    side,\n    placement\n  }), [side, placement]);\n  const isNumberDuration = typeof duration === 'number';\n  const openDuration = (isNumberDuration ? duration : duration.open) || 0;\n  const closeDuration = (isNumberDuration ? duration : duration.close) || 0;\n  const [styles, setStyles] = React.useState(() => ({\n    ...execWithArgsOrReturn(unstable_common, fnArgs),\n    ...execWithArgsOrReturn(unstable_initial, fnArgs)\n  }));\n  const {\n    isMounted,\n    status\n  } = useTransitionStatus(context, {\n    duration\n  });\n  const initialRef = useLatestRef(unstable_initial);\n  const openRef = useLatestRef(unstable_open);\n  const closeRef = useLatestRef(unstable_close);\n  const commonRef = useLatestRef(unstable_common);\n  index(() => {\n    const initialStyles = execWithArgsOrReturn(initialRef.current, fnArgs);\n    const closeStyles = execWithArgsOrReturn(closeRef.current, fnArgs);\n    const commonStyles = execWithArgsOrReturn(commonRef.current, fnArgs);\n    const openStyles = execWithArgsOrReturn(openRef.current, fnArgs) || Object.keys(initialStyles).reduce((acc, key) => {\n      acc[key] = '';\n      return acc;\n    }, {});\n    if (status === 'initial') {\n      setStyles(styles => ({\n        transitionProperty: styles.transitionProperty,\n        ...commonStyles,\n        ...initialStyles\n      }));\n    }\n    if (status === 'open') {\n      setStyles({\n        transitionProperty: Object.keys(openStyles).map(camelCaseToKebabCase).join(','),\n        transitionDuration: openDuration + \"ms\",\n        ...commonStyles,\n        ...openStyles\n      });\n    }\n    if (status === 'close') {\n      const styles = closeStyles || initialStyles;\n      setStyles({\n        transitionProperty: Object.keys(styles).map(camelCaseToKebabCase).join(','),\n        transitionDuration: closeDuration + \"ms\",\n        ...commonStyles,\n        ...styles\n      });\n    }\n  }, [closeDuration, closeRef, initialRef, openRef, commonRef, openDuration, status, fnArgs]);\n  return {\n    isMounted,\n    styles\n  };\n}\n\n/**\n * Provides a matching callback that can be used to focus an item as the user\n * types, often used in tandem with `useListNavigation()`.\n * @see https://floating-ui.com/docs/useTypeahead\n */\nfunction useTypeahead(context, props) {\n  var _ref;\n  const {\n    open,\n    dataRef\n  } = context;\n  const {\n    listRef,\n    activeIndex,\n    onMatch: unstable_onMatch,\n    onTypingChange: unstable_onTypingChange,\n    enabled = true,\n    findMatch = null,\n    resetMs = 750,\n    ignoreKeys = [],\n    selectedIndex = null\n  } = props;\n  const timeoutIdRef = React.useRef();\n  const stringRef = React.useRef('');\n  const prevIndexRef = React.useRef((_ref = selectedIndex != null ? selectedIndex : activeIndex) != null ? _ref : -1);\n  const matchIndexRef = React.useRef(null);\n  const onMatch = useEffectEvent(unstable_onMatch);\n  const onTypingChange = useEffectEvent(unstable_onTypingChange);\n  const findMatchRef = useLatestRef(findMatch);\n  const ignoreKeysRef = useLatestRef(ignoreKeys);\n  index(() => {\n    if (open) {\n      clearTimeout(timeoutIdRef.current);\n      matchIndexRef.current = null;\n      stringRef.current = '';\n    }\n  }, [open]);\n  index(() => {\n    // Sync arrow key navigation but not typeahead navigation.\n    if (open && stringRef.current === '') {\n      var _ref2;\n      prevIndexRef.current = (_ref2 = selectedIndex != null ? selectedIndex : activeIndex) != null ? _ref2 : -1;\n    }\n  }, [open, selectedIndex, activeIndex]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    function setTypingChange(value) {\n      if (value) {\n        if (!dataRef.current.typing) {\n          dataRef.current.typing = value;\n          onTypingChange(value);\n        }\n      } else {\n        if (dataRef.current.typing) {\n          dataRef.current.typing = value;\n          onTypingChange(value);\n        }\n      }\n    }\n    function getMatchingIndex(list, orderedList, string) {\n      const str = findMatchRef.current ? findMatchRef.current(orderedList, string) : orderedList.find(text => (text == null ? void 0 : text.toLocaleLowerCase().indexOf(string.toLocaleLowerCase())) === 0);\n      return str ? list.indexOf(str) : -1;\n    }\n    function onKeyDown(event) {\n      const listContent = listRef.current;\n      if (stringRef.current.length > 0 && stringRef.current[0] !== ' ') {\n        if (getMatchingIndex(listContent, listContent, stringRef.current) === -1) {\n          setTypingChange(false);\n        } else if (event.key === ' ') {\n          stopEvent(event);\n        }\n      }\n      if (listContent == null || ignoreKeysRef.current.includes(event.key) ||\n      // Character key.\n      event.key.length !== 1 ||\n      // Modifier key.\n      event.ctrlKey || event.metaKey || event.altKey) {\n        return;\n      }\n      if (open && event.key !== ' ') {\n        stopEvent(event);\n        setTypingChange(true);\n      }\n\n      // Bail out if the list contains a word like \"llama\" or \"aaron\". TODO:\n      // allow it in this case, too.\n      const allowRapidSuccessionOfFirstLetter = listContent.every(text => {\n        var _text$, _text$2;\n        return text ? ((_text$ = text[0]) == null ? void 0 : _text$.toLocaleLowerCase()) !== ((_text$2 = text[1]) == null ? void 0 : _text$2.toLocaleLowerCase()) : true;\n      });\n\n      // Allows the user to cycle through items that start with the same letter\n      // in rapid succession.\n      if (allowRapidSuccessionOfFirstLetter && stringRef.current === event.key) {\n        stringRef.current = '';\n        prevIndexRef.current = matchIndexRef.current;\n      }\n      stringRef.current += event.key;\n      clearTimeout(timeoutIdRef.current);\n      timeoutIdRef.current = setTimeout(() => {\n        stringRef.current = '';\n        prevIndexRef.current = matchIndexRef.current;\n        setTypingChange(false);\n      }, resetMs);\n      const prevIndex = prevIndexRef.current;\n      const index = getMatchingIndex(listContent, [...listContent.slice((prevIndex || 0) + 1), ...listContent.slice(0, (prevIndex || 0) + 1)], stringRef.current);\n      if (index !== -1) {\n        onMatch(index);\n        matchIndexRef.current = index;\n      } else if (event.key !== ' ') {\n        stringRef.current = '';\n        setTypingChange(false);\n      }\n    }\n    return {\n      reference: {\n        onKeyDown\n      },\n      floating: {\n        onKeyDown,\n        onKeyUp(event) {\n          if (event.key === ' ') {\n            setTypingChange(false);\n          }\n        }\n      }\n    };\n  }, [enabled, open, dataRef, listRef, resetMs, ignoreKeysRef, findMatchRef, onMatch, onTypingChange]);\n}\n\nfunction getArgsWithCustomFloatingHeight(state, height) {\n  return {\n    ...state,\n    rects: {\n      ...state.rects,\n      floating: {\n        ...state.rects.floating,\n        height\n      }\n    }\n  };\n}\n/**\n * Positions the floating element such that an inner element inside\n * of it is anchored to the reference element.\n * @see https://floating-ui.com/docs/inner\n */\nconst inner = props => ({\n  name: 'inner',\n  options: props,\n  async fn(state) {\n    const {\n      listRef,\n      overflowRef,\n      onFallbackChange,\n      offset: innerOffset = 0,\n      index = 0,\n      minItemsVisible = 4,\n      referenceOverflowThreshold = 0,\n      scrollRef,\n      ...detectOverflowOptions\n    } = props;\n    const {\n      rects,\n      elements: {\n        floating\n      }\n    } = state;\n    const item = listRef.current[index];\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!state.placement.startsWith('bottom')) {\n        console.warn(['Floating UI: `placement` side must be \"bottom\" when using the', '`inner` middleware.'].join(' '));\n      }\n    }\n    if (!item) {\n      return {};\n    }\n    const nextArgs = {\n      ...state,\n      ...(await offset(-item.offsetTop - floating.clientTop - rects.reference.height / 2 - item.offsetHeight / 2 - innerOffset).fn(state))\n    };\n    const el = (scrollRef == null ? void 0 : scrollRef.current) || floating;\n    const overflow = await detectOverflow(getArgsWithCustomFloatingHeight(nextArgs, el.scrollHeight), detectOverflowOptions);\n    const refOverflow = await detectOverflow(nextArgs, {\n      ...detectOverflowOptions,\n      elementContext: 'reference'\n    });\n    const diffY = Math.max(0, overflow.top);\n    const nextY = nextArgs.y + diffY;\n    const maxHeight = Math.max(0, el.scrollHeight - diffY - Math.max(0, overflow.bottom));\n    el.style.maxHeight = maxHeight + \"px\";\n    el.scrollTop = diffY;\n\n    // There is not enough space, fallback to standard anchored positioning\n    if (onFallbackChange) {\n      if (el.offsetHeight < item.offsetHeight * Math.min(minItemsVisible, listRef.current.length - 1) - 1 || refOverflow.top >= -referenceOverflowThreshold || refOverflow.bottom >= -referenceOverflowThreshold) {\n        flushSync(() => onFallbackChange(true));\n      } else {\n        flushSync(() => onFallbackChange(false));\n      }\n    }\n    if (overflowRef) {\n      overflowRef.current = await detectOverflow(getArgsWithCustomFloatingHeight({\n        ...nextArgs,\n        y: nextY\n      }, el.offsetHeight), detectOverflowOptions);\n    }\n    return {\n      y: nextY\n    };\n  }\n});\n/**\n * Changes the `inner` middleware's `offset` upon a `wheel` event to\n * expand the floating element's height, revealing more list items.\n * @see https://floating-ui.com/docs/inner\n */\nfunction useInnerOffset(context, props) {\n  const {\n    open,\n    elements\n  } = context;\n  const {\n    enabled = true,\n    overflowRef,\n    scrollRef,\n    onChange: unstable_onChange\n  } = props;\n  const onChange = useEffectEvent(unstable_onChange);\n  const controlledScrollingRef = React.useRef(false);\n  const prevScrollTopRef = React.useRef(null);\n  const initialOverflowRef = React.useRef(null);\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function onWheel(e) {\n      if (e.ctrlKey || !el || overflowRef.current == null) {\n        return;\n      }\n      const dY = e.deltaY;\n      const isAtTop = overflowRef.current.top >= -0.5;\n      const isAtBottom = overflowRef.current.bottom >= -0.5;\n      const remainingScroll = el.scrollHeight - el.clientHeight;\n      const sign = dY < 0 ? -1 : 1;\n      const method = dY < 0 ? 'max' : 'min';\n      if (el.scrollHeight <= el.clientHeight) {\n        return;\n      }\n      if (!isAtTop && dY > 0 || !isAtBottom && dY < 0) {\n        e.preventDefault();\n        flushSync(() => {\n          onChange(d => d + Math[method](dY, remainingScroll * sign));\n        });\n      } else if (/firefox/i.test(getUserAgent())) {\n        // Needed to propagate scrolling during momentum scrolling phase once\n        // it gets limited by the boundary. UX improvement, not critical.\n        el.scrollTop += dY;\n      }\n    }\n    const el = (scrollRef == null ? void 0 : scrollRef.current) || elements.floating;\n    if (open && el) {\n      el.addEventListener('wheel', onWheel);\n\n      // Wait for the position to be ready.\n      requestAnimationFrame(() => {\n        prevScrollTopRef.current = el.scrollTop;\n        if (overflowRef.current != null) {\n          initialOverflowRef.current = {\n            ...overflowRef.current\n          };\n        }\n      });\n      return () => {\n        prevScrollTopRef.current = null;\n        initialOverflowRef.current = null;\n        el.removeEventListener('wheel', onWheel);\n      };\n    }\n  }, [enabled, open, elements.floating, overflowRef, scrollRef, onChange]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    return {\n      floating: {\n        onKeyDown() {\n          controlledScrollingRef.current = true;\n        },\n        onWheel() {\n          controlledScrollingRef.current = false;\n        },\n        onPointerMove() {\n          controlledScrollingRef.current = false;\n        },\n        onScroll() {\n          const el = (scrollRef == null ? void 0 : scrollRef.current) || elements.floating;\n          if (!overflowRef.current || !el || !controlledScrollingRef.current) {\n            return;\n          }\n          if (prevScrollTopRef.current !== null) {\n            const scrollDiff = el.scrollTop - prevScrollTopRef.current;\n            if (overflowRef.current.bottom < -0.5 && scrollDiff < -1 || overflowRef.current.top < -0.5 && scrollDiff > 1) {\n              flushSync(() => onChange(d => d + scrollDiff));\n            }\n          }\n\n          // [Firefox] Wait for the height change to have been applied.\n          requestAnimationFrame(() => {\n            prevScrollTopRef.current = el.scrollTop;\n          });\n        }\n      }\n    };\n  }, [enabled, overflowRef, elements.floating, scrollRef, onChange]);\n}\n\nfunction isPointInPolygon(point, polygon) {\n  const [x, y] = point;\n  let isInside = false;\n  const length = polygon.length;\n  for (let i = 0, j = length - 1; i < length; j = i++) {\n    const [xi, yi] = polygon[i] || [0, 0];\n    const [xj, yj] = polygon[j] || [0, 0];\n    const intersect = yi >= y !== yj >= y && x <= (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) {\n      isInside = !isInside;\n    }\n  }\n  return isInside;\n}\nfunction isInside(point, rect) {\n  return point[0] >= rect.x && point[0] <= rect.x + rect.width && point[1] >= rect.y && point[1] <= rect.y + rect.height;\n}\n/**\n * Generates a safe polygon area that the user can traverse without closing the\n * floating element once leaving the reference element.\n * @see https://floating-ui.com/docs/useHover#safepolygon\n */\nfunction safePolygon(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    buffer = 0.5,\n    blockPointerEvents = false,\n    requireIntent = true\n  } = options;\n  let timeoutId;\n  let hasLanded = false;\n  let lastX = null;\n  let lastY = null;\n  let lastCursorTime = performance.now();\n  function getCursorSpeed(x, y) {\n    const currentTime = performance.now();\n    const elapsedTime = currentTime - lastCursorTime;\n    if (lastX === null || lastY === null || elapsedTime === 0) {\n      lastX = x;\n      lastY = y;\n      lastCursorTime = currentTime;\n      return null;\n    }\n    const deltaX = x - lastX;\n    const deltaY = y - lastY;\n    const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n    const speed = distance / elapsedTime; // px / ms\n\n    lastX = x;\n    lastY = y;\n    lastCursorTime = currentTime;\n    return speed;\n  }\n  const fn = _ref => {\n    let {\n      x,\n      y,\n      placement,\n      elements,\n      onClose,\n      nodeId,\n      tree\n    } = _ref;\n    return function onMouseMove(event) {\n      function close() {\n        clearTimeout(timeoutId);\n        onClose();\n      }\n      clearTimeout(timeoutId);\n      if (!elements.domReference || !elements.floating || placement == null || x == null || y == null) {\n        return;\n      }\n      const {\n        clientX,\n        clientY\n      } = event;\n      const clientPoint = [clientX, clientY];\n      const target = getTarget(event);\n      const isLeave = event.type === 'mouseleave';\n      const isOverFloatingEl = contains(elements.floating, target);\n      const isOverReferenceEl = contains(elements.domReference, target);\n      const refRect = elements.domReference.getBoundingClientRect();\n      const rect = elements.floating.getBoundingClientRect();\n      const side = placement.split('-')[0];\n      const cursorLeaveFromRight = x > rect.right - rect.width / 2;\n      const cursorLeaveFromBottom = y > rect.bottom - rect.height / 2;\n      const isOverReferenceRect = isInside(clientPoint, refRect);\n      const isFloatingWider = rect.width > refRect.width;\n      const isFloatingTaller = rect.height > refRect.height;\n      const left = (isFloatingWider ? refRect : rect).left;\n      const right = (isFloatingWider ? refRect : rect).right;\n      const top = (isFloatingTaller ? refRect : rect).top;\n      const bottom = (isFloatingTaller ? refRect : rect).bottom;\n      if (isOverFloatingEl) {\n        hasLanded = true;\n        if (!isLeave) {\n          return;\n        }\n      }\n      if (isOverReferenceEl) {\n        hasLanded = false;\n      }\n      if (isOverReferenceEl && !isLeave) {\n        hasLanded = true;\n        return;\n      }\n\n      // Prevent overlapping floating element from being stuck in an open-close\n      // loop: https://github.com/floating-ui/floating-ui/issues/1910\n      if (isLeave && isElement(event.relatedTarget) && contains(elements.floating, event.relatedTarget)) {\n        return;\n      }\n\n      // If any nested child is open, abort.\n      if (tree && getChildren(tree.nodesRef.current, nodeId).some(_ref2 => {\n        let {\n          context\n        } = _ref2;\n        return context == null ? void 0 : context.open;\n      })) {\n        return;\n      }\n\n      // If the pointer is leaving from the opposite side, the \"buffer\" logic\n      // creates a point where the floating element remains open, but should be\n      // ignored.\n      // A constant of 1 handles floating point rounding errors.\n      if (side === 'top' && y >= refRect.bottom - 1 || side === 'bottom' && y <= refRect.top + 1 || side === 'left' && x >= refRect.right - 1 || side === 'right' && x <= refRect.left + 1) {\n        return close();\n      }\n\n      // Ignore when the cursor is within the rectangular trough between the\n      // two elements. Since the triangle is created from the cursor point,\n      // which can start beyond the ref element's edge, traversing back and\n      // forth from the ref to the floating element can cause it to close. This\n      // ensures it always remains open in that case.\n      let rectPoly = [];\n      switch (side) {\n        case 'top':\n          rectPoly = [[left, refRect.top + 1], [left, rect.bottom - 1], [right, rect.bottom - 1], [right, refRect.top + 1]];\n          break;\n        case 'bottom':\n          rectPoly = [[left, rect.top + 1], [left, refRect.bottom - 1], [right, refRect.bottom - 1], [right, rect.top + 1]];\n          break;\n        case 'left':\n          rectPoly = [[rect.right - 1, bottom], [rect.right - 1, top], [refRect.left + 1, top], [refRect.left + 1, bottom]];\n          break;\n        case 'right':\n          rectPoly = [[refRect.right - 1, bottom], [refRect.right - 1, top], [rect.left + 1, top], [rect.left + 1, bottom]];\n          break;\n      }\n      function getPolygon(_ref3) {\n        let [x, y] = _ref3;\n        switch (side) {\n          case 'top':\n            {\n              const cursorPointOne = [isFloatingWider ? x + buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y + buffer + 1];\n              const cursorPointTwo = [isFloatingWider ? x - buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y + buffer + 1];\n              const commonPoints = [[rect.left, cursorLeaveFromRight ? rect.bottom - buffer : isFloatingWider ? rect.bottom - buffer : rect.top], [rect.right, cursorLeaveFromRight ? isFloatingWider ? rect.bottom - buffer : rect.top : rect.bottom - buffer]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n          case 'bottom':\n            {\n              const cursorPointOne = [isFloatingWider ? x + buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y - buffer];\n              const cursorPointTwo = [isFloatingWider ? x - buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y - buffer];\n              const commonPoints = [[rect.left, cursorLeaveFromRight ? rect.top + buffer : isFloatingWider ? rect.top + buffer : rect.bottom], [rect.right, cursorLeaveFromRight ? isFloatingWider ? rect.top + buffer : rect.bottom : rect.top + buffer]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n          case 'left':\n            {\n              const cursorPointOne = [x + buffer + 1, isFloatingTaller ? y + buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const cursorPointTwo = [x + buffer + 1, isFloatingTaller ? y - buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const commonPoints = [[cursorLeaveFromBottom ? rect.right - buffer : isFloatingTaller ? rect.right - buffer : rect.left, rect.top], [cursorLeaveFromBottom ? isFloatingTaller ? rect.right - buffer : rect.left : rect.right - buffer, rect.bottom]];\n              return [...commonPoints, cursorPointOne, cursorPointTwo];\n            }\n          case 'right':\n            {\n              const cursorPointOne = [x - buffer, isFloatingTaller ? y + buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const cursorPointTwo = [x - buffer, isFloatingTaller ? y - buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const commonPoints = [[cursorLeaveFromBottom ? rect.left + buffer : isFloatingTaller ? rect.left + buffer : rect.right, rect.top], [cursorLeaveFromBottom ? isFloatingTaller ? rect.left + buffer : rect.right : rect.left + buffer, rect.bottom]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n        }\n      }\n      if (isPointInPolygon([clientX, clientY], rectPoly)) {\n        return;\n      }\n      if (hasLanded && !isOverReferenceRect) {\n        return close();\n      }\n      if (!isLeave && requireIntent) {\n        const cursorSpeed = getCursorSpeed(event.clientX, event.clientY);\n        const cursorSpeedThreshold = 0.1;\n        if (cursorSpeed !== null && cursorSpeed < cursorSpeedThreshold) {\n          return close();\n        }\n      }\n      if (!isPointInPolygon([clientX, clientY], getPolygon([x, y]))) {\n        close();\n      } else if (!hasLanded && requireIntent) {\n        timeoutId = window.setTimeout(close, 40);\n      }\n    };\n  };\n  fn.__options = {\n    blockPointerEvents\n  };\n  return fn;\n}\n\nexport { Composite, CompositeItem, FloatingArrow, FloatingDelayGroup, FloatingFocusManager, FloatingList, FloatingNode, FloatingOverlay, FloatingPortal, FloatingTree, inner, safePolygon, useClick, useClientPoint, useDelayGroup, useDelayGroupContext, useDismiss, useFloating, useFloatingNodeId, useFloatingParentNodeId, useFloatingPortalNode, useFloatingTree, useFocus, useHover, useId, useInnerOffset, useInteractions, useListItem, useListNavigation, useMergeRefs, useRole, useTransitionStatus, useTransitionStyles, useTypeahead };\n", "function getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  // Browsers without `ShadowRoot` support.\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  const webkit = isWebKit();\n  const css = getComputedStyle(element);\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  return css.transform !== 'none' || css.perspective !== 'none' || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || ['transform', 'perspective', 'filter'].some(value => (css.willChange || '').includes(value)) || ['paint', 'layout', 'strict', 'content'].some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else {\n      currentNode = getParentNode(currentNode);\n    }\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nfunction isLastTraversableNode(node) {\n  return ['html', 'body', '#document'].includes(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.pageXOffset,\n    scrollTop: element.pageYOffset\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], win.frameElement && traverseIframes ? getOverflowAncestors(win.frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isWebKit };\n", "import { isShadowRoot, isHTMLElement } from '@floating-ui/utils/dom';\n\nfunction activeElement(doc) {\n  let activeElement = doc.activeElement;\n  while (((_activeElement = activeElement) == null || (_activeElement = _activeElement.shadowRoot) == null ? void 0 : _activeElement.activeElement) != null) {\n    var _activeElement;\n    activeElement = activeElement.shadowRoot.activeElement;\n  }\n  return activeElement;\n}\nfunction contains(parent, child) {\n  if (!parent || !child) {\n    return false;\n  }\n  const rootNode = child.getRootNode == null ? void 0 : child.getRootNode();\n\n  // First, attempt with faster native method\n  if (parent.contains(child)) {\n    return true;\n  }\n\n  // then fallback to custom implementation with Shadow DOM support\n  if (rootNode && isShadowRoot(rootNode)) {\n    let next = child;\n    while (next) {\n      if (parent === next) {\n        return true;\n      }\n      // @ts-ignore\n      next = next.parentNode || next.host;\n    }\n  }\n\n  // Give up, the result is false\n  return false;\n}\n// Avoid Chrome DevTools blue warning.\nfunction getPlatform() {\n  const uaData = navigator.userAgentData;\n  if (uaData != null && uaData.platform) {\n    return uaData.platform;\n  }\n  return navigator.platform;\n}\nfunction getUserAgent() {\n  const uaData = navigator.userAgentData;\n  if (uaData && Array.isArray(uaData.brands)) {\n    return uaData.brands.map(_ref => {\n      let {\n        brand,\n        version\n      } = _ref;\n      return brand + \"/\" + version;\n    }).join(' ');\n  }\n  return navigator.userAgent;\n}\n\n// License: https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/utils/src/isVirtualEvent.ts\nfunction isVirtualClick(event) {\n  // FIXME: Firefox is now emitting a deprecation warning for `mozInputSource`.\n  // Try to find a workaround for this. `react-aria` source still has the check.\n  if (event.mozInputSource === 0 && event.isTrusted) {\n    return true;\n  }\n  if (isAndroid() && event.pointerType) {\n    return event.type === 'click' && event.buttons === 1;\n  }\n  return event.detail === 0 && !event.pointerType;\n}\nfunction isVirtualPointerEvent(event) {\n  if (isJSDOM()) return false;\n  return !isAndroid() && event.width === 0 && event.height === 0 || isAndroid() && event.width === 1 && event.height === 1 && event.pressure === 0 && event.detail === 0 && event.pointerType === 'mouse' ||\n  // iOS VoiceOver returns 0.333• for width/height.\n  event.width < 1 && event.height < 1 && event.pressure === 0 && event.detail === 0 && event.pointerType === 'touch';\n}\nfunction isSafari() {\n  // Chrome DevTools does not complain about navigator.vendor\n  return /apple/i.test(navigator.vendor);\n}\nfunction isAndroid() {\n  const re = /android/i;\n  return re.test(getPlatform()) || re.test(getUserAgent());\n}\nfunction isMac() {\n  return getPlatform().toLowerCase().startsWith('mac') && !navigator.maxTouchPoints;\n}\nfunction isJSDOM() {\n  return getUserAgent().includes('jsdom/');\n}\nfunction isMouseLikePointerType(pointerType, strict) {\n  // On some Linux machines with Chromium, mouse inputs return a `pointerType`\n  // of \"pen\": https://github.com/floating-ui/floating-ui/issues/2015\n  const values = ['mouse', 'pen'];\n  if (!strict) {\n    values.push('', undefined);\n  }\n  return values.includes(pointerType);\n}\nfunction isReactEvent(event) {\n  return 'nativeEvent' in event;\n}\nfunction isRootElement(element) {\n  return element.matches('html,body');\n}\nfunction getDocument(node) {\n  return (node == null ? void 0 : node.ownerDocument) || document;\n}\nfunction isEventTargetWithin(event, node) {\n  if (node == null) {\n    return false;\n  }\n  if ('composedPath' in event) {\n    return event.composedPath().includes(node);\n  }\n\n  // TS thinks `event` is of type never as it assumes all browsers support composedPath, but browsers without shadow dom don't\n  const e = event;\n  return e.target != null && node.contains(e.target);\n}\nfunction getTarget(event) {\n  if ('composedPath' in event) {\n    return event.composedPath()[0];\n  }\n\n  // TS thinks `event` is of type never as it assumes all browsers support\n  // `composedPath()`, but browsers without shadow DOM don't.\n  return event.target;\n}\nconst TYPEABLE_SELECTOR = \"input:not([type='hidden']):not([disabled]),\" + \"[contenteditable]:not([contenteditable='false']),textarea:not([disabled])\";\nfunction isTypeableElement(element) {\n  return isHTMLElement(element) && element.matches(TYPEABLE_SELECTOR);\n}\nfunction stopEvent(event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\nfunction isTypeableCombobox(element) {\n  if (!element) return false;\n  return element.getAttribute('role') === 'combobox' && isTypeableElement(element);\n}\n\nexport { TYPEABLE_SELECTOR, activeElement, contains, getDocument, getPlatform, getTarget, getUserAgent, isAndroid, isEventTargetWithin, isJSDOM, isMac, isMouseLikePointerType, isReactEvent, isRootElement, isSafari, isTypeableCombobox, isTypeableElement, isVirtualClick, isVirtualPointerEvent, stopEvent };\n", "/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nfunction getSideAxis(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = ['left', 'right'];\n  const rl = ['right', 'left'];\n  const tb = ['top', 'bottom'];\n  const bt = ['bottom', 'top'];\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case 'left':\n    case 'right':\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  return {\n    ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n", "import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    ...rects.floating,\n    x,\n    y\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      if (!specifiedFallbackPlacements && fallbackAxisSideDirection !== 'none') {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle.\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$map$so;\n                const placement = (_overflowsData$map$so = overflowsData.map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const overflowAvailableHeight = height - overflow[heightSide];\n      const overflowAvailableWidth = width - overflow[widthSide];\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if (isYAxis) {\n        const maximumClippingWidth = width - overflow.left - overflow.right;\n        availableWidth = alignment || noShift ? min(overflowAvailableWidth, maximumClippingWidth) : maximumClippingWidth;\n      } else {\n        const maximumClippingHeight = height - overflow.top - overflow.bottom;\n        availableHeight = alignment || noShift ? min(overflowAvailableHeight, maximumClippingHeight) : maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n", "import { rectToClientRect, autoPlacement as autoPlacement$1, shift as shift$1, flip as flip$1, size as size$1, hide as hide$1, arrow as arrow$1, inline as inline$1, limitShift as limitShift$1, computePosition as computePosition$1 } from '@floating-ui/core';\nexport { detectOverflow, offset } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle, isHTMLElement, isElement, getWindow, isWebKit, getDocumentElement, getNodeName, isOverflowElement, getNodeScroll, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = currentWin.frameElement;\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = currentWin.frameElement;\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\nconst topLayerSelectors = [':popover-open', ':modal'];\nfunction isTopLayer(floating) {\n  return topLayerSelectors.some(selector => {\n    try {\n      return floating.matches(selector);\n    } catch (e) {\n      return false;\n    }\n  });\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === 'fixed';\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      ...clippingAncestor,\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  const x = rect.left + scroll.scrollLeft - offsets.x;\n  const y = rect.top + scroll.scrollTop - offsets.y;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  return element.offsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const window = getWindow(element);\n  if (!isHTMLElement(element) || isTopLayer(element)) {\n    return window;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static' && !isContainingBlock(offsetParent))) {\n    return window;\n  }\n  return offsetParent || getContainingBlock(element) || window;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      ...(await getDimensionsFn(data.floating))\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = element.getBoundingClientRect();\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 100);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, flip, hide, inline, limitShift, platform, shift, size };\n", "import { arrow as arrow$1, computePosition } from '@floating-ui/dom';\nexport { autoPlacement, autoUpdate, computePosition, detectOverflow, flip, getOverflowAncestors, hide, inline, limitShift, offset, platform, shift, size } from '@floating-ui/dom';\nimport * as React from 'react';\nimport { useLayoutEffect, useEffect } from 'react';\nimport * as ReactDOM from 'react-dom';\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * This wraps the core `arrow` middleware to allow React refs as the element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => {\n  function isRef(value) {\n    return {}.hasOwnProperty.call(value, 'current');\n  }\n  return {\n    name: 'arrow',\n    options,\n    fn(state) {\n      const {\n        element,\n        padding\n      } = typeof options === 'function' ? options(state) : options;\n      if (element && isRef(element)) {\n        if (element.current != null) {\n          return arrow$1({\n            element: element.current,\n            padding\n          }).fn(state);\n        }\n        return {};\n      }\n      if (element) {\n        return arrow$1({\n          element,\n          padding\n        }).fn(state);\n      }\n      return {};\n    }\n  };\n};\n\nvar index = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\n\n// Fork of `fast-deep-equal` that only does the comparisons we need and compares\n// functions\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (typeof a === 'function' && a.toString() === b.toString()) {\n    return true;\n  }\n  let length;\n  let i;\n  let keys;\n  if (a && b && typeof a === 'object') {\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length !== b.length) return false;\n      for (i = length; i-- !== 0;) {\n        if (!deepEqual(a[i], b[i])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) {\n      return false;\n    }\n    for (i = length; i-- !== 0;) {\n      if (!{}.hasOwnProperty.call(b, keys[i])) {\n        return false;\n      }\n    }\n    for (i = length; i-- !== 0;) {\n      const key = keys[i];\n      if (key === '_owner' && a.$$typeof) {\n        continue;\n      }\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  // biome-ignore lint/suspicious/noSelfCompare: in source\n  return a !== a && b !== b;\n}\n\nfunction getDPR(element) {\n  if (typeof window === 'undefined') {\n    return 1;\n  }\n  const win = element.ownerDocument.defaultView || window;\n  return win.devicePixelRatio || 1;\n}\n\nfunction roundByDPR(element, value) {\n  const dpr = getDPR(element);\n  return Math.round(value * dpr) / dpr;\n}\n\nfunction useLatestRef(value) {\n  const ref = React.useRef(value);\n  index(() => {\n    ref.current = value;\n  });\n  return ref;\n}\n\n/**\n * Provides data to position a floating element.\n * @see https://floating-ui.com/docs/useFloating\n */\nfunction useFloating(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform,\n    elements: {\n      reference: externalReference,\n      floating: externalFloating\n    } = {},\n    transform = true,\n    whileElementsMounted,\n    open\n  } = options;\n  const [data, setData] = React.useState({\n    x: 0,\n    y: 0,\n    strategy,\n    placement,\n    middlewareData: {},\n    isPositioned: false\n  });\n  const [latestMiddleware, setLatestMiddleware] = React.useState(middleware);\n  if (!deepEqual(latestMiddleware, middleware)) {\n    setLatestMiddleware(middleware);\n  }\n  const [_reference, _setReference] = React.useState(null);\n  const [_floating, _setFloating] = React.useState(null);\n  const setReference = React.useCallback(node => {\n    if (node !== referenceRef.current) {\n      referenceRef.current = node;\n      _setReference(node);\n    }\n  }, []);\n  const setFloating = React.useCallback(node => {\n    if (node !== floatingRef.current) {\n      floatingRef.current = node;\n      _setFloating(node);\n    }\n  }, []);\n  const referenceEl = externalReference || _reference;\n  const floatingEl = externalFloating || _floating;\n  const referenceRef = React.useRef(null);\n  const floatingRef = React.useRef(null);\n  const dataRef = React.useRef(data);\n  const hasWhileElementsMounted = whileElementsMounted != null;\n  const whileElementsMountedRef = useLatestRef(whileElementsMounted);\n  const platformRef = useLatestRef(platform);\n  const update = React.useCallback(() => {\n    if (!referenceRef.current || !floatingRef.current) {\n      return;\n    }\n    const config = {\n      placement,\n      strategy,\n      middleware: latestMiddleware\n    };\n    if (platformRef.current) {\n      config.platform = platformRef.current;\n    }\n    computePosition(referenceRef.current, floatingRef.current, config).then(data => {\n      const fullData = {\n        ...data,\n        isPositioned: true\n      };\n      if (isMountedRef.current && !deepEqual(dataRef.current, fullData)) {\n        dataRef.current = fullData;\n        ReactDOM.flushSync(() => {\n          setData(fullData);\n        });\n      }\n    });\n  }, [latestMiddleware, placement, strategy, platformRef]);\n  index(() => {\n    if (open === false && dataRef.current.isPositioned) {\n      dataRef.current.isPositioned = false;\n      setData(data => ({\n        ...data,\n        isPositioned: false\n      }));\n    }\n  }, [open]);\n  const isMountedRef = React.useRef(false);\n  index(() => {\n    isMountedRef.current = true;\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: `hasWhileElementsMounted` is intentionally included.\n  index(() => {\n    if (referenceEl) referenceRef.current = referenceEl;\n    if (floatingEl) floatingRef.current = floatingEl;\n    if (referenceEl && floatingEl) {\n      if (whileElementsMountedRef.current) {\n        return whileElementsMountedRef.current(referenceEl, floatingEl, update);\n      }\n      update();\n    }\n  }, [referenceEl, floatingEl, update, whileElementsMountedRef, hasWhileElementsMounted]);\n  const refs = React.useMemo(() => ({\n    reference: referenceRef,\n    floating: floatingRef,\n    setReference,\n    setFloating\n  }), [setReference, setFloating]);\n  const elements = React.useMemo(() => ({\n    reference: referenceEl,\n    floating: floatingEl\n  }), [referenceEl, floatingEl]);\n  const floatingStyles = React.useMemo(() => {\n    const initialStyles = {\n      position: strategy,\n      left: 0,\n      top: 0\n    };\n    if (!elements.floating) {\n      return initialStyles;\n    }\n    const x = roundByDPR(elements.floating, data.x);\n    const y = roundByDPR(elements.floating, data.y);\n    if (transform) {\n      return {\n        ...initialStyles,\n        transform: \"translate(\" + x + \"px, \" + y + \"px)\",\n        ...(getDPR(elements.floating) >= 1.5 && {\n          willChange: 'transform'\n        })\n      };\n    }\n    return {\n      position: strategy,\n      left: x,\n      top: y\n    };\n  }, [strategy, transform, elements.floating, data.x, data.y]);\n  return React.useMemo(() => ({\n    ...data,\n    update,\n    refs,\n    elements,\n    floatingStyles\n  }), [data, update, refs, elements, floatingStyles]);\n}\n\nexport { arrow, useFloating };\n", "// NOTE: separate `:not()` selectors has broader browser support than the newer\n//  `:not([inert], [inert] *)` (Feb 2023)\n// CAREFUL: JSDom does not support `:not([inert] *)` as a selector; using it causes\n//  the entire query to fail, resulting in no nodes found, which will break a lot\n//  of things... so we have to rely on JS to identify nodes inside an inert container\nconst candidateSelectors = [\n  'input:not([inert])',\n  'select:not([inert])',\n  'textarea:not([inert])',\n  'a[href]:not([inert])',\n  'button:not([inert])',\n  '[tabindex]:not(slot):not([inert])',\n  'audio[controls]:not([inert])',\n  'video[controls]:not([inert])',\n  '[contenteditable]:not([contenteditable=\"false\"]):not([inert])',\n  'details>summary:first-of-type:not([inert])',\n  'details:not([inert])',\n];\nconst candidateSelector = /* #__PURE__ */ candidateSelectors.join(',');\n\nconst NoElement = typeof Element === 'undefined';\n\nconst matches = NoElement\n  ? function () {}\n  : Element.prototype.matches ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.webkitMatchesSelector;\n\nconst getRootNode =\n  !NoElement && Element.prototype.getRootNode\n    ? (element) => element?.getRootNode?.()\n    : (element) => element?.ownerDocument;\n\n/**\n * Determines if a node is inert or in an inert ancestor.\n * @param {Element} [node]\n * @param {boolean} [lookUp] If true and `node` is not inert, looks up at ancestors to\n *  see if any of them are inert. If false, only `node` itself is considered.\n * @returns {boolean} True if inert itself or by way of being in an inert ancestor.\n *  False if `node` is falsy.\n */\nconst isInert = function (node, lookUp = true) {\n  // CAREFUL: JSDom does not support inert at all, so we can't use the `HTMLElement.inert`\n  //  JS API property; we have to check the attribute, which can either be empty or 'true';\n  //  if it's `null` (not specified) or 'false', it's an active element\n  const inertAtt = node?.getAttribute?.('inert');\n  const inert = inertAtt === '' || inertAtt === 'true';\n\n  // NOTE: this could also be handled with `node.matches('[inert], :is([inert] *)')`\n  //  if it weren't for `matches()` not being a function on shadow roots; the following\n  //  code works for any kind of node\n  // CAREFUL: JSDom does not appear to support certain selectors like `:not([inert] *)`\n  //  so it likely would not support `:is([inert] *)` either...\n  const result = inert || (lookUp && node && isInert(node.parentNode)); // recursive\n\n  return result;\n};\n\n/**\n * Determines if a node's content is editable.\n * @param {Element} [node]\n * @returns True if it's content-editable; false if it's not or `node` is falsy.\n */\nconst isContentEditable = function (node) {\n  // CAREFUL: JSDom does not support the `HTMLElement.isContentEditable` API so we have\n  //  to use the attribute directly to check for this, which can either be empty or 'true';\n  //  if it's `null` (not specified) or 'false', it's a non-editable element\n  const attValue = node?.getAttribute?.('contenteditable');\n  return attValue === '' || attValue === 'true';\n};\n\n/**\n * @param {Element} el container to check in\n * @param {boolean} includeContainer add container to check\n * @param {(node: Element) => boolean} filter filter candidates\n * @returns {Element[]}\n */\nconst getCandidates = function (el, includeContainer, filter) {\n  // even if `includeContainer=false`, we still have to check it for inertness because\n  //  if it's inert, all its children are inert\n  if (isInert(el)) {\n    return [];\n  }\n\n  let candidates = Array.prototype.slice.apply(\n    el.querySelectorAll(candidateSelector)\n  );\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n\n/**\n * @callback GetShadowRoot\n * @param {Element} element to check for shadow root\n * @returns {ShadowRoot|boolean} ShadowRoot if available or boolean indicating if a shadowRoot is attached but not available.\n */\n\n/**\n * @callback ShadowRootFilter\n * @param {Element} shadowHostNode the element which contains shadow content\n * @returns {boolean} true if a shadow root could potentially contain valid candidates.\n */\n\n/**\n * @typedef {Object} CandidateScope\n * @property {Element} scopeParent contains inner candidates\n * @property {Element[]} candidates list of candidates found in the scope parent\n */\n\n/**\n * @typedef {Object} IterativeOptions\n * @property {GetShadowRoot|boolean} getShadowRoot true if shadow support is enabled; falsy if not;\n *  if a function, implies shadow support is enabled and either returns the shadow root of an element\n *  or a boolean stating if it has an undisclosed shadow root\n * @property {(node: Element) => boolean} filter filter candidates\n * @property {boolean} flatten if true then result will flatten any CandidateScope into the returned list\n * @property {ShadowRootFilter} shadowRootFilter filter shadow roots;\n */\n\n/**\n * @param {Element[]} elements list of element containers to match candidates from\n * @param {boolean} includeContainer add container list to check\n * @param {IterativeOptions} options\n * @returns {Array.<Element|CandidateScope>}\n */\nconst getCandidatesIteratively = function (\n  elements,\n  includeContainer,\n  options\n) {\n  const candidates = [];\n  const elementsToCheck = Array.from(elements);\n  while (elementsToCheck.length) {\n    const element = elementsToCheck.shift();\n    if (isInert(element, false)) {\n      // no need to look up since we're drilling down\n      // anything inside this container will also be inert\n      continue;\n    }\n\n    if (element.tagName === 'SLOT') {\n      // add shadow dom slot scope (slot itself cannot be focusable)\n      const assigned = element.assignedElements();\n      const content = assigned.length ? assigned : element.children;\n      const nestedCandidates = getCandidatesIteratively(content, true, options);\n      if (options.flatten) {\n        candidates.push(...nestedCandidates);\n      } else {\n        candidates.push({\n          scopeParent: element,\n          candidates: nestedCandidates,\n        });\n      }\n    } else {\n      // check candidate element\n      const validCandidate = matches.call(element, candidateSelector);\n      if (\n        validCandidate &&\n        options.filter(element) &&\n        (includeContainer || !elements.includes(element))\n      ) {\n        candidates.push(element);\n      }\n\n      // iterate over shadow content if possible\n      const shadowRoot =\n        element.shadowRoot ||\n        // check for an undisclosed shadow\n        (typeof options.getShadowRoot === 'function' &&\n          options.getShadowRoot(element));\n\n      // no inert look up because we're already drilling down and checking for inertness\n      //  on the way down, so all containers to this root node should have already been\n      //  vetted as non-inert\n      const validShadowRoot =\n        !isInert(shadowRoot, false) &&\n        (!options.shadowRootFilter || options.shadowRootFilter(element));\n\n      if (shadowRoot && validShadowRoot) {\n        // add shadow dom scope IIF a shadow root node was given; otherwise, an undisclosed\n        //  shadow exists, so look at light dom children as fallback BUT create a scope for any\n        //  child candidates found because they're likely slotted elements (elements that are\n        //  children of the web component element (which has the shadow), in the light dom, but\n        //  slotted somewhere _inside_ the undisclosed shadow) -- the scope is created below,\n        //  _after_ we return from this recursive call\n        const nestedCandidates = getCandidatesIteratively(\n          shadowRoot === true ? element.children : shadowRoot.children,\n          true,\n          options\n        );\n\n        if (options.flatten) {\n          candidates.push(...nestedCandidates);\n        } else {\n          candidates.push({\n            scopeParent: element,\n            candidates: nestedCandidates,\n          });\n        }\n      } else {\n        // there's not shadow so just dig into the element's (light dom) children\n        //  __without__ giving the element special scope treatment\n        elementsToCheck.unshift(...element.children);\n      }\n    }\n  }\n  return candidates;\n};\n\n/**\n * @private\n * Determines if the node has an explicitly specified `tabindex` attribute.\n * @param {HTMLElement} node\n * @returns {boolean} True if so; false if not.\n */\nconst hasTabIndex = function (node) {\n  return !isNaN(parseInt(node.getAttribute('tabindex'), 10));\n};\n\n/**\n * Determine the tab index of a given node.\n * @param {HTMLElement} node\n * @returns {number} Tab order (negative, 0, or positive number).\n * @throws {Error} If `node` is falsy.\n */\nconst getTabIndex = function (node) {\n  if (!node) {\n    throw new Error('No node provided');\n  }\n\n  if (node.tabIndex < 0) {\n    // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n    // `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n    // yet they are still part of the regular tab order; in FF, they get a default\n    // `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n    // order, consider their tab index to be 0.\n    // Also browsers do not return `tabIndex` correctly for contentEditable nodes;\n    // so if they don't have a tabindex attribute specifically set, assume it's 0.\n    if (\n      (/^(AUDIO|VIDEO|DETAILS)$/.test(node.tagName) ||\n        isContentEditable(node)) &&\n      !hasTabIndex(node)\n    ) {\n      return 0;\n    }\n  }\n\n  return node.tabIndex;\n};\n\n/**\n * Determine the tab index of a given node __for sort order purposes__.\n * @param {HTMLElement} node\n * @param {boolean} [isScope] True for a custom element with shadow root or slot that, by default,\n *  has tabIndex -1, but needs to be sorted by document order in order for its content to be\n *  inserted into the correct sort position.\n * @returns {number} Tab order (negative, 0, or positive number).\n */\nconst getSortOrderTabIndex = function (node, isScope) {\n  const tabIndex = getTabIndex(node);\n\n  if (tabIndex < 0 && isScope && !hasTabIndex(node)) {\n    return 0;\n  }\n\n  return tabIndex;\n};\n\nconst sortOrderedTabbables = function (a, b) {\n  return a.tabIndex === b.tabIndex\n    ? a.documentOrder - b.documentOrder\n    : a.tabIndex - b.tabIndex;\n};\n\nconst isInput = function (node) {\n  return node.tagName === 'INPUT';\n};\n\nconst isHiddenInput = function (node) {\n  return isInput(node) && node.type === 'hidden';\n};\n\nconst isDetailsWithSummary = function (node) {\n  const r =\n    node.tagName === 'DETAILS' &&\n    Array.prototype.slice\n      .apply(node.children)\n      .some((child) => child.tagName === 'SUMMARY');\n  return r;\n};\n\nconst getCheckedRadio = function (nodes, form) {\n  for (let i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\n\nconst isTabbableRadio = function (node) {\n  if (!node.name) {\n    return true;\n  }\n  const radioScope = node.form || getRootNode(node);\n  const queryRadios = function (name) {\n    return radioScope.querySelectorAll(\n      'input[type=\"radio\"][name=\"' + name + '\"]'\n    );\n  };\n\n  let radioSet;\n  if (\n    typeof window !== 'undefined' &&\n    typeof window.CSS !== 'undefined' &&\n    typeof window.CSS.escape === 'function'\n  ) {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error(\n        'Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s',\n        err.message\n      );\n      return false;\n    }\n  }\n\n  const checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\n\nconst isRadio = function (node) {\n  return isInput(node) && node.type === 'radio';\n};\n\nconst isNonTabbableRadio = function (node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\n// determines if a node is ultimately attached to the window's document\nconst isNodeAttached = function (node) {\n  // The root node is the shadow root if the node is in a shadow DOM; some document otherwise\n  //  (but NOT _the_ document; see second 'If' comment below for more).\n  // If rootNode is shadow root, it'll have a host, which is the element to which the shadow\n  //  is attached, and the one we need to check if it's in the document or not (because the\n  //  shadow, and all nodes it contains, is never considered in the document since shadows\n  //  behave like self-contained DOMs; but if the shadow's HOST, which is part of the document,\n  //  is hidden, or is not in the document itself but is detached, it will affect the shadow's\n  //  visibility, including all the nodes it contains). The host could be any normal node,\n  //  or a custom element (i.e. web component). Either way, that's the one that is considered\n  //  part of the document, not the shadow root, nor any of its children (i.e. the node being\n  //  tested).\n  // To further complicate things, we have to look all the way up until we find a shadow HOST\n  //  that is attached (or find none) because the node might be in nested shadows...\n  // If rootNode is not a shadow root, it won't have a host, and so rootNode should be the\n  //  document (per the docs) and while it's a Document-type object, that document does not\n  //  appear to be the same as the node's `ownerDocument` for some reason, so it's safer\n  //  to ignore the rootNode at this point, and use `node.ownerDocument`. Otherwise,\n  //  using `rootNode.contains(node)` will _always_ be true we'll get false-positives when\n  //  node is actually detached.\n  // NOTE: If `nodeRootHost` or `node` happens to be the `document` itself (which is possible\n  //  if a tabbable/focusable node was quickly added to the DOM, focused, and then removed\n  //  from the DOM as in https://github.com/focus-trap/focus-trap-react/issues/905), then\n  //  `ownerDocument` will be `null`, hence the optional chaining on it.\n  let nodeRoot = node && getRootNode(node);\n  let nodeRootHost = nodeRoot?.host;\n\n  // in some cases, a detached node will return itself as the root instead of a document or\n  //  shadow root object, in which case, we shouldn't try to look further up the host chain\n  let attached = false;\n  if (nodeRoot && nodeRoot !== node) {\n    attached = !!(\n      nodeRootHost?.ownerDocument?.contains(nodeRootHost) ||\n      node?.ownerDocument?.contains(node)\n    );\n\n    while (!attached && nodeRootHost) {\n      // since it's not attached and we have a root host, the node MUST be in a nested shadow DOM,\n      //  which means we need to get the host's host and check if that parent host is contained\n      //  in (i.e. attached to) the document\n      nodeRoot = getRootNode(nodeRootHost);\n      nodeRootHost = nodeRoot?.host;\n      attached = !!nodeRootHost?.ownerDocument?.contains(nodeRootHost);\n    }\n  }\n\n  return attached;\n};\n\nconst isZeroArea = function (node) {\n  const { width, height } = node.getBoundingClientRect();\n  return width === 0 && height === 0;\n};\nconst isHidden = function (node, { displayCheck, getShadowRoot }) {\n  // NOTE: visibility will be `undefined` if node is detached from the document\n  //  (see notes about this further down), which means we will consider it visible\n  //  (this is legacy behavior from a very long way back)\n  // NOTE: we check this regardless of `displayCheck=\"none\"` because this is a\n  //  _visibility_ check, not a _display_ check\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n\n  const isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  const nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n\n  if (\n    !displayCheck ||\n    displayCheck === 'full' ||\n    displayCheck === 'legacy-full'\n  ) {\n    if (typeof getShadowRoot === 'function') {\n      // figure out if we should consider the node to be in an undisclosed shadow and use the\n      //  'non-zero-area' fallback\n      const originalNode = node;\n      while (node) {\n        const parentElement = node.parentElement;\n        const rootNode = getRootNode(node);\n        if (\n          parentElement &&\n          !parentElement.shadowRoot &&\n          getShadowRoot(parentElement) === true // check if there's an undisclosed shadow\n        ) {\n          // node has an undisclosed shadow which means we can only treat it as a black box, so we\n          //  fall back to a non-zero-area test\n          return isZeroArea(node);\n        } else if (node.assignedSlot) {\n          // iterate up slot\n          node = node.assignedSlot;\n        } else if (!parentElement && rootNode !== node.ownerDocument) {\n          // cross shadow boundary\n          node = rootNode.host;\n        } else {\n          // iterate up normal dom\n          node = parentElement;\n        }\n      }\n\n      node = originalNode;\n    }\n    // else, `getShadowRoot` might be true, but all that does is enable shadow DOM support\n    //  (i.e. it does not also presume that all nodes might have undisclosed shadows); or\n    //  it might be a falsy value, which means shadow DOM support is disabled\n\n    // Since we didn't find it sitting in an undisclosed shadow (or shadows are disabled)\n    //  now we can just test to see if it would normally be visible or not, provided it's\n    //  attached to the main document.\n    // NOTE: We must consider case where node is inside a shadow DOM and given directly to\n    //  `isTabbable()` or `isFocusable()` -- regardless of `getShadowRoot` option setting.\n\n    if (isNodeAttached(node)) {\n      // this works wherever the node is: if there's at least one client rect, it's\n      //  somehow displayed; it also covers the CSS 'display: contents' case where the\n      //  node itself is hidden in place of its contents; and there's no need to search\n      //  up the hierarchy either\n      return !node.getClientRects().length;\n    }\n\n    // Else, the node isn't attached to the document, which means the `getClientRects()`\n    //  API will __always__ return zero rects (this can happen, for example, if React\n    //  is used to render nodes onto a detached tree, as confirmed in this thread:\n    //  https://github.com/facebook/react/issues/9117#issuecomment-284228870)\n    //\n    // It also means that even window.getComputedStyle(node).display will return `undefined`\n    //  because styles are only computed for nodes that are in the document.\n    //\n    // NOTE: THIS HAS BEEN THE CASE FOR YEARS. It is not new, nor is it caused by tabbable\n    //  somehow. Though it was never stated officially, anyone who has ever used tabbable\n    //  APIs on nodes in detached containers has actually implicitly used tabbable in what\n    //  was later (as of v5.2.0 on Apr 9, 2021) called `displayCheck=\"none\"` mode -- essentially\n    //  considering __everything__ to be visible because of the innability to determine styles.\n    //\n    // v6.0.0: As of this major release, the default 'full' option __no longer treats detached\n    //  nodes as visible with the 'none' fallback.__\n    if (displayCheck !== 'legacy-full') {\n      return true; // hidden\n    }\n    // else, fallback to 'none' mode and consider the node visible\n  } else if (displayCheck === 'non-zero-area') {\n    // NOTE: Even though this tests that the node's client rect is non-zero to determine\n    //  whether it's displayed, and that a detached node will __always__ have a zero-area\n    //  client rect, we don't special-case for whether the node is attached or not. In\n    //  this mode, we do want to consider nodes that have a zero area to be hidden at all\n    //  times, and that includes attached or not.\n    return isZeroArea(node);\n  }\n\n  // visible, as far as we can tell, or per current `displayCheck=none` mode, we assume\n  //  it's visible\n  return false;\n};\n\n// form fields (nested) inside a disabled fieldset are not focusable/tabbable\n//  unless they are in the _first_ <legend> element of the top-most disabled\n//  fieldset\nconst isDisabledFromFieldset = function (node) {\n  if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName)) {\n    let parentNode = node.parentElement;\n    // check if `node` is contained in a disabled <fieldset>\n    while (parentNode) {\n      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {\n        // look for the first <legend> among the children of the disabled <fieldset>\n        for (let i = 0; i < parentNode.children.length; i++) {\n          const child = parentNode.children.item(i);\n          // when the first <legend> (in document order) is found\n          if (child.tagName === 'LEGEND') {\n            // if its parent <fieldset> is not nested in another disabled <fieldset>,\n            // return whether `node` is a descendant of its first <legend>\n            return matches.call(parentNode, 'fieldset[disabled] *')\n              ? true\n              : !child.contains(node);\n          }\n        }\n        // the disabled <fieldset> containing `node` has no <legend>\n        return true;\n      }\n      parentNode = parentNode.parentElement;\n    }\n  }\n\n  // else, node's tabbable/focusable state should not be affected by a fieldset's\n  //  enabled/disabled state\n  return false;\n};\n\nconst isNodeMatchingSelectorFocusable = function (options, node) {\n  if (\n    node.disabled ||\n    // we must do an inert look up to filter out any elements inside an inert ancestor\n    //  because we're limited in the type of selectors we can use in JSDom (see related\n    //  note related to `candidateSelectors`)\n    isInert(node) ||\n    isHiddenInput(node) ||\n    isHidden(node, options) ||\n    // For a details element with a summary, the summary element gets the focus\n    isDetailsWithSummary(node) ||\n    isDisabledFromFieldset(node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isNodeMatchingSelectorTabbable = function (options, node) {\n  if (\n    isNonTabbableRadio(node) ||\n    getTabIndex(node) < 0 ||\n    !isNodeMatchingSelectorFocusable(options, node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isValidShadowRootTabbable = function (shadowHostNode) {\n  const tabIndex = parseInt(shadowHostNode.getAttribute('tabindex'), 10);\n  if (isNaN(tabIndex) || tabIndex >= 0) {\n    return true;\n  }\n  // If a custom element has an explicit negative tabindex,\n  // browsers will not allow tab targeting said element's children.\n  return false;\n};\n\n/**\n * @param {Array.<Element|CandidateScope>} candidates\n * @returns Element[]\n */\nconst sortByOrder = function (candidates) {\n  const regularTabbables = [];\n  const orderedTabbables = [];\n  candidates.forEach(function (item, i) {\n    const isScope = !!item.scopeParent;\n    const element = isScope ? item.scopeParent : item;\n    const candidateTabindex = getSortOrderTabIndex(element, isScope);\n    const elements = isScope ? sortByOrder(item.candidates) : element;\n    if (candidateTabindex === 0) {\n      isScope\n        ? regularTabbables.push(...elements)\n        : regularTabbables.push(element);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        item: item,\n        isScope: isScope,\n        content: elements,\n      });\n    }\n  });\n\n  return orderedTabbables\n    .sort(sortOrderedTabbables)\n    .reduce((acc, sortable) => {\n      sortable.isScope\n        ? acc.push(...sortable.content)\n        : acc.push(sortable.content);\n      return acc;\n    }, [])\n    .concat(regularTabbables);\n};\n\nconst tabbable = function (container, options) {\n  options = options || {};\n\n  let candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively(\n      [container],\n      options.includeContainer,\n      {\n        filter: isNodeMatchingSelectorTabbable.bind(null, options),\n        flatten: false,\n        getShadowRoot: options.getShadowRoot,\n        shadowRootFilter: isValidShadowRootTabbable,\n      }\n    );\n  } else {\n    candidates = getCandidates(\n      container,\n      options.includeContainer,\n      isNodeMatchingSelectorTabbable.bind(null, options)\n    );\n  }\n  return sortByOrder(candidates);\n};\n\nconst focusable = function (container, options) {\n  options = options || {};\n\n  let candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively(\n      [container],\n      options.includeContainer,\n      {\n        filter: isNodeMatchingSelectorFocusable.bind(null, options),\n        flatten: true,\n        getShadowRoot: options.getShadowRoot,\n      }\n    );\n  } else {\n    candidates = getCandidates(\n      container,\n      options.includeContainer,\n      isNodeMatchingSelectorFocusable.bind(null, options)\n    );\n  }\n\n  return candidates;\n};\n\nconst isTabbable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorTabbable(options, node);\n};\n\nconst focusableCandidateSelector = /* #__PURE__ */ candidateSelectors\n  .concat('iframe')\n  .join(',');\n\nconst isFocusable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { tabbable, focusable, isTabbable, isFocusable, getTabIndex };\n", "import{autoUpdate as Z,flip as ee,inner as te,offset as ne,shift as le,size as re,useFloating as oe,useInnerOffset as ie,useInteractions as se}from\"@floating-ui/react\";import*as j from\"react\";import{createContext as _,useCallback as ae,useContext as b,useMemo as v,useRef as ue,useState as T}from\"react\";import{useDisposables as pe}from'../hooks/use-disposables.js';import{useEvent as z}from'../hooks/use-event.js';import{useIsoMorphicEffect as E}from'../hooks/use-iso-morphic-effect.js';let y=_({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});y.displayName=\"FloatingContext\";let $=_(null);$.displayName=\"PlacementContext\";function ye(){return b(y).setReference}function xe(){return b(y).getReferenceProps}function Fe(){let{getFloatingProps:e,slot:t}=b(y);return ae((...n)=>Object.assign({},e(...n),{\"data-anchor\":t.anchor}),[e,t])}function be(e){let t=b($),n=v(()=>e,[JSON.stringify(e,typeof HTMLElement!=\"undefined\"?(s,a)=>a instanceof HTMLElement?a.outerHTML:a:void 0)]);E(()=>{t==null||t(n!=null?n:null)},[t,n]);let l=b(y);return v(()=>[l.setFloating,l.styles],[l.setFloating,l.styles])}let q=4;function Me({children:e,enabled:t=!0}){let[n,l]=T(null),[s,a]=T(0),M=ue(null),[m,o]=T(null);fe(m);let r=t&&n!==null&&m!==null,{to:x=\"bottom\",gap:I=0,offset:R=0,padding:p=0,inner:d}=ce(n,m),[i,u=\"center\"]=x.split(\" \");E(()=>{r&&a(0)},[r]);let{refs:F,floatingStyles:w,context:f}=oe({open:r,placement:i===\"selection\"?u===\"center\"?\"bottom\":`bottom-${u}`:u===\"center\"?`${i}`:`${i}-${u}`,strategy:\"fixed\",transform:!1,middleware:[ne({mainAxis:i===\"selection\"?0:I,crossAxis:R}),le({padding:p}),i!==\"selection\"&&ee(),i===\"selection\"&&d?te({...d,padding:p,overflowRef:M,offset:s,minItemsVisible:q,referenceOverflowThreshold:p,onFallbackChange(P){var k,N;if(!P)return;let c=f.elements.floating;if(!c)return;let C=parseFloat(getComputedStyle(c).scrollPaddingBottom)||0,H=Math.min(q,c.childElementCount),B=0,O=0;for(let g of(N=(k=f.elements.floating)==null?void 0:k.childNodes)!=null?N:[])if(g instanceof HTMLElement){let h=g.offsetTop,U=h+g.clientHeight+C,S=c.scrollTop,W=S+c.clientHeight;if(h>=S&&U<=W)H--;else{O=Math.max(0,Math.min(U,W)-Math.max(h,S)),B=g.clientHeight;break}}H>=1&&a(g=>{let h=B*H-O+C;return g>=h?g:h})}}):null,re({apply({availableWidth:P,availableHeight:c,elements:C}){Object.assign(C.floating.style,{maxWidth:`${P-p}px`,maxHeight:`${c-p}px`})}})].filter(Boolean),whileElementsMounted:Z}),[A=i,V=u]=f.placement.split(\"-\");i===\"selection\"&&(A=\"selection\");let G=v(()=>({anchor:[A,V].filter(Boolean).join(\" \")}),[A,V]),K=ie(f,{overflowRef:M,onChange:a}),{getReferenceProps:Q,getFloatingProps:X}=se([K]),Y=z(P=>{o(P),F.setFloating(P)});return j.createElement($.Provider,{value:l},j.createElement(y.Provider,{value:{setFloating:Y,setReference:F.setReference,styles:r?w:{},getReferenceProps:Q,getFloatingProps:X,slot:G}},e))}function fe(e){E(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=e.style.maxHeight;parseFloat(n)!==parseInt(n)&&(e.style.maxHeight=`${Math.ceil(parseFloat(n))}px`)});return t.observe(e,{attributes:!0,attributeFilter:[\"style\"]}),()=>{t.disconnect()}},[e])}function ce(e,t){let n=L(e==null?void 0:e.gap,t),l=L(e==null?void 0:e.offset,t),s=L(e==null?void 0:e.padding,t);return{...e,gap:n,offset:l,padding:s}}function L(e,t,n=void 0){let l=pe(),s=z((o,r)=>{if(o==null)return[n,null];if(typeof o==\"number\")return[o,null];if(typeof o==\"string\"){if(!r)return[n,null];let x=J(o,r);return[x,I=>{let R=D(o);{let p=R.map(d=>window.getComputedStyle(r).getPropertyValue(d));l.requestAnimationFrame(function d(){l.nextFrame(d);let i=!1;for(let[F,w]of R.entries()){let f=window.getComputedStyle(r).getPropertyValue(w);if(p[F]!==f){p[F]=f,i=!0;break}}if(!i)return;let u=J(o,r);x!==u&&(I(u),x=u)})}return l.dispose}]}return[n,null]}),a=v(()=>s(e,t)[0],[e,t]),[M=a,m]=T();return E(()=>{let[o,r]=s(e,t);if(m(o),!!r)return r(m)},[e,t]),M}function D(e){let t=/var\\((.*)\\)/.exec(e);if(t){let n=t[1].indexOf(\",\");if(n===-1)return[t[1]];let l=t[1].slice(0,n).trim(),s=t[1].slice(n+1).trim();return s?[l,...D(s)]:[l]}return[]}function J(e,t){let n=document.createElement(\"div\");t.appendChild(n),n.style.setProperty(\"margin-top\",\"0px\",\"important\"),n.style.setProperty(\"margin-top\",e,\"important\");let l=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),l}export{Me as FloatingProvider,be as useFloatingPanel,Fe as useFloatingPanelProps,ye as useFloatingReference,xe as useFloatingReferenceProps};\n", "import t,{createContext as l,useContext as p}from\"react\";let n=l(null);n.displayName=\"OpenClosedContext\";var d=(e=>(e[e.Open=1]=\"Open\",e[e.Closed=2]=\"Closed\",e[e.Closing=4]=\"Closing\",e[e.Opening=8]=\"Opening\",e))(d||{});function u(){return p(n)}function s({value:o,children:r}){return t.createElement(n.Provider,{value:o},r)}export{s as OpenClosedProvider,d as State,u as useOpenClosed};\n", "function t(n){function e(){document.readyState!==\"loading\"&&(n(),document.removeEventListener(\"DOMContentLoaded\",e))}typeof window!=\"undefined\"&&typeof document!=\"undefined\"&&(document.addEventListener(\"DOMContentLoaded\",e),e())}export{t as onDocumentReady};\n", "import{onDocumentReady as d}from'./document-ready.js';let t=[];d(()=>{function e(n){n.target instanceof HTMLElement&&n.target!==document.body&&t[0]!==n.target&&(t.unshift(n.target),t=t.filter(r=>r!=null&&r.isConnected),t.splice(10))}window.addEventListener(\"click\",e,{capture:!0}),window.addEventListener(\"mousedown\",e,{capture:!0}),window.addEventListener(\"focus\",e,{capture:!0}),document.body.addEventListener(\"click\",e,{capture:!0}),document.body.addEventListener(\"mousedown\",e,{capture:!0}),document.body.addEventListener(\"focus\",e,{capture:!0})});export{t as history};\n", "function u(l){throw new Error(\"Unexpected object: \"+l)}var c=(i=>(i[i.First=0]=\"First\",i[i.Previous=1]=\"Previous\",i[i.Next=2]=\"Next\",i[i.Last=3]=\"Last\",i[i.Specific=4]=\"Specific\",i[i.Nothing=5]=\"Nothing\",i))(c||{});function f(l,n){let t=n.resolveItems();if(t.length<=0)return null;let r=n.resolveActiveIndex(),s=r!=null?r:-1;switch(l.focus){case 0:{for(let e=0;e<t.length;++e)if(!n.resolveDisabled(t[e],e,t))return e;return r}case 1:{s===-1&&(s=t.length);for(let e=s-1;e>=0;--e)if(!n.resolveDisabled(t[e],e,t))return e;return r}case 2:{for(let e=s+1;e<t.length;++e)if(!n.resolveDisabled(t[e],e,t))return e;return r}case 3:{for(let e=t.length-1;e>=0;--e)if(!n.resolveDisabled(t[e],e,t))return e;return r}case 4:{for(let e=0;e<t.length;++e)if(n.resolveId(t[e],e,t)===l.id)return e;return r}case 5:return null;default:u(l)}}export{c as Focus,f as calculateActiveIndex};\n", "\"use client\";import{useFocusRing as m}from\"@react-aria/focus\";import{useHover as c}from\"@react-aria/interactions\";import{Fragment as A,useMemo as D}from\"react\";import{useActivePress as f}from'../../hooks/use-active-press.js';import{forwardRefWithAs as v,mergeProps as I,render as P}from'../../utils/render.js';let y=A;function E(a,o){let{...n}=a,{isFocusVisible:e,focusProps:p}=m(),{isHovered:t,hoverProps:s}=c({isDisabled:!1}),{pressed:r,pressProps:i}=f(),T=I({ref:o},p,s,i),l=D(()=>({hover:t,focus:e,active:r}),[t,e,r]);return P({ourProps:T,theirProps:n,slot:l,defaultTag:y,name:\"DataInteractive\"})}let C=v(E);export{C as DataInteractive};\n", "\"use client\";import s,{createContext as _e,createRef as Re,useCallback as q,useContext as z,useEffect as H,useMemo as P,useReducer as Ce,useRef as Q,useState as Oe}from\"react\";import{useDocumentOverflowLockedEffect as ve}from'../../hooks/document-overflow/use-document-overflow.js';import{useEvent as _}from'../../hooks/use-event.js';import{useEventListener as Fe}from'../../hooks/use-event-listener.js';import{useId as R}from'../../hooks/use-id.js';import{useInert as Z}from'../../hooks/use-inert.js';import{useIsTouchDevice as be}from'../../hooks/use-is-touch-device.js';import{useOutsideClick as Le}from'../../hooks/use-outside-click.js';import{useOwnerDocument as xe}from'../../hooks/use-owner.js';import{useRootContainers as he}from'../../hooks/use-root-containers.js';import{useServerHandoffComplete as Se}from'../../hooks/use-server-handoff-complete.js';import{useSyncRefs as C}from'../../hooks/use-sync-refs.js';import{HoistFormFields as ke}from'../../internal/form-fields.js';import{State as k,useOpenClosed as Ie}from'../../internal/open-closed.js';import{ForcePortalRoot as B}from'../../internal/portal-force-root.js';import{StackMessage as ee,StackProvider as Me}from'../../internal/stack-context.js';import{isDisabledReactIssue7711 as Ge}from'../../utils/bugs.js';import{match as U}from'../../utils/match.js';import{RenderFeatures as te,forwardRefWithAs as O,render as v}from'../../utils/render.js';import{Description as oe,useDescriptions as we}from'../description/description.js';import{FocusTrap as He,FocusTrapFeatures as E}from'../focus-trap/focus-trap.js';import{Keys as Be}from'../keyboard.js';import{Portal as N,useNestedPortals as Ue}from'../portal/portal.js';var Ne=(r=>(r[r.Open=0]=\"Open\",r[r.Closed=1]=\"Closed\",r))(Ne||{}),We=(e=>(e[e.SetTitleId=0]=\"SetTitleId\",e))(We||{});let Ye={[0](t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},I=_e(null);I.displayName=\"DialogContext\";function F(t){let e=z(I);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,F),r}return e}function $e(t,e,r=()=>[document.body]){ve(t,e,i=>{var n;return{containers:[...(n=i.containers)!=null?n:[],r]}})}function je(t,e){return U(e.type,Ye,t,e)}let Je=\"div\",Ke=te.RenderStrategy|te.Static;function Ve(t,e){let r=R(),{id:i=`headlessui-dialog-${r}`,open:n,onClose:l,initialFocus:p,role:a=\"dialog\",autoFocus:T=!0,__demoMode:m=!1,...M}=t,[f,W]=Oe(0),Y=Q(!1);a=function(){return a===\"dialog\"||a===\"alertdialog\"?a:(Y.current||(Y.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \\`dialog\\` and and \\`alertdialog\\` are supported. Using \\`dialog\\` instead.`)),\"dialog\")}();let A=Ie();n===void 0&&A!==null&&(n=(A&k.Open)===k.Open);let c=Q(null),re=C(c,e),g=xe(c),$=t.hasOwnProperty(\"open\")||A!==null,j=t.hasOwnProperty(\"onClose\");if(!$&&!j)throw new Error(\"You have to provide an `open` and an `onClose` prop to the `Dialog` component.\");if(!$)throw new Error(\"You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.\");if(!j)throw new Error(\"You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.\");if(typeof n!=\"boolean\")throw new Error(`You provided an \\`open\\` prop to the \\`Dialog\\`, but the value is not a boolean. Received: ${n}`);if(typeof l!=\"function\")throw new Error(`You provided an \\`onClose\\` prop to the \\`Dialog\\`, but the value is not a function. Received: ${l}`);let d=n?0:1,[b,ne]=Ce(je,{titleId:null,descriptionId:null,panelRef:Re()}),y=_(()=>l(!1)),J=_(o=>ne({type:0,id:o})),L=Se()?m?!1:d===0:!1,x=f>1,K=z(I)!==null,[le,ae]=Ue(),ie={get current(){var o;return(o=b.panelRef.current)!=null?o:c.current}},{resolveContainers:G,mainTreeNodeRef:h,MainTreeNode:se}=he({portals:le,defaultContainers:[ie]}),pe=x?\"parent\":\"leaf\",V=A!==null?(A&k.Closing)===k.Closing:!1,de=(()=>K||V?!1:L)(),ue=q(()=>{var o,D;return(D=Array.from((o=g==null?void 0:g.querySelectorAll(\"body > *\"))!=null?o:[]).find(u=>u.id===\"headlessui-portal-root\"?!1:u.contains(h.current)&&u instanceof HTMLElement))!=null?D:null},[h]);Z(ue,de);let fe=(()=>x?!0:L)(),ge=q(()=>{var o,D;return(D=Array.from((o=g==null?void 0:g.querySelectorAll(\"[data-headlessui-portal]\"))!=null?o:[]).find(u=>u.contains(h.current)&&u instanceof HTMLElement))!=null?D:null},[h]);Z(ge,fe);let Te=(()=>!(!L||x))();Le(G,y,Te);let ce=(()=>!(x||d!==0))();Fe(g==null?void 0:g.defaultView,\"keydown\",o=>{ce&&(o.defaultPrevented||o.key===Be.Escape&&(o.preventDefault(),o.stopPropagation(),y()))});let De=(()=>!(V||d!==0||K))();$e(g,De,G),H(()=>{if(d!==0||!c.current)return;let o=new ResizeObserver(D=>{for(let u of D){let S=u.target.getBoundingClientRect();S.x===0&&S.y===0&&S.width===0&&S.height===0&&y()}});return o.observe(c.current),()=>o.disconnect()},[d,c,y]);let[me,ye]=we(),Pe=P(()=>[{dialogState:d,close:y,setTitleId:J},b],[d,b,y,J]),X=P(()=>({open:d===0}),[d]),Ee={ref:re,id:i,role:a,tabIndex:-1,\"aria-modal\":d===0?!0:void 0,\"aria-labelledby\":b.titleId,\"aria-describedby\":me},Ae=!be(),w=L?U(pe,{parent:E.RestoreFocus,leaf:E.All&~E.FocusLock}):E.None;return T&&(w|=E.AutoFocus),Ae||(w&=~E.InitialFocus),s.createElement(Me,{type:\"Dialog\",enabled:d===0,element:c,onUpdate:_((o,D)=>{D===\"Dialog\"&&U(o,{[ee.Add]:()=>W(u=>u+1),[ee.Remove]:()=>W(u=>u-1)})})},s.createElement(B,{force:!0},s.createElement(N,null,s.createElement(I.Provider,{value:Pe},s.createElement(N.Group,{target:c},s.createElement(B,{force:!1},s.createElement(ye,{slot:X,name:\"Dialog.Description\"},s.createElement(ae,null,s.createElement(He,{initialFocus:p,initialFocusFallback:c,containers:G,features:w},v({ourProps:Ee,theirProps:M,slot:X,defaultTag:Je,features:Ke,visible:d===0,name:\"Dialog\"}))))))))),s.createElement(ke,null,s.createElement(se,null)))}let Xe=\"div\";function qe(t,e){let r=R(),{id:i=`headlessui-dialog-overlay-${r}`,...n}=t,[{dialogState:l,close:p}]=F(\"Dialog.Overlay\"),a=C(e),T=_(f=>{if(f.target===f.currentTarget){if(Ge(f.currentTarget))return f.preventDefault();f.preventDefault(),f.stopPropagation(),p()}}),m=P(()=>({open:l===0}),[l]);return v({ourProps:{ref:a,id:i,\"aria-hidden\":!0,onClick:T},theirProps:n,slot:m,defaultTag:Xe,name:\"Dialog.Overlay\"})}let ze=\"div\";function Qe(t,e){let r=R(),{id:i=`headlessui-dialog-backdrop-${r}`,...n}=t,[{dialogState:l},p]=F(\"Dialog.Backdrop\"),a=C(e);H(()=>{if(p.panelRef.current===null)throw new Error(\"A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.\")},[p.panelRef]);let T=P(()=>({open:l===0}),[l]);return s.createElement(B,{force:!0},s.createElement(N,null,v({ourProps:{ref:a,id:i,\"aria-hidden\":!0},theirProps:n,slot:T,defaultTag:ze,name:\"Dialog.Backdrop\"})))}let Ze=\"div\";function et(t,e){let r=R(),{id:i=`headlessui-dialog-panel-${r}`,...n}=t,[{dialogState:l},p]=F(\"Dialog.Panel\"),a=C(e,p.panelRef),T=P(()=>({open:l===0}),[l]),m=_(f=>{f.stopPropagation()});return v({ourProps:{ref:a,id:i,onClick:m},theirProps:n,slot:T,defaultTag:Ze,name:\"Dialog.Panel\"})}let tt=\"h2\";function ot(t,e){let r=R(),{id:i=`headlessui-dialog-title-${r}`,...n}=t,[{dialogState:l,setTitleId:p}]=F(\"Dialog.Title\"),a=C(e);H(()=>(p(i),()=>p(null)),[i,p]);let T=P(()=>({open:l===0}),[l]);return v({ourProps:{ref:a,id:i},theirProps:n,slot:T,defaultTag:tt,name:\"Dialog.Title\"})}let rt=O(Ve),nt=O(Qe),lt=O(et),at=O(qe),it=O(ot),St=oe,kt=Object.assign(rt,{Backdrop:nt,Panel:lt,Overlay:at,Title:it,Description:oe});export{kt as Dialog,nt as DialogBackdrop,St as DialogDescription,at as DialogOverlay,lt as DialogPanel,it as DialogTitle};\n", "import{useEffect as d}from\"react\";import{useLatestValue as s}from'./use-latest-value.js';function E(n,e,a,t){let i=s(a);d(()=>{n=n!=null?n:window;function r(o){i.current(o)}return n.addEventListener(e,r,t),()=>n.removeEventListener(e,r,t)},[n,e,t])}export{E as useEventListener};\n", "import{useIsoMorphicEffect as s}from'./use-iso-morphic-effect.js';let u=new Map,t=new Map;function b(r,l=!0){s(()=>{var o;if(!l)return;let e=typeof r==\"function\"?r():r.current;if(!e)return;function a(){var d;if(!e)return;let i=(d=t.get(e))!=null?d:1;if(i===1?t.delete(e):t.set(e,i-1),i!==1)return;let n=u.get(e);n&&(n[\"aria-hidden\"]===null?e.removeAttribute(\"aria-hidden\"):e.setAttribute(\"aria-hidden\",n[\"aria-hidden\"]),e.inert=n.inert,u.delete(e))}let f=(o=t.get(e))!=null?o:0;return t.set(e,f+1),f!==0||(u.set(e,{\"aria-hidden\":e.getAttribute(\"aria-hidden\"),inert:e.inert}),e.setAttribute(\"aria-hidden\",\"true\"),e.inert=!0),a},[r,l])}export{b as useInert};\n", "import m,{useMemo as d,useRef as M}from\"react\";import{Hidden as H,HiddenFeatures as T}from'../internal/hidden.js';import{useEvent as E}from'./use-event.js';import{useOwnerDocument as b}from'./use-owner.js';function j({defaultContainers:o=[],portals:r,mainTreeNodeRef:u}={}){var f;let t=M((f=u==null?void 0:u.current)!=null?f:null),l=b(t),c=E(()=>{var i,s,a;let n=[];for(let e of o)e!==null&&(e instanceof HTMLElement?n.push(e):\"current\"in e&&e.current instanceof HTMLElement&&n.push(e.current));if(r!=null&&r.current)for(let e of r.current)n.push(e);for(let e of(i=l==null?void 0:l.querySelectorAll(\"html > *, body > *\"))!=null?i:[])e!==document.body&&e!==document.head&&e instanceof HTMLElement&&e.id!==\"headlessui-portal-root\"&&(e.contains(t.current)||e.contains((a=(s=t.current)==null?void 0:s.getRootNode())==null?void 0:a.host)||n.some(L=>e.contains(L))||n.push(e));return n});return{resolveContainers:c,contains:E(n=>c().some(i=>i.contains(n))),mainTreeNodeRef:t,MainTreeNode:d(()=>function(){return u!=null?null:m.createElement(H,{features:T.Hidden,ref:t})},[t,u])}}function y(){let o=M(null);return{mainTreeNodeRef:o,MainTreeNode:d(()=>function(){return m.createElement(H,{features:T.Hidden,ref:o})},[o])}}export{y as useMainTreeNode,j as useRootContainers};\n", "import t,{createContext as r,useContext as c}from\"react\";let e=r(!1);function a(){return c(e)}function l(o){return t.createElement(e.Provider,{value:o.force},o.children)}export{l as ForcePortalRoot,a as usePortalRoot};\n", "import d,{createContext as c,useContext as m}from\"react\";import{useEvent as p}from'../hooks/use-event.js';import{useIsoMorphicEffect as f}from'../hooks/use-iso-morphic-effect.js';let a=c(()=>{});a.displayName=\"StackContext\";var s=(e=>(e[e.Add=0]=\"Add\",e[e.Remove=1]=\"Remove\",e))(s||{});function x(){return m(a)}function b({children:i,onUpdate:r,type:e,element:n,enabled:u}){let l=x(),o=p((...t)=>{r==null||r(...t),l(...t)});return f(()=>{let t=u===void 0||u===!0;return t&&o(0,e,n),()=>{t&&o(1,e,n)}},[o,e,n,u]),d.createElement(a.Provider,{value:o},i)}export{s as StackMessage,b as StackProvider,x as useStackContext};\n", "\"use client\";import d,{useRef as L}from\"react\";import{useDisposables as I}from'../../hooks/use-disposables.js';import{useEvent as A}from'../../hooks/use-event.js';import{useEventListener as k}from'../../hooks/use-event-listener.js';import{useIsMounted as g}from'../../hooks/use-is-mounted.js';import{useOnUnmount as G}from'../../hooks/use-on-unmount.js';import{useOwnerDocument as W}from'../../hooks/use-owner.js';import{useServerHandoffComplete as K}from'../../hooks/use-server-handoff-complete.js';import{useSyncRefs as V}from'../../hooks/use-sync-refs.js';import{Direction as M,useTabDirection as q}from'../../hooks/use-tab-direction.js';import{useWatch as y}from'../../hooks/use-watch.js';import{Hidden as F,HiddenFeatures as P}from'../../internal/hidden.js';import{history as R}from'../../utils/active-element-history.js';import{Focus as T,FocusResult as O,focusElement as f,focusIn as m}from'../../utils/focus-management.js';import{match as C}from'../../utils/match.js';import{microTask as _}from'../../utils/micro-task.js';import{forwardRefWithAs as J,render as X}from'../../utils/render.js';function S(t){if(!t)return new Set;if(typeof t==\"function\")return new Set(t());let o=new Set;for(let e of t.current)e.current instanceof HTMLElement&&o.add(e.current);return o}let z=\"div\";var h=(r=>(r[r.None=1]=\"None\",r[r.InitialFocus=2]=\"InitialFocus\",r[r.TabLock=4]=\"TabLock\",r[r.FocusLock=8]=\"FocusLock\",r[r.RestoreFocus=16]=\"RestoreFocus\",r[r.AutoFocus=32]=\"AutoFocus\",r[r.All=30]=\"All\",r))(h||{});function Q(t,o){let e=L(null),n=V(e,o),{initialFocus:c,initialFocusFallback:p,containers:u,features:r=30,...l}=t;K()||(r=1);let s=W(e);$({ownerDocument:s},!!(r&16));let U=D({ownerDocument:s,container:e,initialFocus:c,initialFocusFallback:p},r);w({ownerDocument:s,container:e,containers:u,previousActiveElement:U},!!(r&8));let b=q(),v=A(a=>{let i=e.current;if(!i)return;(N=>N())(()=>{C(b.current,{[M.Forwards]:()=>{m(i,T.First,{skipElements:[a.relatedTarget,p]})},[M.Backwards]:()=>{m(i,T.Last,{skipElements:[a.relatedTarget,p]})}})})}),B=I(),H=L(!1),x={ref:n,onKeyDown(a){a.key==\"Tab\"&&(H.current=!0,B.requestAnimationFrame(()=>{H.current=!1}))},onBlur(a){if(!(r&8))return;let i=S(u);e.current instanceof HTMLElement&&i.add(e.current);let E=a.relatedTarget;E instanceof HTMLElement&&E.dataset.headlessuiFocusGuard!==\"true\"&&(j(i,E)||(H.current?m(e.current,C(b.current,{[M.Forwards]:()=>T.Next,[M.Backwards]:()=>T.Previous})|T.WrapAround,{relativeTo:a.target}):a.target instanceof HTMLElement&&f(a.target)))}};return d.createElement(d.Fragment,null,!!(r&4)&&d.createElement(F,{as:\"button\",type:\"button\",\"data-headlessui-focus-guard\":!0,onFocus:v,features:P.Focusable}),X({ourProps:x,theirProps:l,defaultTag:z,name:\"FocusTrap\"}),!!(r&4)&&d.createElement(F,{as:\"button\",type:\"button\",\"data-headlessui-focus-guard\":!0,onFocus:v,features:P.Focusable}))}let Y=J(Q),Le=Object.assign(Y,{features:h});function Z(t=!0){let o=L(R.slice());return y(([e],[n])=>{n===!0&&e===!1&&_(()=>{o.current.splice(0)}),n===!1&&e===!0&&(o.current=R.slice())},[t,R,o]),A(()=>{var e;return(e=o.current.find(n=>n!=null&&n.isConnected))!=null?e:null})}function $({ownerDocument:t},o){let e=Z(o);y(()=>{o||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&f(e())},[o]),G(()=>{o&&f(e())})}function D({ownerDocument:t,container:o,initialFocus:e,initialFocusFallback:n},c){let p=!!(c&2),u=L(null),r=g();return y(()=>{if(!p){n!=null&&n.current&&f(n.current);return}let l=o.current;l&&_(()=>{if(!r.current)return;let s=t==null?void 0:t.activeElement;if(e!=null&&e.current){if((e==null?void 0:e.current)===s){u.current=s;return}}else if(l.contains(s)){u.current=s;return}if(e!=null&&e.current)f(e.current);else{if(c&32){if(m(l,T.First|T.AutoFocus)!==O.Error)return}else if(m(l,T.First)!==O.Error)return;if(n!=null&&n.current&&(f(n.current),(t==null?void 0:t.activeElement)===n.current))return;console.warn(\"There are no focusable elements inside the <FocusTrap />\")}u.current=t==null?void 0:t.activeElement})},[n,p,c]),u}function w({ownerDocument:t,container:o,containers:e,previousActiveElement:n},c){let p=g();k(t==null?void 0:t.defaultView,\"focus\",u=>{if(!c||!p.current)return;let r=S(e);o.current instanceof HTMLElement&&r.add(o.current);let l=n.current;if(!l)return;let s=u.target;s&&s instanceof HTMLElement?j(r,s)?(n.current=s,f(s)):(u.preventDefault(),u.stopPropagation(),f(l)):f(n.current)},!0)}function j(t,o){for(let e of t)if(e.contains(o))return!0;return!1}export{Le as FocusTrap,h as FocusTrapFeatures};\n", "import{useRef as r}from\"react\";import{useIsoMorphicEffect as t}from'./use-iso-morphic-effect.js';function f(){let e=r(!1);return t(()=>(e.current=!0,()=>{e.current=!1}),[]),e}export{f as useIsMounted};\n", "import{useEffect as u,useRef as n}from\"react\";import{microTask as o}from'../utils/micro-task.js';import{useEvent as f}from'./use-event.js';function c(t){let r=f(t),e=n(!1);u(()=>(e.current=!1,()=>{e.current=!0,o(()=>{e.current&&r()})}),[r])}export{c as useOnUnmount};\n", "import{useRef as t}from\"react\";import{useWindowEvent as a}from'./use-window-event.js';var s=(r=>(r[r.Forwards=0]=\"Forwards\",r[r.Backwards=1]=\"Backwards\",r))(s||{});function n(){let e=t(0);return a(\"keydown\",o=>{o.key===\"Tab\"&&(e.current=o.shiftKey?1:0)},!0),e}export{s as Direction,n as useTabDirection};\n", "\"use client\";import P,{Fragment as T,createContext as m,useContext as s,useEffect as d,useMemo as y,useRef as g,useState as R}from\"react\";import{createPortal as M}from\"react-dom\";import{useEvent as E}from'../../hooks/use-event.js';import{useIsoMorphicEffect as c}from'../../hooks/use-iso-morphic-effect.js';import{useOnUnmount as H}from'../../hooks/use-on-unmount.js';import{useOwnerDocument as G}from'../../hooks/use-owner.js';import{useServerHandoffComplete as O}from'../../hooks/use-server-handoff-complete.js';import{optionalRef as b,useSyncRefs as x}from'../../hooks/use-sync-refs.js';import{usePortalRoot as h}from'../../internal/portal-force-root.js';import{env as A}from'../../utils/env.js';import{forwardRefWithAs as L,render as _}from'../../utils/render.js';function F(a){let l=h(),n=s(C),e=G(a),[p,o]=R(()=>{if(!l&&n!==null||A.isServer)return null;let t=e==null?void 0:e.getElementById(\"headlessui-portal-root\");if(t)return t;if(e===null)return null;let r=e.createElement(\"div\");return r.setAttribute(\"id\",\"headlessui-portal-root\"),e.body.appendChild(r)});return d(()=>{p!==null&&(e!=null&&e.body.contains(p)||e==null||e.body.appendChild(p))},[p,e]),d(()=>{l||n!==null&&o(n.current)},[n,o,l]),p}let U=T;function D(a,l){let n=a,e=g(null),p=x(b(u=>{e.current=u}),l),o=G(e),t=F(e),[r]=R(()=>{var u;return A.isServer?null:(u=o==null?void 0:o.createElement(\"div\"))!=null?u:null}),i=s(f),v=O();return c(()=>{!t||!r||t.contains(r)||(r.setAttribute(\"data-headlessui-portal\",\"\"),t.appendChild(r))},[t,r]),c(()=>{if(r&&i)return i.register(r)},[i,r]),H(()=>{var u;!t||!r||(r instanceof Node&&t.contains(r)&&t.removeChild(r),t.childNodes.length<=0&&((u=t.parentElement)==null||u.removeChild(t)))}),v?!t||!r?null:M(_({ourProps:{ref:p},theirProps:n,slot:{},defaultTag:U,name:\"Portal\"}),r):null}let N=T,C=m(null);function S(a,l){let{target:n,...e}=a,o={ref:x(l)};return P.createElement(C.Provider,{value:n},_({ourProps:o,theirProps:e,defaultTag:N,name:\"Popover.Group\"}))}let f=m(null);function $(){let a=s(f),l=g([]),n=E(o=>(l.current.push(o),a&&a.register(o),()=>e(o))),e=E(o=>{let t=l.current.indexOf(o);t!==-1&&l.current.splice(t,1),a&&a.unregister(o)}),p=y(()=>({register:n,unregister:e,portals:l}),[n,e,l]);return[l,y(()=>function({children:t}){return P.createElement(f.Provider,{value:p},t)},[p])]}let j=L(D),W=L(S),w=Object.assign(j,{Group:W});export{w as Portal,W as PortalGroup,$ as useNestedPortals};\n", "\"use client\";import{useFocusRing as Q}from\"@react-aria/focus\";import{useHover as Y}from\"@react-aria/interactions\";import R,{Fragment as K,createContext as x,useContext as L,useEffect as j,useMemo as A,useReducer as Z,useRef as b}from\"react\";import{useActivePress as ee}from'../../hooks/use-active-press.js';import{useEvent as C}from'../../hooks/use-event.js';import{useId as W}from'../../hooks/use-id.js';import{useResolveButtonType as te}from'../../hooks/use-resolve-button-type.js';import{optionalRef as ne,useSyncRefs as O}from'../../hooks/use-sync-refs.js';import{OpenClosedProvider as oe,State as I,useOpenClosed as le}from'../../internal/open-closed.js';import{isDisabledReactIssue7711 as se}from'../../utils/bugs.js';import{match as _}from'../../utils/match.js';import{getOwnerDocument as re}from'../../utils/owner.js';import{RenderFeatures as $,forwardRefWithAs as v,mergeProps as J,render as B,useMergeRefsFn as X}from'../../utils/render.js';import{startTransition as ue}from'../../utils/start-transition.js';import{Keys as g}from'../keyboard.js';var ie=(l=>(l[l.Open=0]=\"Open\",l[l.Closed=1]=\"Closed\",l))(ie||{}),ae=(t=>(t[t.ToggleDisclosure=0]=\"ToggleDisclosure\",t[t.CloseDisclosure=1]=\"CloseDisclosure\",t[t.SetButtonId=2]=\"SetButtonId\",t[t.SetPanelId=3]=\"SetPanelId\",t[t.LinkPanel=4]=\"LinkPanel\",t[t.UnlinkPanel=5]=\"UnlinkPanel\",t))(ae||{});let pe={[0]:e=>({...e,disclosureState:_(e.disclosureState,{[0]:1,[1]:0})}),[1]:e=>e.disclosureState===1?e:{...e,disclosureState:1},[4](e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},[5](e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},[2](e,n){return e.buttonId===n.buttonId?e:{...e,buttonId:n.buttonId}},[3](e,n){return e.panelId===n.panelId?e:{...e,panelId:n.panelId}}},F=x(null);F.displayName=\"DisclosureContext\";function k(e){let n=L(F);if(n===null){let l=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,k),l}return n}let M=x(null);M.displayName=\"DisclosureAPIContext\";function V(e){let n=L(M);if(n===null){let l=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,V),l}return n}let H=x(null);H.displayName=\"DisclosurePanelContext\";function ce(){return L(H)}function de(e,n){return _(n.type,pe,e,n)}let fe=K;function Te(e,n){let{defaultOpen:l=!1,...i}=e,f=b(null),o=O(n,ne(u=>{f.current=u},e.as===void 0||e.as===K)),t=b(null),d=b(null),r=Z(de,{disclosureState:l?0:1,linkedPanel:!1,buttonRef:d,panelRef:t,buttonId:null,panelId:null}),[{disclosureState:c,buttonId:a},y]=r,p=C(u=>{y({type:1});let D=re(f);if(!D||!a)return;let P=(()=>u?u instanceof HTMLElement?u:u.current instanceof HTMLElement?u.current:D.getElementById(a):D.getElementById(a))();P==null||P.focus()}),m=A(()=>({close:p}),[p]),T=A(()=>({open:c===0,close:p}),[c,p]),S={ref:o};return R.createElement(F.Provider,{value:r},R.createElement(M.Provider,{value:m},R.createElement(oe,{value:_(c,{[0]:I.Open,[1]:I.Closed})},B({ourProps:S,theirProps:i,slot:T,defaultTag:fe,name:\"Disclosure\"}))))}let De=\"button\";function Pe(e,n){var N,G;let l=W(),{id:i=`headlessui-disclosure-button-${l}`,...f}=e,[o,t]=k(\"Disclosure.Button\"),d=ce(),r=d===null?!1:d===o.panelId,c=b(null),a=O(c,n,r?null:o.buttonRef),y=X();j(()=>{if(!r)return t({type:2,buttonId:i}),()=>{t({type:2,buttonId:null})}},[i,t,r]);let p=C(s=>{var E;if(r){if(o.disclosureState===1)return;switch(s.key){case g.Space:case g.Enter:s.preventDefault(),s.stopPropagation(),t({type:0}),(E=o.buttonRef.current)==null||E.focus();break}}else switch(s.key){case g.Space:case g.Enter:s.preventDefault(),s.stopPropagation(),t({type:0});break}}),m=C(s=>{switch(s.key){case g.Space:s.preventDefault();break}}),T=C(s=>{var E;se(s.currentTarget)||e.disabled||(r?(t({type:0}),(E=o.buttonRef.current)==null||E.focus()):t({type:0}))}),{isFocusVisible:S,focusProps:u}=Q({autoFocus:(N=e.autoFocus)!=null?N:!1}),{isHovered:D,hoverProps:P}=Y({isDisabled:(G=e.disabled)!=null?G:!1}),{pressed:U,pressProps:h}=ee(),q=A(()=>{var s;return{open:o.disclosureState===0,hover:D,active:U,focus:S,autofocus:(s=e.autoFocus)!=null?s:!1}},[o,D,U,S,e.autoFocus]),w=te(e,c),z=r?J({ref:a,type:w,onKeyDown:p,onClick:T},u,P,h):J({ref:a,id:i,type:w,\"aria-expanded\":o.disclosureState===0,\"aria-controls\":o.linkedPanel?o.panelId:void 0,onKeyDown:p,onKeyUp:m,onClick:T},u,P,h);return B({mergeRefs:y,ourProps:z,theirProps:f,slot:q,defaultTag:De,name:\"Disclosure.Button\"})}let ye=\"div\",me=$.RenderStrategy|$.Static;function Ee(e,n){let l=W(),{id:i=`headlessui-disclosure-panel-${l}`,...f}=e,[o,t]=k(\"Disclosure.Panel\"),{close:d}=V(\"Disclosure.Panel\"),r=X(),c=O(n,o.panelRef,T=>{ue(()=>t({type:T?4:5}))});j(()=>(t({type:3,panelId:i}),()=>{t({type:3,panelId:null})}),[i,t]);let a=le(),y=(()=>a!==null?(a&I.Open)===I.Open:o.disclosureState===0)(),p=A(()=>({open:o.disclosureState===0,close:d}),[o,d]),m={ref:c,id:i};return R.createElement(H.Provider,{value:o.panelId},B({mergeRefs:r,ourProps:m,theirProps:f,slot:p,defaultTag:ye,features:me,visible:y,name:\"Disclosure.Panel\"}))}let ge=v(Te),Se=v(Pe),Re=v(Ee),he=Object.assign(ge,{Button:Se,Panel:Re});export{he as Disclosure,Se as DisclosureButton,Re as DisclosurePanel};\n", "var t;import r from\"react\";let a=(t=r.startTransition)!=null?t:function(i){i()};export{a as startTransition};\n", "\"use client\";import r,{useMemo as F}from\"react\";import{useId as T}from'../../hooks/use-id.js';import{DisabledProvider as P,useDisabled as f}from'../../internal/disabled.js';import{FormFieldsProvider as u}from'../../internal/form-fields.js';import{IdProvider as y}from'../../internal/id.js';import{forwardRefWithAs as D,render as v}from'../../utils/render.js';import{useDescriptions as b}from'../description/description.js';import{useLabels as E}from'../label/label.js';let A=\"div\";function L(i,d){let l=`headlessui-control-${T()}`,[t,s]=E(),[p,n]=b(),a=f(),{disabled:e=a||!1,...o}=i,m=F(()=>({disabled:e}),[e]);return r.createElement(P,{value:e},r.createElement(s,{value:t},r.createElement(n,{value:p},r.createElement(y,{id:l},v({ourProps:{ref:d,disabled:e,\"aria-disabled\":e||void 0},theirProps:{...o,children:r.createElement(u,null,o.children)},slot:m,defaultTag:A,name:\"Field\"})))))}let W=D(L);export{W as Field};\n", "\"use client\";import t,{useMemo as p}from\"react\";import{DisabledProvider as n,useDisabled as T}from'../../internal/disabled.js';import{forwardRefWithAs as m,render as F}from'../../utils/render.js';import{useLabels as f}from'../label/label.js';let y=\"div\";function E(r,o){let l=T(),{disabled:e=l||!1,...s}=r,[i,d]=f(),a=p(()=>({disabled:e}),[e]);return t.createElement(n,{value:e},t.createElement(d,null,F({ourProps:{ref:o,role:\"group\",\"aria-labelledby\":i,\"aria-disabled\":e||void 0},theirProps:s,slot:a,defaultTag:y,name:\"Fieldset\"})))}let _=m(E);export{_ as Fieldset};\n", "\"use client\";import{useFocusRing as P}from\"@react-aria/focus\";import{useHover as g}from\"@react-aria/interactions\";import{useMemo as v}from\"react\";import{useId as A}from'../../hooks/use-id.js';import{useDisabled as F}from'../../internal/disabled.js';import{useProvidedId as _}from'../../internal/id.js';import{forwardRefWithAs as D,mergeProps as E,render as x}from'../../utils/render.js';import{useDescribedBy as U}from'../description/description.js';import{useLabelledBy as h}from'../label/label.js';let R=\"input\";function L(o,l){var s;let i=A(),p=_(),u=F(),{id:d=p||`headlessui-input-${i}`,disabled:e=u||!1,invalid:t=!1,...f}=o,m=h(),T=U(),{isFocusVisible:r,focusProps:b}=P({within:!0,isTextInput:!0,autoFocus:(s=o.autoFocus)!=null?s:!1}),{isHovered:n,hoverProps:y}=g({isDisabled:e!=null?e:!1}),I=E({ref:l,id:d,\"aria-labelledby\":m,\"aria-describedby\":T,\"aria-invalid\":t?\"\":void 0,disabled:e||void 0},b,y),c=v(()=>{var a;return{disabled:e,invalid:t,hover:n,focus:r,autofocus:(a=o.autoFocus)!=null?a:!1}},[e,t,n,r,o.autoFocus]);return x({ourProps:I,theirProps:f,slot:c,defaultTag:R,name:\"Input\"})}let S=D(L);export{S as Input};\n", "\"use client\";import p from\"react\";import{forwardRefWithAs as r}from'../../utils/render.js';import{Label as e}from'../label/label.js';let d=e;function o(n,t){return p.createElement(e,{as:\"div\",ref:t,...n})}let g=r(o);export{g as Legend};\n", "\"use client\";import{useFocusRing as Se}from\"@react-aria/focus\";import{useHover as Re}from\"@react-aria/interactions\";import D,{Fragment as q,createContext as Y,createRef as Pe,useCallback as se,useContext as Z,useEffect as pe,useMemo as N,useReducer as Ae,useRef as G,useState as Ee}from\"react\";import{useActivePress as he}from'../../hooks/use-active-press.js';import{useByComparator as De}from'../../hooks/use-by-comparator.js';import{useComputed as Ie}from'../../hooks/use-computed.js';import{useControllable as _e}from'../../hooks/use-controllable.js';import{useDisposables as K}from'../../hooks/use-disposables.js';import{useElementSize as Fe}from'../../hooks/use-element-size.js';import{useEvent as O}from'../../hooks/use-event.js';import{useId as ee}from'../../hooks/use-id.js';import{useIsoMorphicEffect as te}from'../../hooks/use-iso-morphic-effect.js';import{useLatestValue as Ce}from'../../hooks/use-latest-value.js';import{useOutsideClick as Me}from'../../hooks/use-outside-click.js';import{useResolveButtonType as we}from'../../hooks/use-resolve-button-type.js';import{useSyncRefs as H}from'../../hooks/use-sync-refs.js';import{useTextValue as ke}from'../../hooks/use-text-value.js';import{useTrackedPointer as Ue}from'../../hooks/use-tracked-pointer.js';import{useDisabled as Be}from'../../internal/disabled.js';import{FloatingProvider as Ne,useFloatingPanel as Ge,useFloatingPanelProps as Ve,useFloatingReference as He,useFloatingReferenceProps as je}from'../../internal/floating.js';import{FormFields as We}from'../../internal/form-fields.js';import{useProvidedId as ze}from'../../internal/id.js';import{Modal as Ke}from'../../internal/modal.js';import{OpenClosedProvider as Qe,State as Q,useOpenClosed as Xe}from'../../internal/open-closed.js';import{isDisabledReactIssue7711 as Je}from'../../utils/bugs.js';import{Focus as y,calculateActiveIndex as oe}from'../../utils/calculate-active-index.js';import{disposables as ne}from'../../utils/disposables.js';import{FocusableMode as $e,isFocusableElement as qe,sortByDomNode as Ye}from'../../utils/focus-management.js';import{match as V}from'../../utils/match.js';import{getOwnerDocument as Ze}from'../../utils/owner.js';import{RenderFeatures as ue,forwardRefWithAs as j,mergeProps as de,render as W}from'../../utils/render.js';import{useDescribedBy as et}from'../description/description.js';import{Keys as R}from'../keyboard.js';import{Label as tt,useLabelledBy as ot,useLabels as nt}from'../label/label.js';import{Portal as it}from'../portal/portal.js';var rt=(o=>(o[o.Open=0]=\"Open\",o[o.Closed=1]=\"Closed\",o))(rt||{}),at=(o=>(o[o.Single=0]=\"Single\",o[o.Multi=1]=\"Multi\",o))(at||{}),lt=(o=>(o[o.Pointer=0]=\"Pointer\",o[o.Other=1]=\"Other\",o))(lt||{}),st=(t=>(t[t.OpenListbox=0]=\"OpenListbox\",t[t.CloseListbox=1]=\"CloseListbox\",t[t.GoToOption=2]=\"GoToOption\",t[t.Search=3]=\"Search\",t[t.ClearSearch=4]=\"ClearSearch\",t[t.RegisterOption=5]=\"RegisterOption\",t[t.UnregisterOption=6]=\"UnregisterOption\",t))(st||{});function ie(e,i=o=>o){let o=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=Ye(i(e.options.slice()),c=>c.dataRef.current.domRef.current),n=o?r.indexOf(o):null;return n===-1&&(n=null),{options:r,activeOptionIndex:n}}let pt={[1](e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},[0](e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let i=e.activeOptionIndex,{isSelected:o}=e.dataRef.current,r=e.options.findIndex(n=>o(n.dataRef.current.value));return r!==-1&&(i=r),{...e,listboxState:0,activeOptionIndex:i}},[2](e,i){var c,s,t,l,d;if(e.dataRef.current.disabled||e.listboxState===1)return e;let o={...e,searchQuery:\"\",activationTrigger:(c=i.trigger)!=null?c:1};if(i.focus===y.Nothing)return{...o,activeOptionIndex:null};if(i.focus===y.Specific)return{...o,activeOptionIndex:e.options.findIndex(p=>p.id===i.id)};if(i.focus===y.Previous){let p=e.activeOptionIndex;if(p!==null){let m=e.options[p].dataRef.current.domRef,T=oe(i,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:b=>b.id,resolveDisabled:b=>b.dataRef.current.disabled});if(T!==null){let b=e.options[T].dataRef.current.domRef;if(((s=m.current)==null?void 0:s.previousElementSibling)===b.current||((t=b.current)==null?void 0:t.previousElementSibling)===null)return{...o,activeOptionIndex:T}}}}else if(i.focus===y.Next){let p=e.activeOptionIndex;if(p!==null){let m=e.options[p].dataRef.current.domRef,T=oe(i,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:b=>b.id,resolveDisabled:b=>b.dataRef.current.disabled});if(T!==null){let b=e.options[T].dataRef.current.domRef;if(((l=m.current)==null?void 0:l.nextElementSibling)===b.current||((d=b.current)==null?void 0:d.nextElementSibling)===null)return{...o,activeOptionIndex:T}}}}let r=ie(e),n=oe(i,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});return{...o,...r,activeOptionIndex:n}},[3]:(e,i)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let r=e.searchQuery!==\"\"?0:1,n=e.searchQuery+i.value.toLowerCase(),s=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+r).concat(e.options.slice(0,e.activeOptionIndex+r)):e.options).find(l=>{var d;return!l.dataRef.current.disabled&&((d=l.dataRef.current.textValue)==null?void 0:d.startsWith(n))}),t=s?e.options.indexOf(s):-1;return t===-1||t===e.activeOptionIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeOptionIndex:t,activationTrigger:1}},[4](e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===\"\"?e:{...e,searchQuery:\"\"}},[5]:(e,i)=>{let o={id:i.id,dataRef:i.dataRef},r=ie(e,n=>[...n,o]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(i.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(o)),{...e,...r}},[6]:(e,i)=>{let o=ie(e,r=>{let n=r.findIndex(c=>c.id===i.id);return n!==-1&&r.splice(n,1),r});return{...e,...o,activationTrigger:1}}},re=Y(null);re.displayName=\"ListboxActionsContext\";function X(e){let i=Z(re);if(i===null){let o=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,X),o}return i}let J=Y(null);J.displayName=\"ListboxDataContext\";function z(e){let i=Z(J);if(i===null){let o=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,z),o}return i}function ut(e,i){return V(i.type,pt,e,i)}let dt=q;function ct(e,i){var le;let o=Be(),{value:r,defaultValue:n,form:c,name:s,onChange:t,by:l,invalid:d=!1,disabled:p=o||!1,horizontal:m=!1,multiple:T=!1,...b}=e;const C=m?\"horizontal\":\"vertical\";let k=H(i),[P=T?[]:void 0,g]=_e(r,t,n),[h,v]=Ae(ut,{dataRef:Pe(),listboxState:1,options:[],searchQuery:\"\",activeOptionIndex:null,activationTrigger:1,optionsVisible:!1}),_=G({static:!1,hold:!1}),M=G(null),U=G(null),w=G(new Map),f=De(l),A=se(x=>V(u.mode,{[1]:()=>P.some(S=>f(S,x)),[0]:()=>f(P,x)}),[P]),u=N(()=>({...h,value:P,disabled:p,invalid:d,mode:T?1:0,orientation:C,compare:f,isSelected:A,optionsPropsRef:_,buttonRef:M,optionsRef:U,listRef:w}),[P,p,d,T,h,w]);te(()=>{h.dataRef.current=u},[u]),Me([u.buttonRef,u.optionsRef],(x,S)=>{var I;v({type:1}),qe(S,$e.Loose)||(x.preventDefault(),(I=u.buttonRef.current)==null||I.focus())},u.listboxState===0);let L=N(()=>({open:u.listboxState===0,disabled:p,invalid:d,value:P}),[u,p,P,d]),B=O(x=>{let S=u.options.find(I=>I.id===x);S&&$(S.dataRef.current.value)}),a=O(()=>{if(u.activeOptionIndex!==null){let{dataRef:x,id:S}=u.options[u.activeOptionIndex];$(x.current.value),v({type:2,focus:y.Specific,id:S})}}),E=O(()=>v({type:0})),F=O(()=>v({type:1})),ae=K(),fe=O((x,S,I)=>{ae.dispose(),ae.microTask(()=>x===y.Specific?v({type:2,focus:y.Specific,id:S,trigger:I}):v({type:2,focus:x,trigger:I}))}),Te=O((x,S)=>(v({type:5,id:x,dataRef:S}),()=>v({type:6,id:x}))),$=O(x=>V(u.mode,{[0](){return g==null?void 0:g(x)},[1](){let S=u.value.slice(),I=S.findIndex(Le=>f(Le,x));return I===-1?S.push(x):S.splice(I,1),g==null?void 0:g(S)}})),be=O(x=>v({type:3,value:x})),xe=O(()=>v({type:4})),me=N(()=>({onChange:$,registerOption:Te,goToOption:fe,closeListbox:F,openListbox:E,selectActiveOption:a,selectOption:B,search:be,clearSearch:xe}),[]),[Oe,ye]=nt({inherit:!0}),ge={ref:k},ve=se(()=>g==null?void 0:g(n),[g]);return D.createElement(ye,{value:Oe,props:{htmlFor:(le=u.buttonRef.current)==null?void 0:le.id},slot:{open:u.listboxState===0,disabled:p}},D.createElement(Ne,{enabled:u.listboxState===0},D.createElement(re.Provider,{value:me},D.createElement(J.Provider,{value:u},D.createElement(Qe,{value:V(u.listboxState,{[0]:Q.Open,[1]:Q.Closed})},s!=null&&P!=null&&D.createElement(We,{data:{[s]:P},form:c,onReset:ve}),W({ourProps:ge,theirProps:b,slot:L,defaultTag:dt,name:\"Listbox\"}))))))}let ft=\"button\";function Tt(e,i){var f,A,u;let o=ee(),r=ze(),{id:n=r||`headlessui-listbox-button-${o}`,...c}=e,s=z(\"Listbox.Button\"),t=X(\"Listbox.Button\"),l=H(s.buttonRef,i,He()),d=je(),p=K(),m=O(L=>{switch(L.key){case R.Space:case R.Enter:case R.ArrowDown:L.preventDefault(),t.openListbox(),p.nextFrame(()=>{s.value||t.goToOption(y.First)});break;case R.ArrowUp:L.preventDefault(),t.openListbox(),p.nextFrame(()=>{s.value||t.goToOption(y.Last)});break}}),T=O(L=>{switch(L.key){case R.Space:L.preventDefault();break}}),b=O(L=>{if(Je(L.currentTarget))return L.preventDefault();s.listboxState===0?(t.closeListbox(),p.nextFrame(()=>{var B;return(B=s.buttonRef.current)==null?void 0:B.focus({preventScroll:!0})})):(L.preventDefault(),t.openListbox())}),C=ot([n]),k=et(),{isFocusVisible:P,focusProps:g}=Se({autoFocus:(f=e.autoFocus)!=null?f:!1}),{isHovered:h,hoverProps:v}=Re({isDisabled:(A=s.disabled)!=null?A:!1}),{pressed:_,pressProps:M}=he(),U=N(()=>{var L;return{open:s.listboxState===0,active:_||s.listboxState===0,disabled:s.disabled,invalid:s.invalid,value:s.value,hover:h,focus:P,autofocus:(L=e.autoFocus)!=null?L:!1}},[s.listboxState,s.disabled,s.value,h,P,_,s.invalid,e.autoFocus]),w=de(d(),{ref:l,id:n,type:we(e,s.buttonRef),\"aria-haspopup\":\"listbox\",\"aria-controls\":(u=s.optionsRef.current)==null?void 0:u.id,\"aria-expanded\":s.listboxState===0,\"aria-labelledby\":C,\"aria-describedby\":k,disabled:s.disabled,onKeyDown:m,onKeyUp:T,onClick:b},g,v,M);return W({ourProps:w,theirProps:c,slot:U,defaultTag:ft,name:\"Listbox.Button\"})}let ce=Y(!1),bt=\"ul\",xt=ue.RenderStrategy|ue.Static;function mt(e,i){var B;let o=ee(),{id:r=`headlessui-listbox-options-${o}`,anchor:n,modal:c,...s}=e;n!=null&&c==null?c=!0:c==null&&(c=!1);let t=z(\"Listbox.Options\"),l=X(\"Listbox.Options\"),d=Xe(),p=(()=>d!==null?(d&Q.Open)===Q.Open:t.listboxState===0)(),m=G(null);pe(()=>{var E;if(!((E=n==null?void 0:n.to)!=null&&E.includes(\"selection\")))return;if(!p){m.current=null;return}let a=Array.from(t.listRef.current.values());m.current=a.findIndex(F=>(F==null?void 0:F.dataset.selected)===\"\"),m.current===-1&&(m.current=a.findIndex(F=>(F==null?void 0:F.dataset.disabled)===void 0),l.goToOption(y.First))},[p,t.listRef]);let T=(()=>{if(n==null)return;if(t.listRef.current.size<=0)return{...n,inner:void 0};let a=Array.from(t.listRef.current.values());return{...n,inner:{listRef:{current:a},index:m.current}}})(),[b,C]=Ge(T),k=Ve(),P=H(t.optionsRef,i,b),g=K(),h=K();pe(()=>{var E;let a=t.optionsRef.current;a&&t.listboxState===0&&a!==((E=Ze(a))==null?void 0:E.activeElement)&&g.nextFrame(()=>a==null?void 0:a.focus({preventScroll:!0}))},[t.listboxState,t.optionsRef]);let v=O(a=>{switch(h.dispose(),a.key){case R.Space:if(t.searchQuery!==\"\")return a.preventDefault(),a.stopPropagation(),l.search(a.key);case R.Enter:if(a.preventDefault(),a.stopPropagation(),t.activeOptionIndex!==null){let{dataRef:E}=t.options[t.activeOptionIndex];l.onChange(E.current.value)}t.mode===0&&(l.closeListbox(),ne().nextFrame(()=>{var E;return(E=t.buttonRef.current)==null?void 0:E.focus({preventScroll:!0})}));break;case V(t.orientation,{vertical:R.ArrowDown,horizontal:R.ArrowRight}):return a.preventDefault(),a.stopPropagation(),l.goToOption(y.Next);case V(t.orientation,{vertical:R.ArrowUp,horizontal:R.ArrowLeft}):return a.preventDefault(),a.stopPropagation(),l.goToOption(y.Previous);case R.Home:case R.PageUp:return a.preventDefault(),a.stopPropagation(),l.goToOption(y.First);case R.End:case R.PageDown:return a.preventDefault(),a.stopPropagation(),l.goToOption(y.Last);case R.Escape:return a.preventDefault(),a.stopPropagation(),l.closeListbox(),g.nextFrame(()=>{var E;return(E=t.buttonRef.current)==null?void 0:E.focus({preventScroll:!0})});case R.Tab:a.preventDefault(),a.stopPropagation();break;default:a.key.length===1&&(l.search(a.key),h.setTimeout(()=>l.clearSearch(),350));break}}),_=Ie(()=>{var a;return(a=t.buttonRef.current)==null?void 0:a.id},[t.buttonRef.current]),M=N(()=>({open:t.listboxState===0}),[t]),U=de(k(),{id:r,ref:P,\"aria-activedescendant\":t.activeOptionIndex===null||(B=t.options[t.activeOptionIndex])==null?void 0:B.id,\"aria-multiselectable\":t.mode===1?!0:void 0,\"aria-labelledby\":_,\"aria-orientation\":t.orientation,onKeyDown:v,role:\"listbox\",tabIndex:0,style:{...C,\"--button-width\":Fe(t.buttonRef,!0).width}}),w=c?Ke:n?it:q,f=c?{enabled:t.listboxState===0}:{},[A,u]=Ee(t.value);t.value!==A&&t.listboxState===0&&t.mode!==1&&u(t.value);let L=O(a=>t.compare(A,a));return D.createElement(w,{...f},D.createElement(J.Provider,{value:t.mode===1?t:{...t,isSelected:L}},W({ourProps:U,theirProps:s,slot:M,defaultTag:bt,features:xt,visible:p,name:\"Listbox.Options\"})))}let Ot=\"li\";function yt(e,i){let o=ee(),{id:r=`headlessui-listbox-option-${o}`,disabled:n=!1,value:c,...s}=e,t=Z(ce)===!0,l=z(\"Listbox.Option\"),d=X(\"Listbox.Option\"),p=l.activeOptionIndex!==null?l.options[l.activeOptionIndex].id===r:!1,m=l.isSelected(c),T=G(null),b=ke(T),C=Ce({disabled:n,value:c,domRef:T,get textValue(){return b()}}),k=H(i,T,f=>{f?l.listRef.current.set(r,f):l.listRef.current.delete(r)});te(()=>{if(l.listboxState!==0||!p||l.activationTrigger===0)return;let f=ne();return f.requestAnimationFrame(()=>{var A,u;(u=(A=T.current)==null?void 0:A.scrollIntoView)==null||u.call(A,{block:\"nearest\"})}),f.dispose},[T,p,l.listboxState,l.activationTrigger,l.activeOptionIndex]),te(()=>{if(!t)return d.registerOption(r,C)},[C,r,t]);let P=O(f=>{if(n)return f.preventDefault();d.onChange(c),l.mode===0&&(d.closeListbox(),ne().nextFrame(()=>{var A;return(A=l.buttonRef.current)==null?void 0:A.focus({preventScroll:!0})}))}),g=O(()=>{if(n)return d.goToOption(y.Nothing);d.goToOption(y.Specific,r)}),h=Ue(),v=O(f=>{h.update(f),!n&&(p||d.goToOption(y.Specific,r,0))}),_=O(f=>{h.wasMoved(f)&&(n||p||d.goToOption(y.Specific,r,0))}),M=O(f=>{h.wasMoved(f)&&(n||p&&d.goToOption(y.Nothing))}),U=N(()=>({active:p,focus:p,selected:m,disabled:n,selectedOption:m&&t}),[p,m,n,t]),w=t?{}:{id:r,ref:k,role:\"option\",tabIndex:n===!0?void 0:-1,\"aria-disabled\":n===!0?!0:void 0,\"aria-selected\":m,disabled:void 0,onClick:P,onFocus:g,onPointerEnter:v,onMouseEnter:v,onPointerMove:_,onMouseMove:_,onPointerLeave:M,onMouseLeave:M};return!m&&t?null:W({ourProps:w,theirProps:s,slot:U,defaultTag:Ot,name:\"Listbox.Option\"})}let gt=q;function vt(e,i){let{options:o,placeholder:r,...n}=e,s={ref:H(i)},t=z(\"ListboxSelectedOption\"),l=N(()=>({}),[]),d=t.value===void 0||t.value===null||t.mode===1&&Array.isArray(t.value)&&t.value.length===0;return D.createElement(ce.Provider,{value:!0},W({ourProps:s,theirProps:{...n,children:D.createElement(D.Fragment,null,r&&d?r:o)},slot:l,defaultTag:gt,name:\"ListboxSelectedOption\"}))}let Lt=j(ct),St=j(Tt),Rt=tt,Pt=j(mt),At=j(yt),so=j(vt),po=Object.assign(Lt,{Button:St,Label:Rt,Options:Pt,Option:At});export{po as Listbox,St as ListboxButton,Rt as ListboxLabel,At as ListboxOption,Pt as ListboxOptions,so as ListboxSelectedOption};\n", "import{useState as s}from\"react\";import{useIsoMorphicEffect as f}from'./use-iso-morphic-effect.js';import{useLatestValue as m}from'./use-latest-value.js';function i(e,o){let[u,t]=s(e),r=m(e);return f(()=>t(r.current),[r,t,...o]),u}export{i as useComputed};\n", "import{useState as o}from\"react\";import{useIsoMorphicEffect as h}from'./use-iso-morphic-effect.js';function u(e){if(e===null)return{width:0,height:0};let{width:r,height:t}=e.getBoundingClientRect();return{width:r,height:t}}function f(e,r=!1){let[t,l]=o(()=>u(e.current));return h(()=>{let i=e.current;if(!i)return;let n=new ResizeObserver(()=>{l(u(i))});return n.observe(i),()=>{n.disconnect()}},[e]),r?{width:`${t.width}px`,height:`${t.height}px`}:t}export{f as useElementSize};\n", "import{useRef as l}from\"react\";import{getTextValue as i}from'../utils/get-text-value.js';import{useEvent as o}from'./use-event.js';function s(c){let t=l(\"\"),r=l(\"\");return o(()=>{let e=c.current;if(!e)return\"\";let u=e.innerText;if(t.current===u)return r.current;let n=i(e).trim().toLowerCase();return t.current=u,r.current=n,n})}export{s as useTextValue};\n", "let a=/([\\u2700-\\u27BF]|[\\uE000-\\uF8FF]|\\uD83C[\\uDC00-\\uDFFF]|\\uD83D[\\uDC00-\\uDFFF]|[\\u2011-\\u26FF]|\\uD83E[\\uDD10-\\uDDFF])/g;function o(e){var r,i;let n=(r=e.innerText)!=null?r:\"\",t=e.cloneNode(!0);if(!(t instanceof HTMLElement))return n;let u=!1;for(let f of t.querySelectorAll('[hidden],[aria-hidden],[role=\"img\"]'))f.remove(),u=!0;let l=u?(i=t.innerText)!=null?i:\"\":n;return a.test(l)&&(l=l.replace(a,\"\")),l}function g(e){let n=e.getAttribute(\"aria-label\");if(typeof n==\"string\")return n.trim();let t=e.getAttribute(\"aria-labelledby\");if(t){let u=t.split(\" \").map(l=>{let r=document.getElementById(l);if(r){let i=r.getAttribute(\"aria-label\");return typeof i==\"string\"?i.trim():o(r).trim()}return null}).filter(Boolean);if(u.length>0)return u.join(\", \")}return o(e).trim()}export{g as getTextValue};\n", "import o,{useCallback as y,useMemo as x,useRef as F}from\"react\";import{FocusTrap as I,FocusTrapFeatures as P}from'../components/focus-trap/focus-trap.js';import{Portal as k,useNestedPortals as W}from'../components/portal/portal.js';import{useDocumentOverflowLockedEffect as h}from'../hooks/document-overflow/use-document-overflow.js';import{useId as j}from'../hooks/use-id.js';import{useInert as g}from'../hooks/use-inert.js';import{useOwnerDocument as U}from'../hooks/use-owner.js';import{useRootContainers as B}from'../hooks/use-root-containers.js';import{useSyncRefs as G}from'../hooks/use-sync-refs.js';import{HoistFormFields as q}from'../internal/form-fields.js';import{RenderFeatures as A,forwardRefWithAs as w,render as $}from'../utils/render.js';import{ForcePortalRoot as R}from'./portal-force-root.js';function J(f,s,i=()=>[document.body]){h(f,s,d=>{var p;return{containers:[...(p=d.containers)!=null?p:[],i]}})}var X=(e=>(e[e.None=0]=\"None\",e[e.Inert=1]=\"Inert\",e[e.ScrollLock=2]=\"ScrollLock\",e[e.FocusTrap=4]=\"FocusTrap\",e[e.All=7]=\"All\",e))(X||{});let z=\"div\",K=A.RenderStrategy|A.Static;function Q(f,s){let i=j(),{id:d=`headlessui-modal-${i}`,initialFocus:p,role:e=\"dialog\",features:l=7,enabled:c=!0,focusTrapFeatures:L=P.All,...E}=f;c||(l=0);let T=F(!1);e=function(){return e===\"dialog\"||e===\"alertdialog\"?e:(T.current||(T.current=!0,console.warn(`Invalid role [${e}] passed to <Modal />. Only \\`dialog\\` and and \\`alertdialog\\` are supported. Using \\`dialog\\` instead.`)),\"dialog\")}();let m=F(null),O=G(m,s),r=U(m),[b,H]=W(),D={get current(){return m.current}},{resolveContainers:M,mainTreeNodeRef:u,MainTreeNode:_}=B({portals:b,defaultContainers:[D]}),C=y(()=>{var a,n;return(n=Array.from((a=r==null?void 0:r.querySelectorAll(\"body > *\"))!=null?a:[]).find(t=>t.id===\"headlessui-portal-root\"?!1:t.contains(u.current)&&t instanceof HTMLElement))!=null?n:null},[u]);g(C,!!(l&1));let v=y(()=>{var a,n;return(n=Array.from((a=r==null?void 0:r.querySelectorAll(\"[data-headlessui-portal]\"))!=null?a:[]).find(t=>t.contains(u.current)&&t instanceof HTMLElement))!=null?n:null},[u]);g(v,!!(l&1)),J(r,!!(l&2),M);let N=x(()=>({}),[]),S={ref:O,id:d,role:e,\"aria-modal\":c||void 0};return o.createElement(o.Fragment,null,o.createElement(R,{force:!0},o.createElement(k,null,o.createElement(I,{initialFocus:p,containers:M,features:l&4?L:P.None},o.createElement(R,{force:!1},o.createElement(H,null,$({ourProps:S,theirProps:E,slot:N,defaultTag:z,features:K,name:\"Modal\"})))))),o.createElement(q,null,o.createElement(_,null)))}let V=w(Q),pe=Object.assign(V,{});export{pe as Modal,X as ModalFeatures};\n", "\"use client\";import{useFocusRing as re}from\"@react-aria/focus\";import{useHover as oe}from\"@react-aria/interactions\";import b,{Fragment as W,createContext as ae,createRef as X,useContext as ie,useEffect as se,useMemo as U,useReducer as le,useRef as $}from\"react\";import{useActivePress as ue}from'../../hooks/use-active-press.js';import{useDidElementMove as pe}from'../../hooks/use-did-element-move.js';import{useDisposables as q}from'../../hooks/use-disposables.js';import{useElementSize as de}from'../../hooks/use-element-size.js';import{useEvent as I}from'../../hooks/use-event.js';import{useId as H}from'../../hooks/use-id.js';import{useIsoMorphicEffect as k}from'../../hooks/use-iso-morphic-effect.js';import{useOutsideClick as me}from'../../hooks/use-outside-click.js';import{useOwnerDocument as ce}from'../../hooks/use-owner.js';import{useResolveButtonType as fe}from'../../hooks/use-resolve-button-type.js';import{useSyncRefs as N}from'../../hooks/use-sync-refs.js';import{useTextValue as Te}from'../../hooks/use-text-value.js';import{useTrackedPointer as ye}from'../../hooks/use-tracked-pointer.js';import{useTreeWalker as ge}from'../../hooks/use-tree-walker.js';import{FloatingProvider as Ie,useFloatingPanel as Me,useFloatingPanelProps as Pe,useFloatingReference as Ae,useFloatingReferenceProps as Se}from'../../internal/floating.js';import{Modal as be,ModalFeatures as Ee}from'../../internal/modal.js';import{OpenClosedProvider as Re,State as w,useOpenClosed as ve}from'../../internal/open-closed.js';import{isDisabledReactIssue7711 as xe}from'../../utils/bugs.js';import{Focus as y,calculateActiveIndex as K}from'../../utils/calculate-active-index.js';import{disposables as j}from'../../utils/disposables.js';import{Focus as z,FocusableMode as _e,focusFrom as De,isFocusableElement as Fe,restoreFocusIfNecessary as Y,sortByDomNode as he}from'../../utils/focus-management.js';import{match as Z}from'../../utils/match.js';import{RenderFeatures as ee,forwardRefWithAs as E,mergeProps as te,render as R}from'../../utils/render.js';import{useDescriptions as Ce}from'../description/description.js';import{Keys as T}from'../keyboard.js';import{useLabelContext as Oe,useLabels as ne}from'../label/label.js';import{Portal as Le}from'../portal/portal.js';var Ge=(n=>(n[n.Open=0]=\"Open\",n[n.Closed=1]=\"Closed\",n))(Ge||{}),Ue=(n=>(n[n.Pointer=0]=\"Pointer\",n[n.Other=1]=\"Other\",n))(Ue||{}),He=(t=>(t[t.OpenMenu=0]=\"OpenMenu\",t[t.CloseMenu=1]=\"CloseMenu\",t[t.GoToItem=2]=\"GoToItem\",t[t.Search=3]=\"Search\",t[t.ClearSearch=4]=\"ClearSearch\",t[t.RegisterItem=5]=\"RegisterItem\",t[t.UnregisterItem=6]=\"UnregisterItem\",t))(He||{});function Q(e,r=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,a=he(r(e.items.slice()),s=>s.dataRef.current.domRef.current),i=n?a.indexOf(n):null;return i===-1&&(i=null),{items:a,activeItemIndex:i}}let ke={[1](e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},[0](e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},[2]:(e,r)=>{var s,l,t,u,m;if(e.menuState===1)return e;let n={...e,searchQuery:\"\",activationTrigger:(s=r.trigger)!=null?s:1};if(r.focus===y.Nothing)return{...n,activeItemIndex:null};if(r.focus===y.Specific)return{...n,activeItemIndex:e.items.findIndex(d=>d.id===r.id)};if(r.focus===y.Previous){let d=e.activeItemIndex;if(d!==null){let M=e.items[d].dataRef.current.domRef,f=K(r,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(f!==null){let p=e.items[f].dataRef.current.domRef;if(((l=M.current)==null?void 0:l.previousElementSibling)===p.current||((t=p.current)==null?void 0:t.previousElementSibling)===null)return{...n,activeItemIndex:f}}}}else if(r.focus===y.Next){let d=e.activeItemIndex;if(d!==null){let M=e.items[d].dataRef.current.domRef,f=K(r,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(f!==null){let p=e.items[f].dataRef.current.domRef;if(((u=M.current)==null?void 0:u.nextElementSibling)===p.current||((m=p.current)==null?void 0:m.nextElementSibling)===null)return{...n,activeItemIndex:f}}}}let a=Q(e),i=K(r,{resolveItems:()=>a.items,resolveActiveIndex:()=>a.activeItemIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});return{...n,...a,activeItemIndex:i}},[3]:(e,r)=>{let a=e.searchQuery!==\"\"?0:1,i=e.searchQuery+r.value.toLowerCase(),l=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+a).concat(e.items.slice(0,e.activeItemIndex+a)):e.items).find(u=>{var m;return((m=u.dataRef.current.textValue)==null?void 0:m.startsWith(i))&&!u.dataRef.current.disabled}),t=l?e.items.indexOf(l):-1;return t===-1||t===e.activeItemIndex?{...e,searchQuery:i}:{...e,searchQuery:i,activeItemIndex:t,activationTrigger:1}},[4](e){return e.searchQuery===\"\"?e:{...e,searchQuery:\"\",searchActiveItemIndex:null}},[5]:(e,r)=>{let n=Q(e,a=>[...a,{id:r.id,dataRef:r.dataRef}]);return{...e,...n}},[6]:(e,r)=>{let n=Q(e,a=>{let i=a.findIndex(s=>s.id===r.id);return i!==-1&&a.splice(i,1),a});return{...e,...n,activationTrigger:1}}},J=ae(null);J.displayName=\"MenuContext\";function B(e){let r=ie(J);if(r===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,B),n}return r}function Ne(e,r){return Z(r.type,ke,e,r)}let we=W;function Be(e,r){let{__demoMode:n=!1,...a}=e,i=le(Ne,{__demoMode:n,menuState:n?0:1,buttonRef:X(),itemsRef:X(),items:[],searchQuery:\"\",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:l,buttonRef:t},u]=i,m=N(r);me([t,l],(p,A)=>{var P;u({type:1}),Fe(A,_e.Loose)||(p.preventDefault(),(P=t.current)==null||P.focus())},s===0);let d=I(()=>{u({type:1})}),M=U(()=>({open:s===0,close:d}),[s,d]),f={ref:m};return b.createElement(Ie,null,b.createElement(J.Provider,{value:i},b.createElement(Re,{value:Z(s,{[0]:w.Open,[1]:w.Closed})},R({ourProps:f,theirProps:a,slot:M,defaultTag:we,name:\"Menu\"}))))}let We=\"button\";function Ke(e,r){var D,F,h;let n=H(),{id:a=`headlessui-menu-button-${n}`,...i}=e,[s,l]=B(\"Menu.Button\"),t=Se(),u=N(s.buttonRef,r,Ae()),m=q(),d=I(c=>{switch(c.key){case T.Space:case T.Enter:case T.ArrowDown:c.preventDefault(),c.stopPropagation(),l({type:0}),m.nextFrame(()=>l({type:2,focus:y.First}));break;case T.ArrowUp:c.preventDefault(),c.stopPropagation(),l({type:0}),m.nextFrame(()=>l({type:2,focus:y.Last}));break}}),M=I(c=>{switch(c.key){case T.Space:c.preventDefault();break}}),f=I(c=>{if(xe(c.currentTarget))return c.preventDefault();e.disabled||(s.menuState===0?(l({type:1}),m.nextFrame(()=>{var C;return(C=s.buttonRef.current)==null?void 0:C.focus({preventScroll:!0})})):(c.preventDefault(),l({type:0})))}),{isFocusVisible:p,focusProps:A}=re({autoFocus:(D=e.autoFocus)!=null?D:!1}),{isHovered:P,hoverProps:S}=oe({isDisabled:(F=e.disabled)!=null?F:!1}),{pressed:v,pressProps:x}=ue(),_=U(()=>{var c;return{open:s.menuState===0,active:v||s.menuState===0,hover:P,focus:p,autofocus:(c=e.autoFocus)!=null?c:!1}},[s,P,p,v,e.autoFocus]),O=te(t(),{ref:u,id:a,type:fe(e,s.buttonRef),\"aria-haspopup\":\"menu\",\"aria-controls\":(h=s.itemsRef.current)==null?void 0:h.id,\"aria-expanded\":s.menuState===0,onKeyDown:d,onKeyUp:M,onClick:f},A,S,x);return R({ourProps:O,theirProps:i,slot:_,defaultTag:We,name:\"Menu.Button\"})}let je=\"div\",Qe=ee.RenderStrategy|ee.Static;function Je(e,r){var C,g;let n=H(),{id:a=`headlessui-menu-items-${n}`,anchor:i,modal:s,...l}=e,[t,u]=B(\"Menu.Items\"),[m,d]=Me(i),M=Pe(),f=N(t.itemsRef,r,m),p=ce(t.itemsRef);i!=null&&s==null?s=!0:s==null&&(s=!1);let A=q(),P=ve(),S=(()=>P!==null?(P&w.Open)===w.Open:t.menuState===0)(),x=pe(t.buttonRef,t.menuState!==0)?!1:S;se(()=>{let o=t.itemsRef.current;o&&t.menuState===0&&o!==(p==null?void 0:p.activeElement)&&o.focus({preventScroll:!0})},[t.menuState,t.itemsRef,p]),ge({container:t.itemsRef.current,enabled:t.menuState===0,accept(o){return o.getAttribute(\"role\")===\"menuitem\"?NodeFilter.FILTER_REJECT:o.hasAttribute(\"role\")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(o){o.setAttribute(\"role\",\"none\")}});let _=I(o=>{var L,V;switch(A.dispose(),o.key){case T.Space:if(t.searchQuery!==\"\")return o.preventDefault(),o.stopPropagation(),u({type:3,value:o.key});case T.Enter:if(o.preventDefault(),o.stopPropagation(),u({type:1}),t.activeItemIndex!==null){let{dataRef:G}=t.items[t.activeItemIndex];(V=(L=G.current)==null?void 0:L.domRef.current)==null||V.click()}Y(t.buttonRef.current);break;case T.ArrowDown:return o.preventDefault(),o.stopPropagation(),u({type:2,focus:y.Next});case T.ArrowUp:return o.preventDefault(),o.stopPropagation(),u({type:2,focus:y.Previous});case T.Home:case T.PageUp:return o.preventDefault(),o.stopPropagation(),u({type:2,focus:y.First});case T.End:case T.PageDown:return o.preventDefault(),o.stopPropagation(),u({type:2,focus:y.Last});case T.Escape:o.preventDefault(),o.stopPropagation(),u({type:1}),j().nextFrame(()=>{var G;return(G=t.buttonRef.current)==null?void 0:G.focus({preventScroll:!0})});break;case T.Tab:o.preventDefault(),o.stopPropagation(),u({type:1}),j().microTask(()=>{De(t.buttonRef.current,o.shiftKey?z.Previous:z.Next)});break;default:o.key.length===1&&(u({type:3,value:o.key}),A.setTimeout(()=>u({type:4}),350));break}}),O=I(o=>{switch(o.key){case T.Space:o.preventDefault();break}}),D=U(()=>({open:t.menuState===0}),[t]),F=te(M(),{\"aria-activedescendant\":t.activeItemIndex===null||(C=t.items[t.activeItemIndex])==null?void 0:C.id,\"aria-labelledby\":(g=t.buttonRef.current)==null?void 0:g.id,id:a,onKeyDown:_,onKeyUp:O,role:\"menu\",tabIndex:0,ref:f,style:{...d,\"--button-width\":de(t.buttonRef,!0).width}}),h=s?be:i?Le:W,c=s?{features:Ee.ScrollLock,enabled:t.menuState===0}:{};return b.createElement(h,{...c},R({ourProps:F,theirProps:l,slot:D,defaultTag:je,features:Qe,visible:x,name:\"Menu.Items\"}))}let Ve=W;function Xe(e,r){let n=H(),{id:a=`headlessui-menu-item-${n}`,disabled:i=!1,...s}=e,[l,t]=B(\"Menu.Item\"),u=l.activeItemIndex!==null?l.items[l.activeItemIndex].id===a:!1,m=$(null),d=N(r,m);k(()=>{if(l.__demoMode||l.menuState!==0||!u||l.activationTrigger===0)return;let g=j();return g.requestAnimationFrame(()=>{var o,L;(L=(o=m.current)==null?void 0:o.scrollIntoView)==null||L.call(o,{block:\"nearest\"})}),g.dispose},[l.__demoMode,m,u,l.menuState,l.activationTrigger,l.activeItemIndex]);let M=Te(m),f=$({disabled:i,domRef:m,get textValue(){return M()}});k(()=>{f.current.disabled=i},[f,i]),k(()=>(t({type:5,id:a,dataRef:f}),()=>t({type:6,id:a})),[f,a]);let p=I(()=>{t({type:1})}),A=I(g=>{if(i)return g.preventDefault();t({type:1}),Y(l.buttonRef.current)}),P=I(()=>{if(i)return t({type:2,focus:y.Nothing});t({type:2,focus:y.Specific,id:a})}),S=ye(),v=I(g=>{S.update(g),!i&&(u||t({type:2,focus:y.Specific,id:a,trigger:0}))}),x=I(g=>{S.wasMoved(g)&&(i||u||t({type:2,focus:y.Specific,id:a,trigger:0}))}),_=I(g=>{S.wasMoved(g)&&(i||u&&t({type:2,focus:y.Nothing}))}),[O,D]=ne(),[F,h]=Ce(),c=U(()=>({active:u,focus:u,disabled:i,close:p}),[u,i,p]);return b.createElement(D,null,b.createElement(h,null,R({ourProps:{id:a,ref:d,role:\"menuitem\",tabIndex:i===!0?void 0:-1,\"aria-disabled\":i===!0?!0:void 0,\"aria-labelledby\":O,\"aria-describedby\":F,disabled:void 0,onClick:A,onFocus:P,onPointerEnter:v,onMouseEnter:v,onPointerMove:x,onMouseMove:x,onPointerLeave:_,onMouseLeave:_},theirProps:s,slot:c,defaultTag:Ve,name:\"Menu.Item\"})))}let $e=\"div\";function qe(e,r){let[n,a]=ne();return b.createElement(a,null,R({ourProps:{ref:r,\"aria-labelledby\":n,role:\"group\"},theirProps:e,slot:{},defaultTag:$e,name:\"Menu.Section\"}))}let ze=\"header\";function Ye(e,r){let n=H(),{id:a=`headlessui-menu-heading-${n}`,...i}=e,s=Oe();k(()=>s.register(a),[a,s.register]);let l={id:a,ref:r,role:\"presentation\",...s.props};return R({ourProps:l,theirProps:i,slot:{},defaultTag:ze,name:\"Menu.Heading\"})}let Ze=\"div\";function et(e,r){return R({ourProps:{ref:r,role:\"separator\"},theirProps:e,slot:{},defaultTag:Ze,name:\"Menu.Separator\"})}let tt=E(Be),nt=E(Ke),rt=E(Je),ot=E(Xe),at=E(qe),it=E(Ye),st=E(et),kt=Object.assign(tt,{Button:nt,Items:rt,Item:ot,Section:at,Heading:it,Separator:st});export{kt as Menu,nt as MenuButton,it as MenuHeading,ot as MenuItem,rt as MenuItems,at as MenuSection,st as MenuSeparator};\n", "import{useRef as o}from\"react\";import{useIsoMorphicEffect as f}from'./use-iso-morphic-effect.js';function p(e,r=!0){let t=o({left:0,top:0});if(f(()=>{let u=e.current;if(!u)return;let l=u.getBoundingClientRect();l&&(t.current=l)},[r]),e.current==null||!r||e.current===document.activeElement)return!1;let n=e.current.getBoundingClientRect();return n.top!==t.current.top||n.left!==t.current.left}export{p as useDidElementMove};\n", "\"use client\";import{useFocusRing as Oe}from\"@react-aria/focus\";import{useHover as Ce}from\"@react-aria/interactions\";import y,{Fragment as Me,createContext as Z,createRef as me,useContext as ee,useEffect as te,useMemo as h,useReducer as xe,useRef as q,useState as ye}from\"react\";import{useActivePress as _e}from'../../hooks/use-active-press.js';import{useEvent as S}from'../../hooks/use-event.js';import{useEventListener as Le}from'../../hooks/use-event-listener.js';import{useId as oe}from'../../hooks/use-id.js';import{useIsoMorphicEffect as Ie}from'../../hooks/use-iso-morphic-effect.js';import{useLatestValue as Ee}from'../../hooks/use-latest-value.js';import{useOutsideClick as Be}from'../../hooks/use-outside-click.js';import{useOwnerDocument as pe}from'../../hooks/use-owner.js';import{useResolveButtonType as he}from'../../hooks/use-resolve-button-type.js';import{useMainTreeNode as De,useRootContainers as Ge}from'../../hooks/use-root-containers.js';import{optionalRef as He,useSyncRefs as X}from'../../hooks/use-sync-refs.js';import{Direction as H,useTabDirection as be}from'../../hooks/use-tab-direction.js';import{FloatingProvider as Ne,useFloatingPanel as ke,useFloatingPanelProps as we,useFloatingReference as Ue}from'../../internal/floating.js';import{Hidden as se,HiddenFeatures as ue}from'../../internal/hidden.js';import{Modal as ge,ModalFeatures as We}from'../../internal/modal.js';import{OpenClosedProvider as Ve,State as Y,useOpenClosed as Se}from'../../internal/open-closed.js';import{isDisabledReactIssue7711 as Ae}from'../../utils/bugs.js';import{Focus as N,FocusResult as ie,FocusableMode as Ke,focusIn as U,getFocusableElements as fe,isFocusableElement as je}from'../../utils/focus-management.js';import{match as W}from'../../utils/match.js';import'../../utils/micro-task.js';import{getOwnerDocument as $e}from'../../utils/owner.js';import{RenderFeatures as re,forwardRefWithAs as z,mergeProps as Pe,render as Q,useMergeRefsFn as Je}from'../../utils/render.js';import{FocusTrapFeatures as Xe}from'../focus-trap/focus-trap.js';import{Keys as V}from'../keyboard.js';import{Portal as Re,useNestedPortals as Ye}from'../portal/portal.js';var qe=(f=>(f[f.Open=0]=\"Open\",f[f.Closed=1]=\"Closed\",f))(qe||{}),ze=(n=>(n[n.TogglePopover=0]=\"TogglePopover\",n[n.ClosePopover=1]=\"ClosePopover\",n[n.SetButton=2]=\"SetButton\",n[n.SetButtonId=3]=\"SetButtonId\",n[n.SetPanel=4]=\"SetPanel\",n[n.SetPanelId=5]=\"SetPanelId\",n))(ze||{});let Qe={[0]:e=>{let l={...e,popoverState:W(e.popoverState,{[0]:1,[1]:0})};return l.popoverState===0&&(l.__demoMode=!1),l},[1](e){return e.popoverState===1?e:{...e,popoverState:1}},[2](e,l){return e.button===l.button?e:{...e,button:l.button}},[3](e,l){return e.buttonId===l.buttonId?e:{...e,buttonId:l.buttonId}},[4](e,l){return e.panel===l.panel?e:{...e,panel:l.panel}},[5](e,l){return e.panelId===l.panelId?e:{...e,panelId:l.panelId}}},de=Z(null);de.displayName=\"PopoverContext\";function ne(e){let l=ee(de);if(l===null){let f=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(f,ne),f}return l}let le=Z(null);le.displayName=\"PopoverAPIContext\";function ce(e){let l=ee(le);if(l===null){let f=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(f,ce),f}return l}let ve=Z(null);ve.displayName=\"PopoverGroupContext\";function Fe(){return ee(ve)}let ae=Z(null);ae.displayName=\"PopoverPanelContext\";function Ze(){return ee(ae)}function et(e,l){return W(l.type,Qe,e,l)}let tt=\"div\";function ot(e,l){var P;let{__demoMode:f=!1,...O}=e,C=q(null),a=X(l,He(o=>{C.current=o})),n=q([]),x=xe(et,{__demoMode:f,popoverState:f?0:1,buttons:n,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:me(),afterPanelSentinel:me()}),[{popoverState:t,button:p,buttonId:A,panel:s,panelId:k,beforePanelSentinel:m,afterPanelSentinel:T},d]=x,i=pe((P=C.current)!=null?P:p),b=h(()=>{if(!p||!s)return!1;for(let E of document.querySelectorAll(\"body > *\"))if(Number(E==null?void 0:E.contains(p))^Number(E==null?void 0:E.contains(s)))return!0;let o=fe(),u=o.indexOf(p),c=(u+o.length-1)%o.length,F=(u+1)%o.length,r=o[c],v=o[F];return!s.contains(r)&&!s.contains(v)},[p,s]),M=Ee(A),g=Ee(k),L=h(()=>({buttonId:M,panelId:g,close:()=>d({type:1})}),[M,g,d]),R=Fe(),_=R==null?void 0:R.registerPopover,K=S(()=>{var o;return(o=R==null?void 0:R.isFocusWithinPopoverGroup())!=null?o:(i==null?void 0:i.activeElement)&&((p==null?void 0:p.contains(i.activeElement))||(s==null?void 0:s.contains(i.activeElement)))});te(()=>_==null?void 0:_(L),[_,L]);let[j,$]=Ye(),I=Ge({mainTreeNodeRef:R==null?void 0:R.mainTreeNodeRef,portals:j,defaultContainers:[p,s]});Le(i==null?void 0:i.defaultView,\"focus\",o=>{var u,c,F,r;o.target!==window&&o.target instanceof HTMLElement&&t===0&&(K()||p&&s&&(I.contains(o.target)||(c=(u=m.current)==null?void 0:u.contains)!=null&&c.call(u,o.target)||(r=(F=T.current)==null?void 0:F.contains)!=null&&r.call(F,o.target)||d({type:1})))},!0),Be(I.resolveContainers,(o,u)=>{d({type:1}),je(u,Ke.Loose)||(o.preventDefault(),p==null||p.focus())},t===0);let B=S(o=>{d({type:1});let u=(()=>o?o instanceof HTMLElement?o:\"current\"in o&&o.current instanceof HTMLElement?o.current:p:p)();u==null||u.focus()}),D=h(()=>({close:B,isPortalled:b}),[B,b]),w=h(()=>({open:t===0,close:B}),[t,B]),J={ref:a};return y.createElement(Ne,null,y.createElement(ae.Provider,{value:null},y.createElement(de.Provider,{value:x},y.createElement(le.Provider,{value:D},y.createElement(Ve,{value:W(t,{[0]:Y.Open,[1]:Y.Closed})},y.createElement($,null,Q({ourProps:J,theirProps:O,slot:w,defaultTag:tt,name:\"Popover\"}),y.createElement(I.MainTreeNode,null)))))))}let rt=\"button\";function nt(e,l){var c,F;let f=oe(),{id:O=`headlessui-popover-button-${f}`,...C}=e,[a,n]=ne(\"Popover.Button\"),{isPortalled:x}=ce(\"Popover.Button\"),t=q(null),p=`headlessui-focus-sentinel-${oe()}`,A=Fe(),s=A==null?void 0:A.closeOthers,m=Ze()!==null;te(()=>{if(!m)return n({type:3,buttonId:O}),()=>{n({type:3,buttonId:null})}},[m,O,n]);let[T]=ye(()=>Symbol()),d=X(t,l,Ue(),m?null:r=>{if(r)a.buttons.current.push(T);else{let v=a.buttons.current.indexOf(T);v!==-1&&a.buttons.current.splice(v,1)}a.buttons.current.length>1&&console.warn(\"You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported.\"),r&&n({type:2,button:r})}),i=X(t,l),b=pe(t),M=S(r=>{var v,E,G;if(m){if(a.popoverState===1)return;switch(r.key){case V.Space:case V.Enter:r.preventDefault(),(E=(v=r.target).click)==null||E.call(v),n({type:1}),(G=a.button)==null||G.focus();break}}else switch(r.key){case V.Space:case V.Enter:r.preventDefault(),r.stopPropagation(),a.popoverState===1&&(s==null||s(a.buttonId)),n({type:0});break;case V.Escape:if(a.popoverState!==0)return s==null?void 0:s(a.buttonId);if(!t.current||b!=null&&b.activeElement&&!t.current.contains(b.activeElement))return;r.preventDefault(),r.stopPropagation(),n({type:1});break}}),g=S(r=>{m||r.key===V.Space&&r.preventDefault()}),L=S(r=>{var v,E;Ae(r.currentTarget)||e.disabled||(m?(n({type:1}),(v=a.button)==null||v.focus()):(r.preventDefault(),r.stopPropagation(),a.popoverState===1&&(s==null||s(a.buttonId)),n({type:0}),(E=a.button)==null||E.focus()))}),R=S(r=>{r.preventDefault(),r.stopPropagation()}),{isFocusVisible:_,focusProps:K}=Oe({autoFocus:(c=e.autoFocus)!=null?c:!1}),{isHovered:j,hoverProps:$}=Ce({isDisabled:(F=e.disabled)!=null?F:!1}),{pressed:I,pressProps:B}=_e(),D=a.popoverState===0,w=h(()=>{var r;return{open:D,active:I||D,hover:j,focus:_,autofocus:(r=e.autoFocus)!=null?r:!1}},[D,j,_,I,e.autoFocus]),J=he(e,t),P=m?Pe({ref:i,type:J,onKeyDown:M,onClick:L},K,$,B):Pe({ref:d,id:a.buttonId,type:J,\"aria-expanded\":a.popoverState===0,\"aria-controls\":a.panel?a.panelId:void 0,onKeyDown:M,onKeyUp:g,onClick:L,onMouseDown:R},K,$,B),o=be(),u=S(()=>{let r=a.panel;if(!r)return;function v(){W(o.current,{[H.Forwards]:()=>U(r,N.First),[H.Backwards]:()=>U(r,N.Last)})===ie.Error&&U(fe().filter(G=>G.dataset.headlessuiFocusGuard!==\"true\"),W(o.current,{[H.Forwards]:N.Next,[H.Backwards]:N.Previous}),{relativeTo:a.button})}v()});return y.createElement(y.Fragment,null,Q({ourProps:P,theirProps:C,slot:w,defaultTag:rt,name:\"Popover.Button\"}),D&&!m&&x&&y.createElement(se,{id:p,features:ue.Focusable,\"data-headlessui-focus-guard\":!0,as:\"button\",type:\"button\",onFocus:u}))}let lt=\"div\",at=re.RenderStrategy|re.Static;function pt(e,l){let f=oe(),{id:O=`headlessui-popover-overlay-${f}`,...C}=e,[{popoverState:a},n]=ne(\"Popover.Overlay\"),x=X(l),t=Se(),p=(()=>t!==null?(t&Y.Open)===Y.Open:a===0)(),A=S(m=>{if(Ae(m.currentTarget))return m.preventDefault();n({type:1})}),s=h(()=>({open:a===0}),[a]);return Q({ourProps:{ref:x,id:O,\"aria-hidden\":!0,onClick:A},theirProps:C,slot:s,defaultTag:lt,features:at,visible:p,name:\"Popover.Overlay\"})}let st=\"div\",ut=re.RenderStrategy|re.Static;function it(e,l){let f=oe(),{id:O=`headlessui-popover-panel-${f}`,focus:C=!1,anchor:a,modal:n,...x}=e,[t,p]=ne(\"Popover.Panel\"),{close:A,isPortalled:s}=ce(\"Popover.Panel\"),k=`headlessui-focus-sentinel-before-${f}`,m=`headlessui-focus-sentinel-after-${f}`,T=q(null),[d,i]=ke(a),b=we();a!=null&&n==null?n=!0:n==null&&(n=!1);let M=X(T,l,d,P=>{p({type:4,panel:P})}),g=pe(T),L=Je();Ie(()=>(p({type:5,panelId:O}),()=>{p({type:5,panelId:null})}),[O,p]);let R=Se(),_=(()=>R!==null?(R&Y.Open)===Y.Open:t.popoverState===0)(),K=S(P=>{var o;switch(P.key){case V.Escape:if(t.popoverState!==0||!T.current||g!=null&&g.activeElement&&!T.current.contains(g.activeElement))return;P.preventDefault(),P.stopPropagation(),p({type:1}),(o=t.button)==null||o.focus();break}});te(()=>{var P;e.static||t.popoverState===1&&((P=e.unmount)==null||P)&&p({type:4,panel:null})},[t.popoverState,e.unmount,e.static,p]),te(()=>{if(t.__demoMode||!C||t.popoverState!==0||!T.current)return;let P=g==null?void 0:g.activeElement;T.current.contains(P)||U(T.current,N.First)},[t.__demoMode,C,T,t.popoverState]);let j=h(()=>({open:t.popoverState===0,close:A}),[t,A]),$=Pe(b(),{ref:M,id:O,onKeyDown:K,onBlur:C&&t.popoverState===0?P=>{var u,c,F,r,v;let o=P.relatedTarget;o&&T.current&&((u=T.current)!=null&&u.contains(o)||(p({type:1}),((F=(c=t.beforePanelSentinel.current)==null?void 0:c.contains)!=null&&F.call(c,o)||(v=(r=t.afterPanelSentinel.current)==null?void 0:r.contains)!=null&&v.call(r,o))&&o.focus({preventScroll:!0})))}:void 0,tabIndex:-1,...i?{style:i}:{}}),I=be(),B=S(()=>{let P=T.current;if(!P)return;function o(){W(I.current,{[H.Forwards]:()=>{var c;U(P,N.First)===ie.Error&&((c=t.afterPanelSentinel.current)==null||c.focus())},[H.Backwards]:()=>{var u;(u=t.button)==null||u.focus({preventScroll:!0})}})}o()}),D=S(()=>{let P=T.current;if(!P)return;function o(){W(I.current,{[H.Forwards]:()=>{var E;if(!t.button)return;let u=fe(),c=u.indexOf(t.button),F=u.slice(0,c+1),v=[...u.slice(c+1),...F];for(let G of v.slice())if(G.dataset.headlessuiFocusGuard===\"true\"||(E=t.panel)!=null&&E.contains(G)){let Te=v.indexOf(G);Te!==-1&&v.splice(Te,1)}U(v,N.First,{sorted:!1})},[H.Backwards]:()=>{var c;U(P,N.Previous)===ie.Error&&((c=t.button)==null||c.focus())}})}o()}),w=n?ge:a?Re:Me,J=n?{focusTrapFeatures:Xe.None,features:We.ScrollLock,enabled:t.popoverState===0}:{};return(w===Re||w===ge)&&(s=!0),y.createElement(ae.Provider,{value:O},y.createElement(le.Provider,{value:{close:A,isPortalled:s}},y.createElement(w,{...J},_&&s&&y.createElement(se,{id:k,ref:t.beforePanelSentinel,features:ue.Focusable,\"data-headlessui-focus-guard\":!0,as:\"button\",type:\"button\",onFocus:B}),Q({mergeRefs:L,ourProps:$,theirProps:x,slot:j,defaultTag:st,features:ut,visible:_,name:\"Popover.Panel\"}),_&&s&&y.createElement(se,{id:m,ref:t.afterPanelSentinel,features:ue.Focusable,\"data-headlessui-focus-guard\":!0,as:\"button\",type:\"button\",onFocus:D}))))}let ft=\"div\";function Pt(e,l){let f=q(null),O=X(f,l),[C,a]=ye([]),n=De(),x=S(d=>{a(i=>{let b=i.indexOf(d);if(b!==-1){let M=i.slice();return M.splice(b,1),M}return i})}),t=S(d=>(a(i=>[...i,d]),()=>x(d))),p=S(()=>{var b;let d=$e(f);if(!d)return!1;let i=d.activeElement;return(b=f.current)!=null&&b.contains(i)?!0:C.some(M=>{var g,L;return((g=d.getElementById(M.buttonId.current))==null?void 0:g.contains(i))||((L=d.getElementById(M.panelId.current))==null?void 0:L.contains(i))})}),A=S(d=>{for(let i of C)i.buttonId.current!==d&&i.close()}),s=h(()=>({registerPopover:t,unregisterPopover:x,isFocusWithinPopoverGroup:p,closeOthers:A,mainTreeNodeRef:n.mainTreeNodeRef}),[t,x,p,A,n.mainTreeNodeRef]),k=h(()=>({}),[]),m=e,T={ref:O};return y.createElement(ve.Provider,{value:s},Q({ourProps:T,theirProps:m,slot:k,defaultTag:ft,name:\"Popover.Group\"}),y.createElement(n.MainTreeNode,null))}let dt=z(ot),ct=z(nt),vt=z(pt),Tt=z(it),mt=z(Pt),Jt=Object.assign(dt,{Button:ct,Overlay:vt,Panel:Tt,Group:mt});export{Jt as Popover,ct as PopoverButton,mt as PopoverGroup,vt as PopoverOverlay,Tt as PopoverPanel};\n", "\"use client\";import{useFocusRing as Q}from\"@react-aria/focus\";import{useHover as Y}from\"@react-aria/interactions\";import G,{createContext as Z,useCallback as me,useContext as ee,useMemo as x,useReducer as ye,useRef as B}from\"react\";import{useByComparator as Re}from'../../hooks/use-by-comparator.js';import{useControllable as be}from'../../hooks/use-controllable.js';import{useEvent as S}from'../../hooks/use-event.js';import{useId as K}from'../../hooks/use-id.js';import{useIsoMorphicEffect as te}from'../../hooks/use-iso-morphic-effect.js';import{useLatestValue as oe}from'../../hooks/use-latest-value.js';import{useSyncRefs as $}from'../../hooks/use-sync-refs.js';import{useDisabled as re}from'../../internal/disabled.js';import{FormFields as ge}from'../../internal/form-fields.js';import{useProvidedId as Oe}from'../../internal/id.js';import{isDisabledReactIssue7711 as ne}from'../../utils/bugs.js';import{Focus as N,FocusResult as ie,focusIn as ae,sortByDomNode as Pe}from'../../utils/focus-management.js';import{attemptSubmit as ve}from'../../utils/form.js';import{match as De}from'../../utils/match.js';import{getOwnerDocument as Ae}from'../../utils/owner.js';import{forwardRefWithAs as j,mergeProps as pe,render as V}from'../../utils/render.js';import{Description as _e,useDescribedBy as Ee,useDescriptions as le}from'../description/description.js';import{Keys as F}from'../keyboard.js';import{Label as Ge,useLabelledBy as xe,useLabels as se}from'../label/label.js';var Ce=(t=>(t[t.RegisterOption=0]=\"RegisterOption\",t[t.UnregisterOption=1]=\"UnregisterOption\",t))(Ce||{});let he={[0](e,o){let t=[...e.options,{id:o.id,element:o.element,propsRef:o.propsRef}];return{...e,options:Pe(t,a=>a.element.current)}},[1](e,o){let t=e.options.slice(),a=e.options.findIndex(y=>y.id===o.id);return a===-1?e:(t.splice(a,1),{...e,options:t})}},J=Z(null);J.displayName=\"RadioGroupDataContext\";function X(e){let o=ee(J);if(o===null){let t=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,X),t}return o}let z=Z(null);z.displayName=\"RadioGroupActionsContext\";function q(e){let o=ee(z);if(o===null){let t=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,q),t}return o}function Le(e,o){return De(o.type,he,e,o)}let ke=\"div\";function Fe(e,o){let t=K(),a=re(),{id:y=`headlessui-radiogroup-${t}`,value:C,defaultValue:h,form:u,name:b,onChange:p,by:I,disabled:f=a||!1,...w}=e,T=Re(I),[c,R]=ye(Le,{options:[]}),l=c.options,[L,s]=se(),[g,U]=le(),D=B(null),O=$(D,o),[n,A]=be(C,p,h),_=x(()=>l.find(r=>!r.propsRef.current.disabled),[l]),P=x(()=>l.some(r=>T(r.propsRef.current.value,n)),[l,n]),i=S(r=>{var d;if(f||T(r,n))return!1;let k=(d=l.find(H=>T(H.propsRef.current.value,r)))==null?void 0:d.propsRef.current;return k!=null&&k.disabled?!1:(A==null||A(r),!0)}),m=S(r=>{let k=D.current;if(!k)return;let d=Ae(k),H=l.filter(v=>v.propsRef.current.disabled===!1).map(v=>v.element.current);switch(r.key){case F.Enter:ve(r.currentTarget);break;case F.ArrowLeft:case F.ArrowUp:if(r.preventDefault(),r.stopPropagation(),ae(H,N.Previous|N.WrapAround)===ie.Success){let E=l.find(W=>W.element.current===(d==null?void 0:d.activeElement));E&&i(E.propsRef.current.value)}break;case F.ArrowRight:case F.ArrowDown:if(r.preventDefault(),r.stopPropagation(),ae(H,N.Next|N.WrapAround)===ie.Success){let E=l.find(W=>W.element.current===(d==null?void 0:d.activeElement));E&&i(E.propsRef.current.value)}break;case F.Space:{r.preventDefault(),r.stopPropagation();let v=l.find(E=>E.element.current===(d==null?void 0:d.activeElement));v&&i(v.propsRef.current.value)}break}}),M=S(r=>(R({type:0,...r}),()=>R({type:1,id:r.id}))),de=x(()=>({value:n,firstOption:_,containsCheckedOption:P,disabled:f,compare:T,...c}),[n,_,P,f,T,c]),ue=x(()=>({registerOption:M,change:i}),[M,i]),ce={ref:O,id:y,role:\"radiogroup\",\"aria-labelledby\":L,\"aria-describedby\":g,onKeyDown:m},fe=x(()=>({value:n}),[n]),Te=me(()=>i(h),[i]);return G.createElement(U,{name:\"RadioGroup.Description\"},G.createElement(s,{name:\"RadioGroup.Label\"},G.createElement(z.Provider,{value:ue},G.createElement(J.Provider,{value:de},b!=null&&G.createElement(ge,{data:n!=null?{[b]:n||\"on\"}:{},form:u,onReset:Te}),V({ourProps:ce,theirProps:w,slot:fe,defaultTag:ke,name:\"RadioGroup\"})))))}let Ie=\"div\";function we(e,o){var P,i;let t=K(),{id:a=`headlessui-radiogroup-option-${t}`,value:y,disabled:C=!1,...h}=e,u=B(null),b=$(u,o),[p,I]=se(),[f,w]=le(),T=oe({value:y,disabled:C}),c=X(\"RadioGroup.Option\"),R=q(\"RadioGroup.Option\");te(()=>R.registerOption({id:a,element:u,propsRef:T}),[a,R,u,T]);let l=S(m=>{var M;if(ne(m.currentTarget))return m.preventDefault();R.change(y)&&((M=u.current)==null||M.focus())}),L=((P=c.firstOption)==null?void 0:P.id)===a,s=c.disabled||C,{isFocusVisible:g,focusProps:U}=Q({within:!0,autoFocus:(i=e.autoFocus)!=null?i:!1}),{isHovered:D,hoverProps:O}=Y({isDisabled:s!=null?s:!1}),n=c.compare(c.value,y),A=pe({ref:b,id:a,role:\"radio\",\"aria-checked\":n?\"true\":\"false\",\"aria-labelledby\":p,\"aria-describedby\":f,\"aria-disabled\":s?!0:void 0,tabIndex:(()=>s?-1:n||!c.containsCheckedOption&&L?0:-1)(),onClick:s?void 0:l},U,O),_=x(()=>{var m;return{checked:n,disabled:s,active:g,hover:D,focus:g,autofocus:(m=e.autoFocus)!=null?m:!1}},[n,s,D,g,e.autoFocus]);return G.createElement(w,{name:\"RadioGroup.Description\"},G.createElement(I,{name:\"RadioGroup.Label\"},V({ourProps:A,theirProps:h,slot:_,defaultTag:Ie,name:\"RadioGroup.Option\"})))}let Ue=\"span\";function Me(e,o){var _,P;let t=X(\"Radio\"),a=q(\"Radio\"),y=K(),C=Oe(),h=re(),{id:u=C||`headlessui-radio-${y}`,value:b,disabled:p=t.disabled||h||!1,...I}=e,f=B(null),w=$(f,o),T=xe(),c=Ee(),R=oe({value:b,disabled:p});te(()=>a.registerOption({id:u,element:f,propsRef:R}),[u,a,f,R]);let l=S(i=>{var m;if(ne(i.currentTarget))return i.preventDefault();a.change(b)&&((m=f.current)==null||m.focus())}),{isFocusVisible:L,focusProps:s}=Q({autoFocus:(_=e.autoFocus)!=null?_:!1}),{isHovered:g,hoverProps:U}=Y({isDisabled:p!=null?p:!1}),D=((P=t.firstOption)==null?void 0:P.id)===u,O=t.compare(t.value,b),n=pe({ref:w,id:u,role:\"radio\",\"aria-checked\":O?\"true\":\"false\",\"aria-labelledby\":T,\"aria-describedby\":c,\"aria-disabled\":p?!0:void 0,tabIndex:(()=>p?-1:O||!t.containsCheckedOption&&D?0:-1)(),onClick:p?void 0:l},s,U),A=x(()=>{var i;return{checked:O,disabled:p,hover:g,focus:L,autofocus:(i=e.autoFocus)!=null?i:!1}},[O,p,g,L,e.autoFocus]);return V({ourProps:n,theirProps:I,slot:A,defaultTag:Ue,name:\"Radio\"})}let Se=j(Fe),He=j(we),dt=j(Me),Ne=Ge,We=_e,ut=Object.assign(Se,{Option:He,Label:Ne,Description:We});export{dt as Radio,ut as RadioGroup,We as RadioGroupDescription,Ne as RadioGroupLabel,He as RadioGroupOption};\n", "\"use client\";import{useFocusRing as v}from\"@react-aria/focus\";import{useHover as A}from\"@react-aria/interactions\";import{useMemo as g}from\"react\";import{useActivePress as F}from'../../hooks/use-active-press.js';import{useId as _}from'../../hooks/use-id.js';import{useDisabled as D}from'../../internal/disabled.js';import{useProvidedId as L}from'../../internal/id.js';import{forwardRefWithAs as C,mergeProps as h,render as x}from'../../utils/render.js';import{useDescribedBy as R}from'../description/description.js';import{useLabelledBy as H}from'../label/label.js';let B=\"select\";function G(o,n){var a;let d=_(),p=L(),c=D(),{id:u=p||`headlessui-select-${d}`,disabled:e=c||!1,invalid:t=!1,...m}=o,f=H(),T=R(),{isFocusVisible:r,focusProps:b}=v({within:!0,autoFocus:(a=o.autoFocus)!=null?a:!1}),{isHovered:l,hoverProps:y}=A({isDisabled:e!=null?e:!1}),{pressed:s,pressProps:E}=F(),P=h({ref:n,id:u,\"aria-labelledby\":f,\"aria-describedby\":T,\"aria-invalid\":t?\"\":void 0,disabled:e||void 0},b,y,E),S=g(()=>{var i;return{disabled:e,invalid:t,hover:l,focus:r,active:s,autofocus:(i=o.autoFocus)!=null?i:!1}},[e,t,l,r,s,o.autoFocus]);return x({ourProps:P,theirProps:m,slot:S,defaultTag:B,name:\"Select\"})}let j=C(G);export{j as Select};\n", "\"use client\";import{useFocusRing as j}from\"@react-aria/focus\";import{useHover as V}from\"@react-aria/interactions\";import l,{Fragment as $,createContext as q,useCallback as z,useContext as Q,useMemo as C,useRef as Y,useState as L}from\"react\";import{useActivePress as Z}from'../../hooks/use-active-press.js';import{useControllable as ee}from'../../hooks/use-controllable.js';import{useDisposables as te}from'../../hooks/use-disposables.js';import{useEvent as m}from'../../hooks/use-event.js';import{useId as oe}from'../../hooks/use-id.js';import{useResolveButtonType as re}from'../../hooks/use-resolve-button-type.js';import{useSyncRefs as ne}from'../../hooks/use-sync-refs.js';import{useDisabled as le}from'../../internal/disabled.js';import{FormFields as ie}from'../../internal/form-fields.js';import{useProvidedId as ae}from'../../internal/id.js';import{isDisabledReactIssue7711 as se}from'../../utils/bugs.js';import{attemptSubmit as pe}from'../../utils/form.js';import{forwardRefWithAs as ce,mergeProps as ue,render as x}from'../../utils/render.js';import{Description as me,useDescribedBy as de,useDescriptions as fe}from'../description/description.js';import{Keys as G}from'../keyboard.js';import{Label as he,useLabelledBy as Te,useLabels as be}from'../label/label.js';let b=q(null);b.displayName=\"GroupContext\";let ye=$;function Se(o){var i;let[r,s]=L(null),[d,f]=be(),[h,t]=fe(),p=C(()=>({switch:r,setSwitch:s}),[r,s]),c={},T=o;return l.createElement(t,{name:\"Switch.Description\",value:h},l.createElement(f,{name:\"Switch.Label\",value:d,props:{htmlFor:(i=p.switch)==null?void 0:i.id,onClick(u){r&&(u.currentTarget instanceof HTMLLabelElement&&u.preventDefault(),r.click(),r.focus({preventScroll:!0}))}}},l.createElement(b.Provider,{value:p},x({ourProps:c,theirProps:T,slot:{},defaultTag:ye,name:\"Switch.Group\"}))))}let we=\"button\";function _e(o,r){var v;let s=oe(),d=ae(),f=le(),{id:h=d||`headlessui-switch-${s}`,disabled:t=f||!1,checked:p,defaultChecked:c=!1,onChange:T,name:i,value:u,form:F,...R}=o,y=Q(b),S=Y(null),A=ne(S,r,y===null?null:y.setSwitch),[a,n]=ee(p,T,c),k=te(),[w,_]=L(!1),P=m(()=>{_(!0),n==null||n(!a),k.nextFrame(()=>{_(!1)})}),H=m(e=>{if(se(e.currentTarget))return e.preventDefault();e.preventDefault(),P()}),M=m(e=>{e.key===G.Space?(e.preventDefault(),P()):e.key===G.Enter&&pe(e.currentTarget)}),U=m(e=>e.preventDefault()),B=Te(),I=de(),{isFocusVisible:E,focusProps:K}=j({autoFocus:(v=o.autoFocus)!=null?v:!1}),{isHovered:g,hoverProps:W}=V({isDisabled:t!=null?t:!1}),{pressed:D,pressProps:O}=Z(),N=C(()=>{var e;return{checked:a,disabled:t,hover:g,focus:E,active:D,autofocus:(e=o.autoFocus)!=null?e:!1,changing:w}},[a,g,E,D,t,w,o.autoFocus]),J=ue({id:h,ref:A,role:\"switch\",type:re(o,S),tabIndex:0,\"aria-checked\":a,\"aria-labelledby\":B,\"aria-describedby\":I,disabled:t,onClick:H,onKeyUp:M,onKeyPress:U},K,W,O),X=z(()=>n==null?void 0:n(c),[n]);return l.createElement(l.Fragment,null,i!=null&&l.createElement(ie,{data:a?{[i]:u||\"on\"}:{},form:F,onReset:X}),x({ourProps:J,theirProps:R,slot:N,defaultTag:we,name:\"Switch\"}))}let Pe=ce(_e),Ee=Se,ge=he,De=me,Xe=Object.assign(Pe,{Group:Ee,Label:ge,Description:De});export{Xe as Switch,De as SwitchDescription,Ee as SwitchGroup,ge as SwitchLabel};\n", "\"use client\";import{useFocusRing as ue}from\"@react-aria/focus\";import{useHover as Te}from\"@react-aria/interactions\";import M,{Fragment as de,createContext as ne,useContext as re,useMemo as D,useReducer as ce,useRef as X}from\"react\";import{useActivePress as fe}from'../../hooks/use-active-press.js';import{useEvent as F}from'../../hooks/use-event.js';import{useId as ae}from'../../hooks/use-id.js';import{useIsoMorphicEffect as N}from'../../hooks/use-iso-morphic-effect.js';import{useLatestValue as $}from'../../hooks/use-latest-value.js';import{useResolveButtonType as be}from'../../hooks/use-resolve-button-type.js';import{useSyncRefs as G}from'../../hooks/use-sync-refs.js';import{FocusSentinel as me}from'../../internal/focus-sentinel.js';import{Hidden as Pe}from'../../internal/hidden.js';import{Focus as m,FocusResult as B,focusIn as I,sortByDomNode as w}from'../../utils/focus-management.js';import{match as U}from'../../utils/match.js';import{microTask as ye}from'../../utils/micro-task.js';import{getOwnerDocument as xe}from'../../utils/owner.js';import{RenderFeatures as oe,forwardRefWithAs as H,mergeProps as ge,render as k}from'../../utils/render.js';import{StableCollection as Ae,useStableCollectionIndex as le}from'../../utils/stable-collection.js';import{Keys as P}from'../keyboard.js';var Ee=(t=>(t[t.Forwards=0]=\"Forwards\",t[t.Backwards=1]=\"Backwards\",t))(Ee||{}),Le=(l=>(l[l.Less=-1]=\"Less\",l[l.Equal=0]=\"Equal\",l[l.Greater=1]=\"Greater\",l))(Le||{}),Re=(r=>(r[r.SetSelectedIndex=0]=\"SetSelectedIndex\",r[r.RegisterTab=1]=\"RegisterTab\",r[r.UnregisterTab=2]=\"UnregisterTab\",r[r.RegisterPanel=3]=\"RegisterPanel\",r[r.UnregisterPanel=4]=\"UnregisterPanel\",r))(Re||{});let _e={[0](e,n){var u;let t=w(e.tabs,T=>T.current),l=w(e.panels,T=>T.current),s=t.filter(T=>{var a;return!((a=T.current)!=null&&a.hasAttribute(\"disabled\"))}),r={...e,tabs:t,panels:l};if(n.index<0||n.index>t.length-1){let T=U(Math.sign(n.index-e.selectedIndex),{[-1]:()=>1,[0]:()=>U(Math.sign(n.index),{[-1]:()=>0,[0]:()=>0,[1]:()=>1}),[1]:()=>0});if(s.length===0)return r;let a=U(T,{[0]:()=>t.indexOf(s[0]),[1]:()=>t.indexOf(s[s.length-1])});return{...r,selectedIndex:a===-1?e.selectedIndex:a}}let i=t.slice(0,n.index),f=[...t.slice(n.index),...i].find(T=>s.includes(T));if(!f)return r;let c=(u=t.indexOf(f))!=null?u:e.selectedIndex;return c===-1&&(c=e.selectedIndex),{...r,selectedIndex:c}},[1](e,n){var r;if(e.tabs.includes(n.tab))return e;let t=e.tabs[e.selectedIndex],l=w([...e.tabs,n.tab],i=>i.current),s=(r=l.indexOf(t))!=null?r:e.selectedIndex;return s===-1&&(s=e.selectedIndex),{...e,tabs:l,selectedIndex:s}},[2](e,n){return{...e,tabs:e.tabs.filter(t=>t!==n.tab)}},[3](e,n){return e.panels.includes(n.panel)?e:{...e,panels:w([...e.panels,n.panel],t=>t.current)}},[4](e,n){return{...e,panels:e.panels.filter(t=>t!==n.panel)}}},q=ne(null);q.displayName=\"TabsDataContext\";function h(e){let n=re(q);if(n===null){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,h),t}return n}let z=ne(null);z.displayName=\"TabsActionsContext\";function V(e){let n=re(z);if(n===null){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,V),t}return n}function De(e,n){return U(n.type,_e,e,n)}let Fe=de;function Se(e,n){let{defaultIndex:t=0,vertical:l=!1,manual:s=!1,onChange:r,selectedIndex:i=null,...R}=e;const f=l?\"vertical\":\"horizontal\",c=s?\"manual\":\"auto\";let u=i!==null,T=G(n),[a,d]=ce(De,{selectedIndex:i!=null?i:t,tabs:[],panels:[]}),y=D(()=>({selectedIndex:a.selectedIndex}),[a.selectedIndex]),b=$(r||(()=>{})),x=$(a.tabs),g=D(()=>({orientation:f,activation:c,...a}),[f,c,a]),S=F(p=>(d({type:1,tab:p}),()=>d({type:2,tab:p}))),L=F(p=>(d({type:3,panel:p}),()=>d({type:4,panel:p}))),_=F(p=>{v.current!==p&&b.current(p),u||d({type:0,index:p})}),v=$(u?e.selectedIndex:a.selectedIndex),O=D(()=>({registerTab:S,registerPanel:L,change:_}),[]);N(()=>{d({type:0,index:i!=null?i:t})},[i]),N(()=>{if(v.current===void 0||a.tabs.length<=0)return;let p=w(a.tabs,A=>A.current);p.some((A,j)=>a.tabs[j]!==A)&&_(p.indexOf(a.tabs[v.current]))});let W={ref:T};return M.createElement(Ae,null,M.createElement(z.Provider,{value:O},M.createElement(q.Provider,{value:g},g.tabs.length<=0&&M.createElement(me,{onFocus:()=>{var p,C;for(let A of x.current)if(((p=A.current)==null?void 0:p.tabIndex)===0)return(C=A.current)==null||C.focus(),!0;return!1}}),k({ourProps:W,theirProps:R,slot:y,defaultTag:Fe,name:\"Tabs\"}))))}let Ie=\"div\";function he(e,n){let{orientation:t,selectedIndex:l}=h(\"Tab.List\"),s=G(n),r=D(()=>({selectedIndex:l}),[l]);return k({ourProps:{ref:s,role:\"tablist\",\"aria-orientation\":t},theirProps:e,slot:r,defaultTag:Ie,name:\"Tabs.List\"})}let ve=\"button\";function Ce(e,n){var Q,Y,Z,ee;let t=ae(),{id:l=`headlessui-tabs-tab-${t}`,...s}=e,{orientation:r,activation:i,selectedIndex:R,tabs:f,panels:c}=h(\"Tab\"),u=V(\"Tab\"),T=h(\"Tab\"),a=X(null),d=G(a,n);N(()=>u.registerTab(a),[u,a]);let y=le(\"tabs\"),b=f.indexOf(a);b===-1&&(b=y);let x=b===R,g=F(o=>{var K;let E=o();if(E===B.Success&&i===\"auto\"){let J=(K=xe(a))==null?void 0:K.activeElement,te=T.tabs.findIndex(pe=>pe.current===J);te!==-1&&u.change(te)}return E}),S=F(o=>{let E=f.map(J=>J.current).filter(Boolean);if(o.key===P.Space||o.key===P.Enter){o.preventDefault(),o.stopPropagation(),u.change(b);return}switch(o.key){case P.Home:case P.PageUp:return o.preventDefault(),o.stopPropagation(),g(()=>I(E,m.First));case P.End:case P.PageDown:return o.preventDefault(),o.stopPropagation(),g(()=>I(E,m.Last))}if(g(()=>U(r,{vertical(){return o.key===P.ArrowUp?I(E,m.Previous|m.WrapAround):o.key===P.ArrowDown?I(E,m.Next|m.WrapAround):B.Error},horizontal(){return o.key===P.ArrowLeft?I(E,m.Previous|m.WrapAround):o.key===P.ArrowRight?I(E,m.Next|m.WrapAround):B.Error}}))===B.Success)return o.preventDefault()}),L=X(!1),_=F(()=>{var o;L.current||(L.current=!0,(o=a.current)==null||o.focus({preventScroll:!0}),u.change(b),ye(()=>{L.current=!1}))}),v=F(o=>{o.preventDefault()}),{isFocusVisible:O,focusProps:W}=ue({autoFocus:(Q=e.autoFocus)!=null?Q:!1}),{isHovered:p,hoverProps:C}=Te({isDisabled:(Y=e.disabled)!=null?Y:!1}),{pressed:A,pressProps:j}=fe(),se=D(()=>{var o;return{selected:x,hover:p,active:A,focus:O,autofocus:(o=e.autoFocus)!=null?o:!1}},[x,p,O,A,e.autoFocus]),ie=ge({ref:d,onKeyDown:S,onMouseDown:v,onClick:_,id:l,role:\"tab\",type:be(e,a),\"aria-controls\":(ee=(Z=c[b])==null?void 0:Z.current)==null?void 0:ee.id,\"aria-selected\":x,tabIndex:x?0:-1},W,C,j);return k({ourProps:ie,theirProps:s,slot:se,defaultTag:ve,name:\"Tabs.Tab\"})}let Me=\"div\";function Ge(e,n){let{selectedIndex:t}=h(\"Tab.Panels\"),l=G(n),s=D(()=>({selectedIndex:t}),[t]);return k({ourProps:{ref:l},theirProps:e,slot:s,defaultTag:Me,name:\"Tabs.Panels\"})}let we=\"div\",Ue=oe.RenderStrategy|oe.Static;function He(e,n){var g,S,L,_;let t=ae(),{id:l=`headlessui-tabs-panel-${t}`,tabIndex:s=0,...r}=e,{selectedIndex:i,tabs:R,panels:f}=h(\"Tab.Panel\"),c=V(\"Tab.Panel\"),u=X(null),T=G(u,n);N(()=>c.registerPanel(u),[c,u]);let a=le(\"panels\"),d=f.indexOf(u);d===-1&&(d=a);let y=d===i,b=D(()=>({selected:y}),[y]),x={ref:T,id:l,role:\"tabpanel\",\"aria-labelledby\":(S=(g=R[d])==null?void 0:g.current)==null?void 0:S.id,tabIndex:y?s:-1};return!y&&((L=r.unmount)==null||L)&&!((_=r.static)!=null&&_)?M.createElement(Pe,{as:\"span\",\"aria-hidden\":\"true\",...x}):k({ourProps:x,theirProps:r,slot:b,defaultTag:we,features:Ue,visible:y,name:\"Tabs.Panel\"})}let ke=H(Ce),Oe=H(Se),Ne=H(he),Be=H(Ge),We=H(He),it=Object.assign(ke,{Group:Oe,List:Ne,Panels:Be,Panel:We});export{it as Tab,Oe as TabGroup,Ne as TabList,We as TabPanel,Be as TabPanels};\n", "import s,{useState as c}from\"react\";import{useIsMounted as m}from'../hooks/use-is-mounted.js';import{Hidden as f,HiddenFeatures as l}from'./hidden.js';function b({onFocus:n}){let[r,o]=c(!0),u=m();return r?s.createElement(f,{as:\"button\",type:\"button\",features:l.Focusable,onFocus:a=>{a.preventDefault();let e,i=50;function t(){if(i--<=0){e&&cancelAnimationFrame(e);return}if(n()){if(cancelAnimationFrame(e),!u.current)return;o(!1);return}e=requestAnimationFrame(t)}e=requestAnimationFrame(t)}}):null}export{b as FocusSentinel};\n", "import*as r from\"react\";const s=r.createContext(null);function a(){return{groups:new Map,get(n,t){var c;let e=this.groups.get(n);e||(e=new Map,this.groups.set(n,e));let l=(c=e.get(t))!=null?c:0;e.set(t,l+1);let o=Array.from(e.keys()).indexOf(t);function i(){let u=e.get(t);u>1?e.set(t,u-1):e.delete(t)}return[o,i]}}}function C({children:n}){let t=r.useRef(a());return r.createElement(s.Provider,{value:t},n)}function d(n){let t=r.useContext(s);if(!t)throw new Error(\"You must wrap your component in a <StableCollection>\");let e=f(),[l,o]=t.current.get(n,e);return r.useEffect(()=>o,[]),l}function f(){var l,o,i;let n=(i=(o=(l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:l.ReactCurrentOwner)==null?void 0:o.current)!=null?i:null;if(!n)return Symbol();let t=[],e=n;for(;e;)t.push(e.index),e=e.return;return\"$.\"+t.join(\".\")}export{C as StableCollection,d as useStableCollectionIndex};\n", "\"use client\";import{useFocusRing as A}from\"@react-aria/focus\";import{useHover as E}from\"@react-aria/interactions\";import{useMemo as P}from\"react\";import{useId as g}from'../../hooks/use-id.js';import{useDisabled as v}from'../../internal/disabled.js';import{useProvidedId as F}from'../../internal/id.js';import{forwardRefWithAs as _,mergeProps as R,render as D}from'../../utils/render.js';import{useDescribedBy as h}from'../description/description.js';import{useLabelledBy as L}from'../label/label.js';let H=\"textarea\";function X(a,i){var s;let n=g(),d=F(),T=v(),{id:p=d||`headlessui-textarea-${n}`,disabled:e=T||!1,invalid:o=!1,...u}=a,f=L(),m=h(),{isFocusVisible:r,focusProps:b}=A({within:!0,autoFocus:(s=a.autoFocus)!=null?s:!1}),{isHovered:t,hoverProps:y}=E({isDisabled:e!=null?e:!1}),x=R({ref:i,id:p,\"aria-labelledby\":f,\"aria-describedby\":m,\"aria-invalid\":o?\"\":void 0,disabled:e||void 0},b,y),c=P(()=>{var l;return{disabled:e,invalid:o,hover:t,focus:r,autofocus:(l=a.autoFocus)!=null?l:!1}},[e,o,t,r,a.autoFocus]);return D({ourProps:x,theirProps:u,slot:c,defaultTag:H,name:\"Textarea\"})}let J=_(X);export{J as Textarea};\n", "\"use client\";import m,{Fragment as Z,createContext as $,useContext as W,useEffect as pe,useMemo as ee,useRef as c,useState as J}from\"react\";import{useDisposables as Ce}from'../../hooks/use-disposables.js';import{useEvent as E}from'../../hooks/use-event.js';import{useFlags as he}from'../../hooks/use-flags.js';import{useIsMounted as ve}from'../../hooks/use-is-mounted.js';import{useIsoMorphicEffect as H}from'../../hooks/use-iso-morphic-effect.js';import{useLatestValue as V}from'../../hooks/use-latest-value.js';import{useServerHandoffComplete as te}from'../../hooks/use-server-handoff-complete.js';import{useSyncRefs as ne}from'../../hooks/use-sync-refs.js';import{useTransition as ge}from'../../hooks/use-transition.js';import{OpenClosedProvider as Ee,State as b,useOpenClosed as re}from'../../internal/open-closed.js';import{classNames as ie}from'../../utils/class-names.js';import{match as F}from'../../utils/match.js';import{RenderFeatures as be,RenderStrategy as y,forwardRefWithAs as X,render as oe}from'../../utils/render.js';function S(t=\"\"){return t.split(/\\s+/).filter(n=>n.length>1)}let w=$(null);w.displayName=\"TransitionContext\";var Se=(r=>(r.Visible=\"visible\",r.Hidden=\"hidden\",r))(Se||{});function ye(){let t=W(w);if(t===null)throw new Error(\"A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.\");return t}function xe(){let t=W(M);if(t===null)throw new Error(\"A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.\");return t}let M=$(null);M.displayName=\"NestingContext\";function U(t){return\"children\"in t?U(t.children):t.current.filter(({el:n})=>n.current!==null).filter(({state:n})=>n===\"visible\").length>0}function se(t,n){let r=V(t),s=c([]),R=ve(),D=Ce(),p=E((i,e=y.Hidden)=>{let a=s.current.findIndex(({el:o})=>o===i);a!==-1&&(F(e,{[y.Unmount](){s.current.splice(a,1)},[y.Hidden](){s.current[a].state=\"hidden\"}}),D.microTask(()=>{var o;!U(s)&&R.current&&((o=r.current)==null||o.call(r))}))}),x=E(i=>{let e=s.current.find(({el:a})=>a===i);return e?e.state!==\"visible\"&&(e.state=\"visible\"):s.current.push({el:i,state:\"visible\"}),()=>p(i,y.Unmount)}),C=c([]),h=c(Promise.resolve()),u=c({enter:[],leave:[],idle:[]}),v=E((i,e,a)=>{C.current.splice(0),n&&(n.chains.current[e]=n.chains.current[e].filter(([o])=>o!==i)),n==null||n.chains.current[e].push([i,new Promise(o=>{C.current.push(o)})]),n==null||n.chains.current[e].push([i,new Promise(o=>{Promise.all(u.current[e].map(([f,N])=>N)).then(()=>o())})]),e===\"enter\"?h.current=h.current.then(()=>n==null?void 0:n.wait.current).then(()=>a(e)):a(e)}),d=E((i,e,a)=>{Promise.all(u.current[e].splice(0).map(([o,f])=>f)).then(()=>{var o;(o=C.current.shift())==null||o()}).then(()=>a(e))});return ee(()=>({children:s,register:x,unregister:p,onStart:v,onStop:d,wait:h,chains:u}),[x,p,s,v,d,u,h])}function Ne(){}let Pe=[\"beforeEnter\",\"afterEnter\",\"beforeLeave\",\"afterLeave\"];function ae(t){var r;let n={};for(let s of Pe)n[s]=(r=t[s])!=null?r:Ne;return n}function Re(t){let n=c(ae(t));return pe(()=>{n.current=ae(t)},[t]),n}let De=\"div\",le=be.RenderStrategy;function _e(t,n){var Q,Y;let{beforeEnter:r,afterEnter:s,beforeLeave:R,afterLeave:D,enter:p,enterFrom:x,enterTo:C,entered:h,leave:u,leaveFrom:v,leaveTo:d,...i}=t,e=c(null),a=ne(e,n),o=(Q=i.unmount)==null||Q?y.Unmount:y.Hidden,{show:f,appear:N,initial:T}=ye(),[l,j]=J(f?\"visible\":\"hidden\"),z=xe(),{register:L,unregister:A}=z;H(()=>L(e),[L,e]),H(()=>{if(o===y.Hidden&&e.current){if(f&&l!==\"visible\"){j(\"visible\");return}return F(l,{[\"hidden\"]:()=>A(e),[\"visible\"]:()=>L(e)})}},[l,e,L,A,f,o]);let k=V({base:S(i.className),enter:S(p),enterFrom:S(x),enterTo:S(C),entered:S(h),leave:S(u),leaveFrom:S(v),leaveTo:S(d)}),O=Re({beforeEnter:r,afterEnter:s,beforeLeave:R,afterLeave:D}),G=te();H(()=>{if(G&&l===\"visible\"&&e.current===null)throw new Error(\"Did you forget to passthrough the `ref` to the actual DOM node?\")},[e,l,G]);let Te=T&&!N,K=N&&f&&T,de=(()=>!G||Te?\"idle\":f?\"enter\":\"leave\")(),_=he(0),fe=E(g=>F(g,{enter:()=>{_.addFlag(b.Opening),O.current.beforeEnter()},leave:()=>{_.addFlag(b.Closing),O.current.beforeLeave()},idle:()=>{}})),me=E(g=>F(g,{enter:()=>{_.removeFlag(b.Opening),O.current.afterEnter()},leave:()=>{_.removeFlag(b.Closing),O.current.afterLeave()},idle:()=>{}})),I=se(()=>{j(\"hidden\"),A(e)},z),B=c(!1);ge({immediate:K,container:e,classes:k,direction:de,onStart:V(g=>{B.current=!0,I.onStart(e,g,fe)}),onStop:V(g=>{B.current=!1,I.onStop(e,g,me),g===\"leave\"&&!U(I)&&(j(\"hidden\"),A(e))})});let P=i,ce={ref:a};return K?P={...P,className:ie(i.className,...k.current.enter,...k.current.enterFrom)}:B.current&&(P.className=ie(i.className,(Y=e.current)==null?void 0:Y.className),P.className===\"\"&&delete P.className),m.createElement(M.Provider,{value:I},m.createElement(Ee,{value:F(l,{[\"visible\"]:b.Open,[\"hidden\"]:b.Closed})|_.flags},oe({ourProps:ce,theirProps:P,defaultTag:De,features:le,visible:l===\"visible\",name:\"Transition.Child\"})))}function He(t,n){let{show:r,appear:s=!1,unmount:R=!0,...D}=t,p=c(null),x=ne(p,n);te();let C=re();if(r===void 0&&C!==null&&(r=(C&b.Open)===b.Open),![!0,!1].includes(r))throw new Error(\"A <Transition /> is used but it is missing a `show={true | false}` prop.\");let[h,u]=J(r?\"visible\":\"hidden\"),v=se(()=>{u(\"hidden\")}),[d,i]=J(!0),e=c([r]);H(()=>{d!==!1&&e.current[e.current.length-1]!==r&&(e.current.push(r),i(!1))},[e,r]);let a=ee(()=>({show:r,appear:s,initial:d}),[r,s,d]);H(()=>{if(r)u(\"visible\");else if(!U(v))u(\"hidden\");else{let T=p.current;if(!T)return;let l=T.getBoundingClientRect();l.x===0&&l.y===0&&l.width===0&&l.height===0&&u(\"hidden\")}},[r,v]);let o={unmount:R},f=E(()=>{var T;d&&i(!1),(T=t.beforeEnter)==null||T.call(t)}),N=E(()=>{var T;d&&i(!1),(T=t.beforeLeave)==null||T.call(t)});return m.createElement(M.Provider,{value:v},m.createElement(w.Provider,{value:a},oe({ourProps:{...o,as:Z,children:m.createElement(ue,{ref:x,...o,...D,beforeEnter:f,beforeLeave:N})},theirProps:{},defaultTag:Z,features:le,visible:h===\"visible\",name:\"Transition\"})))}function Fe(t,n){let r=W(w)!==null,s=re()!==null;return m.createElement(m.Fragment,null,!r&&s?m.createElement(q,{ref:n,...t}):m.createElement(ue,{ref:n,...t}))}let q=X(He),ue=X(_e),Le=X(Fe),qe=Object.assign(q,{Child:Le,Root:q});export{qe as Transition,Le as TransitionChild};\n", "import{useCallback as n,useState as f}from\"react\";import{useIsMounted as i}from'./use-is-mounted.js';function c(a=0){let[l,r]=f(a),t=i(),o=n(e=>{t.current&&r(u=>u|e)},[l,t]),m=n(e=>!!(l&e),[l]),s=n(e=>{t.current&&r(u=>u&~e)},[r,t]),g=n(e=>{t.current&&r(u=>u^e)},[r]);return{flags:l,addFlag:o,hasFlag:m,removeFlag:s,toggleFlag:g}}export{c as useFlags};\n", "function l(r){let e={called:!1};return(...t)=>{if(!e.called)return e.called=!0,r(...t)}}export{l as once};\n", "import{disposables as s}from'../../../utils/disposables.js';import{match as g}from'../../../utils/match.js';import{once as b}from'../../../utils/once.js';function v(t,...e){t&&e.length>0&&t.classList.add(...e)}function f(t,...e){t&&e.length>0&&t.classList.remove(...e)}function F(t,e){let i=s();if(!t)return i.dispose;let{transitionDuration:u,transitionDelay:a}=getComputedStyle(t),[m,d]=[u,a].map(l=>{let[r=0]=l.split(\",\").filter(Boolean).map(o=>o.includes(\"ms\")?parseFloat(o):parseFloat(o)*1e3).sort((o,p)=>p-o);return r}),n=m+d;if(n!==0){let l=i.group(r=>{let o=r.setTimeout(()=>{e(),r.dispose()},n);r.addEventListener(t,\"transitionrun\",p=>{p.target===p.currentTarget&&(o(),r.addEventListener(t,\"transitioncancel\",T=>{T.target===T.currentTarget&&(e(),l())}))})});i.addEventListener(t,\"transitionend\",r=>{r.target===r.currentTarget&&(e(),i.dispose())})}else e();return i.add(()=>e()),i.dispose}function y(t,e,i,u){let a=i?\"enter\":\"leave\",m=s(),d=u!==void 0?b(u):()=>{};a===\"enter\"&&(t.removeAttribute(\"hidden\"),t.style.display=\"\");let n=g(a,{enter:()=>e.enter,leave:()=>e.leave}),l=g(a,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),r=g(a,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return f(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),v(t,...e.base,...n,...r),m.nextFrame(()=>{f(t,...e.base,...n,...r),v(t,...e.base,...n,...l),F(t,()=>(f(t,...e.base,...n),v(t,...e.base,...e.entered),d()))}),m.dispose}export{y as transition};\n", "import{transition as f}from'../components/transition/utils/transition.js';import{disposables as m}from'../utils/disposables.js';import{useDisposables as p}from'./use-disposables.js';import{useIsMounted as b}from'./use-is-mounted.js';import{useIsoMorphicEffect as o}from'./use-iso-morphic-effect.js';import{useLatestValue as g}from'./use-latest-value.js';function D({immediate:t,container:s,direction:n,classes:u,onStart:a,onStop:c}){let l=b(),d=p(),e=g(n);o(()=>{t&&(e.current=\"enter\")},[t]),o(()=>{let r=m();d.add(r.dispose);let i=s.current;if(i&&e.current!==\"idle\"&&l.current)return r.dispose(),a.current(e.current),r.add(f(i,u.current,e.current===\"enter\",()=>{r.dispose(),c.current(e.current)})),r.dispose},[n])}export{D as useTransition};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;ACiCA,IAAM,uCAAkC;EACtC,QAAQ,OAAO,KAAK,MAAM,KAAK,OAAM,IAAK,IAAA,CAAA;EAC1C,SAAS;AACX;AAEA,IAAM,oCAAa,GAAA,cAAAA,SAAM,cAA+B,oCAAA;AACxD,IAAM,sCAAe,GAAA,cAAAA,SAAM,cAAc,KAAA;AAwDzC,IAAI,kCAAY,QACd,OAAO,WAAW,eAClB,OAAO,YACP,OAAO,SAAS,aAAa;AAG/B,IAAI,qCAAe,oBAAI,QAAA;AAEvB,SAAS,iCAAW,aAAa,OAAK;AACpC,MAAI,OAAM,GAAA,cAAAC,YAAW,gCAAA;AACrB,MAAI,OAAM,GAAA,cAAAC,QAAsB,IAAA;AAEhC,MAAI,IAAI,YAAY,QAAQ,CAAC,YAAY;QAWpB,6EAAA;AAAnB,QAAI,gBAAe,6DAAA,GAAA,cAAAC,SAAM,wDAAkD,QAAxD,8DAAA,SAAA,UAAA,8EAAA,0DAA0D,uBAAiB,QAA3E,gFAAA,SAAA,SAAA,4EAA6E;AAChG,QAAI,cAAc;AAChB,UAAI,qBAAqB,mCAAa,IAAI,YAAA;AAC1C,UAAI,sBAAsB;AAExB,2CAAa,IAAI,cAAc;UAC7B,IAAI,IAAI;UACR,OAAO,aAAa;QACtB,CAAA;eACS,aAAa,kBAAkB,mBAAmB,OAAO;AAIlE,YAAI,UAAU,mBAAmB;AACjC,2CAAa,OAAO,YAAA;MACtB;IACF;AAGA,QAAI,UAAU,EAAE,IAAI;EACtB;AAGA,SAAO,IAAI;AACb;AAEA,SAAS,yCAAmB,WAAkB;AAC5C,MAAI,OAAM,GAAA,cAAAF,YAAW,gCAAA;AAIrB,MAAI,QAAQ,wCAAkB,CAAC;AAC7B,YAAQ,KAAK,iJAAA;AAGf,MAAI,UAAU,iCAAW,CAAC,CAAC,SAAA;AAC3B,MAAI,SAAS,QAAQ,wCAAkB,QAAkC,eAAe,aAAa,IAAI,MAAM;AAC/G,SAAO,aAAa,GAAG,MAAA,IAAU,OAAA;AACnC;AAEA,SAAS,yCAAmB,WAAkB;AAE5C,MAAI,MAAK,GAAA,cAAAE,SAAM,MAAK;AACpB,MAAI,CAAC,MAAA,KAAU,GAAA,cAAAC,UAAS,0CAAA,CAAA;AACxB,MAAI,SAAS,UAAU,QAAkC,eAAe,aAAa,qCAAe,MAAM;AAC1G,SAAO,aAAa,GAAG,MAAA,IAAU,EAAA;AACnC;AAIO,IAAM,4CAAe,QAAO,GAAA,cAAAD,SAAM,OAAA,MAAa,aAAa,2CAAqB;AAExF,SAAS,oCAAA;AACP,SAAO;AACT;AAEA,SAAS,0CAAA;AACP,SAAO;AACT;AAGA,SAAS,gCAAU,eAAyB;AAE1C,SAAO,MAAA;EAAO;AAChB;AAOO,SAAS,4CAAA;AAEd,MAAI,QAAO,GAAA,cAAAA,SAAM,sBAAA,MAA4B;AAC3C,YAAO,GAAA,cAAAA,SAAM,sBAAA,EAAwB,iCAAW,mCAAa,uCAAA;AAI/D,UAAO,GAAA,cAAAF,YAAW,kCAAA;AACpB;;;ACrMA,SAAS,EAAEI,IAAE;AAAC,MAAIC,KAAEC,KAAEC,MAAE;AAAG,MAAG,YAAU,OAAOH,MAAG,YAAU,OAAOA;AAAE,IAAAG,OAAGH;AAAA,WAAU,YAAU,OAAOA;AAAE,QAAG,MAAM,QAAQA,EAAC,GAAE;AAAC,UAAII,MAAEJ,GAAE;AAAO,WAAIC,MAAE,GAAEA,MAAEG,KAAEH;AAAI,QAAAD,GAAEC,GAAC,MAAIC,MAAE,EAAEF,GAAEC,GAAC,CAAC,OAAKE,QAAIA,OAAG,MAAKA,OAAGD;AAAA,IAAE;AAAM,WAAIA,OAAKF;AAAE,QAAAA,GAAEE,GAAC,MAAIC,QAAIA,OAAG,MAAKA,OAAGD;AAAG,SAAOC;AAAC;AAAQ,SAAS,OAAM;AAAC,WAAQH,IAAEC,KAAEC,MAAE,GAAEC,MAAE,IAAGC,MAAE,UAAU,QAAOF,MAAEE,KAAEF;AAAI,KAACF,KAAE,UAAUE,GAAC,OAAKD,MAAE,EAAED,EAAC,OAAKG,QAAIA,OAAG,MAAKA,OAAGF;AAAG,SAAOE;AAAC;AAAC,IAAO,eAAQ;;;AGiBxX,IAAM,4CAAkB,OAAO,aAAa,eAC/C,GAAA,cAAAE,SAAM,kBACN,MAAA;AAAO;AEJJ,SAAS,0CAAmC,IAAM;AACvD,QAAM,OAAM,GAAA,cAAAC,QAA6B,IAAA;AACzC,GAAA,GAAA,2CAAgB,MAAA;AACd,QAAI,UAAU;EAChB,GAAG;IAAC;GAAG;AAEP,UAAO,GAAA,cAAAC,aAAe,IAAI,SAAA;AACxB,UAAMC,MAAI,IAAI;AACd,WAAOA,QAAA,QAAAA,QAAA,SAAA,SAAAA,IAAA,GAAO,IAAA;EAChB,GAAG,CAAA,CAAE;AACP;AHPA,IAAI,kCAAY,QACd,OAAO,WAAW,eAClB,OAAO,YACP,OAAO,SAAS,aAAa;AAG/B,IAAI,sCAAkD,oBAAI,IAAA;AA4CnD,SAAS,0CAAS,KAAa,KAAW;AAC/C,MAAI,QAAQ;AACV,WAAO;AAGT,MAAI,SAAS,oCAAc,IAAI,GAAA;AAC/B,MAAI,QAAQ;AACV,WAAO,GAAA;AACP,WAAO;EACT;AAEA,MAAI,SAAS,oCAAc,IAAI,GAAA;AAC/B,MAAI,QAAQ;AACV,WAAO,GAAA;AACP,WAAO;EACT;AAEA,SAAO;AACT;AIvEO,SAAS,6CAAS,WAAgB;AACvC,SAAO,IAAI,SAAA;AACT,aAAS,YAAY;AACnB,UAAI,OAAO,aAAa;AACtB,iBAAA,GAAY,IAAA;EAGlB;AACF;ACvBO,IAAM,4CAAmB,CAAC,OAAA;MACxB;AAAP,UAAO,oBAAA,OAAA,QAAA,OAAA,SAAA,SAAA,GAAI,mBAAa,QAAjB,sBAAA,SAAA,oBAAqB;AAC9B;AAEO,IAAM,4CAAiB,CAC5B,OAAA;AAEA,MAAI,MAAM,YAAY,MAAM,GAAG,WAAW;AACxC,WAAO;AAGT,QAAM,MAAM,0CAAiB,EAAA;AAC7B,SAAO,IAAI,eAAe;AAC5B;ACsBO,SAAS,6CAAoC,MAAO;AAGzD,MAAI,SAAgB;IAAC,GAAG,KAAK,CAAA;EAAE;AAC/B,WAASC,MAAI,GAAGA,MAAI,KAAK,QAAQA,OAAK;AACpC,QAAI,QAAQ,KAAKA,GAAA;AACjB,aAAS,OAAO,OAAO;AACrB,UAAIC,MAAI,OAAO,GAAA;AACf,UAAIC,MAAI,MAAM,GAAA;AAGd,UACE,OAAOD,QAAM,cACb,OAAOC,QAAM;MAEb,IAAI,CAAA,MAAO,OACX,IAAI,CAAA,MAAO,OACX,IAAI,WAAW,CAAA;MAAgB,MAC/B,IAAI,WAAW,CAAA;MAAgB;AAE/B,eAAO,GAAA,KAAO,GAAA,2CAAMD,KAAGC,GAAA;gBAItB,QAAQ,eAAe,QAAQ,uBAChC,OAAOD,QAAM,YACb,OAAOC,QAAM;AAEb,eAAO,GAAA,KAAO,GAAA,cAAKD,KAAGC,GAAA;eACb,QAAQ,QAAQD,OAAKC;AAC9B,eAAO,MAAK,GAAA,2CAASD,KAAGC,GAAA;;AAGxB,eAAO,GAAA,IAAOA,QAAM,SAAYA,MAAID;IAExC;EACF;AAEA,SAAO;AACT;AG5CO,SAAS,0CAAsB,SAAyB;AAC7D,MAAI,4CAAA;AACF,YAAQ,MAAM;MAAC,eAAe;IAAI,CAAA;OAC7B;AACL,QAAI,qBAAqB,4CAAsB,OAAA;AAC/C,YAAQ,MAAK;AACb,gDAAsB,kBAAA;EACxB;AACF;AAEA,IAAI,oDAA8C;AAClD,SAAS,8CAAA;AACP,MAAI,qDAA+B,MAAM;AACvC,wDAA8B;AAC9B,QAAI;AACF,UAAI,YAAY,SAAS,cAAc,KAAA;AACvC,gBAAU,MAAM;QACd,IAAI,gBAAgB;AAClB,8DAA8B;AAC9B,iBAAO;QACT;MACF,CAAA;IACF,SAASE,IAAG;IAEZ;EACF;AAEA,SAAO;AACT;AAEA,SAAS,4CAAsB,SAAyB;AACtD,MAAI,SAAS,QAAQ;AACrB,MAAI,qBAA0C,CAAA;AAC9C,MAAI,uBAAuB,SAAS,oBAAoB,SAAS;AAEjE,SAAO,kBAAkB,eAAe,WAAW,sBAAsB;AACvE,QACE,OAAO,eAAe,OAAO,gBAC7B,OAAO,cAAc,OAAO;AAE5B,yBAAmB,KAAK;QACtB,SAAS;QACT,WAAW,OAAO;QAClB,YAAY,OAAO;MACrB,CAAA;AAEF,aAAS,OAAO;EAClB;AAEA,MAAI,gCAAgC;AAClC,uBAAmB,KAAK;MACtB,SAAS;MACT,WAAW,qBAAqB;MAChC,YAAY,qBAAqB;IACnC,CAAA;AAGF,SAAO;AACT;AAEA,SAAS,4CAAsB,oBAAuC;AACpE,WAAS,EAAA,SAAQ,WAAW,WAAY,KAAK,oBAAoB;AAC/D,YAAQ,YAAY;AACpB,YAAQ,aAAa;EACvB;AACF;AGnFA,SAAS,oCAAcC,KAAU;MAK7B;AAJF,MAAI,OAAO,WAAW,eAAe,OAAO,aAAa;AACvD,WAAO;AAET,WACE,kCAAA,OAAO,UAAU,eAAA,OAAgB,QAAjC,oCAAA,SAAA,SAAA,gCAAmC,OAAO,KAAK,CAAC,UAA4CA,IAAG,KAAK,MAAM,KAAK,CAAA,MAEjHA,IAAG,KAAK,OAAO,UAAU,SAAS;AACpC;AAEA,SAAS,mCAAaA,KAAU;MAElB;AADZ,SAAO,OAAO,WAAW,eAAe,OAAO,aAAa,OACxDA,IAAG,OAAK,kCAAA,OAAO,UAAU,eAAA,OAAgB,QAAjC,oCAAA,SAAA,SAAA,gCAAmC,aAAY,OAAO,UAAU,QAAQ,IAChF;AACN;AAEO,SAAS,4CAAA;AACd,SAAO,mCAAa,OAAA;AACtB;AAEO,SAAS,2CAAA;AACd,SAAO,mCAAa,UAAA;AACtB;AAEO,SAAS,4CAAA;AACd,SAAO,mCAAa,QAAA;EAEjB,0CAAA,KAAW,UAAU,iBAAiB;AAC3C;AAEO,SAAS,4CAAA;AACd,SAAO,yCAAA,KAAc,0CAAA;AACvB;AAMO,SAAS,4CAAA;AACd,SAAO,oCAAc,cAAA,KAAmB,CAAC,0CAAA;AAC3C;AAEO,SAAS,4CAAA;AACd,SAAO,oCAAc,SAAA;AACvB;AAEO,SAAS,4CAAA;AACd,SAAO,oCAAc,UAAA;AACvB;AAEO,SAAS,4CAAA;AACd,SAAO,oCAAc,UAAA;AACvB;AD1CA,IAAM,uCAAgB,GAAA,cAAAC,eAAsB;EAC1C,UAAU;EACV,MAAM;AACR,CAAA;AA2DO,SAAS,0CAAS,QAA2B,WAAsB,aAAa,MAAI;MAOtE,oBAAA;AANnB,MAAI,EAAA,SAAQ,SAAS,QAAQ,SAAU,IAAI;AAM3C,OAAI,GAAA,2CAAQ,OAAO,gBAAA,OAAO,WAAK,QAAZ,kBAAA,SAAA,UAAA,qBAAA,cAAc,UAAI,QAAlB,uBAAA,SAAA,SAAA,mBAAoB,WAAW,KAAA,MAAU,OAAO,WAAW,UAAA;AAC5E,SAAI,GAAA,2CAAI;AACN,gBAAU;;AAEV,gBAAU;;AAMd,MAAI,SAAQ,GAAA,2CAAO,MAAO,GAAA,2CAAI,KAAO,EAAC,GAAA,2CAAK,KAAO,OAE9C,IAAI,cAAc,WAAW;IAAC,eAAe;;;;;EAA2C,CAAA,IACxF,IAAI,WAAW,SAAS;;;;;IAAqC,SAAS;IAAM,YAAY;EAAI,CAAA;AAC/F,4CAAiB,YAAY;AAC9B,GAAA,GAAA,2CAAsB,MAAA;AACtB,SAAO,cAAc,KAAA;AACpB,4CAAiB,YAAY;AAChC;AAEC,0CAAiB,YAAY;AAE9B,SAAS,uCAAiB,QAAiB,MAAuC;AAChF,MAAI,kBAAkB;AACpB,SAAK,MAAA;WACI,OAAO,aAAa,WAAA,GAAc;AAC3C,QAAI,OAAO,SAAS,cAAc,GAAA;AAClC,SAAK,OAAO,OAAO,aAAa,WAAA;AAChC,QAAI,OAAO,aAAa,aAAA;AACtB,WAAK,SAAS,OAAO,aAAa,aAAA;AAEpC,QAAI,OAAO,aAAa,UAAA;AACtB,WAAK,MAAM,OAAO,aAAa,UAAA;AAEjC,QAAI,OAAO,aAAa,eAAA;AACtB,WAAK,WAAW,OAAO,aAAa,eAAA;AAEtC,QAAI,OAAO,aAAa,WAAA;AACtB,WAAK,OAAO,OAAO,aAAa,WAAA;AAElC,QAAI,OAAO,aAAa,sBAAA;AACtB,WAAK,iBAAiB,OAAO,aAAa,sBAAA;AAE5C,WAAO,YAAY,IAAA;AACnB,SAAK,IAAA;AACL,WAAO,YAAY,IAAA;EACrB;AACF;AAEA,SAAS,wCAAkB,QAAiB,WAAoB;AAC9D,yCAAiB,QAAQ,CAAA,SAAQ,0CAAS,MAAM,SAAA,CAAA;AAClD;AE5HA,IAAI,6CAAuB,oBAAI,IAAA;AAG/B,IAAI,4CAAsB,oBAAI,IAAA;AAE9B,SAAS,0CAAA;AACP,MAAI,OAAO,WAAW;AACpB;AAGF,WAAS,kBAAkB,OAAY;AACrC,WAAO,kBAAkB;EAC3B;AAEA,MAAI,oBAAoB,CAACC,OAAA;AACvB,QAAI,CAAC,kBAAkBA,EAAA,KAAM,CAACA,GAAE;AAC9B;AAGF,QAAI,cAAc,2CAAqB,IAAIA,GAAE,MAAM;AACnD,QAAI,CAAC,aAAa;AAChB,oBAAc,oBAAI,IAAA;AAClB,iDAAqB,IAAIA,GAAE,QAAQ,WAAA;AAKnC,MAAAA,GAAE,OAAO,iBAAiB,oBAAoB,iBAAiB;QAC7D,MAAM;MACR,CAAA;IACF;AAEA,gBAAY,IAAIA,GAAE,YAAY;EAChC;AAEA,MAAI,kBAAkB,CAACA,OAAA;AACrB,QAAI,CAAC,kBAAkBA,EAAA,KAAM,CAACA,GAAE;AAC9B;AAGF,QAAI,aAAa,2CAAqB,IAAIA,GAAE,MAAM;AAClD,QAAI,CAAC;AACH;AAGF,eAAW,OAAOA,GAAE,YAAY;AAGhC,QAAI,WAAW,SAAS,GAAG;AACzB,MAAAA,GAAE,OAAO,oBAAoB,oBAAoB,eAAA;AACjD,iDAAqB,OAAOA,GAAE,MAAM;IACtC;AAGA,QAAI,2CAAqB,SAAS,GAAG;AACnC,eAAS,MAAM;AACb,WAAA;AAGF,gDAAoB,MAAK;IAC3B;EACF;AAEA,WAAS,KAAK,iBAAiB,iBAAiB,iBAAA;AAChD,WAAS,KAAK,iBAAiB,iBAAiB,eAAA;AAClD;AAEA,IAAI,OAAO,aAAa,aAAA;AACtB,MAAI,SAAS,eAAe;AAC1B,4CAAA;;AAEA,aAAS,iBAAiB,oBAAoB,uCAAA;;AAI3C,SAAS,0CAAmB,IAAc;AAE/C,wBAAsB,MAAA;AAGpB,QAAI,2CAAqB,SAAS;AAChC,SAAA;;AAEA,gDAAoB,IAAI,EAAA;EAE5B,CAAA;AACF;AElFO,SAAS,4CAAA;AACd,MAAI,mBAAkB,GAAA,cAAAC,QAAO,oBAAI,IAAA,CAAA;AACjC,MAAI,qBAAoB,GAAA,cAAAC,aAAY,CAAC,aAAa,MAAM,UAAU,YAAA;AAEhE,QAAI,MAAK,YAAA,QAAA,YAAA,SAAA,SAAA,QAAS,QAAO,IAAI,SAAA;AAC3B,sBAAgB,QAAQ,OAAO,QAAA;AAC/B,eAAA,GAAY,IAAA;IACd,IAAI;AACJ,oBAAgB,QAAQ,IAAI,UAAU;;;;;IAA+B,CAAA;AACrE,gBAAY,iBAAiB,MAAM,UAAU,OAAA;EAC/C,GAAG,CAAA,CAAE;AACL,MAAI,wBAAuB,GAAA,cAAAA,aAAY,CAAC,aAAa,MAAM,UAAU,YAAA;QAC1D;AAAT,QAAI,OAAK,+BAAA,gBAAgB,QAAQ,IAAI,QAAA,OAAA,QAA5B,iCAAA,SAAA,SAAA,6BAAuC,OAAM;AACtD,gBAAY,oBAAoB,MAAM,IAAI,OAAA;AAC1C,oBAAgB,QAAQ,OAAO,QAAA;EACjC,GAAG,CAAA,CAAE;AACL,MAAI,4BAA2B,GAAA,cAAAA,aAAY,MAAA;AACzC,oBAAgB,QAAQ,QAAQ,CAAC,OAAO,QAAA;AACtC,2BAAqB,MAAM,aAAa,MAAM,MAAM,KAAK,MAAM,OAAO;IACxE,CAAA;EACF,GAAG;IAAC;GAAqB;AAGzB,GAAA,GAAA,cAAAC,WAAU,MAAA;AACR,WAAO;EACT,GAAG;IAAC;GAAyB;AAE7B,SAAO;;;;EAAkE;AAC3E;AE3BO,SAAS,0CAAgB,cAAiF;AAC/G,QAAM,UAAqC,GAAA,cAAAC,QAAU,IAAA;AACrD,UAAO,GAAA,cAAAC,SAAQ,OAAO;IACpB,IAAI,UAAU;AACZ,aAAO,OAAO;IAChB;IACA,IAAI,QAAQ,OAAO;AACjB,aAAO,UAAU;AACjB,UAAI,OAAO,iBAAiB;AAC1B,qBAAa,KAAA;eACJ;AACT,qBAAa,UAAU;IAE3B;EACF,IAAI;IAAC;GAAa;AACpB;AGlBO,SAAS,0CAAc,SAAkC,KAAkB;AAChF,GAAA,GAAA,2CAAgB,MAAA;AACd,QAAI,WAAW,QAAQ,OAAO,KAAK;AACjC,cAAQ,IAAI,UAAU,IAAI;AAC1B,aAAO,MAAA;AACL,YAAI,QAAQ;AACV,kBAAQ,IAAI,UAAU;MAE1B;IACF;EACF,CAAA;AACF;AEVA,IAAI,uCAAiB,OAAO,aAAa,eAAe,OAAO;AIIxD,SAAS,0CAAe,OAAgC;AAE7D,MAAK,MAAc,mBAAmB,KAAK,MAAM;AAC/C,WAAO;AAMT,OAAI,GAAA,2CAAQ,KAAQ,MAAuB;AACzC,WAAO,MAAM,SAAS,WAAW,MAAM,YAAY;AAGrD,SAAO,MAAM,WAAW,KAAK,CAAE,MAAuB;AACxD;AAEO,SAAS,0CAAsB,OAAmB;AAOvD,SACG,EAAC,GAAA,2CAAQ,KAAO,MAAM,UAAU,KAAK,MAAM,WAAW,KACtD,MAAM,UAAU,KACf,MAAM,WAAW,KACjB,MAAM,aAAa,KACnB,MAAM,WAAW,KACjB,MAAM,gBAAgB;AAG5B;;;;;;;;;AGzDO,SAAS,4BAA4B,UAAU,YAAY;AAC9D,MAAI,WAAW;AAAK,WAAO,WAAW,IAAI,KAAK,QAAQ;AAEvD,SAAO,WAAW;AACtB;;;ACJO,SAAS,gCAAgC,UAAU,YAAY,QAAQ;AAC1E,MAAI,CAAC,WAAW,IAAI,QAAQ;AAAG,UAAM,IAAI,UAAU,kBAAkB,SAAS,gCAAgC;AAE9G,SAAO,WAAW,IAAI,QAAQ;AAClC;;;ACDO,SAAS,yBAAyB,UAAU,YAAY;AAC3D,MAAI,aAAa,gCAAgC,UAAU,YAAY,KAAK;AAC5E,SAAO,4BAA4B,UAAU,UAAU;AAC3D;;;ACNO,SAAS,6BAA6B,KAAK,mBAAmB;AACjE,MAAI,kBAAkB,IAAI,GAAG,GAAG;AAC5B,UAAM,IAAI,UAAU,gEAAgE;AAAA,EACxF;AACJ;;;ACFO,SAAS,0BAA0B,KAAK,YAAY,OAAO;AAC9D,+BAA6B,KAAK,UAAU;AAC5C,aAAW,IAAI,KAAK,KAAK;AAC7B;;;ACLO,SAAS,4BAA4B,UAAU,YAAY,OAAO;AACrE,MAAI,WAAW;AAAK,eAAW,IAAI,KAAK,UAAU,KAAK;AAAA,OAClD;AACD,QAAI,CAAC,WAAW,UAAU;AAItB,YAAM,IAAI,UAAU,0CAA0C;AAAA,IAClE;AACA,eAAW,QAAQ;AAAA,EACvB;AACJ;;;ACRO,SAAS,yBAAyB,UAAU,YAAY,OAAO;AAClE,MAAI,aAAa,gCAAgC,UAAU,YAAY,KAAK;AAC5E,8BAA4B,UAAU,YAAY,KAAK;AACvD,SAAO;AACX;;;;AE0BA,IAAMC,wCAAkC;EACtC,QAAQ,OAAO,KAAK,MAAM,KAAK,OAAM,IAAK,IAAA,CAAA;EAC1C,SAAS;AACX;AAEA,IAAMC,qCAAa,GAAA,cAAAC,SAAM,cAA+BF,qCAAA;AACxD,IAAMG,uCAAe,GAAA,cAAAD,SAAM,cAAc,KAAA;AAwDzC,IAAIE,mCAAY,QACd,OAAO,WAAW,eAClB,OAAO,YACP,OAAO,SAAS,aAAa;AAG/B,IAAIC,sCAAe,oBAAI,QAAA;AAEvB,SAASC,kCAAW,aAAa,OAAK;AACpC,MAAI,OAAM,GAAA,cAAAC,YAAWC,iCAAA;AACrB,MAAI,OAAM,GAAA,cAAAC,QAAsB,IAAA;AAEhC,MAAI,IAAI,YAAY,QAAQ,CAAC,YAAY;QAWpB,6EAAA;AAAnB,QAAI,gBAAe,6DAAA,GAAA,cAAAC,SAAM,wDAAkD,QAAxD,8DAAA,SAAA,UAAA,8EAAA,0DAA0D,uBAAiB,QAA3E,gFAAA,SAAA,SAAA,4EAA6E;AAChG,QAAI,cAAc;AAChB,UAAI,qBAAqBL,oCAAa,IAAI,YAAA;AAC1C,UAAI,sBAAsB;AAExB,QAAAA,oCAAa,IAAI,cAAc;UAC7B,IAAI,IAAI;UACR,OAAO,aAAa;QACtB,CAAA;eACS,aAAa,kBAAkB,mBAAmB,OAAO;AAIlE,YAAI,UAAU,mBAAmB;AACjC,QAAAA,oCAAa,OAAO,YAAA;MACtB;IACF;AAGA,QAAI,UAAU,EAAE,IAAI;EACtB;AAGA,SAAO,IAAI;AACb;AAEA,SAASM,0CAAmB,WAAkB;AAC5C,MAAI,OAAM,GAAA,cAAAJ,YAAWC,iCAAA;AAIrB,MAAI,QAAQI,yCAAkB,CAACR;AAC7B,YAAQ,KAAK,iJAAA;AAGf,MAAI,UAAUE,kCAAW,CAAC,CAAC,SAAA;AAC3B,MAAI,SAAS,QAAQM,yCAAkB,QAAkC,eAAe,aAAa,IAAI,MAAM;AAC/G,SAAO,aAAa,GAAG,MAAA,IAAU,OAAA;AACnC;AAEA,SAASC,0CAAmB,WAAkB;AAE5C,MAAI,MAAK,GAAA,cAAAH,SAAM,MAAK;AACpB,MAAI,CAAC,MAAA,KAAU,GAAA,cAAAI,UAASC,2CAAA,CAAA;AACxB,MAAI,SAAS,UAAU,QAAkC,eAAe,aAAaH,sCAAe,MAAM;AAC1G,SAAO,aAAa,GAAG,MAAA,IAAU,EAAA;AACnC;AAIO,IAAMI,6CAAe,QAAO,GAAA,cAAAN,SAAM,OAAA,MAAa,aAAaG,4CAAqBF;AAExF,SAASM,qCAAA;AACP,SAAO;AACT;AAEA,SAASC,2CAAA;AACP,SAAO;AACT;AAGA,SAASC,iCAAU,eAAyB;AAE1C,SAAO,MAAA;EAAO;AAChB;AAOO,SAASJ,6CAAA;AAEd,MAAI,QAAO,GAAA,cAAAL,SAAM,sBAAA,MAA4B;AAC3C,YAAO,GAAA,cAAAA,SAAM,sBAAA,EAAwBS,kCAAWF,oCAAaC,wCAAA;AAI/D,UAAO,GAAA,cAAAX,YAAWa,mCAAA;AACpB;;;AItKA,IAAI,8BAAe;AACnB,IAAI,wCAAkB;AACtB,IAAI,2CAAqB,oBAAI,QAAA;AAEtB,SAAS,0CAAqB,QAAgB;AACnD,OAAI,GAAA,2CAAI,GAAK;AACX,QAAI,gCAAU,WAAW;AAEvB,YAAM,kBAAiB,GAAA,2CAAiB,MAAA;AACxC,8CAAkB,eAAe,gBAAgB,MAAM;AACvD,qBAAe,gBAAgB,MAAM,mBAAmB;IAC1D;AAEA,kCAAQ;EACV,WAAW,kBAAkB,eAAe,kBAAkB,YAAY;AAGxE,6CAAmB,IAAI,QAAQ,OAAO,MAAM,UAAU;AACtD,WAAO,MAAM,aAAa;EAC5B;AACF;AAEO,SAAS,0CAAqB,QAAgB;AACnD,OAAI,GAAA,2CAAI,GAAK;AAGX,QAAI,gCAAU;AACZ;AAGF,kCAAQ;AAIR,eAAW,MAAA;AAGT,OAAA,GAAA,2CAAmB,MAAA;AAEjB,YAAI,gCAAU,aAAa;AAEzB,gBAAM,kBAAiB,GAAA,2CAAiB,MAAA;AACxC,cAAI,eAAe,gBAAgB,MAAM,qBAAqB;AAC5D,2BAAe,gBAAgB,MAAM,mBAAmB,yCAAmB;AAG7E,kDAAkB;AAClB,wCAAQ;QACV;MACF,CAAA;IACF,GAAG,GAAA;EACL,WAAW,kBAAkB,eAAe,kBAAkB,YAG5D;AAAA,QAAI,UAAU,yCAAmB,IAAI,MAAA,GAAS;AAC5C,UAAI,sBAAsB,yCAAmB,IAAI,MAAA;AAEjD,UAAI,OAAO,MAAM,eAAe;AAC9B,eAAO,MAAM,aAAa;AAG5B,UAAI,OAAO,aAAa,OAAA,MAAa;AACnC,eAAO,gBAAgB,OAAA;AAEzB,+CAAmB,OAAO,MAAA;IAC5B;EAAA;AAEJ;AC7EO,IAAM,6CAAwB,GAAA,cAAAC,SAAM,cAAsC;EAAC,UAAU,MAAA;EAAO;AAAC,CAAA;AACpG,0CAAsB,cAAc;AFqDpC,SAAS,+CAAyB,OAAqB;AAErD,MAAI,WAAU,GAAA,cAAAC,aAAW,GAAA,0CAAoB;AAC7C,MAAI,SAAS;AACX,QAAI,EAAA,UAAW,GAAG,aAAA,IAAgB;AAClC,aAAQ,GAAA,2CAAW,cAAc,KAAA;AACjC,aAAA;EACF;AACA,GAAA,GAAA,2CAAW,SAAS,MAAM,GAAG;AAE7B,SAAO;AACT;IAUE,+CAAA,oBAAA,QAAA;AARF,IAAM,mCAAN,MAAM;EAoBJ,sBAAsB;wCACd,8CAAwB,KAAA;EAChC;EAEA,IAAI,wBAAwB;AAC1B,YAAA,GAAA,0BAAO,MAAM,4CAAA;EACf;EAhBA,YAAY,MAA2B,aAA0B,eAA0B;AAF3F,KAAA,GAAA,2BAAA,MAAA,8CAAA;;aAAA;;wCAAC,8CAAwB,IAAA;AAGvB,SAAK,OAAO;AACZ,SAAK,cAAc;AACnB,SAAK,SAAS,cAAc;AAC5B,SAAK,WAAW,cAAc;AAC9B,SAAK,UAAU,cAAc;AAC7B,SAAK,UAAU,cAAc;AAC7B,SAAK,SAAS,cAAc;EAC9B;AASF;AAEA,IAAM,qCAAe,OAAO,aAAA;AAOrB,SAAS,0CAAS,OAAqB;AAC5C,MAAI;IAAA;IACK;IACM;IACD;IACF;IACD;IAET,WAAW;IAAa;IACL;IACM;;IAGzB,KAAKC;IACL,GAAG;EAAA,IACD,+CAAyB,KAAA;AAE7B,MAAI,CAAC,WAAW,UAAA,KAAc,GAAA,cAAAC,UAAS,KAAA;AACvC,MAAI,OAAM,GAAA,cAAAC,QAAmB;IAC3B,WAAW;IACX,2BAA2B;IAC3B,uBAAuB;IACvB,mBAAmB;IACnB,mBAAmB;IACnB,iBAAiB;IACjB,QAAQ;IACR,cAAc;IACd,aAAa;EACf,CAAA;AAEA,MAAI,EAAA,mBAAkB,yBAA0B,KAAI,GAAA,2CAAiB;AAErE,MAAI,qBAAoB,GAAA,2CAAe,CAAC,eAA0B,gBAAA;AAChE,QAAI,QAAQ,IAAI;AAChB,QAAI,cAAc,MAAM;AACtB,aAAO;AAGT,QAAI,wBAAwB;AAC5B,UAAM,oBAAoB;AAC1B,QAAI,cAAc;AAChB,UAAI,QAAQ,IAAI,iCAAW,cAAc,aAAa,aAAA;AACtD,mBAAa,KAAA;AACb,8BAAwB,MAAM;IAChC;AAEA,QAAI;AACF,oBAAc,IAAA;AAGhB,UAAM,oBAAoB;AAC1B,UAAM,oBAAoB;AAC1B,eAAW,IAAA;AACX,WAAO;EACT,CAAA;AAEA,MAAI,mBAAkB,GAAA,2CAAe,CAAC,eAA0B,aAA0B,aAAa,SAAI;AACzG,QAAI,QAAQ,IAAI;AAChB,QAAI,CAAC,MAAM;AACT,aAAO;AAGT,UAAM,wBAAwB;AAC9B,UAAM,oBAAoB;AAC1B,UAAM,oBAAoB;AAE1B,QAAI,wBAAwB;AAC5B,QAAI,YAAY;AACd,UAAI,QAAQ,IAAI,iCAAW,YAAY,aAAa,aAAA;AACpD,iBAAW,KAAA;AACX,8BAAwB,MAAM;IAChC;AAEA,QAAI;AACF,oBAAc,KAAA;AAGhB,eAAW,KAAA;AAEX,QAAI,WAAW,cAAc,CAAC,YAAY;AACxC,UAAI,QAAQ,IAAI,iCAAW,SAAS,aAAa,aAAA;AACjD,cAAQ,KAAA;AACR,gCAAA,wBAA0B,MAAM;IAClC;AAEA,UAAM,oBAAoB;AAC1B,WAAO;EACT,CAAA;AAEA,MAAI,kBAAiB,GAAA,2CAAe,CAAC,eAA0B,gBAAA;AAC7D,QAAI,QAAQ,IAAI;AAChB,QAAI;AACF,aAAO;AAGT,QAAI,WAAW;AACb,YAAM,oBAAoB;AAC1B,UAAI,QAAQ,IAAI,iCAAW,WAAW,aAAa,aAAA;AACnD,gBAAU,KAAA;AACV,YAAM,oBAAoB;AAC1B,aAAO,MAAM;IACf;AAEA,WAAO;EACT,CAAA;AAEA,MAAI,UAAS,GAAA,2CAAe,CAACC,OAAA;AAC3B,QAAI,QAAQ,IAAI;AAChB,QAAI,MAAM,aAAa,MAAM,QAAQ;AACnC,UAAI,MAAM,gBAAgB,MAAM,eAAe;AAC7C,wBAAgB,kCAAY,MAAM,QAAQA,EAAA,GAAI,MAAM,aAAa,KAAA;AAEnE,YAAM,YAAY;AAClB,YAAM,eAAe;AACrB,YAAM,kBAAkB;AACxB,YAAM,cAAc;AACpB,+BAAA;AACA,UAAI,CAAC;AACH,SAAA,GAAA,2CAAqB,MAAM,MAAM;IAErC;EACF,CAAA;AAEA,MAAI,uBAAsB,GAAA,2CAAe,CAACA,OAAA;AACxC,QAAI;AACF,aAAOA,EAAA;EAEX,CAAA;AAEA,MAAI,cAAa,GAAA,cAAAC,SAAQ,MAAA;AACvB,QAAI,QAAQ,IAAI;AAChB,QAAIC,cAA4B;MAC9B,UAAUF,IAAC;AACT,YAAI,2CAAqBA,GAAE,aAAaA,GAAE,aAAa,KAAKA,GAAE,cAAc,SAASA,GAAE,MAAM,GAAc;cAuCvG;AAtCF,cAAI,mDAA6BA,GAAE,QAAmBA,GAAE,GAAG;AACzD,YAAAA,GAAE,eAAc;AAMlB,cAAI,wBAAwB;AAC5B,cAAI,CAAC,MAAM,aAAa,CAACA,GAAE,QAAQ;AACjC,kBAAM,SAASA,GAAE;AACjB,kBAAM,YAAY;AAClB,oCAAwB,kBAAkBA,IAAG,UAAA;AAK7C,gBAAI,iBAAiBA,GAAE;AACvB,gBAAI,UAAU,CAACA,OAAA;AACb,kBAAI,2CAAqBA,IAAG,cAAA,KAAmB,CAACA,GAAE,UAAU,eAAe,SAASA,GAAE,MAAM,KAAgB,MAAM;AAChH,+BAAe,kCAAY,MAAM,QAAQA,EAAA,GAAI,UAAA;YAEjD;AAEA,+BAAkB,GAAA,2CAAiBA,GAAE,aAAa,GAAG,UAAS,GAAA,2CAAM,SAAS,OAAA,GAAU,IAAA;UACzF;AAEA,cAAI;AACF,YAAAA,GAAE,gBAAe;AAUnB,cAAIA,GAAE,YAAW,GAAA,2CAAI;AAAA,aACnB,uBAAA,MAAM,mBAAa,QAAnB,yBAAA,SAAA,SAAA,qBAAqB,IAAIA,GAAE,KAAKA,GAAE,WAAW;QAEjD,WAAWA,GAAE,QAAQ;AACnB,gBAAM,gBAAgB,oBAAI,IAAA;MAE9B;MACA,QAAQA,IAAC;AACP,YAAIA,MAAK,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACzC;AAGF,YAAIA,MAAKA,GAAE,WAAW,KAAK,CAAC,MAAM,qBAAqB,EAAE,GAAA,2CAAiB,WAAW;AACnF,cAAI,wBAAwB;AAC5B,cAAI;AACF,YAAAA,GAAE,eAAc;AAKlB,cAAI,CAAC,MAAM,yBAAyB,CAAC,MAAM,6BAA6B,CAAC,MAAM,cAAc,MAAM,gBAAgB,cAAa,GAAA,2CAAeA,GAAE,WAAW,IAAI;AAE9J,gBAAI,CAAC,cAAc,CAAC;AAClB,eAAA,GAAA,2CAAsBA,GAAE,aAAa;AAGvC,gBAAI,iBAAiB,kBAAkBA,IAAG,SAAA;AAC1C,gBAAI,cAAc,eAAeA,IAAG,SAAA;AACpC,gBAAI,eAAe,gBAAgBA,IAAG,SAAA;AACtC,oCAAwB,kBAAkB,eAAe;UAC3D;AAEA,gBAAM,4BAA4B;AAClC,gBAAM,wBAAwB;AAC9B,cAAI;AACF,YAAAA,GAAE,gBAAe;QAErB;MACF;IACF;AAEA,QAAI,UAAU,CAACA,OAAA;UAsBkB;AArB/B,UAAI,MAAM,aAAa,MAAM,UAAU,2CAAqBA,IAAG,MAAM,MAAM,GAAG;YAoB5E;AAnBA,YAAI,mDAA6BA,GAAE,QAAmBA,GAAE,GAAG;AACzD,UAAAA,GAAE,eAAc;AAGlB,YAAI,SAASA,GAAE;AACf,wBAAgB,kCAAY,MAAM,QAAQA,EAAA,GAAI,YAAY,MAAM,OAAO,SAAS,MAAA,CAAA;AAChF,iCAAA;AAKA,YAAIA,GAAE,QAAQ,WAAW,uCAAiB,MAAM,MAAM,KAAK,MAAM,OAAO,SAAS,MAAA,KAAW,CAACA,GAAE,kCAAA,GAAe;AAG5G,UAAAA,GAAE,kCAAA,IAAgB;AAClB,WAAA,GAAA,2CAAS,MAAM,QAAQA,IAAG,KAAA;QAC5B;AAEA,cAAM,YAAY;SAClB,wBAAA,MAAM,mBAAa,QAAnB,0BAAA,SAAA,SAAA,sBAAqB,OAAOA,GAAE,GAAG;MACnC,WAAWA,GAAE,QAAQ,YAAU,uBAAA,MAAM,mBAAa,QAAnB,yBAAA,SAAA,SAAA,qBAAqB,OAAM;YAOtD;AAHF,YAAI,SAAS,MAAM;AACnB,cAAM,gBAAgB;AACtB,iBAAS,SAAS,OAAO,OAAM;AAAA,WAC7B,gBAAA,MAAM,YAAM,QAAZ,kBAAA,SAAA,SAAA,cAAc,cAAc,IAAI,cAAc,SAAS,KAAA,CAAA;MAE3D;IACF;AAEA,QAAI,OAAO,iBAAiB,aAAa;AACvC,MAAAE,YAAW,gBAAgB,CAACF,OAAA;AAE1B,YAAIA,GAAE,WAAW,KAAK,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACtD;AAOF,aAAI,GAAA,2CAAsBA,GAAE,WAAW,GAAG;AACxC,gBAAM,cAAc;AACpB;QACF;AAIA,YAAI,2CAAqBA,GAAE,aAAa;AACtC,UAAAA,GAAE,eAAc;AAGlB,cAAM,cAAcA,GAAE;AAEtB,YAAI,wBAAwB;AAC5B,YAAI,CAAC,MAAM,WAAW;AACpB,gBAAM,YAAY;AAClB,gBAAM,eAAe;AACrB,gBAAM,kBAAkBA,GAAE;AAC1B,gBAAM,SAASA,GAAE;AAEjB,cAAI,CAAC,cAAc,CAAC;AAClB,aAAA,GAAA,2CAAsBA,GAAE,aAAa;AAGvC,cAAI,CAAC;AACH,aAAA,GAAA,2CAAqB,MAAM,MAAM;AAGnC,kCAAwB,kBAAkBA,IAAG,MAAM,WAAW;AAE9D,6BAAkB,GAAA,2CAAiBA,GAAE,aAAa,GAAG,eAAe,eAAe,KAAA;AACnF,6BAAkB,GAAA,2CAAiBA,GAAE,aAAa,GAAG,aAAa,aAAa,KAAA;AAC/E,6BAAkB,GAAA,2CAAiBA,GAAE,aAAa,GAAG,iBAAiB,iBAAiB,KAAA;QACzF;AAEA,YAAI;AACF,UAAAA,GAAE,gBAAe;MAErB;AAEA,MAAAE,YAAW,cAAc,CAACF,OAAA;AACxB,YAAI,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACpC;AAGF,YAAIA,GAAE,WAAW,GAAG;AAIlB,cAAI,2CAAqBA,GAAE,aAAa;AACtC,YAAAA,GAAE,eAAc;AAGlB,UAAAA,GAAE,gBAAe;QACnB;MACF;AAEA,MAAAE,YAAW,cAAc,CAACF,OAAA;AAExB,YAAI,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM,KAAgB,MAAM,gBAAgB;AAC1E;AAMF,YAAIA,GAAE,WAAW,KAAK,mCAAaA,IAAGA,GAAE,aAAa;AACnD,yBAAeA,IAAG,MAAM,eAAeA,GAAE,WAAW;MAExD;AAKA,UAAI,gBAAgB,CAACA,OAAA;AACnB,YAAIA,GAAE,cAAc,MAAM;AACxB;AAGF,YAAI,MAAM,UAAU,mCAAaA,IAAG,MAAM,MAAM,GAC9C;AAAA,cAAI,CAAC,MAAM,gBAAgB,MAAM,eAAe,MAAM;AACpD,kBAAM,eAAe;AACrB,8BAAkB,kCAAY,MAAM,QAAQA,EAAA,GAAI,MAAM,WAAW;UACnE;QAAA,WACS,MAAM,UAAU,MAAM,gBAAgB,MAAM,eAAe,MAAM;AAC1E,gBAAM,eAAe;AACrB,0BAAgB,kCAAY,MAAM,QAAQA,EAAA,GAAI,MAAM,aAAa,KAAA;AACjE,8BAAoBA,EAAA;QACtB;MACF;AAEA,UAAI,cAAc,CAACA,OAAA;AACjB,YAAIA,GAAE,cAAc,MAAM,mBAAmB,MAAM,aAAaA,GAAE,WAAW,KAAK,MAAM,QAAQ;AAC9F,cAAI,mCAAaA,IAAG,MAAM,MAAM,KAAK,MAAM,eAAe;AACxD,4BAAgB,kCAAY,MAAM,QAAQA,EAAA,GAAI,MAAM,WAAW;mBACtD,MAAM,gBAAgB,MAAM,eAAe;AACpD,4BAAgB,kCAAY,MAAM,QAAQA,EAAA,GAAI,MAAM,aAAa,KAAA;AAGnE,gBAAM,YAAY;AAClB,gBAAM,eAAe;AACrB,gBAAM,kBAAkB;AACxB,gBAAM,cAAc;AACpB,mCAAA;AACA,cAAI,CAAC;AACH,aAAA,GAAA,2CAAqB,MAAM,MAAM;QAErC;MACF;AAEA,UAAI,kBAAkB,CAACA,OAAA;AACrB,eAAOA,EAAA;MACT;AAEA,MAAAE,YAAW,cAAc,CAACF,OAAA;AACxB,YAAI,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACpC;AAIF,eAAOA,EAAA;MACT;IACF,OAAO;AACL,MAAAE,YAAW,cAAc,CAACF,OAAA;AAExB,YAAIA,GAAE,WAAW,KAAK,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACtD;AAKF,YAAI,2CAAqBA,GAAE,aAAa;AACtC,UAAAA,GAAE,eAAc;AAGlB,YAAI,MAAM,2BAA2B;AACnC,UAAAA,GAAE,gBAAe;AACjB;QACF;AAEA,cAAM,YAAY;AAClB,cAAM,eAAe;AACrB,cAAM,SAASA,GAAE;AACjB,cAAM,eAAc,GAAA,2CAAeA,GAAE,WAAW,IAAI,YAAY;AAEhE,YAAI,CAAC,cAAc,CAAC;AAClB,WAAA,GAAA,2CAAsBA,GAAE,aAAa;AAGvC,YAAI,wBAAwB,kBAAkBA,IAAG,MAAM,WAAW;AAClE,YAAI;AACF,UAAAA,GAAE,gBAAe;AAGnB,2BAAkB,GAAA,2CAAiBA,GAAE,aAAa,GAAG,WAAW,WAAW,KAAA;MAC7E;AAEA,MAAAE,YAAW,eAAe,CAACF,OAAA;AACzB,YAAI,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACpC;AAGF,YAAI,wBAAwB;AAC5B,YAAI,MAAM,aAAa,CAAC,MAAM,6BAA6B,MAAM,eAAe,MAAM;AACpF,gBAAM,eAAe;AACrB,kCAAwB,kBAAkBA,IAAG,MAAM,WAAW;QAChE;AAEA,YAAI;AACF,UAAAA,GAAE,gBAAe;MAErB;AAEA,MAAAE,YAAW,eAAe,CAACF,OAAA;AACzB,YAAI,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACpC;AAGF,YAAI,wBAAwB;AAC5B,YAAI,MAAM,aAAa,CAAC,MAAM,6BAA6B,MAAM,eAAe,MAAM;AACpF,gBAAM,eAAe;AACrB,kCAAwB,gBAAgBA,IAAG,MAAM,aAAa,KAAA;AAC9D,8BAAoBA,EAAA;QACtB;AAEA,YAAI;AACF,UAAAA,GAAE,gBAAe;MAErB;AAEA,MAAAE,YAAW,YAAY,CAACF,OAAA;AACtB,YAAI,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACpC;AAGF,YAAI,CAAC,MAAM,6BAA6BA,GAAE,WAAW;AACnD,yBAAeA,IAAG,MAAM,eAAe,OAAA;MAE3C;AAEA,UAAI,YAAY,CAACA,OAAA;AAEf,YAAIA,GAAE,WAAW;AACf;AAGF,cAAM,YAAY;AAClB,iCAAA;AAEA,YAAI,MAAM,2BAA2B;AACnC,gBAAM,4BAA4B;AAClC;QACF;AAEA,YAAI,MAAM,UAAU,mCAAaA,IAAG,MAAM,MAAM,KAAK,MAAM,eAAe;AACxE,0BAAgB,kCAAY,MAAM,QAAQA,EAAA,GAAI,MAAM,WAAW;iBACtD,MAAM,UAAU,MAAM,gBAAgB,MAAM,eAAe;AACpE,0BAAgB,kCAAY,MAAM,QAAQA,EAAA,GAAI,MAAM,aAAa,KAAA;AAGnE,cAAM,eAAe;MACvB;AAEA,MAAAE,YAAW,eAAe,CAACF,OAAA;AACzB,YAAI,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACpC;AAGF,YAAI,QAAQ,wCAAkBA,GAAE,WAAW;AAC3C,YAAI,CAAC;AACH;AAEF,cAAM,kBAAkB,MAAM;AAC9B,cAAM,4BAA4B;AAClC,cAAM,eAAe;AACrB,cAAM,YAAY;AAClB,cAAM,SAASA,GAAE;AACjB,cAAM,cAAc;AAIpB,YAAI,CAAC,cAAc,CAAC;AAClB,WAAA,GAAA,2CAAsBA,GAAE,aAAa;AAGvC,YAAI,CAAC;AACH,WAAA,GAAA,2CAAqB,MAAM,MAAM;AAGnC,YAAI,wBAAwB,kBAAkBA,IAAG,MAAM,WAAW;AAClE,YAAI;AACF,UAAAA,GAAE,gBAAe;AAGnB,2BAAkB,GAAA,2CAAeA,GAAE,aAAa,GAAG,UAAU,UAAU,IAAA;MACzE;AAEA,MAAAE,YAAW,cAAc,CAACF,OAAA;AACxB,YAAI,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACpC;AAGF,YAAI,CAAC,MAAM,WAAW;AACpB,UAAAA,GAAE,gBAAe;AACjB;QACF;AAEA,YAAI,QAAQ,mCAAaA,GAAE,aAAa,MAAM,eAAe;AAC7D,YAAI,wBAAwB;AAC5B,YAAI,SAAS,mCAAa,OAAOA,GAAE,aAAa,GAC9C;AAAA,cAAI,CAAC,MAAM,gBAAgB,MAAM,eAAe,MAAM;AACpD,kBAAM,eAAe;AACrB,oCAAwB,kBAAkBA,IAAG,MAAM,WAAW;UAChE;QAAA,WACS,MAAM,gBAAgB,MAAM,eAAe,MAAM;AAC1D,gBAAM,eAAe;AACrB,kCAAwB,gBAAgBA,IAAG,MAAM,aAAa,KAAA;AAC9D,8BAAoBA,EAAA;QACtB;AAEA,YAAI;AACF,UAAAA,GAAE,gBAAe;MAErB;AAEA,MAAAE,YAAW,aAAa,CAACF,OAAA;AACvB,YAAI,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACpC;AAGF,YAAI,CAAC,MAAM,WAAW;AACpB,UAAAA,GAAE,gBAAe;AACjB;QACF;AAEA,YAAI,QAAQ,mCAAaA,GAAE,aAAa,MAAM,eAAe;AAC7D,YAAI,wBAAwB;AAC5B,YAAI,SAAS,mCAAa,OAAOA,GAAE,aAAa,KAAK,MAAM,eAAe,MAAM;AAC9E,yBAAeA,IAAG,MAAM,WAAW;AACnC,kCAAwB,gBAAgBA,IAAG,MAAM,WAAW;QAC9D,WAAW,MAAM,gBAAgB,MAAM,eAAe;AACpD,kCAAwB,gBAAgBA,IAAG,MAAM,aAAa,KAAA;AAGhE,YAAI;AACF,UAAAA,GAAE,gBAAe;AAGnB,cAAM,YAAY;AAClB,cAAM,kBAAkB;AACxB,cAAM,eAAe;AACrB,cAAM,4BAA4B;AAClC,YAAI,MAAM,UAAU,CAAC;AACnB,WAAA,GAAA,2CAAqB,MAAM,MAAM;AAEnC,iCAAA;MACF;AAEA,MAAAE,YAAW,gBAAgB,CAACF,OAAA;AAC1B,YAAI,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACpC;AAGF,QAAAA,GAAE,gBAAe;AACjB,YAAI,MAAM;AACR,iBAAOA,EAAA;MAEX;AAEA,UAAI,WAAW,CAACA,OAAA;AACd,YAAI,MAAM,aAAcA,GAAE,OAAmB,SAAS,MAAM,MAAM;AAChE,iBAAO;YACL,eAAe,MAAM;YACrB,UAAU;YACV,SAAS;YACT,SAAS;YACT,QAAQ;UACV,CAAA;MAEJ;AAEA,MAAAE,YAAW,cAAc,CAACF,OAAA;AACxB,YAAI,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACpC;AAGF,eAAOA,EAAA;MACT;IACF;AAEA,WAAOE;EACT,GAAG;IACD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;GACD;AAID,GAAA,GAAA,cAAAC,WAAU,MAAA;AACR,WAAO,MAAA;UAGkB;AAFvB,UAAI,CAAC;AAEH,SAAA,GAAA,4CAAqB,sBAAA,IAAI,QAAQ,YAAM,QAAlB,wBAAA,SAAA,sBAAsB,MAAA;IAE/C;EACF,GAAG;IAAC;GAA0B;AAE9B,SAAO;IACL,WAAW,iBAAiB;IAC5B,aAAY,GAAA,2CAAW,UAAU,UAAA;EACnC;AACF;AAEA,SAAS,uCAAiB,QAAe;AACvC,SAAO,OAAO,YAAY,OAAO,OAAO,aAAa,MAAA;AACvD;AAEA,SAAS,2CAAqB,OAAsB,eAAsB;AACxE,QAAM,EAAA,KAAI,KAAM,IAAI;AACpB,QAAM,UAAU;AAChB,QAAM,OAAO,QAAQ,aAAa,MAAA;AAGlC,UACG,QAAQ,WAAW,QAAQ,OAAO,QAAQ,cAAc,SAAS,YAClE,EAAG,oBAAmB,GAAA,2CAAe,OAAA,EAAS,oBAAoB,CAAC,sCAAgB,SAAS,GAAA,KAC1F,oBAAmB,GAAA,2CAAe,OAAA,EAAS,uBAC3C,QAAQ;EAEV,GAAG,SAAS,UAAW,CAAC,QAAQ,uCAAiB,OAAA,MAAc,QAAQ;AAE3E;AAEA,SAAS,wCAAkB,OAAiB;AAC1C,QAAM,EAAA,cAAc,IAAI;AACxB,MAAI,cAAc,SAAS;AACzB,WAAO,cAAc,CAAA;AAEvB,SAAO;AACT;AAEA,SAAS,mCACP,OACA,WAAwB;AAExB,QAAM,iBAAiB,MAAM;AAC7B,WAASC,MAAI,GAAGA,MAAI,eAAe,QAAQA,OAAK;AAC9C,UAAM,QAAQ,eAAeA,GAAA;AAC7B,QAAI,MAAM,eAAe;AACvB,aAAO;EAEX;AACA,SAAO;AACT;AAEA,SAAS,kCAAY,QAA0BJ,IAAY;AACzD,SAAO;IACL,eAAe;IACf,UAAUA,GAAE;IACZ,SAASA,GAAE;IACX,SAASA,GAAE;IACX,QAAQA,GAAE;EACZ;AACF;AAkBA,SAAS,yCAAmB,OAAiB;AAC3C,MAAI,UAAU;AACd,MAAI,UAAU;AACd,MAAI,MAAM,UAAU;AAClB,cAAW,MAAM,QAAQ;WAChB,MAAM,YAAY;AAC3B,cAAU,MAAM;AAElB,MAAI,MAAM,WAAW;AACnB,cAAW,MAAM,SAAS;WACjB,MAAM,YAAY;AAC3B,cAAU,MAAM;AAGlB,SAAO;IACL,KAAK,MAAM,UAAU;IACrB,OAAO,MAAM,UAAU;IACvB,QAAQ,MAAM,UAAU;IACxB,MAAM,MAAM,UAAU;EACxB;AACF;AAEA,SAAS,+CAAyBK,KAASC,KAAO;AAEhD,MAAID,IAAE,OAAOC,IAAE,SAASA,IAAE,OAAOD,IAAE;AACjC,WAAO;AAGT,MAAIA,IAAE,MAAMC,IAAE,UAAUA,IAAE,MAAMD,IAAE;AAChC,WAAO;AAET,SAAO;AACT;AAEA,SAAS,mCAAa,OAAmB,QAAe;AACtD,MAAI,OAAO,OAAO,sBAAqB;AACvC,MAAI,YAAY,yCAAmB,KAAA;AACnC,SAAO,+CAAyB,MAAM,SAAA;AACxC;AAEA,SAAS,2CAAqB,QAAe;AAE3C,SAAO,EAAE,kBAAkB,gBAAgB,CAAC,OAAO,aAAa,WAAA;AAClE;AAEA,SAAS,mDAA6B,QAAiB,KAAW;AAChE,MAAI,kBAAkB;AACpB,WAAO,CAAC,sCAAgB,QAAQ,GAAA;AAGlC,MAAI,kBAAkB;AACpB,WAAO,OAAO,SAAS,YAAY,OAAO,SAAS;AAGrD,MAAI,uCAAiB,MAAA;AACnB,WAAO;AAGT,SAAO;AACT;AAEA,IAAM,0CAAoB,oBAAI,IAAI;EAChC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;CACD;AAED,SAAS,sCAAgB,QAA0B,KAAW;AAE5D,SAAO,OAAO,SAAS,cAAc,OAAO,SAAS,UACjD,QAAQ,MACR,wCAAkB,IAAI,OAAO,IAAI;AACvC;ADv3BO,IAAM,6CAAY,GAAA,cAAAV,SAAM,WAAW,CAAC,EAAA,UAAW,GAAG,MAAA,GAAwB,QAAA;AAC/E,SAAM,GAAA,2CAAa,GAAA;AACnB,MAAI,EAAA,WAAW,KAAI,GAAA,2CAAS;IAAC,GAAG;;EAAU,CAAA;AAC1C,MAAI,SAAQ,GAAA,cAAAA,SAAM,SAAS,KAAK,QAAA;AAChC,UAAO,GAAA,cAAAA,SAAM;IACX;;IAEA;;MAAM,IAAG,GAAA,2CAAW,MAAM,OAAO,UAAA;IAAW;EAAA;AAEhD,CAAA;AIRO,IAAM,6CAAiB,GAAA,cAAAA,SAAM,WAAW,CAAC,EAAA,UAAW,GAAG,MAAA,GAA6B,QAAA;AACzF,MAAI,gBAAe,GAAA,cAAAI,QAAO,KAAA;AAC1B,MAAI,eAAc,GAAA,cAAAH,aAAW,GAAA,0CAAoB;AACjD,SAAM,GAAA,2CAAa,QAAO,gBAAA,QAAA,gBAAA,SAAA,SAAA,YAAa,IAAG;AAC1C,MAAI,WAAU,GAAA,2CAAW,eAAe,CAAC,GAAG;IAC1C,GAAG;;IAEH,WAAA;AACE,mBAAa,UAAU;AACvB,UAAI;AACF,oBAAY,SAAQ;IAExB;EACF,CAAA;AAEA,GAAA,GAAA,2CAAW,aAAa,GAAA;AAExB,GAAA,GAAA,cAAAO,WAAU,MAAA;AACR,QAAI,CAAC,aAAa,SAAS;AACzB,cAAQ,KACN,2IAAA;AAGF,mBAAa,UAAU;IACzB;EACF,GAAG,CAAA,CAAE;AAEL,UACE,GAAA,cAAAR,SAAA,eAAC,GAAA,2CAAsB,UAAQ;IAAC,OAAO;KACpC,QAAA;AAGP,CAAA;AEvCO,IAAM,4CAAN,MAAM;EA2BX,qBAA8B;AAC5B,WAAO,KAAK,YAAY;EAC1B;EAEA,iBAAuB;AACrB,SAAK,mBAAmB;AACxB,SAAK,YAAY,eAAc;EACjC;EAEA,kBAAwB;AACtB,SAAK,YAAY,gBAAe;AAChC,SAAK,uBAAuB,MAAM;EACpC;EAEA,uBAAgC;AAC9B,WAAO;EACT;EAEA,UAAU;EAAC;EAhCX,YAAY,MAAc,aAAyB;AACjD,SAAK,cAAc;AACnB,SAAK,SAAS,YAAY;AAC1B,SAAK,gBAAgB,YAAY;AACjC,SAAK,gBAAgB,YAAY;AACjC,SAAK,UAAU,YAAY;AAC3B,SAAK,aAAa,YAAY;AAC9B,SAAK,mBAAmB,YAAY;AACpC,SAAK,aAAa,YAAY;AAC9B,SAAK,YAAY,YAAY;AAC7B,SAAK,YAAY,YAAY;AAC7B,SAAK,OAAO;EACd;AAqBF;AAEO,SAAS,0CAAwC,QAA4C;AAClG,MAAI,YAAW,GAAA,cAAAY,QAAO;IACpB,WAAW;IACX,UAAU;EACZ,CAAA;AAIA,GAAA,GAAA,2CAAgB,MAAA;AACd,UAAM,QAAQ,SAAS;AACvB,WAAO,MAAA;AACL,UAAI,MAAM,UAAU;AAClB,cAAM,SAAS,WAAU;AACzB,cAAM,WAAW;MACnB;IACF;EACF,GAAG,CAAA,CAAE;AAEL,MAAI,gBAAe,GAAA,2CAAe,CAACC,OAAA;AACjC,eAAA,QAAA,WAAA,SAAA,SAAA,OAASA,EAAA;EACX,CAAA;AAGA,UAAO,GAAA,cAAAC,aAAY,CAACD,OAAA;AAKlB,QACEA,GAAE,kBAAkB,qBACpBA,GAAE,kBAAkB,oBACpBA,GAAE,kBAAkB,uBACpBA,GAAE,kBAAkB,mBACpB;AACA,eAAS,QAAQ,YAAY;AAE7B,UAAI,SAASA,GAAE;AACf,UAAI,gBAA2D,CAACA,OAAA;AAC9D,iBAAS,QAAQ,YAAY;AAE7B,YAAI,OAAO;AAET,uBAAa,IAAI,0CAAoB,QAAQA,EAAA,CAAA;AAI/C,YAAI,SAAS,QAAQ,UAAU;AAC7B,mBAAS,QAAQ,SAAS,WAAU;AACpC,mBAAS,QAAQ,WAAW;QAC9B;MACF;AAEA,aAAO,iBAAiB,YAAY,eAAe;QAAC,MAAM;MAAI,CAAA;AAE9D,eAAS,QAAQ,WAAW,IAAI,iBAAiB,MAAA;AAC/C,YAAI,SAAS,QAAQ,aAAa,OAAO,UAAU;cACjD;WAAA,6BAAA,SAAS,QAAQ,cAAQ,QAAzB,+BAAA,SAAA,SAAA,2BAA2B,WAAU;AACrC,cAAI,kBAAkB,WAAW,SAAS,gBAAgB,OAAO,SAAS;AAC1E,iBAAO,cAAc,IAAI,WAAW,QAAQ;YAAC,eAAe;UAAe,CAAA,CAAA;AAC3E,iBAAO,cAAc,IAAI,WAAW,YAAY;YAAC,SAAS;YAAM,eAAe;UAAe,CAAA,CAAA;QAChG;MACF,CAAA;AAEA,eAAS,QAAQ,SAAS,QAAQ,QAAQ;QAAC,YAAY;QAAM,iBAAiB;UAAC;;MAAW,CAAA;IAC5F;EACF,GAAG;IAAC;GAAa;AACnB;AD9FO,SAAS,0CAA6D,OAAyB;AACpG,MAAI,EAAA,YAEF,SAAS,aACT,QAAQ,YAAU,cACL,IACX;AAEJ,QAAM,UAAuC,GAAA,cAAAC,aAAY,CAACD,OAAA;AACxD,QAAIA,GAAE,WAAWA,GAAE,eAAe;AAChC,UAAI;AACF,mBAAWA,EAAA;AAGb,UAAI;AACF,sBAAc,KAAA;AAGhB,aAAO;IACT;EACF,GAAG;IAAC;IAAY;GAAc;AAG9B,QAAM,oBAAmB,GAAA,2CAA8B,MAAA;AAEvD,QAAM,WAAyC,GAAA,cAAAC,aAAY,CAACD,OAAA;AAG1D,QAAIA,GAAE,WAAWA,GAAE,iBAAiB,SAAS,kBAAkBA,GAAE,QAAQ;AACvE,UAAI;AACF,oBAAYA,EAAA;AAGd,UAAI;AACF,sBAAc,IAAA;AAGhB,uBAAiBA,EAAA;IACnB;EACF,GAAG;IAAC;IAAe;IAAa;GAAiB;AAEjD,SAAO;IACL,YAAY;MACV,SAAU,CAAC,eAAe,eAAe,iBAAiB,cAAe,UAAU;MACnF,QAAS,CAAC,eAAe,cAAc,iBAAkB,SAAS;IACpE;EACF;AACF;AE7CA,IAAI,wCAAmC;AACvC,IAAI,uCAAiB,oBAAI,IAAA;AAIlB,IAAI,4CAA0B,oBAAI,IAAA;AACzC,IAAI,4CAAsB;AAC1B,IAAI,iDAA2B;AAG/B,IAAM,iDAA2B;EAC/B,KAAK;EACL,QAAQ;AACV;AAEA,SAAS,4CAAsB,UAAoBA,IAAe;AAChE,WAAS,WAAW;AAClB,YAAQ,UAAUA,EAAA;AAEtB;AAKA,SAAS,iCAAWA,IAAgB;AAElC,SAAO,EAAEA,GAAE,WAAY,EAAC,GAAA,2CAAI,KAAOA,GAAE,UAAWA,GAAE,WAAWA,GAAE,QAAQ,aAAaA,GAAE,QAAQ,WAAWA,GAAE,QAAQ;AACrH;AAGA,SAAS,0CAAoBA,IAAgB;AAC3C,8CAAsB;AACtB,MAAI,iCAAWA,EAAA,GAAI;AACjB,4CAAkB;AAClB,gDAAsB,YAAYA,EAAA;EACpC;AACF;AAEA,SAAS,yCAAmBA,IAA4B;AACtD,0CAAkB;AAClB,MAAIA,GAAE,SAAS,eAAeA,GAAE,SAAS,eAAe;AACtD,gDAAsB;AACtB,gDAAsB,WAAWA,EAAA;EACnC;AACF;AAEA,SAAS,uCAAiBA,IAAa;AACrC,OAAI,GAAA,2CAAeA,EAAA,GAAI;AACrB,gDAAsB;AACtB,4CAAkB;EACpB;AACF;AAEA,SAAS,uCAAiBA,IAAa;AAIrC,MAAIA,GAAE,WAAW,UAAUA,GAAE,WAAW;AACtC;AAKF,MAAI,CAAC,6CAAuB,CAAC,gDAA0B;AACrD,4CAAkB;AAClB,gDAAsB,WAAWA,EAAA;EACnC;AAEA,8CAAsB;AACtB,mDAA2B;AAC7B;AAEA,SAAS,yCAAA;AAGP,8CAAsB;AACtB,mDAA2B;AAC7B;AAKA,SAAS,6CAAuB,SAA4B;AAC1D,MAAI,OAAO,WAAW,eAAe,0CAAwB,KAAI,GAAA,2CAAe,OAAA,CAAA;AAC9E;AAGF,QAAM,gBAAe,GAAA,2CAAe,OAAA;AACpC,QAAM,kBAAiB,GAAA,2CAAiB,OAAA;AAMxC,MAAI,QAAQ,aAAa,YAAY,UAAU;AAC/C,eAAa,YAAY,UAAU,QAAQ,WAAA;AACzC,gDAAsB;AACtB,UAAM,MAAM,MAAM,SAAA;EACpB;AAEA,iBAAe,iBAAiB,WAAW,2CAAqB,IAAA;AAChE,iBAAe,iBAAiB,SAAS,2CAAqB,IAAA;AAC9D,iBAAe,iBAAiB,SAAS,wCAAkB,IAAA;AAI3D,eAAa,iBAAiB,SAAS,wCAAkB,IAAA;AACzD,eAAa,iBAAiB,QAAQ,wCAAkB,KAAA;AAExD,MAAI,OAAO,iBAAiB,aAAa;AACvC,mBAAe,iBAAiB,eAAe,0CAAoB,IAAA;AACnE,mBAAe,iBAAiB,eAAe,0CAAoB,IAAA;AACnE,mBAAe,iBAAiB,aAAa,0CAAoB,IAAA;EACnE,OAAO;AACL,mBAAe,iBAAiB,aAAa,0CAAoB,IAAA;AACjE,mBAAe,iBAAiB,aAAa,0CAAoB,IAAA;AACjE,mBAAe,iBAAiB,WAAW,0CAAoB,IAAA;EACjE;AAGA,eAAa,iBAAiB,gBAAgB,MAAA;AAC5C,sDAA4B,OAAA;EAC9B,GAAG;IAAC,MAAM;EAAI,CAAA;AAEd,4CAAwB,IAAI,cAAc;;EAAM,CAAA;AAClD;AAEA,IAAM,oDAA8B,CAAC,SAAS,iBAAA;AAC5C,QAAM,gBAAe,GAAA,2CAAe,OAAA;AACpC,QAAM,kBAAiB,GAAA,2CAAiB,OAAA;AACxC,MAAI;AACF,mBAAe,oBAAoB,oBAAoB,YAAA;AAEzD,MAAI,CAAC,0CAAwB,IAAI,YAAA;AAC/B;AAEF,eAAa,YAAY,UAAU,QAAQ,0CAAwB,IAAI,YAAA,EAAe;AAEtF,iBAAe,oBAAoB,WAAW,2CAAqB,IAAA;AACnE,iBAAe,oBAAoB,SAAS,2CAAqB,IAAA;AACjE,iBAAe,oBAAoB,SAAS,wCAAkB,IAAA;AAC9D,eAAa,oBAAoB,SAAS,wCAAkB,IAAA;AAC5D,eAAa,oBAAoB,QAAQ,wCAAkB,KAAA;AAE3D,MAAI,OAAO,iBAAiB,aAAa;AACvC,mBAAe,oBAAoB,eAAe,0CAAoB,IAAA;AACtE,mBAAe,oBAAoB,eAAe,0CAAoB,IAAA;AACtE,mBAAe,oBAAoB,aAAa,0CAAoB,IAAA;EACtE,OAAO;AACL,mBAAe,oBAAoB,aAAa,0CAAoB,IAAA;AACpE,mBAAe,oBAAoB,aAAa,0CAAoB,IAAA;AACpE,mBAAe,oBAAoB,WAAW,0CAAoB,IAAA;EACpE;AAEA,4CAAwB,OAAO,YAAA;AACjC;AAmBO,SAAS,0CAAuB,SAA4B;AACjE,QAAM,kBAAiB,GAAA,2CAAiB,OAAA;AACxC,MAAI;AACJ,MAAI,eAAe,eAAe;AAChC,iDAAuB,OAAA;OAClB;AACL,mBAAe,MAAA;AACb,mDAAuB,OAAA;IACzB;AACA,mBAAe,iBAAiB,oBAAoB,YAAA;EACtD;AAEA,SAAO,MAAM,kDAA4B,SAAS,YAAA;AACpD;AAIA,IAAI,OAAO,aAAa;AACtB,4CAAA;AAMK,SAAS,4CAAA;AACd,SAAO,0CAAoB;AAC7B;AAgCA,IAAM,0CAAoB,oBAAI,IAAI;EAChC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;CACD;AAMD,SAAS,2CAAqB,aAAsB,UAAoBE,IAAe;MAOjB;AANpE,QAAM,oBAAoB,OAAO,WAAW,eAAc,GAAA,2CAAeA,OAAA,QAAAA,OAAA,SAAA,SAAAA,GAAG,MAAM,EAAa,mBAAmB;AAClH,QAAM,uBAAuB,OAAO,WAAW,eAAc,GAAA,2CAAeA,OAAA,QAAAA,OAAA,SAAA,SAAAA,GAAG,MAAM,EAAa,sBAAsB;AACxH,QAAM,eAAe,OAAO,WAAW,eAAc,GAAA,2CAAeA,OAAA,QAAAA,OAAA,SAAA,SAAAA,GAAG,MAAM,EAAa,cAAc;AACxG,QAAM,iBAAiB,OAAO,WAAW,eAAc,GAAA,2CAAeA,OAAA,QAAAA,OAAA,SAAA,SAAAA,GAAG,MAAM,EAAa,gBAAgB;AAE5G,gBAAc,gBACXA,OAAA,QAAAA,OAAA,SAAA,SAAAA,GAAG,mBAAkB,qBAAqB,CAAC,wCAAkB,IAAIA,OAAA,QAAAA,OAAA,SAAA,UAAA,YAAAA,GAAG,YAAM,QAAT,cAAA,SAAA,SAAA,UAAW,IAAI,MACjFA,OAAA,QAAAA,OAAA,SAAA,SAAAA,GAAG,mBAAkB,yBACpBA,OAAA,QAAAA,OAAA,SAAA,SAAAA,GAAG,mBAAkB,iBAAgBA,OAAA,QAAAA,OAAA,SAAA,SAAAA,GAAG,OAAO;AAClD,SAAO,EAAE,eAAe,aAAa,cAAcA,cAAa,kBAAkB,CAAC,+CAAyBA,GAAE,GAAG;AACnH;AAkBO,SAAS,0CAAwB,IAAyB,MAA0B,MAA8B;AACvH,+CAAA;AAEA,GAAA,GAAA,cAAAC,WAAU,MAAA;AACR,QAAI,UAAU,CAAC,UAAoBC,OAAA;AACjC,UAAI,CAAC,2CAAqB,CAAC,EAAE,SAAA,QAAA,SAAA,SAAA,SAAA,KAAM,cAAc,UAAUA,EAAA;AACzD;AAEF,SAAG,0CAAA,CAAA;IACL;AACA,yCAAe,IAAI,OAAA;AACnB,WAAO,MAAA;AACL,2CAAe,OAAO,OAAA;IACxB;EAEF,GAAG,IAAA;AACL;AClSO,SAAS,0CAAe,OAAuB;AACpD,MAAI,EAAA,YACQ,cACE,eACC,oBACM,IACjB;AACJ,MAAI,SAAQ,GAAA,cAAAC,QAAO;IACjB,eAAe;EACjB,CAAA;AAEA,MAAI,UAAS,GAAA,cAAAC,aAAY,CAACF,OAAA;AAIxB,QAAI,MAAM,QAAQ,iBAAiB,CAAEA,GAAE,cAA0B,SAASA,GAAE,aAAa,GAAc;AACrG,YAAM,QAAQ,gBAAgB;AAE9B,UAAI;AACF,qBAAaA,EAAA;AAGf,UAAI;AACF,4BAAoB,KAAA;IAExB;EACF,GAAG;IAAC;IAAc;IAAqB;GAAM;AAE7C,MAAI,oBAAmB,GAAA,2CAAsB,MAAA;AAC7C,MAAI,WAAU,GAAA,cAAAE,aAAY,CAACF,OAAA;AAGzB,QAAI,CAAC,MAAM,QAAQ,iBAAiB,SAAS,kBAAkBA,GAAE,QAAQ;AACvE,UAAI;AACF,sBAAcA,EAAA;AAGhB,UAAI;AACF,4BAAoB,IAAA;AAGtB,YAAM,QAAQ,gBAAgB;AAC9B,uBAAiBA,EAAA;IACnB;EACF,GAAG;IAAC;IAAe;IAAqB;GAAiB;AAEzD,MAAI;AACF,WAAO;MACL,kBAAkB;;QAEhB,SAAS;QACT,QAAQ;MACV;IACF;AAGF,SAAO;IACL,kBAAkB;;;IAGlB;EACF;AACF;;;ASpCA,IAAM,sCAAe,GAAA,cAAAG,SAAM,cAAoC,IAAA;AAiM/D,IAAM,0CAAoB;EACxB;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF,IAAM,mDAA6B,wCAAkB,KAAK,iBAAA,IAAqB;AAE/E,wCAAkB,KAAK,iDAAA;AACvB,IAAM,kDAA4B,wCAAkB,KAAK,sCAAA;AAmIzD,SAAS,uCAAiB,SAA0B,OAAwB;AAC1E,MAAI,CAAC;AACH,WAAO;AAET,MAAI,CAAC;AACH,WAAO;AAET,SAAO,MAAM,KAAK,CAAA,SAAQ,KAAK,SAAS,OAAA,CAAA;AAC1C;AAgbA,IAAM,6BAAN,MAAM,4BAAA;EASJ,IAAI,OAAO;AACT,WAAO,KAAK,QAAQ;EACtB;EAEA,YAAY,MAAgB;AAC1B,WAAO,KAAK,QAAQ,IAAI,IAAA;EAC1B;EAEA,YAAY,UAAoB,QAAkB,eAAkC;AAClF,QAAI,aAAa,KAAK,QAAQ,IAAI,WAAA,QAAA,WAAA,SAAA,SAAU,IAAA;AAC5C,QAAI,CAAC;AACH;AAEF,QAAI,OAAO,IAAI,+BAAS;;IAAS,CAAA;AACjC,eAAW,SAAS,IAAA;AACpB,SAAK,SAAS;AACd,SAAK,QAAQ,IAAI,UAAU,IAAA;AAC3B,QAAI;AACF,WAAK,gBAAgB;EAEzB;EAEA,QAAQ,MAAgB;AACtB,SAAK,QAAQ,IAAI,KAAK,UAAU,IAAA;EAClC;EAEA,eAAe,UAAoB;AAEjC,QAAI,aAAa;AACf;AAEF,QAAI,OAAO,KAAK,QAAQ,IAAI,QAAA;AAC5B,QAAI,CAAC;AACH;AAEF,QAAI,aAAa,KAAK;AAGtB,aAAS,WAAW,KAAK,SAAQ;AAC/B,UACE,YAAY,QACZ,KAAK,iBACL,QAAQ,iBACR,KAAK,YACL,KAAK,SAAS,WACd,uCAAiB,QAAQ,eAAe,KAAK,SAAS,OAAO;AAE7D,gBAAQ,gBAAgB,KAAK;AAGjC,QAAI,WAAW,KAAK;AACpB,QAAI,YAAY;AACd,iBAAW,YAAY,IAAA;AACvB,UAAI,SAAS,OAAO;AAClB,iBAAS,QAAQ,CAAA,UAAS,cAAc,WAAW,SAAS,KAAA,CAAA;IAEhE;AAEA,SAAK,QAAQ,OAAO,KAAK,QAAQ;EACnC;;EAGA,CAAC,SAAS,OAAiB,KAAK,MAA2B;AACzD,QAAI,KAAK,YAAY;AACnB,YAAM;AAER,QAAI,KAAK,SAAS,OAAO;AACvB,eAAS,SAAS,KAAK;AACrB,eAAO,KAAK,SAAS,KAAA;EAG3B;EAEA,QAAc;QAGyB;AAFrC,QAAI,UAAU,IAAI,4BAAA;QAEmB;AADrC,aAAS,QAAQ,KAAK,SAAQ;AAC5B,cAAQ,YAAY,KAAK,WAAU,yBAAA,eAAA,KAAK,YAAM,QAAX,iBAAA,SAAA,SAAA,aAAa,cAAQ,QAArB,0BAAA,SAAA,wBAAyB,MAAM,KAAK,aAAa;AAEtF,WAAO;EACT;EApFA,cAAc;SAFN,UAAU,oBAAI,IAAA;AAGpB,SAAK,OAAO,IAAI,+BAAS;MAAC,UAAU;IAAI,CAAA;AACxC,SAAK,QAAQ,IAAI,MAAM,KAAK,IAAI;EAClC;AAkFF;AAEA,IAAM,iCAAN,MAAM;EAUJ,SAAS,MAAgB;AACvB,SAAK,SAAS,IAAI,IAAA;AAClB,SAAK,SAAS;EAChB;EACA,YAAY,MAAgB;AAC1B,SAAK,SAAS,OAAO,IAAA;AACrB,SAAK,SAAS;EAChB;EAVA,YAAY,OAA6B;SAHlC,WAA0B,oBAAI,IAAA;SAC9B,UAAU;AAGf,SAAK,WAAW,MAAM;EACxB;AASF;AAEO,IAAI,4CAAiB,IAAI,2BAAA;AI55BzB,SAAS,0CAAa,QAA4B,CAAC,GAAC;AACzD,MAAI,EAAA,YACU,OAAA,aACD,OACL,IACJ;AACJ,MAAI,SAAQ,GAAA,cAAAC,QAAO;IACjB,WAAW;IACX,gBAAgB,cAAa,GAAA,2CAAa;EAC5C,CAAA;AACA,MAAI,CAAC,WAAW,UAAA,KAAc,GAAA,cAAAC,UAAS,KAAA;AACvC,MAAI,CAAC,qBAAqB,eAAA,KAAmB,GAAA,cAAAA,UAAS,MAAM,MAAM,QAAQ,aAAa,MAAM,QAAQ,cAAc;AAEnH,MAAI,eAAc,GAAA,cAAAC,aAAY,MAAM,gBAAgB,MAAM,QAAQ,aAAa,MAAM,QAAQ,cAAc,GAAG,CAAA,CAAE;AAEhH,MAAI,iBAAgB,GAAA,cAAAA,aAAY,CAAAC,eAAA;AAC9B,UAAM,QAAQ,YAAYA;AAC1B,eAAWA,UAAA;AACX,gBAAA;EACF,GAAG;IAAC;GAAY;AAEhB,GAAA,GAAA,2CAAwB,CAAC,mBAAA;AACvB,UAAM,QAAQ,iBAAiB;AAC/B,gBAAA;EACF,GAAG,CAAA,GAAI;;EAAY,CAAA;AAEnB,MAAI,EAAA,WAAW,KAAI,GAAA,2CAAS;IAC1B,YAAY;;EAEd,CAAA;AAEA,MAAI,EAAA,iBAAiB,KAAI,GAAA,2CAAe;IACtC,YAAY,CAAC;IACb,qBAAqB;EACvB,CAAA;AAEA,SAAO;;IAEL,gBAAgB;IAChB,YAAY,SAAS,mBAAmB;EAC1C;AACF;AC7CA,IAAI,0CAAmB,GAAA,cAAAC,SAAM,cAA4C,IAAA;AAczE,SAAS,wCAAkB,OAA+B,KAAmC;AAC3F,MAAI,EAAA,UAAW,GAAG,WAAA,IAAc;AAChC,MAAI,UAAS,GAAA,2CAAa,GAAA;AAC1B,MAAI,UAAU;IACZ,GAAG;IACH,KAAK;EACP;AAEA,UACE,GAAA,cAAAC,SAAA,cAAC,uCAAiB,UAAQ;IAAC,OAAO;KAC/B,QAAA;AAGP;AAEA,IAAI,4CAAqB,GAAA,cAAAA,SAAM,WAAW,uCAAA;;;;;;;;;;AG5B1C,IAAMC,wCAAkC;EACtC,QAAQ,OAAO,KAAK,MAAM,KAAK,OAAM,IAAK,IAAA,CAAA;EAC1C,SAAS;AACX;AAEA,IAAMC,qCAAa,GAAA,cAAAC,SAAM,cAA+BF,qCAAA;AACxD,IAAMG,uCAAe,GAAA,cAAAD,SAAM,cAAc,KAAA;AAwDzC,IAAIE,mCAAY,QACd,OAAO,WAAW,eAClB,OAAO,YACP,OAAO,SAAS,aAAa;AAG/B,IAAIC,sCAAe,oBAAI,QAAA;AAEvB,SAASC,kCAAW,aAAa,OAAK;AACpC,MAAI,OAAM,GAAA,cAAAC,YAAWC,iCAAA;AACrB,MAAI,OAAM,GAAA,cAAAC,QAAsB,IAAA;AAEhC,MAAI,IAAI,YAAY,QAAQ,CAAC,YAAY;QAWpB,6EAAA;AAAnB,QAAI,gBAAe,6DAAA,GAAA,cAAAC,SAAM,wDAAkD,QAAxD,8DAAA,SAAA,UAAA,8EAAA,0DAA0D,uBAAiB,QAA3E,gFAAA,SAAA,SAAA,4EAA6E;AAChG,QAAI,cAAc;AAChB,UAAI,qBAAqBL,oCAAa,IAAI,YAAA;AAC1C,UAAI,sBAAsB;AAExB,QAAAA,oCAAa,IAAI,cAAc;UAC7B,IAAI,IAAI;UACR,OAAO,aAAa;QACtB,CAAA;eACS,aAAa,kBAAkB,mBAAmB,OAAO;AAIlE,YAAI,UAAU,mBAAmB;AACjC,QAAAA,oCAAa,OAAO,YAAA;MACtB;IACF;AAGA,QAAI,UAAU,EAAE,IAAI;EACtB;AAGA,SAAO,IAAI;AACb;AAEA,SAASM,0CAAmB,WAAkB;AAC5C,MAAI,OAAM,GAAA,cAAAJ,YAAWC,iCAAA;AAIrB,MAAI,QAAQI,yCAAkB,CAACR;AAC7B,YAAQ,KAAK,iJAAA;AAGf,MAAI,UAAUE,kCAAW,CAAC,CAAC,SAAA;AAC3B,MAAI,SAAS,QAAQM,yCAAkB,QAAkC,eAAe,aAAa,IAAI,MAAM;AAC/G,SAAO,aAAa,GAAG,MAAA,IAAU,OAAA;AACnC;AAEA,SAASC,0CAAmB,WAAkB;AAE5C,MAAI,MAAK,GAAA,cAAAH,SAAM,MAAK;AACpB,MAAI,CAAC,MAAA,KAAU,GAAA,cAAAI,UAASC,2CAAA,CAAA;AACxB,MAAI,SAAS,UAAU,QAAkC,eAAe,aAAaH,sCAAe,MAAM;AAC1G,SAAO,aAAa,GAAG,MAAA,IAAU,EAAA;AACnC;AAIO,IAAMI,6CAAe,QAAO,GAAA,cAAAN,SAAM,OAAA,MAAa,aAAaG,4CAAqBF;AAExF,SAASM,qCAAA;AACP,SAAO;AACT;AAEA,SAASC,2CAAA;AACP,SAAO;AACT;AAGA,SAASC,iCAAU,eAAyB;AAE1C,SAAO,MAAA;EAAO;AAChB;AAOO,SAASJ,6CAAA;AAEd,MAAI,QAAO,GAAA,cAAAL,SAAM,sBAAA,MAA4B;AAC3C,YAAO,GAAA,cAAAA,SAAM,sBAAA,EAAwBS,kCAAWF,oCAAaC,wCAAA;AAI/D,UAAO,GAAA,cAAAX,YAAWa,mCAAA;AACpB;;;ACrMA,SAASC,GAAEC,IAAE;AAAC,MAAIC,KAAEC,KAAEC,MAAE;AAAG,MAAG,YAAU,OAAOH,MAAG,YAAU,OAAOA;AAAE,IAAAG,OAAGH;AAAA,WAAU,YAAU,OAAOA;AAAE,QAAG,MAAM,QAAQA,EAAC;AAAE,WAAIC,MAAE,GAAEA,MAAED,GAAE,QAAOC;AAAI,QAAAD,GAAEC,GAAC,MAAIC,MAAEH,GAAEC,GAAEC,GAAC,CAAC,OAAKE,QAAIA,OAAG,MAAKA,OAAGD;AAAA;AAAQ,WAAID,OAAKD;AAAE,QAAAA,GAAEC,GAAC,MAAIE,QAAIA,OAAG,MAAKA,OAAGF;AAAG,SAAOE;AAAC;AAAQ,SAASC,QAAM;AAAC,WAAQJ,IAAEC,KAAEC,MAAE,GAAEC,MAAE,IAAGD,MAAE,UAAU;AAAQ,KAACF,KAAE,UAAUE,KAAG,OAAKD,MAAEF,GAAEC,EAAC,OAAKG,QAAIA,OAAG,MAAKA,OAAGF;AAAG,SAAOE;AAAC;AAAC,IAAO,iBAAQC;;;AGiB1W,IAAMC,6CAAkB,OAAO,aAAa,eAC/C,GAAA,cAAAC,SAAM,kBACN,MAAA;AAAO;AEJJ,SAASC,2CAAmC,IAAK;AACtD,QAAM,OAAM,GAAA,cAAAC,QAAiB,IAAA;AAC7B,GAAA,GAAAH,4CAAgB,MAAA;AACd,QAAI,UAAU;EAChB,GAAG;IAAC;GAAG;AAEP,UAAO,GAAA,cAAAI,aAAe,IAAI,SAAA;AACxB,UAAMC,MAAI,IAAI;AACd,WAAOA,IAAA,GAAK,IAAA;EACd,GAAG,CAAA,CAAE;AACP;AHPA,IAAIC,mCAAY,QACd,OAAO,WAAW,eAClB,OAAO,YACP,OAAO,SAAS,aAAa;AAG/B,IAAIC,uCAAkD,oBAAI,IAAA;AA4CnD,SAASC,2CAAS,KAAa,KAAW;AAC/C,MAAI,QAAQ;AACV,WAAO;AAGT,MAAI,SAASC,qCAAc,IAAI,GAAA;AAC/B,MAAI,QAAQ;AACV,WAAO,GAAA;AACP,WAAO;EACT;AAEA,MAAI,SAASA,qCAAc,IAAI,GAAA;AAC/B,MAAI,QAAQ;AACV,WAAO,GAAA;AACP,WAAO;EACT;AAEA,SAAO;AACT;AIvEO,SAASC,8CAAS,WAAgB;AACvC,SAAO,IAAI,SAAA;AACT,aAAS,YAAY;AACnB,UAAI,OAAO,aAAa;AACtB,iBAAA,GAAY,IAAA;EAGlB;AACF;ACvBO,IAAMC,6CAAmB,CAAC,OAAA;MACxB;AAAP,UAAO,oBAAA,OAAA,QAAA,OAAA,SAAA,SAAA,GAAI,mBAAa,QAAjB,sBAAA,SAAA,oBAAqB;AAC9B;AAEO,IAAMC,6CAAiB,CAC5B,OAAA;AAEA,MAAI,MAAM,YAAY,MAAM,GAAG,WAAW;AACxC,WAAO;AAGT,QAAM,MAAMD,2CAAiB,EAAA;AAC7B,SAAO,IAAI,eAAe;AAC5B;ACsBO,SAASE,8CAAoC,MAAO;AAGzD,MAAI,SAAgB;IAAC,GAAG,KAAK,CAAA;EAAE;AAC/B,WAASC,MAAI,GAAGA,MAAI,KAAK,QAAQA,OAAK;AACpC,QAAI,QAAQ,KAAKA,GAAA;AACjB,aAAS,OAAO,OAAO;AACrB,UAAIC,MAAI,OAAO,GAAA;AACf,UAAIC,MAAI,MAAM,GAAA;AAGd,UACE,OAAOD,QAAM,cACb,OAAOC,QAAM;MAEb,IAAI,CAAA,MAAO,OACX,IAAI,CAAA,MAAO,OACX,IAAI,WAAW,CAAA;MAAgB,MAC/B,IAAI,WAAW,CAAA;MAAgB;AAE/B,eAAO,GAAA,KAAO,GAAAN,4CAAMK,KAAGC,GAAA;gBAItB,QAAQ,eAAe,QAAQ,uBAChC,OAAOD,QAAM,YACb,OAAOC,QAAM;AAEb,eAAO,GAAA,KAAO,GAAA,gBAAKD,KAAGC,GAAA;eACb,QAAQ,QAAQD,OAAKC;AAC9B,eAAO,MAAK,GAAAC,4CAASF,KAAGC,GAAA;;AAGxB,eAAO,GAAA,IAAOA,QAAM,SAAYA,MAAID;IAExC;EACF;AAEA,SAAO;AACT;AG5CO,SAASG,2CAAsB,SAAyB;AAC7D,MAAIC,6CAAA;AACF,YAAQ,MAAM;MAAC,eAAe;IAAI,CAAA;OAC7B;AACL,QAAI,qBAAqBC,6CAAsB,OAAA;AAC/C,YAAQ,MAAK;AACb,IAAAC,6CAAsB,kBAAA;EACxB;AACF;AAEA,IAAIC,qDAAuC;AAC3C,SAASH,+CAAA;AACP,MAAIG,sDAA+B,MAAM;AACvC,IAAAA,qDAA8B;AAC9B,QAAI;AACF,UAAI,YAAY,SAAS,cAAc,KAAA;AACvC,gBAAU,MAAM;QACd,IAAI,gBAAgB;AAClB,UAAAA,qDAA8B;AAC9B,iBAAO;QACT;MACF,CAAA;IACF,SAASC,IAAG;IAEZ;EACF;AAEA,SAAOD;AACT;AAEA,SAASF,6CAAsB,SAAyB;AACtD,MAAI,SAAS,QAAQ;AACrB,MAAI,qBAA0C,CAAA;AAC9C,MAAI,uBAAuB,SAAS,oBAAoB,SAAS;AAEjE,SAAO,kBAAkB,eAAe,WAAW,sBAAsB;AACvE,QACE,OAAO,eAAe,OAAO,gBAC7B,OAAO,cAAc,OAAO;AAE5B,yBAAmB,KAAK;QACtB,SAAS;QACT,WAAW,OAAO;QAClB,YAAY,OAAO;MACrB,CAAA;AAEF,aAAS,OAAO;EAClB;AAEA,MAAI,gCAAgC;AAClC,uBAAmB,KAAK;MACtB,SAAS;MACT,WAAW,qBAAqB;MAChC,YAAY,qBAAqB;IACnC,CAAA;AAGF,SAAO;AACT;AAEA,SAASC,6CAAsB,oBAAuC;AACpE,WAAS,EAAA,SAAQ,WAAW,WAAY,KAAK,oBAAoB;AAC/D,YAAQ,YAAY;AACpB,YAAQ,aAAa;EACvB;AACF;AGnFA,SAASG,qCAAcC,KAAU;MAK7B;AAJF,MAAI,OAAO,WAAW,eAAe,OAAO,aAAa;AACvD,WAAO;AAET,WACE,kCAAA,OAAO,UAAU,eAAA,OAAgB,QAAjC,oCAAA,SAAA,SAAA,gCAAmC,OAAO,KAAK,CAAC,UAA4CA,IAAG,KAAK,MAAM,KAAK,CAAA,MAEjHA,IAAG,KAAK,OAAO,UAAU,SAAS;AACpC;AAEA,SAASC,oCAAaD,KAAU;MAElB;AADZ,SAAO,OAAO,WAAW,eAAe,OAAO,aAAa,OACxDA,IAAG,OAAK,kCAAA,OAAO,UAAU,eAAA,OAAgB,QAAjC,oCAAA,SAAA,SAAA,gCAAmC,aAAY,OAAO,UAAU,QAAQ,IAChF;AACN;AAEO,SAASE,6CAAA;AACd,SAAOD,oCAAa,OAAA;AACtB;AAEO,SAASE,4CAAA;AACd,SAAOF,oCAAa,UAAA;AACtB;AAEO,SAASG,6CAAA;AACd,SAAOH,oCAAa,QAAA;EAEjBC,2CAAA,KAAW,UAAU,iBAAiB;AAC3C;AAEO,SAASG,6CAAA;AACd,SAAOF,0CAAA,KAAcC,2CAAA;AACvB;AAMO,SAASE,6CAAA;AACd,SAAOC,qCAAc,cAAA,KAAmB,CAACC,2CAAA;AAC3C;AAEO,SAASA,6CAAA;AACd,SAAOD,qCAAc,SAAA;AACvB;AAEO,SAASE,6CAAA;AACd,SAAOF,qCAAc,UAAA;AACvB;AAEO,SAASG,6CAAA;AACd,SAAOH,qCAAc,UAAA;AACvB;AD1CA,IAAMI,wCAAgB,GAAA,cAAAC,eAAsB;EAC1C,UAAU;EACV,MAAMC;AACR,CAAA;AA2DO,SAASC,2CAAS,QAA2B,WAAsB,aAAa,MAAI;MAOtE,oBAAA;AANnB,MAAI,EAAA,SAAQ,SAAS,QAAQ,SAAU,IAAI;AAM3C,OAAI,GAAAC,4CAAQ,OAAO,gBAAA,OAAO,WAAK,QAAZ,kBAAA,SAAA,UAAA,qBAAA,cAAc,UAAI,QAAlB,uBAAA,SAAA,SAAA,mBAAoB,WAAW,KAAA,MAAU,OAAO,WAAW,UAAA;AAC5E,SAAI,GAAAC,4CAAI;AACN,gBAAU;;AAEV,gBAAU;;AAMd,MAAI,SAAQ,GAAAC,4CAAO,MAAO,GAAAD,4CAAI,KAAO,EAAC,GAAAE,4CAAK,KAAO,OAE9C,IAAI,cAAc,WAAW;IAAC,eAAe;;;;;EAA2C,CAAA,IACxF,IAAI,WAAW,SAAS;;;;;IAAqC,SAAS;IAAM,YAAY;EAAI,CAAA;AAC/F,EAAAJ,2CAAiB,YAAY;AAC9B,GAAA,GAAAK,4CAAsB,MAAA;AACtB,SAAO,cAAc,KAAA;AACpB,EAAAL,2CAAiB,YAAY;AAChC;AAECA,2CAAiB,YAAY;AAE9B,SAASM,wCAAiB,QAAiB,MAAuC;AAChF,MAAI,kBAAkB;AACpB,SAAK,MAAA;WACI,OAAO,aAAa,WAAA,GAAc;AAC3C,QAAI,OAAO,SAAS,cAAc,GAAA;AAClC,SAAK,OAAO,OAAO,aAAa,WAAA;AAChC,QAAI,OAAO,aAAa,aAAA;AACtB,WAAK,SAAS,OAAO,aAAa,aAAA;AAEpC,QAAI,OAAO,aAAa,UAAA;AACtB,WAAK,MAAM,OAAO,aAAa,UAAA;AAEjC,QAAI,OAAO,aAAa,eAAA;AACtB,WAAK,WAAW,OAAO,aAAa,eAAA;AAEtC,QAAI,OAAO,aAAa,WAAA;AACtB,WAAK,OAAO,OAAO,aAAa,WAAA;AAElC,QAAI,OAAO,aAAa,sBAAA;AACtB,WAAK,iBAAiB,OAAO,aAAa,sBAAA;AAE5C,WAAO,YAAY,IAAA;AACnB,SAAK,IAAA;AACL,WAAO,YAAY,IAAA;EACrB;AACF;AAEA,SAASC,yCAAkB,QAAiB,WAAoB;AAC9D,EAAAD,wCAAiB,QAAQ,CAAA,SAAQN,2CAAS,MAAM,SAAA,CAAA;AAClD;AE5HA,IAAIQ,8CAAuB,oBAAI,IAAA;AAG/B,IAAIC,6CAAsB,oBAAI,IAAA;AAE9B,SAASC,2CAAA;AACP,MAAI,OAAO,WAAW;AACpB;AAGF,MAAI,oBAAoB,CAACC,OAAA;AAEvB,QAAI,cAAcH,4CAAqB,IAAIG,GAAE,MAAM;AACnD,QAAI,CAAC,aAAa;AAChB,oBAAc,oBAAI,IAAA;AAClB,MAAAH,4CAAqB,IAAIG,GAAE,QAAQ,WAAA;AAKnC,MAAAA,GAAE,OAAO,iBAAiB,oBAAoB,eAAA;IAChD;AAEA,gBAAY,IAAIA,GAAE,YAAY;EAChC;AAEA,MAAI,kBAAkB,CAACA,OAAA;AAErB,QAAI,aAAaH,4CAAqB,IAAIG,GAAE,MAAM;AAClD,QAAI,CAAC;AACH;AAGF,eAAW,OAAOA,GAAE,YAAY;AAGhC,QAAI,WAAW,SAAS,GAAG;AACzB,MAAAA,GAAE,OAAO,oBAAoB,oBAAoB,eAAA;AACjD,MAAAH,4CAAqB,OAAOG,GAAE,MAAM;IACtC;AAGA,QAAIH,4CAAqB,SAAS,GAAG;AACnC,eAAS,MAAMC;AACb,WAAA;AAGF,MAAAA,2CAAoB,MAAK;IAC3B;EACF;AAEA,WAAS,KAAK,iBAAiB,iBAAiB,iBAAA;AAChD,WAAS,KAAK,iBAAiB,iBAAiB,eAAA;AAClD;AAEA,IAAI,OAAO,aAAa,aAAA;AACtB,MAAI,SAAS,eAAe;AAC1B,IAAAC,yCAAA;;AAEA,aAAS,iBAAiB,oBAAoBA,wCAAA;;AAI3C,SAASE,2CAAmB,IAAc;AAE/C,wBAAsB,MAAA;AAGpB,QAAIJ,4CAAqB,SAAS;AAChC,SAAA;;AAEA,MAAAC,2CAAoB,IAAI,EAAA;EAE5B,CAAA;AACF;AEtEO,SAASI,6CAAA;AACd,MAAI,mBAAkB,GAAA,cAAAC,QAAO,oBAAI,IAAA,CAAA;AACjC,MAAI,qBAAoB,GAAA,cAAAC,aAAY,CAAC,aAAa,MAAM,UAAU,YAAA;AAEhE,QAAI,MAAK,YAAA,QAAA,YAAA,SAAA,SAAA,QAAS,QAAO,IAAI,SAAA;AAC3B,sBAAgB,QAAQ,OAAO,QAAA;AAC/B,eAAA,GAAY,IAAA;IACd,IAAI;AACJ,oBAAgB,QAAQ,IAAI,UAAU;;;;;IAA+B,CAAA;AACrE,gBAAY,iBAAiB,MAAM,UAAU,OAAA;EAC/C,GAAG,CAAA,CAAE;AACL,MAAI,wBAAuB,GAAA,cAAAA,aAAY,CAAC,aAAa,MAAM,UAAU,YAAA;QAC1D;AAAT,QAAI,OAAK,+BAAA,gBAAgB,QAAQ,IAAI,QAAA,OAAA,QAA5B,iCAAA,SAAA,SAAA,6BAAuC,OAAM;AACtD,gBAAY,oBAAoB,MAAM,IAAI,OAAA;AAC1C,oBAAgB,QAAQ,OAAO,QAAA;EACjC,GAAG,CAAA,CAAE;AACL,MAAI,4BAA2B,GAAA,cAAAA,aAAY,MAAA;AACzC,oBAAgB,QAAQ,QAAQ,CAAC,OAAO,QAAA;AACtC,2BAAqB,MAAM,aAAa,MAAM,MAAM,KAAK,MAAM,OAAO;IACxE,CAAA;EACF,GAAG;IAAC;GAAqB;AAGzB,GAAA,GAAA,cAAAC,WAAU,MAAA;AACR,WAAO;EACT,GAAG;IAAC;GAAyB;AAE7B,SAAO;;;;EAAkE;AAC3E;AE3BO,SAASC,2CAAgB,cAAiF;AAC/G,QAAM,UAAS,GAAA,cAAAC,QAAK;AACpB,UAAO,GAAA,cAAAC,SAAQ,OAAO;IACpB,IAAI,UAAU;AACZ,aAAO,OAAO;IAChB;IACA,IAAI,QAAQ,OAAO;AACjB,aAAO,UAAU;AACjB,UAAI,OAAO,iBAAiB;AAC1B,qBAAa,KAAA;eACJ;AACT,qBAAa,UAAU;IAE3B;EACF,IAAI;IAAC;GAAa;AACpB;AGlBO,SAASC,2CAAc,SAAkC,KAAkB;AAChF,GAAA,GAAAC,4CAAgB,MAAA;AACd,QAAI,WAAW,QAAQ,OAAO,KAAK;AACjC,cAAQ,IAAI,UAAU,IAAI;AAC1B,aAAO,MAAA;AACL,gBAAQ,IAAI,UAAU;MACxB;IACF;EACF,CAAA;AACF;AERA,IAAIC,wCAAiB,OAAO,aAAa,eAAe,OAAO;AIIxD,SAASC,2CAAe,OAAgC;AAE7D,MAAK,MAAc,mBAAmB,KAAK,MAAM;AAC/C,WAAO;AAMT,OAAI,GAAAC,4CAAQ,KAAQ,MAAuB;AACzC,WAAO,MAAM,SAAS,WAAW,MAAM,YAAY;AAGrD,SAAO,MAAM,WAAW,KAAK,CAAE,MAAuB;AACxD;AAEO,SAASC,2CAAsB,OAAmB;AAOvD,SACG,EAAC,GAAAD,4CAAQ,KAAO,MAAM,UAAU,KAAK,MAAM,WAAW,KACtD,MAAM,UAAU,KACf,MAAM,WAAW,KACjB,MAAM,aAAa,KACnB,MAAM,WAAW,KACjB,MAAM,gBAAgB;AAG5B;;;;AM1BA,IAAIE,+BAAe;AACnB,IAAIC,yCAAkB;AACtB,IAAIC,4CAAqB,oBAAI,QAAA;AAEtB,SAASC,2CAAqB,QAAgB;AACnD,OAAI,GAAAC,4CAAI,GAAK;AACX,QAAIJ,iCAAU,WAAW;AAEvB,YAAM,kBAAiB,GAAAK,4CAAiB,MAAA;AACxC,MAAAJ,yCAAkB,eAAe,gBAAgB,MAAM;AACvD,qBAAe,gBAAgB,MAAM,mBAAmB;IAC1D;AAEA,IAAAD,+BAAQ;EACV,WAAW,kBAAkB,eAAe,kBAAkB,YAAY;AAGxE,IAAAE,0CAAmB,IAAI,QAAQ,OAAO,MAAM,UAAU;AACtD,WAAO,MAAM,aAAa;EAC5B;AACF;AAEO,SAASI,2CAAqB,QAAgB;AACnD,OAAI,GAAAF,4CAAI,GAAK;AAGX,QAAIJ,iCAAU;AACZ;AAGF,IAAAA,+BAAQ;AAIR,eAAW,MAAA;AAGT,OAAA,GAAAO,4CAAmB,MAAA;AAEjB,YAAIP,iCAAU,aAAa;AAEzB,gBAAM,kBAAiB,GAAAK,4CAAiB,MAAA;AACxC,cAAI,eAAe,gBAAgB,MAAM,qBAAqB;AAC5D,2BAAe,gBAAgB,MAAM,mBAAmBJ,0CAAmB;AAG7E,UAAAA,yCAAkB;AAClB,UAAAD,+BAAQ;QACV;MACF,CAAA;IACF,GAAG,GAAA;EACL,WAAW,kBAAkB,eAAe,kBAAkB,YAG5D;AAAA,QAAI,UAAUE,0CAAmB,IAAI,MAAA,GAAS;AAC5C,UAAI,sBAAsBA,0CAAmB,IAAI,MAAA;AAEjD,UAAI,OAAO,MAAM,eAAe,UAAU;AACxC,eAAO,MAAM,aAAa;AAG5B,UAAI,OAAO,aAAa,OAAA,MAAa;AACnC,eAAO,gBAAgB,OAAA;AAEzB,MAAAA,0CAAmB,OAAO,MAAA;IAC5B;EAAA;AAEJ;AC7EO,IAAMM,8CAAwB,GAAA,eAAAC,SAAM,cAAsC;EAAC,UAAU,MAAA;EAAO;AAAC,CAAA;AACpGD,2CAAsB,cAAc;AFqDpC,SAASE,gDAAyB,OAAqB;AAErD,MAAI,WAAU,GAAA,eAAAC,aAAW,GAAAH,2CAAoB;AAC7C,MAAI,SAAS;AACX,QAAI,EAAA,UAAW,GAAG,aAAA,IAAgB;AAClC,aAAQ,GAAAI,4CAAW,cAAc,KAAA;AACjC,aAAA;EACF;AACA,GAAA,GAAAC,4CAAW,SAAS,MAAM,GAAG;AAE7B,SAAO;AACT;IAUEC,gDAAA,oBAAA,QAAA;AARF,IAAMC,oCAAN,MAAM;EAoBJ,sBAAsB;wCACdD,+CAAwB,KAAA;EAChC;EAEA,IAAI,wBAAwB;AAC1B,YAAA,GAAA,0BAAO,MAAMA,6CAAA;EACf;EAhBA,YAAY,MAA2B,aAA0B,eAA0B;AAF3F,KAAA,GAAA,2BAAA,MAAAA,+CAAA;;aAAA;;wCAACA,+CAAwB,IAAA;AAGvB,SAAK,OAAO;AACZ,SAAK,cAAc;AACnB,SAAK,SAAS,cAAc;AAC5B,SAAK,WAAW,cAAc;AAC9B,SAAK,UAAU,cAAc;AAC7B,SAAK,UAAU,cAAc;AAC7B,SAAK,SAAS,cAAc;EAC9B;AASF;AAEA,IAAME,sCAAe,OAAO,aAAA;AAOrB,SAASC,2CAAS,OAAqB;AAC5C,MAAI;IAAA;IACK;IACM;IACD;IACF;IACD;IAET,WAAW;IAAa;IACL;IACM;;IAGzB,KAAKC;IACL,GAAG;EAAA,IACDR,gDAAyB,KAAA;AAE7B,MAAI,CAAC,WAAW,UAAA,KAAc,GAAA,eAAAS,UAAS,KAAA;AACvC,MAAI,OAAM,GAAA,eAAAC,QAAmB;IAC3B,WAAW;IACX,2BAA2B;IAC3B,uBAAuB;IACvB,mBAAmB;IACnB,mBAAmB;IACnB,iBAAiB;IACjB,QAAQ;IACR,cAAc;IACd,aAAa;EACf,CAAA;AAEA,MAAI,EAAA,mBAAkB,yBAA0B,KAAI,GAAAC,4CAAiB;AAErE,MAAI,qBAAoB,GAAAC,4CAAe,CAAC,eAA0B,gBAAA;AAChE,QAAI,QAAQ,IAAI;AAChB,QAAI,cAAc,MAAM;AACtB,aAAO;AAGT,QAAI,wBAAwB;AAC5B,UAAM,oBAAoB;AAC1B,QAAI,cAAc;AAChB,UAAI,QAAQ,IAAIP,kCAAW,cAAc,aAAa,aAAA;AACtD,mBAAa,KAAA;AACb,8BAAwB,MAAM;IAChC;AAEA,QAAI;AACF,oBAAc,IAAA;AAGhB,UAAM,oBAAoB;AAC1B,UAAM,oBAAoB;AAC1B,eAAW,IAAA;AACX,WAAO;EACT,CAAA;AAEA,MAAI,mBAAkB,GAAAO,4CAAe,CAAC,eAA0B,aAA0B,aAAa,SAAI;AACzG,QAAI,QAAQ,IAAI;AAChB,QAAI,CAAC,MAAM;AACT,aAAO;AAGT,UAAM,wBAAwB;AAC9B,UAAM,oBAAoB;AAC1B,UAAM,oBAAoB;AAE1B,QAAI,wBAAwB;AAC5B,QAAI,YAAY;AACd,UAAI,QAAQ,IAAIP,kCAAW,YAAY,aAAa,aAAA;AACpD,iBAAW,KAAA;AACX,8BAAwB,MAAM;IAChC;AAEA,QAAI;AACF,oBAAc,KAAA;AAGhB,eAAW,KAAA;AAEX,QAAI,WAAW,cAAc,CAAC,YAAY;AACxC,UAAI,QAAQ,IAAIA,kCAAW,SAAS,aAAa,aAAA;AACjD,cAAQ,KAAA;AACR,gCAAA,wBAA0B,MAAM;IAClC;AAEA,UAAM,oBAAoB;AAC1B,WAAO;EACT,CAAA;AAEA,MAAI,kBAAiB,GAAAO,4CAAe,CAAC,eAA0B,gBAAA;AAC7D,QAAI,QAAQ,IAAI;AAChB,QAAI;AACF,aAAO;AAGT,QAAI,WAAW;AACb,YAAM,oBAAoB;AAC1B,UAAI,QAAQ,IAAIP,kCAAW,WAAW,aAAa,aAAA;AACnD,gBAAU,KAAA;AACV,YAAM,oBAAoB;AAC1B,aAAO,MAAM;IACf;AAEA,WAAO;EACT,CAAA;AAEA,MAAI,UAAS,GAAAO,4CAAe,CAACC,OAAA;AAC3B,QAAI,QAAQ,IAAI;AAChB,QAAI,MAAM,aAAa,MAAM,QAAQ;AACnC,UAAI,MAAM,gBAAgB,MAAM,eAAe;AAC7C,wBAAgBC,mCAAY,MAAM,QAAQD,EAAA,GAAI,MAAM,aAAa,KAAA;AAEnE,YAAM,YAAY;AAClB,YAAM,eAAe;AACrB,YAAM,kBAAkB;AACxB,YAAM,cAAc;AACpB,+BAAA;AACA,UAAI,CAAC;AACH,SAAA,GAAAjB,4CAAqB,MAAM,MAAM;IAErC;EACF,CAAA;AAEA,MAAI,uBAAsB,GAAAgB,4CAAe,CAACC,OAAA;AACxC,QAAI;AACF,aAAOA,EAAA;EAEX,CAAA;AAEA,MAAI,cAAa,GAAA,eAAAE,SAAQ,MAAA;AACvB,QAAI,QAAQ,IAAI;AAChB,QAAIC,cAA4B;MAC9B,UAAUH,IAAC;AACT,YAAII,4CAAqBJ,GAAE,aAAaA,GAAE,aAAa,KAAKA,GAAE,cAAc,SAASA,GAAE,MAAM,GAAc;cA+BvG;AA9BF,cAAIK,oDAA6BL,GAAE,QAAmBA,GAAE,GAAG;AACzD,YAAAA,GAAE,eAAc;AAMlB,cAAI,wBAAwB;AAC5B,cAAI,CAAC,MAAM,aAAa,CAACA,GAAE,QAAQ;AACjC,kBAAM,SAASA,GAAE;AACjB,kBAAM,YAAY;AAClB,oCAAwB,kBAAkBA,IAAG,UAAA;AAI7C,+BAAkB,GAAAlB,4CAAiBkB,GAAE,aAAa,GAAG,SAAS,SAAS,KAAA;UACzE;AAEA,cAAI;AACF,YAAAA,GAAE,gBAAe;AAUnB,cAAIA,GAAE,YAAW,GAAAM,4CAAI;AAAA,aACnB,uBAAA,MAAM,mBAAa,QAAnB,yBAAA,SAAA,SAAA,qBAAqB,IAAIN,GAAE,KAAKA,GAAE,WAAW;QAEjD,WAAWA,GAAE,QAAQ;AACnB,gBAAM,gBAAgB,oBAAI,IAAA;MAE9B;MACA,QAAQA,IAAC;AACP,YAAII,4CAAqBJ,GAAE,aAAaA,GAAE,aAAa,KAAK,CAACA,GAAE,UAAUA,GAAE,cAAc,SAASA,GAAE,MAAM,KAAgB,MAAM;AAC9H,yBAAeC,mCAAY,MAAM,QAAQD,EAAA,GAAI,UAAA;MAEjD;MACA,QAAQA,IAAC;AACP,YAAIA,MAAK,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACzC;AAGF,YAAIA,MAAKA,GAAE,WAAW,KAAK,CAAC,MAAM,qBAAqB,EAAE,GAAAO,4CAAiB,WAAW;AACnF,cAAI,wBAAwB;AAC5B,cAAI;AACF,YAAAP,GAAE,eAAc;AAKlB,cAAI,CAAC,MAAM,yBAAyB,CAAC,MAAM,6BAA6B,CAAC,MAAM,cAAc,MAAM,gBAAgB,cAAa,GAAAQ,4CAAeR,GAAE,WAAW,IAAI;AAE9J,gBAAI,CAAC,cAAc,CAAC;AAClB,eAAA,GAAAS,4CAAsBT,GAAE,aAAa;AAGvC,gBAAI,iBAAiB,kBAAkBA,IAAG,SAAA;AAC1C,gBAAI,cAAc,eAAeA,IAAG,SAAA;AACpC,gBAAI,eAAe,gBAAgBA,IAAG,SAAA;AACtC,oCAAwB,kBAAkB,eAAe;UAC3D;AAEA,gBAAM,4BAA4B;AAClC,gBAAM,wBAAwB;AAC9B,cAAI;AACF,YAAAA,GAAE,gBAAe;QAErB;MACF;IACF;AAEA,QAAI,UAAU,CAACA,OAAA;UA0BkB;AAzB/B,UAAI,MAAM,aAAa,MAAM,UAAUI,4CAAqBJ,IAAG,MAAM,MAAM,GAAG;YAwB5E;AAvBA,YAAIK,oDAA6BL,GAAE,QAAmBA,GAAE,GAAG;AACzD,UAAAA,GAAE,eAAc;AAGlB,YAAI,SAASA,GAAE;AACf,YAAI,wBAAwB,gBAAgBC,mCAAY,MAAM,QAAQD,EAAA,GAAI,YAAY,MAAM,OAAO,SAAS,MAAA,CAAA;AAC5G,iCAAA;AAEA,YAAI;AACF,UAAAA,GAAE,gBAAe;AAMnB,YAAIA,GAAE,QAAQ,WAAWU,wCAAiB,MAAM,MAAM,KAAK,MAAM,OAAO,SAAS,MAAA,KAAW,CAACV,GAAEP,mCAAA,GAAe;AAG5G,UAAAO,GAAEP,mCAAA,IAAgB;AAClB,WAAA,GAAAc,4CAAS,MAAM,QAAQP,IAAG,KAAA;QAC5B;AAEA,cAAM,YAAY;SAClB,wBAAA,MAAM,mBAAa,QAAnB,0BAAA,SAAA,SAAA,sBAAqB,OAAOA,GAAE,GAAG;MACnC,WAAWA,GAAE,QAAQ,YAAU,uBAAA,MAAM,mBAAa,QAAnB,yBAAA,SAAA,SAAA,qBAAqB,OAAM;YAOtD;AAHF,YAAI,SAAS,MAAM;AACnB,cAAM,gBAAgB;AACtB,iBAAS,SAAS,OAAO,OAAM;AAAA,WAC7B,gBAAA,MAAM,YAAM,QAAZ,kBAAA,SAAA,SAAA,cAAc,cAAc,IAAI,cAAc,SAAS,KAAA,CAAA;MAE3D;IACF;AAEA,QAAI,OAAO,iBAAiB,aAAa;AACvC,MAAAG,YAAW,gBAAgB,CAACH,OAAA;AAE1B,YAAIA,GAAE,WAAW,KAAK,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACtD;AAOF,aAAI,GAAAW,4CAAsBX,GAAE,WAAW,GAAG;AACxC,gBAAM,cAAc;AACpB;QACF;AAIA,YAAIY,4CAAqBZ,GAAE,aAAa;AACtC,UAAAA,GAAE,eAAc;AAGlB,cAAM,cAAcA,GAAE;AAEtB,YAAI,wBAAwB;AAC5B,YAAI,CAAC,MAAM,WAAW;AACpB,gBAAM,YAAY;AAClB,gBAAM,eAAe;AACrB,gBAAM,kBAAkBA,GAAE;AAC1B,gBAAM,SAASA,GAAE;AAEjB,cAAI,CAAC,cAAc,CAAC;AAClB,aAAA,GAAAS,4CAAsBT,GAAE,aAAa;AAGvC,cAAI,CAAC;AACH,aAAA,GAAApB,4CAAqB,MAAM,MAAM;AAGnC,kCAAwB,kBAAkBoB,IAAG,MAAM,WAAW;AAE9D,6BAAkB,GAAAlB,4CAAiBkB,GAAE,aAAa,GAAG,eAAe,eAAe,KAAA;AACnF,6BAAkB,GAAAlB,4CAAiBkB,GAAE,aAAa,GAAG,aAAa,aAAa,KAAA;AAC/E,6BAAkB,GAAAlB,4CAAiBkB,GAAE,aAAa,GAAG,iBAAiB,iBAAiB,KAAA;QACzF;AAEA,YAAI;AACF,UAAAA,GAAE,gBAAe;MAErB;AAEA,MAAAG,YAAW,cAAc,CAACH,OAAA;AACxB,YAAI,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACpC;AAGF,YAAIA,GAAE,WAAW,GAAG;AAIlB,cAAIY,4CAAqBZ,GAAE,aAAa;AACtC,YAAAA,GAAE,eAAc;AAGlB,UAAAA,GAAE,gBAAe;QACnB;MACF;AAEA,MAAAG,YAAW,cAAc,CAACH,OAAA;AAExB,YAAI,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM,KAAgB,MAAM,gBAAgB;AAC1E;AAMF,YAAIA,GAAE,WAAW,KAAKa,oCAAab,IAAGA,GAAE,aAAa;AACnD,yBAAeA,IAAG,MAAM,eAAeA,GAAE,WAAW;MAExD;AAKA,UAAI,gBAAgB,CAACA,OAAA;AACnB,YAAIA,GAAE,cAAc,MAAM;AACxB;AAGF,YAAI,MAAM,UAAUa,oCAAab,IAAG,MAAM,MAAM,GAC9C;AAAA,cAAI,CAAC,MAAM,gBAAgB,MAAM,eAAe,MAAM;AACpD,kBAAM,eAAe;AACrB,8BAAkBC,mCAAY,MAAM,QAAQD,EAAA,GAAI,MAAM,WAAW;UACnE;QAAA,WACS,MAAM,UAAU,MAAM,gBAAgB,MAAM,eAAe,MAAM;AAC1E,gBAAM,eAAe;AACrB,0BAAgBC,mCAAY,MAAM,QAAQD,EAAA,GAAI,MAAM,aAAa,KAAA;AACjE,8BAAoBA,EAAA;QACtB;MACF;AAEA,UAAI,cAAc,CAACA,OAAA;AACjB,YAAIA,GAAE,cAAc,MAAM,mBAAmB,MAAM,aAAaA,GAAE,WAAW,KAAK,MAAM,QAAQ;AAC9F,cAAIa,oCAAab,IAAG,MAAM,MAAM,KAAK,MAAM,eAAe;AACxD,4BAAgBC,mCAAY,MAAM,QAAQD,EAAA,GAAI,MAAM,WAAW;mBACtD,MAAM,gBAAgB,MAAM,eAAe;AACpD,4BAAgBC,mCAAY,MAAM,QAAQD,EAAA,GAAI,MAAM,aAAa,KAAA;AAGnE,gBAAM,YAAY;AAClB,gBAAM,eAAe;AACrB,gBAAM,kBAAkB;AACxB,gBAAM,cAAc;AACpB,mCAAA;AACA,cAAI,CAAC;AACH,aAAA,GAAAjB,4CAAqB,MAAM,MAAM;QAErC;MACF;AAEA,UAAI,kBAAkB,CAACiB,OAAA;AACrB,eAAOA,EAAA;MACT;AAEA,MAAAG,YAAW,cAAc,CAACH,OAAA;AACxB,YAAI,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACpC;AAIF,eAAOA,EAAA;MACT;IACF,OAAO;AACL,MAAAG,YAAW,cAAc,CAACH,OAAA;AAExB,YAAIA,GAAE,WAAW,KAAK,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACtD;AAKF,YAAIY,4CAAqBZ,GAAE,aAAa;AACtC,UAAAA,GAAE,eAAc;AAGlB,YAAI,MAAM,2BAA2B;AACnC,UAAAA,GAAE,gBAAe;AACjB;QACF;AAEA,cAAM,YAAY;AAClB,cAAM,eAAe;AACrB,cAAM,SAASA,GAAE;AACjB,cAAM,eAAc,GAAAQ,4CAAeR,GAAE,WAAW,IAAI,YAAY;AAEhE,YAAI,CAAC,cAAc,CAAC;AAClB,WAAA,GAAAS,4CAAsBT,GAAE,aAAa;AAGvC,YAAI,wBAAwB,kBAAkBA,IAAG,MAAM,WAAW;AAClE,YAAI;AACF,UAAAA,GAAE,gBAAe;AAGnB,2BAAkB,GAAAlB,4CAAiBkB,GAAE,aAAa,GAAG,WAAW,WAAW,KAAA;MAC7E;AAEA,MAAAG,YAAW,eAAe,CAACH,OAAA;AACzB,YAAI,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACpC;AAGF,YAAI,wBAAwB;AAC5B,YAAI,MAAM,aAAa,CAAC,MAAM,6BAA6B,MAAM,eAAe,MAAM;AACpF,gBAAM,eAAe;AACrB,kCAAwB,kBAAkBA,IAAG,MAAM,WAAW;QAChE;AAEA,YAAI;AACF,UAAAA,GAAE,gBAAe;MAErB;AAEA,MAAAG,YAAW,eAAe,CAACH,OAAA;AACzB,YAAI,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACpC;AAGF,YAAI,wBAAwB;AAC5B,YAAI,MAAM,aAAa,CAAC,MAAM,6BAA6B,MAAM,eAAe,MAAM;AACpF,gBAAM,eAAe;AACrB,kCAAwB,gBAAgBA,IAAG,MAAM,aAAa,KAAA;AAC9D,8BAAoBA,EAAA;QACtB;AAEA,YAAI;AACF,UAAAA,GAAE,gBAAe;MAErB;AAEA,MAAAG,YAAW,YAAY,CAACH,OAAA;AACtB,YAAI,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACpC;AAGF,YAAI,CAAC,MAAM,6BAA6BA,GAAE,WAAW;AACnD,yBAAeA,IAAG,MAAM,eAAe,OAAA;MAE3C;AAEA,UAAI,YAAY,CAACA,OAAA;AAEf,YAAIA,GAAE,WAAW;AACf;AAGF,cAAM,YAAY;AAClB,iCAAA;AAEA,YAAI,MAAM,2BAA2B;AACnC,gBAAM,4BAA4B;AAClC;QACF;AAEA,YAAI,MAAM,UAAUa,oCAAab,IAAG,MAAM,MAAM,KAAK,MAAM,eAAe;AACxE,0BAAgBC,mCAAY,MAAM,QAAQD,EAAA,GAAI,MAAM,WAAW;iBACtD,MAAM,UAAU,MAAM,gBAAgB,MAAM,eAAe;AACpE,0BAAgBC,mCAAY,MAAM,QAAQD,EAAA,GAAI,MAAM,aAAa,KAAA;AAGnE,cAAM,eAAe;MACvB;AAEA,MAAAG,YAAW,eAAe,CAACH,OAAA;AACzB,YAAI,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACpC;AAGF,YAAI,QAAQc,yCAAkBd,GAAE,WAAW;AAC3C,YAAI,CAAC;AACH;AAEF,cAAM,kBAAkB,MAAM;AAC9B,cAAM,4BAA4B;AAClC,cAAM,eAAe;AACrB,cAAM,YAAY;AAClB,cAAM,SAASA,GAAE;AACjB,cAAM,cAAc;AAIpB,YAAI,CAAC,cAAc,CAAC;AAClB,WAAA,GAAAS,4CAAsBT,GAAE,aAAa;AAGvC,YAAI,CAAC;AACH,WAAA,GAAApB,4CAAqB,MAAM,MAAM;AAGnC,YAAI,wBAAwB,kBAAkBoB,IAAG,MAAM,WAAW;AAClE,YAAI;AACF,UAAAA,GAAE,gBAAe;AAGnB,2BAAkB,GAAAe,4CAAef,GAAE,aAAa,GAAG,UAAU,UAAU,IAAA;MACzE;AAEA,MAAAG,YAAW,cAAc,CAACH,OAAA;AACxB,YAAI,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACpC;AAGF,YAAI,CAAC,MAAM,WAAW;AACpB,UAAAA,GAAE,gBAAe;AACjB;QACF;AAEA,YAAI,QAAQgB,oCAAahB,GAAE,aAAa,MAAM,eAAe;AAC7D,YAAI,wBAAwB;AAC5B,YAAI,SAASa,oCAAa,OAAOb,GAAE,aAAa,GAC9C;AAAA,cAAI,CAAC,MAAM,gBAAgB,MAAM,eAAe,MAAM;AACpD,kBAAM,eAAe;AACrB,oCAAwB,kBAAkBA,IAAG,MAAM,WAAW;UAChE;QAAA,WACS,MAAM,gBAAgB,MAAM,eAAe,MAAM;AAC1D,gBAAM,eAAe;AACrB,kCAAwB,gBAAgBA,IAAG,MAAM,aAAa,KAAA;AAC9D,8BAAoBA,EAAA;QACtB;AAEA,YAAI;AACF,UAAAA,GAAE,gBAAe;MAErB;AAEA,MAAAG,YAAW,aAAa,CAACH,OAAA;AACvB,YAAI,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACpC;AAGF,YAAI,CAAC,MAAM,WAAW;AACpB,UAAAA,GAAE,gBAAe;AACjB;QACF;AAEA,YAAI,QAAQgB,oCAAahB,GAAE,aAAa,MAAM,eAAe;AAC7D,YAAI,wBAAwB;AAC5B,YAAI,SAASa,oCAAa,OAAOb,GAAE,aAAa,KAAK,MAAM,eAAe,MAAM;AAC9E,yBAAeA,IAAG,MAAM,WAAW;AACnC,kCAAwB,gBAAgBA,IAAG,MAAM,WAAW;QAC9D,WAAW,MAAM,gBAAgB,MAAM,eAAe;AACpD,kCAAwB,gBAAgBA,IAAG,MAAM,aAAa,KAAA;AAGhE,YAAI;AACF,UAAAA,GAAE,gBAAe;AAGnB,cAAM,YAAY;AAClB,cAAM,kBAAkB;AACxB,cAAM,eAAe;AACrB,cAAM,4BAA4B;AAClC,YAAI,MAAM,UAAU,CAAC;AACnB,WAAA,GAAAjB,4CAAqB,MAAM,MAAM;AAEnC,iCAAA;MACF;AAEA,MAAAoB,YAAW,gBAAgB,CAACH,OAAA;AAC1B,YAAI,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACpC;AAGF,QAAAA,GAAE,gBAAe;AACjB,YAAI,MAAM;AACR,iBAAOA,EAAA;MAEX;AAEA,UAAI,WAAW,CAACA,OAAA;AACd,YAAI,MAAM,aAAcA,GAAE,OAAmB,SAAS,MAAM,MAAM;AAChE,iBAAO;YACL,eAAe,MAAM;YACrB,UAAU;YACV,SAAS;YACT,SAAS;YACT,QAAQ;UACV,CAAA;MAEJ;AAEA,MAAAG,YAAW,cAAc,CAACH,OAAA;AACxB,YAAI,CAACA,GAAE,cAAc,SAASA,GAAE,MAAM;AACpC;AAGF,eAAOA,EAAA;MACT;IACF;AAEA,WAAOG;EACT,GAAG;IACD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;GACD;AAID,GAAA,GAAA,eAAAc,WAAU,MAAA;AACR,WAAO,MAAA;UAGkB;AAFvB,UAAI,CAAC;AAEH,SAAA,GAAAlC,6CAAqB,sBAAA,IAAI,QAAQ,YAAM,QAAlB,wBAAA,SAAA,sBAAsB,MAAA;IAE/C;EACF,GAAG;IAAC;GAA0B;AAE9B,SAAO;IACL,WAAW,iBAAiB;IAC5B,aAAY,GAAAM,4CAAW,UAAU,UAAA;EACnC;AACF;AAEA,SAASqB,wCAAiB,QAAe;AACvC,SAAO,OAAO,YAAY,OAAO,OAAO,aAAa,MAAA;AACvD;AAEA,SAASN,4CAAqB,OAAsB,eAAsB;AACxE,QAAM,EAAA,KAAI,KAAM,IAAI;AACpB,QAAM,UAAU;AAChB,QAAM,OAAO,QAAQ,aAAa,MAAA;AAGlC,UACG,QAAQ,WAAW,QAAQ,OAAO,QAAQ,cAAc,SAAS,YAClE,EAAG,oBAAmB,GAAAW,4CAAe,OAAA,EAAS,oBAAoB,CAACG,uCAAgB,SAAS,GAAA,KAC1F,oBAAmB,GAAAH,4CAAe,OAAA,EAAS,uBAC3C,QAAQ;EAEV,GAAG,SAAS,UAAW,CAAC,QAAQL,wCAAiB,OAAA,MAAc,QAAQ;AAE3E;AAEA,SAASI,yCAAkB,OAAiB;AAC1C,QAAM,EAAA,cAAc,IAAI;AACxB,MAAI,cAAc,SAAS;AACzB,WAAO,cAAc,CAAA;AAEvB,SAAO;AACT;AAEA,SAASE,oCACP,OACA,WAAwB;AAExB,QAAM,iBAAiB,MAAM;AAC7B,WAASG,MAAI,GAAGA,MAAI,eAAe,QAAQA,OAAK;AAC9C,UAAM,QAAQ,eAAeA,GAAA;AAC7B,QAAI,MAAM,eAAe;AACvB,aAAO;EAEX;AACA,SAAO;AACT;AAEA,SAASlB,mCAAY,QAA0BD,IAAY;AACzD,SAAO;IACL,eAAe;IACf,UAAUA,GAAE;IACZ,SAASA,GAAE;IACX,SAASA,GAAE;IACX,QAAQA,GAAE;EACZ;AACF;AAkBA,SAASoB,0CAAmB,OAAiB;AAC3C,MAAI,UAAU;AACd,MAAI,UAAU;AACd,MAAI,MAAM,UAAU;AAClB,cAAW,MAAM,QAAQ;WAChB,MAAM,YAAY;AAC3B,cAAU,MAAM;AAElB,MAAI,MAAM,WAAW;AACnB,cAAW,MAAM,SAAS;WACjB,MAAM,YAAY;AAC3B,cAAU,MAAM;AAGlB,SAAO;IACL,KAAK,MAAM,UAAU;IACrB,OAAO,MAAM,UAAU;IACvB,QAAQ,MAAM,UAAU;IACxB,MAAM,MAAM,UAAU;EACxB;AACF;AAEA,SAASC,gDAAyBC,KAASC,KAAO;AAEhD,MAAID,IAAE,OAAOC,IAAE,SAASA,IAAE,OAAOD,IAAE;AACjC,WAAO;AAGT,MAAIA,IAAE,MAAMC,IAAE,UAAUA,IAAE,MAAMD,IAAE;AAChC,WAAO;AAET,SAAO;AACT;AAEA,SAAST,oCAAa,OAAmB,QAAe;AACtD,MAAI,OAAO,OAAO,sBAAqB;AACvC,MAAI,YAAYO,0CAAmB,KAAA;AACnC,SAAOC,gDAAyB,MAAM,SAAA;AACxC;AAEA,SAAST,4CAAqB,QAAe;AAE3C,SAAO,EAAE,kBAAkB,gBAAgB,CAAC,OAAO,aAAa,WAAA;AAClE;AAEA,SAASP,oDAA6B,QAAiB,KAAW;AAChE,MAAI,kBAAkB;AACpB,WAAO,CAACa,uCAAgB,QAAQ,GAAA;AAGlC,MAAI,kBAAkB;AACpB,WAAO,OAAO,SAAS,YAAY,OAAO,SAAS;AAGrD,MAAIR,wCAAiB,MAAA;AACnB,WAAO;AAGT,SAAO;AACT;AAEA,IAAMc,2CAAoB,oBAAI,IAAI;EAChC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;CACD;AAED,SAASN,uCAAgB,QAA0B,KAAW;AAE5D,SAAO,OAAO,SAAS,cAAc,OAAO,SAAS,UACjD,QAAQ,MACRM,yCAAkB,IAAI,OAAO,IAAI;AACvC;ADx3BO,IAAMC,8CAAY,GAAA,eAAAvC,SAAM,WAAW,CAAC,EAAA,UAAW,GAAG,MAAA,GAAwB,QAAA;AAC/E,SAAM,GAAAwC,4CAAa,GAAA;AACnB,MAAI,EAAA,WAAW,KAAI,GAAAhC,4CAAS;IAAC,GAAG;;EAAU,CAAA;AAC1C,MAAI,SAAQ,GAAA,eAAAR,SAAM,SAAS,KAAK,QAAA;AAChC,UAAO,GAAA,eAAAA,SAAM;IACX;;IAEA;;MAAM,IAAG,GAAAG,4CAAW,MAAM,OAAO,UAAA;IAAW;EAAA;AAEhD,CAAA;AIRO,IAAMsC,8CAAiB,GAAA,eAAAzC,SAAM,WAAW,CAAC,EAAA,UAAW,GAAG,MAAA,GAA6B,QAAA;AACzF,MAAI,gBAAe,GAAA,eAAAW,QAAO,KAAA;AAC1B,MAAI,eAAc,GAAA,eAAAT,aAAW,GAAAH,2CAAoB;AACjD,SAAM,GAAAyC,4CAAa,QAAO,gBAAA,QAAA,gBAAA,SAAA,SAAA,YAAa,IAAG;AAC1C,MAAI,WAAU,GAAArC,4CAAW,eAAe,CAAC,GAAG;IAC1C,GAAG;;IAEH,WAAA;AACE,mBAAa,UAAU;AACvB,UAAI;AACF,oBAAY,SAAQ;IAExB;EACF,CAAA;AAEA,GAAA,GAAAC,4CAAW,aAAa,GAAA;AAExB,GAAA,GAAA,eAAA2B,WAAU,MAAA;AACR,QAAI,CAAC,aAAa,SAAS;AACzB,cAAQ,KACN,2IAAA;AAGF,mBAAa,UAAU;IACzB;EACF,GAAG,CAAA,CAAE;AAEL,UACE,GAAA,eAAA/B,SAAA,eAAC,GAAAD,4CAAsB,UAAQ;IAAC,OAAO;KACpC,QAAA;AAGP,CAAA;AGjBA,IAAI2C,yCAAmC;AACvC,IAAIC,wCAAiB,oBAAI,IAAA;AACzB,IAAI,gDAA0B;AAC9B,IAAIC,6CAAsB;AAC1B,IAAIC,kDAA2B;AAQ/B,SAASC,6CAAsB,UAAoBC,IAAe;AAChE,WAAS,WAAWC;AAClB,YAAQ,UAAUD,EAAA;AAEtB;AAKA,SAASE,kCAAWF,IAAgB;AAElC,SAAO,EAAEA,GAAE,WAAY,EAAC,GAAAG,4CAAI,KAAOH,GAAE,UAAWA,GAAE,WAAWA,GAAE,QAAQ,aAAaA,GAAE,QAAQ,WAAWA,GAAE,QAAQ;AACrH;AAGA,SAASI,2CAAoBJ,IAAgB;AAC3C,EAAAK,6CAAsB;AACtB,MAAIH,kCAAWF,EAAA,GAAI;AACjB,IAAAM,yCAAkB;AAClB,IAAAP,6CAAsB,YAAYC,EAAA;EACpC;AACF;AAEA,SAASO,0CAAmBP,IAA4B;AACtD,EAAAM,yCAAkB;AAClB,MAAIN,GAAE,SAAS,eAAeA,GAAE,SAAS,eAAe;AACtD,IAAAK,6CAAsB;AACtB,IAAAN,6CAAsB,WAAWC,EAAA;EACnC;AACF;AAEA,SAASQ,wCAAiBR,IAAa;AACrC,OAAI,GAAAS,4CAAeT,EAAA,GAAI;AACrB,IAAAK,6CAAsB;AACtB,IAAAC,yCAAkB;EACpB;AACF;AAEA,SAASI,wCAAiBV,IAAa;AAIrC,MAAIA,GAAE,WAAW,UAAUA,GAAE,WAAW;AACtC;AAKF,MAAI,CAACK,8CAAuB,CAACM,iDAA0B;AACrD,IAAAL,yCAAkB;AAClB,IAAAP,6CAAsB,WAAWC,EAAA;EACnC;AAEA,EAAAK,6CAAsB;AACtB,EAAAM,kDAA2B;AAC7B;AAEA,SAASC,0CAAA;AAGP,EAAAP,6CAAsB;AACtB,EAAAM,kDAA2B;AAC7B;AAKA,SAASE,gDAAA;AACP,MAAI,OAAO,WAAW,eAAe;AACnC;AAOF,MAAI,QAAQ,YAAY,UAAU;AAClC,cAAY,UAAU,QAAQ,WAAA;AAC5B,IAAAR,6CAAsB;AACtB,UAAM,MAAM,MAAM,SAAA;EACpB;AAEA,WAAS,iBAAiB,WAAWD,4CAAqB,IAAA;AAC1D,WAAS,iBAAiB,SAASA,4CAAqB,IAAA;AACxD,WAAS,iBAAiB,SAASI,yCAAkB,IAAA;AAIrD,SAAO,iBAAiB,SAASE,yCAAkB,IAAA;AACnD,SAAO,iBAAiB,QAAQE,yCAAkB,KAAA;AAElD,MAAI,OAAO,iBAAiB,aAAa;AACvC,aAAS,iBAAiB,eAAeL,2CAAoB,IAAA;AAC7D,aAAS,iBAAiB,eAAeA,2CAAoB,IAAA;AAC7D,aAAS,iBAAiB,aAAaA,2CAAoB,IAAA;EAC7D,OAAO;AACL,aAAS,iBAAiB,aAAaA,2CAAoB,IAAA;AAC3D,aAAS,iBAAiB,aAAaA,2CAAoB,IAAA;AAC3D,aAAS,iBAAiB,WAAWA,2CAAoB,IAAA;EAC3D;AAEA,kDAA0B;AAC5B;AAEA,IAAI,OAAO,aAAa,aAAA;AACtB,MAAI,SAAS,eAAe;AAC1B,IAAAM,8CAAA;;AAEA,aAAS,iBAAiB,oBAAoBA,6CAAA;;AE3HlD,IAAI,wDAAkC;AACtC,IAAI,mCAAa;AAEjB,SAAS,2DAAA;AACP,0DAAkC;AAMlC,aAAW,MAAA;AACT,4DAAkC;EACpC,GAAG,EAAA;AACL;AAEA,SAAS,+CAAyBC,IAAC;AACjC,MAAIA,GAAE,gBAAgB;AACpB,6DAAA;AAEJ;AAEA,SAAS,+CAAA;AACP,MAAI,OAAO,aAAa;AACtB;AAGF,MAAI,OAAO,iBAAiB;AAC1B,aAAS,iBAAiB,aAAa,8CAAA;;AAEvC,aAAS,iBAAiB,YAAY,wDAAA;AAGxC;AACA,SAAO,MAAA;AACL;AACA,QAAI,mCAAa;AACf;AAGF,QAAI,OAAO,iBAAiB;AAC1B,eAAS,oBAAoB,aAAa,8CAAA;;AAE1C,eAAS,oBAAoB,YAAY,wDAAA;EAE7C;AACF;AAMO,SAAS,0CAAS,OAAiB;AACxC,MAAI,EAAA,cACU,eACC,YACH,WACA,IACR;AAEJ,MAAI,CAAC,WAAW,UAAA,KAAc,GAAA,eAAAC,UAAS,KAAA;AACvC,MAAI,SAAQ,GAAA,eAAAC,QAAO;IACjB,WAAW;IACX,2BAA2B;IAC3B,aAAa;IACb,QAAQ;EACV,CAAA,EAAG;AAEH,GAAA,GAAA,eAAAC,WAAU,8CAAwB,CAAA,CAAE;AAEpC,MAAI,EAAA,YAAW,gBAAiB,KAAI,GAAA,eAAAC,SAAQ,MAAA;AAC1C,QAAI,oBAAoB,CAAC,OAAO,gBAAA;AAC9B,YAAM,cAAc;AACpB,UAAI,cAAc,gBAAgB,WAAW,MAAM,aAAa,CAAC,MAAM,cAAc,SAAS,MAAM,MAAM;AACxG;AAGF,YAAM,YAAY;AAClB,UAAI,SAAS,MAAM;AACnB,YAAM,SAAS;AAEf,UAAI;AACF,qBAAa;UACX,MAAM;;;QAGR,CAAA;AAGF,UAAI;AACF,sBAAc,IAAA;AAGhB,iBAAW,IAAA;IACb;AAEA,QAAIC,mBAAkB,CAAC,OAAO,gBAAA;AAC5B,YAAM,cAAc;AACpB,YAAM,SAAS;AAEf,UAAI,gBAAgB,WAAW,CAAC,MAAM;AACpC;AAGF,YAAM,YAAY;AAClB,UAAI,SAAS,MAAM;AACnB,UAAI;AACF,mBAAW;UACT,MAAM;;;QAGR,CAAA;AAGF,UAAI;AACF,sBAAc,KAAA;AAGhB,iBAAW,KAAA;IACb;AAEA,QAAIC,cAA4B,CAAC;AAEjC,QAAI,OAAO,iBAAiB,aAAa;AACvC,MAAAA,YAAW,iBAAiB,CAACN,OAAA;AAC3B,YAAI,yDAAmCA,GAAE,gBAAgB;AACvD;AAGF,0BAAkBA,IAAGA,GAAE,WAAW;MACpC;AAEA,MAAAM,YAAW,iBAAiB,CAACN,OAAA;AAC3B,YAAI,CAAC,cAAcA,GAAE,cAAc,SAASA,GAAE,MAAM;AAClD,UAAAK,iBAAgBL,IAAGA,GAAE,WAAW;MAEpC;IACF,OAAO;AACL,MAAAM,YAAW,eAAe,MAAA;AACxB,cAAM,4BAA4B;MACpC;AAEA,MAAAA,YAAW,eAAe,CAACN,OAAA;AACzB,YAAI,CAAC,MAAM,6BAA6B,CAAC;AACvC,4BAAkBA,IAAG,OAAA;AAGvB,cAAM,4BAA4B;MACpC;AAEA,MAAAM,YAAW,eAAe,CAACN,OAAA;AACzB,YAAI,CAAC,cAAcA,GAAE,cAAc,SAASA,GAAE,MAAM;AAClD,UAAAK,iBAAgBL,IAAG,OAAA;MAEvB;IACF;AACA,WAAO;kBAACM;uBAAYD;IAAe;EACrC,GAAG;IAAC;IAAc;IAAe;IAAY;IAAY;GAAM;AAE/D,GAAA,GAAA,eAAAF,WAAU,MAAA;AAGR,QAAI;AACF,sBAAgB;QAAC,eAAe,MAAM;MAAM,GAAG,MAAM,WAAW;EAGpE,GAAG;IAAC;GAAW;AAEf,SAAO;;;EAGP;AACF;;;AO7MkH,IAAAI,iBAAwB;;;ACA1I,IAAAC,iBAAqC;;;ACArC,IAAI,IAAE,OAAO;AAAe,IAAI,IAAE,CAACC,KAAEC,IAAEC,QAAID,MAAKD,MAAE,EAAEA,KAAEC,IAAE,EAAC,YAAW,MAAG,cAAa,MAAG,UAAS,MAAG,OAAMC,IAAC,CAAC,IAAEF,IAAEC,EAAC,IAAEC;AAAE,IAAIC,KAAE,CAACH,KAAEC,IAAEC,SAAK,EAAEF,KAAE,OAAOC,MAAG,WAASA,KAAE,KAAGA,IAAEC,GAAC,GAAEA;AAAG,IAAM,IAAN,MAAO;AAAA,EAAC,cAAa;AAAC,IAAAC,GAAE,MAAK,WAAU,KAAK,OAAO,CAAC;AAAE,IAAAA,GAAE,MAAK,gBAAe,SAAS;AAAE,IAAAA,GAAE,MAAK,aAAY,CAAC;AAAA,EAAC;AAAA,EAAC,IAAIF,IAAE;AAAC,SAAK,YAAUA,OAAI,KAAK,eAAa,WAAU,KAAK,YAAU,GAAE,KAAK,UAAQA;AAAA,EAAE;AAAA,EAAC,QAAO;AAAC,SAAK,IAAI,KAAK,OAAO,CAAC;AAAA,EAAC;AAAA,EAAC,SAAQ;AAAC,WAAM,EAAE,KAAK;AAAA,EAAS;AAAA,EAAC,IAAI,WAAU;AAAC,WAAO,KAAK,YAAU;AAAA,EAAQ;AAAA,EAAC,IAAI,WAAU;AAAC,WAAO,KAAK,YAAU;AAAA,EAAQ;AAAA,EAAC,SAAQ;AAAC,WAAO,OAAO,UAAQ,eAAa,OAAO,YAAU,cAAY,WAAS;AAAA,EAAQ;AAAA,EAAC,UAAS;AAAC,SAAK,iBAAe,cAAY,KAAK,eAAa;AAAA,EAAW;AAAA,EAAC,IAAI,oBAAmB;AAAC,WAAO,KAAK,iBAAe;AAAA,EAAU;AAAC;AAAC,IAAI,IAAE,IAAI;;;ACArtB,SAASG,GAAEC,KAAE;AAAC,SAAO,EAAE,WAAS,OAAKA,eAAa,OAAKA,IAAE,gBAAcA,OAAG,QAAMA,IAAE,eAAe,SAAS,KAAGA,IAAE,mBAAmB,OAAKA,IAAE,QAAQ,gBAAc;AAAQ;;;ACAtM,SAAS,IAAG;AAAC,SAAM,WAAW,KAAK,OAAO,UAAU,QAAQ,KAAG,QAAQ,KAAK,OAAO,UAAU,QAAQ,KAAG,OAAO,UAAU,iBAAe;AAAC;AAAC,SAASC,KAAG;AAAC,SAAM,YAAY,KAAK,OAAO,UAAU,SAAS;AAAC;AAAC,SAAS,IAAG;AAAC,SAAO,EAAE,KAAGA,GAAE;AAAC;;;ACAtO,QAAgB;;;ACAhB,QAAgB;AAAQ,SAASC,GAAEC,IAAEC,KAAE;AAAC,SAAOD,OAAIC,QAAID,OAAI,KAAG,IAAEA,OAAI,IAAEC,QAAID,OAAIA,MAAGC,QAAIA;AAAC;AAAC,IAAMC,KAAE,OAAO,OAAO,MAAI,aAAW,OAAO,KAAGH;AAA/C,IAAiD,EAAC,UAAS,GAAE,WAAU,GAAE,iBAAgB,GAAE,eAAc,EAAC,IAAE;AAAgB,SAAS,EAAEI,IAAEC,KAAEC,KAAE;AAAC,QAAMC,MAAEF,IAAE,GAAE,CAAC,EAAC,MAAKG,IAAC,GAAEC,GAAC,IAAE,EAAE,EAAC,MAAK,EAAC,OAAMF,KAAE,aAAYF,IAAC,EAAC,CAAC;AAAE,SAAO,EAAE,MAAI;AAAC,IAAAG,IAAE,QAAMD,KAAEC,IAAE,cAAYH,KAAEK,GAAEF,GAAC,KAAGC,IAAE,EAAC,MAAKD,IAAC,CAAC;AAAA,EAAC,GAAE,CAACJ,IAAEG,KAAEF,GAAC,CAAC,GAAE,EAAE,OAAKK,GAAEF,GAAC,KAAGC,IAAE,EAAC,MAAKD,IAAC,CAAC,GAAEJ,GAAE,MAAI;AAAC,IAAAM,GAAEF,GAAC,KAAGC,IAAE,EAAC,MAAKD,IAAC,CAAC;AAAA,EAAC,CAAC,IAAG,CAACJ,EAAC,CAAC,GAAE,EAAEG,GAAC,GAAEA;AAAC;AAAC,SAASG,GAAEN,IAAE;AAAC,QAAMC,MAAED,GAAE,aAAYE,MAAEF,GAAE;AAAM,MAAG;AAAC,UAAMG,MAAEF,IAAE;AAAE,WAAM,CAACM,GAAEL,KAAEC,GAAC;AAAA,EAAC,QAAM;AAAC,WAAM;AAAA,EAAE;AAAC;;;ACAhgB,SAASK,GAAEC,KAAEC,IAAEC,KAAE;AAAC,SAAOD,GAAE;AAAC;;;AFAkJ,IAAME,KAAE,OAAO,UAAQ,eAAa,OAAO,OAAO,YAAU,eAAa,OAAO,OAAO,SAAS,iBAAe;AAA/G,IAA2HC,KAAE,CAACD;AAA9H,IAAgI,IAAEC,KAAEC,KAAE;AAAtI,IAAwI,IAAE,0BAAyB,KAAG,CAAAC,QAAGA,IAAE,sBAAsB,CAAC,IAAE;;;AGAlS,SAASC,GAAEC,KAAE;AAAC,SAAO,EAAEA,IAAE,WAAUA,IAAE,aAAYA,IAAE,WAAW;AAAC;;;ACA/I,IAAAC,iBAA+C;AAA8C,IAAIC,KAAE,CAACC,IAAEC,QAAI;AAAC,IAAE,eAAS,eAAAC,WAAEF,IAAEC,GAAC,QAAE,eAAAE,iBAAEH,IAAEC,GAAC;AAAC;;;ACAnI,SAASG,GAAEC,IAAE;AAAC,SAAO,kBAAgB,aAAW,eAAeA,EAAC,IAAE,QAAQ,QAAQ,EAAE,KAAKA,EAAC,EAAE,MAAM,CAAAC,QAAG,WAAW,MAAI;AAAC,UAAMA;AAAA,EAAC,CAAC,CAAC;AAAC;;;ACAnF,SAASC,KAAG;AAAC,MAAIC,MAAE,CAAC,GAAEC,MAAE,EAAC,iBAAiBC,IAAEC,KAAEC,KAAEC,KAAE;AAAC,WAAOH,GAAE,iBAAiBC,KAAEC,KAAEC,GAAC,GAAEJ,IAAE,IAAI,MAAIC,GAAE,oBAAoBC,KAAEC,KAAEC,GAAC,CAAC;AAAA,EAAC,GAAE,yBAAyBH,IAAE;AAAC,QAAIC,MAAE,sBAAsB,GAAGD,EAAC;AAAE,WAAOD,IAAE,IAAI,MAAI,qBAAqBE,GAAC,CAAC;AAAA,EAAC,GAAE,aAAaD,IAAE;AAAC,WAAOD,IAAE,sBAAsB,MAAIA,IAAE,sBAAsB,GAAGC,EAAC,CAAC;AAAA,EAAC,GAAE,cAAcA,IAAE;AAAC,QAAIC,MAAE,WAAW,GAAGD,EAAC;AAAE,WAAOD,IAAE,IAAI,MAAI,aAAaE,GAAC,CAAC;AAAA,EAAC,GAAE,aAAaD,IAAE;AAAC,QAAIC,MAAE,EAAC,SAAQ,KAAE;AAAE,WAAOA,GAAE,MAAI;AAAC,MAAAA,IAAE,WAASD,GAAE,CAAC,EAAE;AAAA,IAAC,CAAC,GAAED,IAAE,IAAI,MAAI;AAAC,MAAAE,IAAE,UAAQ;AAAA,IAAE,CAAC;AAAA,EAAC,GAAE,MAAMD,IAAEC,KAAEC,KAAE;AAAC,QAAIC,MAAEH,GAAE,MAAM,iBAAiBC,GAAC;AAAE,WAAO,OAAO,OAAOD,GAAE,OAAM,EAAC,CAACC,GAAC,GAAEC,IAAC,CAAC,GAAE,KAAK,IAAI,MAAI;AAAC,aAAO,OAAOF,GAAE,OAAM,EAAC,CAACC,GAAC,GAAEE,IAAC,CAAC;AAAA,IAAC,CAAC;AAAA,EAAC,GAAE,MAAMH,IAAE;AAAC,QAAIC,MAAEJ,GAAE;AAAE,WAAOG,GAAEC,GAAC,GAAE,KAAK,IAAI,MAAIA,IAAE,QAAQ,CAAC;AAAA,EAAC,GAAE,IAAID,IAAE;AAAC,WAAOF,IAAE,KAAKE,EAAC,GAAE,MAAI;AAAC,UAAIC,MAAEH,IAAE,QAAQE,EAAC;AAAE,UAAGC,OAAG;AAAE,iBAAQC,OAAKJ,IAAE,OAAOG,KAAE,CAAC;AAAE,UAAAC,IAAE;AAAA,IAAC;AAAA,EAAC,GAAE,UAAS;AAAC,aAAQF,MAAKF,IAAE,OAAO,CAAC;AAAE,MAAAE,GAAE;AAAA,EAAC,EAAC;AAAE,SAAOD;AAAC;;;ACAz1B,SAASK,GAAEC,KAAEC,KAAE;AAAC,MAAIC,MAAEF,IAAE,GAAEG,MAAE,oBAAI;AAAI,SAAM,EAAC,cAAa;AAAC,WAAOD;AAAA,EAAC,GAAE,UAAUE,IAAE;AAAC,WAAOD,IAAE,IAAIC,EAAC,GAAE,MAAID,IAAE,OAAOC,EAAC;AAAA,EAAC,GAAE,SAASA,OAAKC,KAAE;AAAC,QAAIC,MAAEL,IAAEG,EAAC,EAAE,KAAKF,KAAE,GAAGG,GAAC;AAAE,IAAAC,QAAIJ,MAAEI,KAAEH,IAAE,QAAQ,CAAAI,QAAGA,IAAE,CAAC;AAAA,EAAE,EAAC;AAAC;;;ACAtL,SAASC,KAAG;AAAC,MAAIC;AAAE,SAAM,EAAC,OAAO,EAAC,KAAIC,GAAC,GAAE;AAAC,QAAIC;AAAE,QAAIC,MAAEF,GAAE,iBAAgBG,OAAGF,MAAED,GAAE,gBAAc,OAAKC,MAAE;AAAO,IAAAF,MAAE,KAAK,IAAI,GAAEI,IAAE,aAAWD,IAAE,WAAW;AAAA,EAAC,GAAE,MAAM,EAAC,KAAIF,IAAE,GAAEE,IAAC,GAAE;AAAC,QAAIC,MAAEH,GAAE,iBAAgBC,MAAE,KAAK,IAAI,GAAEE,IAAE,cAAYA,IAAE,WAAW,GAAEC,MAAE,KAAK,IAAI,GAAEL,MAAEE,GAAC;AAAE,IAAAC,IAAE,MAAMC,KAAE,gBAAe,GAAGC,GAAC,IAAI;AAAA,EAAC,EAAC;AAAC;;;ACAvL,SAASC,KAAG;AAAC,MAAG,CAAC,EAAE;AAAE,WAAM,CAAC;AAAE,MAAIC;AAAE,SAAM,EAAC,SAAQ;AAAC,QAAIC;AAAE,IAAAD,OAAGC,MAAE,OAAO,YAAU,OAAKA,MAAE,OAAO;AAAA,EAAW,GAAE,MAAM,EAAC,KAAIA,KAAE,GAAEC,KAAE,MAAKC,IAAC,GAAE;AAAC,aAASC,IAAEC,KAAE;AAAC,aAAOF,IAAE,WAAW,QAAQ,CAAAG,OAAGA,GAAE,CAAC,EAAE,KAAK,CAAAA,OAAGA,GAAE,SAASD,GAAC,CAAC;AAAA,IAAC;AAAC,IAAAH,IAAE,UAAU,MAAI;AAAC,UAAG,OAAO,iBAAiBD,IAAE,eAAe,EAAE,mBAAiB,QAAO;AAAC,YAAIK,KAAED,GAAE;AAAE,QAAAC,GAAE,MAAML,IAAE,iBAAgB,mBAAkB,MAAM,GAAEC,IAAE,IAAI,MAAIA,IAAE,UAAU,MAAII,GAAE,QAAQ,CAAC,CAAC;AAAA,MAAC;AAAC,MAAAJ,IAAE,MAAMD,IAAE,MAAK,aAAY,IAAID,GAAC,IAAI,GAAE,OAAO,SAAS,GAAE,CAAC;AAAE,UAAIK,MAAE;AAAK,MAAAH,IAAE,iBAAiBD,KAAE,SAAQ,CAAAK,OAAG;AAAC,YAAGA,GAAE,kBAAkB;AAAY,cAAG;AAAC,gBAAIC,MAAED,GAAE,OAAO,QAAQ,GAAG;AAAE,gBAAG,CAACC;AAAE;AAAO,gBAAG,EAAC,MAAKC,IAAC,IAAE,IAAI,IAAID,IAAE,IAAI,GAAEE,MAAER,IAAE,cAAcO,GAAC;AAAE,YAAAC,OAAG,CAACL,IAAEK,GAAC,MAAIJ,MAAEI;AAAA,UAAE,QAAM;AAAA,UAAC;AAAA,MAAC,GAAE,IAAE,GAAEP,IAAE,iBAAiBD,KAAE,aAAY,CAAAK,OAAG;AAAC,QAAAA,GAAE,kBAAkB,eAAa,CAACF,IAAEE,GAAE,MAAM,KAAGA,GAAE,eAAe;AAAA,MAAC,GAAE,EAAC,SAAQ,MAAE,CAAC,GAAEJ,IAAE,IAAI,MAAI;AAAC,YAAII;AAAE,eAAO,SAAS,KAAIA,KAAE,OAAO,YAAU,OAAKA,KAAE,OAAO,eAAaN,GAAC,GAAEK,OAAGA,IAAE,gBAAcA,IAAE,eAAe,EAAC,OAAM,UAAS,CAAC,GAAEA,MAAE;AAAA,MAAK,CAAC;AAAA,IAAC,CAAC;AAAA,EAAC,EAAC;AAAC;;;ACA1gC,SAASK,KAAG;AAAC,SAAM,EAAC,OAAO,EAAC,KAAIC,IAAE,GAAEC,IAAC,GAAE;AAAC,IAAAA,IAAE,MAAMD,GAAE,iBAAgB,YAAW,QAAQ;AAAA,EAAC,EAAC;AAAC;;;ACA0M,SAAS,EAAEE,IAAE;AAAC,MAAIC,MAAE,CAAC;AAAE,WAAQC,OAAKF;AAAE,WAAO,OAAOC,KAAEC,IAAED,GAAC,CAAC;AAAE,SAAOA;AAAC;AAAC,IAAIE,KAAEA,GAAE,MAAI,oBAAI,OAAI,EAAC,KAAKH,IAAEC,KAAE;AAAC,MAAIG;AAAE,MAAIF,OAAGE,MAAE,KAAK,IAAIJ,EAAC,MAAI,OAAKI,MAAE,EAAC,KAAIJ,IAAE,OAAM,GAAE,GAAEI,GAAE,GAAE,MAAK,oBAAI,MAAG;AAAE,SAAOF,IAAE,SAAQA,IAAE,KAAK,IAAID,GAAC,GAAE,KAAK,IAAID,IAAEE,GAAC,GAAE;AAAI,GAAE,IAAIF,IAAEC,KAAE;AAAC,MAAIC,MAAE,KAAK,IAAIF,EAAC;AAAE,SAAOE,QAAIA,IAAE,SAAQA,IAAE,KAAK,OAAOD,GAAC,IAAG;AAAI,GAAE,eAAe,EAAC,KAAID,IAAE,GAAEC,KAAE,MAAKC,IAAC,GAAE;AAAC,MAAIE,MAAE,EAAC,KAAIJ,IAAE,GAAEC,KAAE,MAAK,EAAEC,GAAC,EAAC,GAAEG,MAAE,CAACC,GAAE,GAAEC,GAAE,GAAEL,GAAE,CAAC;AAAE,EAAAG,IAAE,QAAQ,CAAC,EAAC,QAAOG,IAAC,MAAIA,OAAG,OAAK,SAAOA,IAAEJ,GAAC,CAAC,GAAEC,IAAE,QAAQ,CAAC,EAAC,OAAMG,IAAC,MAAIA,OAAG,OAAK,SAAOA,IAAEJ,GAAC,CAAC;AAAC,GAAE,aAAa,EAAC,GAAEJ,GAAC,GAAE;AAAC,EAAAA,GAAE,QAAQ;AAAC,GAAE,SAAS,EAAC,KAAIA,GAAC,GAAE;AAAC,OAAK,OAAOA,EAAC;AAAC,EAAC,CAAC;AAAEG,GAAE,UAAU,MAAI;AAAC,MAAIH,KAAEG,GAAE,YAAY,GAAEF,MAAE,oBAAI;AAAI,WAAO,CAACC,GAAC,KAAIF;AAAE,IAAAC,IAAE,IAAIC,KAAEA,IAAE,gBAAgB,MAAM,QAAQ;AAAE,WAAQA,OAAKF,GAAE,OAAO,GAAE;AAAC,QAAII,MAAEH,IAAE,IAAIC,IAAE,GAAG,MAAI,UAASG,MAAEH,IAAE,UAAQ;AAAE,KAACG,OAAG,CAACD,OAAG,CAACC,OAAGD,QAAID,GAAE,SAASD,IAAE,QAAM,IAAE,mBAAiB,gBAAeA,GAAC,GAAEA,IAAE,UAAQ,KAAGC,GAAE,SAAS,YAAWD,GAAC;AAAA,EAAC;AAAC,CAAC;;;ACA76B,SAASO,GAAEC,IAAEC,KAAEC,MAAE,OAAK,EAAC,YAAW,CAAC,EAAC,IAAG;AAAC,MAAIC,MAAED,GAAEH,EAAC,GAAEK,MAAEJ,KAAEG,IAAE,IAAIH,EAAC,IAAE,QAAOK,MAAED,MAAEA,IAAE,QAAM,IAAE;AAAG,SAAOF,GAAE,MAAI;AAAC,QAAG,EAAE,CAACF,MAAG,CAACC;AAAG,aAAOF,GAAE,SAAS,QAAOC,IAAEE,GAAC,GAAE,MAAIH,GAAE,SAAS,OAAMC,IAAEE,GAAC;AAAA,EAAC,GAAE,CAACD,KAAED,EAAC,CAAC,GAAEK;AAAC;;;ACA3V,IAAAC,iBAAwC;AAA8D,SAASC,KAAG;AAAC,MAAG,CAACC,EAAC,QAAE,eAAAC,UAAEA,EAAC;AAAE,aAAO,eAAAC,WAAE,MAAI,MAAIF,GAAE,QAAQ,GAAE,CAACA,EAAC,CAAC,GAAEA;AAAC;;;ACAlK,IAAAG,iBAAa;;;ACAb,IAAAC,iBAAuB;AAA0E,SAASC,GAAEC,IAAE;AAAC,MAAIC,UAAE,eAAAC,QAAEF,EAAC;AAAE,SAAOG,GAAE,MAAI;AAAC,IAAAF,IAAE,UAAQD;AAAA,EAAC,GAAE,CAACA,EAAC,CAAC,GAAEC;AAAC;;;ADA/E,IAAIG,KAAE,SAASC,KAAE;AAAC,MAAIC,KAAEC,GAAEF,GAAC;AAAE,SAAO,eAAAG,QAAE,YAAY,IAAIC,QAAIH,GAAE,QAAQ,GAAGG,GAAC,GAAE,CAACH,EAAC,CAAC;AAAC;;;AEA1J,IAAAI,iBAAyB;AAA0E,SAASC,KAAG;AAAC,MAAIC;AAAE,MAAG,CAACC,EAAC,QAAE,eAAAC,UAAE,MAAI,OAAO,UAAQ,eAAa,OAAO,OAAO,cAAY,aAAW,OAAO,WAAW,mBAAmB,IAAE,IAAI,GAAE,CAACC,KAAEC,GAAC,QAAE,eAAAF,WAAGF,MAAEC,MAAG,OAAK,SAAOA,GAAE,YAAU,OAAKD,MAAE,KAAE;AAAE,SAAOK,GAAE,MAAI;AAAC,QAAG,CAACJ;AAAE;AAAO,aAASI,IAAEC,KAAE;AAAC,MAAAF,IAAEE,IAAE,OAAO;AAAA,IAAC;AAAC,WAAOL,GAAE,iBAAiB,UAASI,GAAC,GAAE,MAAIJ,GAAE,oBAAoB,UAASI,GAAC;AAAA,EAAC,GAAE,CAACJ,EAAC,CAAC,GAAEE;AAAC;;;ACA3a,IAAAI,iBAAwB;AAA6D,SAASC,MAAKC,IAAE;AAAC,aAAO,eAAAC,SAAE,MAAIC,GAAE,GAAGF,EAAC,GAAE,CAAC,GAAGA,EAAC,CAAC;AAAC;;;ArBA0T,SAAS,EAAEG,IAAE;AAAC,MAAIC,MAAED,GAAE,QAAM,GAAEE,MAAEF,GAAE,SAAO;AAAE,SAAM,EAAC,KAAIA,GAAE,UAAQE,KAAE,OAAMF,GAAE,UAAQC,KAAE,QAAOD,GAAE,UAAQE,KAAE,MAAKF,GAAE,UAAQC,IAAC;AAAC;AAAC,SAAS,EAAED,IAAEC,KAAE;AAAC,SAAM,EAAE,CAACD,MAAG,CAACC,OAAGD,GAAE,QAAMC,IAAE,QAAMD,GAAE,OAAKC,IAAE,SAAOD,GAAE,SAAOC,IAAE,OAAKD,GAAE,MAAIC,IAAE;AAAO;AAAC,SAAS,IAAG;AAAC,MAAID,SAAE,eAAAG,QAAE,IAAI,GAAE,CAACF,KAAEC,GAAC,QAAE,eAAAE,UAAE,KAAE,GAAE,CAACC,KAAEC,GAAC,QAAE,eAAAF,UAAE,KAAE,GAAEG,MAAEC,GAAE,GAAEC,MAAEA,GAAE,MAAI;AAAC,IAAAT,GAAE,UAAQ,MAAKE,IAAE,KAAE,GAAEI,IAAE,KAAE,GAAEC,IAAE,QAAQ;AAAA,EAAC,CAAC,GAAEC,KAAEC,GAAE,CAAAC,QAAG;AAAC,QAAGH,IAAE,QAAQ,GAAEP,GAAE,YAAU,MAAK;AAAC,MAAAA,GAAE,UAAQU,IAAE,eAAcR,IAAE,IAAE;AAAE;AAAC,YAAIS,MAAEF,GAAEC,IAAE,aAAa;AAAE,QAAAH,IAAE,iBAAiBI,KAAE,aAAYF,KAAE,KAAE,GAAEF,IAAE,iBAAiBI,KAAE,eAAc,CAAAC,OAAG;AAAC,cAAGZ,GAAE,SAAQ;AAAC,gBAAIa,KAAE,EAAED,EAAC;AAAE,YAAAV,IAAE,EAAEW,IAAEb,GAAE,QAAQ,sBAAsB,CAAC,CAAC;AAAA,UAAC;AAAA,QAAC,GAAE,KAAE,GAAEO,IAAE,iBAAiBI,KAAE,iBAAgBF,KAAE,KAAE;AAAA,MAAC;AAAA,IAAC;AAAA,EAAC,CAAC,GAAEK,MAAEL,GAAE,MAAI;AAAC,IAAAR,OAAGD,GAAE,YAAU,SAAOO,IAAE,MAAMP,GAAE,SAAQ,eAAc,MAAM,GAAE,EAAE,KAAGO,IAAE,MAAMP,GAAE,SAAQ,uBAAsB,MAAM;AAAA,EAAE,CAAC,GAAEe,MAAEN,GAAE,MAAI;AAAC,IAAAJ,OAAGE,IAAE,WAAW,MAAID,IAAE,IAAE,GAAE,GAAG;AAAA,EAAC,CAAC,GAAEU,KAAEd,GAAEF,EAAC,GAAEiB,MAAEP,GAAE;AAAE,SAAOI,GAAEE,IAAEX,OAAGY,GAAC,GAAE,EAAC,SAAQhB,KAAE,YAAW,EAAC,eAAcO,IAAE,aAAYC,KAAE,cAAaK,KAAE,aAAYG,MAAEF,MAAE,QAAO,SAAQN,IAAC,EAAC;AAAC;;;AsBAt1C,IAAAS,iBAAiD;AAAQ,IAAIC,SAAE,eAAAC,eAAE,MAAM;AAAE,SAASC,KAAG;AAAC,aAAO,eAAAC,YAAEH,EAAC;AAAC;AAAC,SAASI,GAAE,EAAC,OAAMC,KAAE,UAASC,IAAC,GAAE;AAAC,SAAO,eAAAC,QAAE,cAAcP,GAAE,UAAS,EAAC,OAAMK,IAAC,GAAEC,GAAC;AAAC;;;ACAjL,IAAAE,iBAA+H;;;ACA/H,SAASC,MAAKC,KAAE;AAAC,SAAO,MAAM,KAAK,IAAI,IAAIA,IAAE,QAAQ,CAAAC,QAAG,OAAOA,OAAG,WAASA,IAAE,MAAM,GAAG,IAAE,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAAC;;;ACAvH,SAASC,GAAEC,KAAEC,QAAKC,KAAE;AAAC,MAAGF,OAAKC,KAAE;AAAC,QAAIE,KAAEF,IAAED,GAAC;AAAE,WAAO,OAAOG,MAAG,aAAWA,GAAE,GAAGD,GAAC,IAAEC;AAAA,EAAC;AAAC,MAAIC,MAAE,IAAI,MAAM,oBAAoBJ,GAAC,iEAAiE,OAAO,KAAKC,GAAC,EAAE,IAAI,CAAAE,OAAG,IAAIA,EAAC,GAAG,EAAE,KAAK,IAAI,CAAC,GAAG;AAAE,QAAM,MAAM,qBAAmB,MAAM,kBAAkBC,KAAEL,EAAC,GAAEK;AAAC;;;AFA3E,IAAI,KAAG,CAAAC,SAAIA,IAAEA,IAAE,OAAK,CAAC,IAAE,QAAOA,IAAEA,IAAE,iBAAe,CAAC,IAAE,kBAAiBA,IAAEA,IAAE,SAAO,CAAC,IAAE,UAASA,MAAI,KAAG,CAAC,CAAC;AAArG,IAAuGC,MAAG,CAAAC,QAAIA,GAAEA,GAAE,UAAQ,CAAC,IAAE,WAAUA,GAAEA,GAAE,SAAO,CAAC,IAAE,UAASA,KAAID,MAAG,CAAC,CAAC;AAAE,SAAS,EAAE,EAAC,UAASE,KAAE,YAAWC,KAAE,MAAKF,IAAE,YAAWF,KAAE,UAASK,KAAE,SAAQC,MAAE,MAAG,MAAKC,KAAE,WAAUC,IAAC,GAAE;AAAC,EAAAA,MAAEA,OAAG,OAAKA,MAAE;AAAE,MAAIC,MAAEC,GAAEN,KAAED,GAAC;AAAE,MAAGG;AAAE,WAAO,EAAEG,KAAEP,IAAEF,KAAEO,KAAEC,GAAC;AAAE,MAAIG,MAAEN,OAAG,OAAKA,MAAE;AAAE,MAAGM,MAAE,GAAE;AAAC,QAAG,EAAC,QAAOC,MAAE,OAAG,GAAGC,IAAC,IAAEJ;AAAE,QAAGG;AAAE,aAAO,EAAEC,KAAEX,IAAEF,KAAEO,KAAEC,GAAC;AAAA,EAAC;AAAC,MAAGG,MAAE,GAAE;AAAC,QAAG,EAAC,SAAQC,MAAE,MAAG,GAAGC,IAAC,IAAEJ;AAAE,WAAOK,GAAEF,MAAE,IAAE,GAAE,EAAC,CAAC,CAAC,IAAG;AAAC,aAAO;AAAA,IAAI,GAAE,CAAC,CAAC,IAAG;AAAC,aAAO,EAAE,EAAC,GAAGC,KAAE,QAAO,MAAG,OAAM,EAAC,SAAQ,OAAM,EAAC,GAAEX,IAAEF,KAAEO,KAAEC,GAAC;AAAA,IAAC,EAAC,CAAC;AAAA,EAAC;AAAC,SAAO,EAAEC,KAAEP,IAAEF,KAAEO,KAAEC,GAAC;AAAC;AAAC,SAAS,EAAEL,KAAEC,MAAE,CAAC,GAAEF,IAAEF,KAAEK,KAAE;AAAC,MAAG,EAAC,IAAGC,MAAEJ,IAAE,UAASK,KAAE,SAAQC,MAAE,OAAM,GAAGC,IAAC,IAAE,EAAEN,KAAE,CAAC,WAAU,QAAQ,CAAC,GAAEQ,MAAER,IAAE,QAAM,SAAO,EAAC,CAACK,GAAC,GAAEL,IAAE,IAAG,IAAE,CAAC,GAAES,MAAE,OAAOL,OAAG,aAAWA,IAAEH,GAAC,IAAEG;AAAE,iBAAcE,OAAGA,IAAE,aAAW,OAAOA,IAAE,aAAW,eAAaA,IAAE,YAAUA,IAAE,UAAUL,GAAC,IAAGK,IAAE,iBAAiB,KAAGA,IAAE,iBAAiB,MAAIA,IAAE,OAAKA,IAAE,iBAAiB,IAAE;AAAQ,MAAII,MAAE,CAAC;AAAE,MAAGT,KAAE;AAAC,QAAIU,MAAE,OAAGC,KAAE,CAAC;AAAE,aAAO,CAACC,KAAEC,GAAC,KAAI,OAAO,QAAQb,GAAC;AAAE,aAAOa,OAAG,cAAYH,MAAE,OAAIG,QAAI,QAAIF,GAAE,KAAKC,IAAE,QAAQ,YAAW,CAAAE,QAAG,IAAIA,IAAE,YAAY,CAAC,EAAE,CAAC;AAAE,QAAGJ,KAAE;AAAC,MAAAD,IAAE,uBAAuB,IAAEE,GAAE,KAAK,GAAG;AAAE,eAAQC,OAAKD;AAAE,QAAAF,IAAE,QAAQG,GAAC,EAAE,IAAE;AAAA,IAAE;AAAA,EAAC;AAAC,MAAGV,QAAI,eAAAa,aAAI,OAAO,KAAKC,GAAEX,GAAC,CAAC,EAAE,SAAO,KAAG,OAAO,KAAKW,GAAEP,GAAC,CAAC,EAAE,SAAO;AAAG,QAAG,KAAC,eAAAQ,gBAAET,GAAC,KAAG,MAAM,QAAQA,GAAC,KAAGA,IAAE,SAAO,GAAE;AAAC,UAAG,OAAO,KAAKQ,GAAEX,GAAC,CAAC,EAAE,SAAO;AAAE,cAAM,IAAI,MAAM,CAAC,gCAA+B,IAAG,0BAA0BT,GAAC,kCAAiC,uDAAsD,OAAO,KAAKoB,GAAEX,GAAC,CAAC,EAAE,OAAO,OAAO,KAAKW,GAAEP,GAAC,CAAC,CAAC,EAAE,IAAI,CAAAC,QAAG,OAAOA,GAAC,EAAE,EAAE,KAAK;AAAA,CAClqD,GAAE,IAAG,kCAAiC,CAAC,+FAA8F,0FAA0F,EAAE,IAAI,CAAAA,QAAG,OAAOA,GAAC,EAAE,EAAE,KAAK;AAAA,CACzP,CAAC,EAAE,KAAK;AAAA,CACR,CAAC;AAAA,IAAC,OAAK;AAAC,UAAIA,MAAEF,IAAE,OAAMG,KAAED,OAAG,OAAK,SAAOA,IAAE,WAAUE,MAAE,OAAOD,MAAG,aAAW,IAAIG,QAAIZ,GAAES,GAAE,GAAGG,GAAC,GAAET,IAAE,SAAS,IAAEH,GAAES,IAAEN,IAAE,SAAS,GAAEQ,MAAED,MAAE,EAAC,WAAUA,IAAC,IAAE,CAAC;AAAE,iBAAO,eAAAM,cAAEV,KAAE,OAAO,OAAO,CAAC,GAAEF,GAAEE,IAAE,OAAMQ,GAAE,EAAEX,KAAE,CAAC,KAAK,CAAC,CAAC,CAAC,GAAEI,KAAEF,KAAE,EAAC,KAAIN,IAAEO,IAAE,KAAID,IAAE,GAAG,EAAC,GAAEM,GAAC,CAAC;AAAA,IAAC;AAAC,aAAO,eAAAM,eAAEjB,KAAE,OAAO,OAAO,CAAC,GAAE,EAAEG,KAAE,CAAC,KAAK,CAAC,GAAEH,QAAI,eAAAa,YAAGR,KAAEL,QAAI,eAAAa,YAAGN,GAAC,GAAED,GAAC;AAAC;AAAC,SAAS,IAAG;AAAC,MAAIT,UAAE,eAAAqB,QAAE,CAAC,CAAC,GAAEpB,UAAE,eAAAqB,aAAE,CAAAvB,OAAG;AAAC,aAAQF,OAAKG,IAAE;AAAQ,MAAAH,OAAG,SAAO,OAAOA,OAAG,aAAWA,IAAEE,EAAC,IAAEF,IAAE,UAAQE;AAAA,EAAE,GAAE,CAAC,CAAC;AAAE,SAAM,IAAIA,OAAI;AAAC,QAAG,CAACA,GAAE,MAAM,CAAAF,QAAGA,OAAG,IAAI;AAAE,aAAOG,IAAE,UAAQD,IAAEE;AAAA,EAAC;AAAC;AAAC,SAAS,KAAKD,KAAE;AAAC,SAAOA,IAAE,MAAM,CAAAC,QAAGA,OAAG,IAAI,IAAE,SAAO,CAAAA,QAAG;AAAC,aAAQF,MAAKC;AAAE,MAAAD,MAAG,SAAO,OAAOA,MAAG,aAAWA,GAAEE,GAAC,IAAEF,GAAE,UAAQE;AAAA,EAAE;AAAC;AAAC,SAASM,MAAKP,KAAE;AAAC,MAAIH;AAAE,MAAGG,IAAE,WAAS;AAAE,WAAM,CAAC;AAAE,MAAGA,IAAE,WAAS;AAAE,WAAOA,IAAE,CAAC;AAAE,MAAIC,MAAE,CAAC,GAAEF,KAAE,CAAC;AAAE,WAAQG,OAAKF;AAAE,aAAQG,OAAKD;AAAE,MAAAC,IAAE,WAAW,IAAI,KAAG,OAAOD,IAAEC,GAAC,KAAG,eAAaN,MAAEE,GAAEI,GAAC,MAAI,SAAOJ,GAAEI,GAAC,IAAE,CAAC,IAAGJ,GAAEI,GAAC,EAAE,KAAKD,IAAEC,GAAC,CAAC,KAAGF,IAAEE,GAAC,IAAED,IAAEC,GAAC;AAAE,MAAGF,IAAE,YAAUA,IAAE,eAAe;AAAE,WAAO,OAAO,OAAOA,KAAE,OAAO,YAAY,OAAO,KAAKF,EAAC,EAAE,IAAI,CAAAG,QAAG,CAACA,KAAE,MAAM,CAAC,CAAC,CAAC;AAAE,WAAQA,OAAKH;AAAE,WAAO,OAAOE,KAAE,EAAC,CAACC,GAAC,EAAEC,QAAKC,KAAE;AAAC,UAAIC,MAAEN,GAAEG,GAAC;AAAE,eAAQI,OAAKD,KAAE;AAAC,aAAIF,eAAa,UAAQA,OAAG,OAAK,SAAOA,IAAE,wBAAuB,UAAQA,IAAE;AAAiB;AAAO,QAAAG,IAAEH,KAAE,GAAGC,GAAC;AAAA,MAAC;AAAA,IAAC,EAAC,CAAC;AAAE,SAAOH;AAAC;AAAC,SAAS,KAAKD,KAAE;AAAC,MAAIH;AAAE,MAAGG,IAAE,WAAS;AAAE,WAAM,CAAC;AAAE,MAAGA,IAAE,WAAS;AAAE,WAAOA,IAAE,CAAC;AAAE,MAAIC,MAAE,CAAC,GAAEF,KAAE,CAAC;AAAE,WAAQG,OAAKF;AAAE,aAAQG,OAAKD;AAAE,MAAAC,IAAE,WAAW,IAAI,KAAG,OAAOD,IAAEC,GAAC,KAAG,eAAaN,MAAEE,GAAEI,GAAC,MAAI,SAAOJ,GAAEI,GAAC,IAAE,CAAC,IAAGJ,GAAEI,GAAC,EAAE,KAAKD,IAAEC,GAAC,CAAC,KAAGF,IAAEE,GAAC,IAAED,IAAEC,GAAC;AAAE,WAAQD,OAAKH;AAAE,WAAO,OAAOE,KAAE,EAAC,CAACC,GAAC,KAAKC,KAAE;AAAC,UAAIC,MAAEL,GAAEG,GAAC;AAAE,eAAQG,OAAKD;AAAE,QAAAC,OAAG,QAAMA,IAAE,GAAGF,GAAC;AAAA,IAAC,EAAC,CAAC;AAAE,SAAOF;AAAC;AAAC,SAAS,EAAED,KAAE;AAAC,MAAIC;AAAE,SAAO,OAAO,WAAO,eAAAsB,YAAEvB,GAAC,GAAE,EAAC,cAAaC,MAAED,IAAE,gBAAc,OAAKC,MAAED,IAAE,KAAI,CAAC;AAAC;AAAC,SAASiB,GAAEjB,KAAE;AAAC,MAAIC,MAAE,OAAO,OAAO,CAAC,GAAED,GAAC;AAAE,WAAQD,MAAKE;AAAE,IAAAA,IAAEF,EAAC,MAAI,UAAQ,OAAOE,IAAEF,EAAC;AAAE,SAAOE;AAAC;AAAC,SAAS,EAAED,KAAEC,MAAE,CAAC,GAAE;AAAC,MAAIF,KAAE,OAAO,OAAO,CAAC,GAAEC,GAAC;AAAE,WAAQH,OAAKI;AAAE,IAAAJ,OAAKE,MAAG,OAAOA,GAAEF,GAAC;AAAE,SAAOE;AAAC;;;AxBH5zC,IAAI,IAAE;AAAS,SAASyB,GAAEC,IAAEC,KAAE;AAAC,MAAIC,IAAEC;AAAE,MAAIC,MAAED,GAAE,GAAE,EAAC,UAASE,MAAED,OAAG,OAAG,GAAGE,IAAC,IAAEN,IAAE,EAAC,gBAAeO,KAAE,YAAWC,IAAC,IAAE,0CAAE,EAAC,YAAWN,KAAEF,GAAE,cAAY,OAAKE,KAAE,MAAE,CAAC,GAAE,EAAC,WAAUO,KAAE,YAAWC,IAAC,IAAE,0CAAE,EAAC,YAAWL,IAAC,CAAC,GAAE,EAAC,SAAQM,KAAE,YAAWC,IAAC,IAAE,EAAE,GAAEC,MAAE,EAAE,EAAC,KAAIZ,KAAE,UAASI,OAAG,QAAO,OAAMF,MAAEG,IAAE,SAAO,OAAKH,MAAE,SAAQ,GAAEK,KAAEE,KAAEE,GAAC,GAAEE,UAAE,eAAAC,SAAE,MAAI;AAAC,QAAIC;AAAE,WAAM,EAAC,UAASX,KAAE,OAAMI,KAAE,OAAMF,KAAE,QAAOI,KAAE,YAAWK,MAAEhB,GAAE,cAAY,OAAKgB,MAAE,MAAE;AAAA,EAAC,GAAE,CAACX,KAAEI,KAAEF,KAAEI,KAAEX,GAAE,SAAS,CAAC;AAAE,SAAO,EAAE,EAAC,UAASa,KAAE,YAAWP,KAAE,MAAKQ,KAAE,YAAW,GAAE,MAAK,SAAQ,CAAC;AAAC;AAAC,IAAI,IAAE,EAAEf,EAAC;;;A2BA5tB,IAAAkB,iBAA0D;;;ACA5K,IAAAC,iBAAqC;AAAkD,SAASC,GAAEC,KAAEC,KAAEC,KAAE;AAAC,MAAG,CAACC,KAAEC,GAAC,QAAE,eAAAC,UAAEH,GAAC,GAAEI,KAAEN,QAAI,QAAOO,UAAE,eAAAC,QAAEF,EAAC,GAAEG,UAAE,eAAAD,QAAE,KAAE,GAAEE,UAAE,eAAAF,QAAE,KAAE;AAAE,SAAOF,MAAG,CAACC,IAAE,WAAS,CAACE,IAAE,WAASA,IAAE,UAAQ,MAAGF,IAAE,UAAQD,IAAE,QAAQ,MAAM,+JAA+J,KAAG,CAACA,MAAGC,IAAE,WAAS,CAACG,IAAE,YAAUA,IAAE,UAAQ,MAAGH,IAAE,UAAQD,IAAE,QAAQ,MAAM,+JAA+J,IAAG,CAACA,KAAEN,MAAEG,KAAEK,GAAE,CAAAG,SAAIL,MAAGF,IAAEO,GAAC,GAAEV,OAAG,OAAK,SAAOA,IAAEU,GAAC,EAAE,CAAC;AAAC;;;ACAhpB,IAAAC,iBAAa;;;ACAnB,IAAAC,KAAgB;AAA8C,SAASC,KAAG;AAAC,MAAIC,MAAE,OAAO,YAAU;AAAY,SAAM,0BAAyBC,MAAG,CAAAC,QAAGA,IAAE,sBAAsBD,EAAC,EAAE,MAAI,MAAI;AAAA,EAAC,GAAE,MAAI,OAAG,MAAI,CAACD,GAAC,IAAE;AAAE;AAAC,SAASG,KAAG;AAAC,MAAIH,MAAED,GAAE,GAAE,CAACK,IAAEC,GAAC,IAAI,YAAS,EAAE,iBAAiB;AAAE,SAAOD,MAAG,EAAE,sBAAoB,SAAIC,IAAE,KAAE,GAAI,aAAU,MAAI;AAAC,IAAAD,OAAI,QAAIC,IAAE,IAAE;AAAA,EAAC,GAAE,CAACD,EAAC,CAAC,GAAI,aAAU,MAAI,EAAE,QAAQ,GAAE,CAAC,CAAC,GAAEJ,MAAE,QAAGI;AAAC;;;ADA7X,IAAIE;AAA2M,IAAIC,MAAGD,KAAE,eAAAE,QAAE,UAAQ,OAAKF,KAAE,WAAU;AAAC,MAAIG,MAAEC,GAAE,GAAE,CAACC,IAAEC,GAAC,IAAE,eAAAJ,QAAE,SAASC,MAAE,MAAI,EAAE,OAAO,IAAE,IAAI;AAAE,SAAOA,GAAE,MAAI;AAAC,IAAAE,OAAI,QAAMC,IAAE,EAAE,OAAO,CAAC;AAAA,EAAC,GAAE,CAACD,EAAC,CAAC,GAAEA,MAAG,OAAK,KAAGA,KAAE;AAAM;;;AEArW,IAAAE,iBAA8E;AAAQ,uBAA6B;;;ACAnH,SAASC,GAAEC,MAAE,CAAC,GAAEC,MAAE,MAAKC,MAAE,CAAC,GAAE;AAAC,WAAO,CAACC,KAAEC,GAAC,KAAI,OAAO,QAAQJ,GAAC;AAAE,IAAAK,GAAEH,KAAEI,GAAEL,KAAEE,GAAC,GAAEC,GAAC;AAAE,SAAOF;AAAC;AAAC,SAASI,GAAEN,KAAEC,KAAE;AAAC,SAAOD,MAAEA,MAAE,MAAIC,MAAE,MAAIA;AAAC;AAAC,SAASI,GAAEL,KAAEC,KAAEC,KAAE;AAAC,MAAG,MAAM,QAAQA,GAAC;AAAE,aAAO,CAACC,KAAEC,GAAC,KAAIF,IAAE,QAAQ;AAAE,MAAAG,GAAEL,KAAEM,GAAEL,KAAEE,IAAE,SAAS,CAAC,GAAEC,GAAC;AAAA;AAAO,IAAAF,eAAa,OAAKF,IAAE,KAAK,CAACC,KAAEC,IAAE,YAAY,CAAC,CAAC,IAAE,OAAOA,OAAG,YAAUF,IAAE,KAAK,CAACC,KAAEC,MAAE,MAAI,GAAG,CAAC,IAAE,OAAOA,OAAG,WAASF,IAAE,KAAK,CAACC,KAAEC,GAAC,CAAC,IAAE,OAAOA,OAAG,WAASF,IAAE,KAAK,CAACC,KAAE,GAAGC,GAAC,EAAE,CAAC,IAAEA,OAAG,OAAKF,IAAE,KAAK,CAACC,KAAE,EAAE,CAAC,IAAEF,GAAEG,KAAED,KAAED,GAAC;AAAC;AAAC,SAASO,GAAEP,KAAE;AAAC,MAAIE,KAAEC;AAAE,MAAIF,OAAGC,MAAEF,OAAG,OAAK,SAAOA,IAAE,SAAO,OAAKE,MAAEF,IAAE,QAAQ,MAAM;AAAE,MAAGC,KAAE;AAAC,aAAQG,OAAKH,IAAE;AAAS,UAAGG,QAAIJ,QAAII,IAAE,YAAU,WAASA,IAAE,SAAO,YAAUA,IAAE,YAAU,YAAUA,IAAE,SAAO,YAAUA,IAAE,aAAW,WAASA,IAAE,SAAO,UAAS;AAAC,QAAAA,IAAE,MAAM;AAAE;AAAA,MAAM;AAAC,KAACD,MAAEF,IAAE,kBAAgB,QAAME,IAAE,KAAKF,GAAC;AAAA,EAAC;AAAC;;;ACAjoB,IAAIO,KAAE;AAAM,IAAIC,MAAG,CAAAC,QAAIA,GAAEA,GAAE,OAAK,CAAC,IAAE,QAAOA,GAAEA,GAAE,YAAU,CAAC,IAAE,aAAYA,GAAEA,GAAE,SAAO,CAAC,IAAE,UAASA,KAAID,MAAG,CAAC,CAAC;AAAE,SAASE,GAAEC,KAAEC,KAAE;AAAC,MAAIC;AAAE,MAAG,EAAC,UAASC,MAAE,GAAE,GAAGL,GAAC,IAAEE,KAAEI,MAAE,EAAC,KAAIH,KAAE,gBAAeE,MAAE,OAAK,IAAE,QAAID,MAAEJ,GAAE,aAAa,MAAI,OAAKI,MAAE,QAAO,OAAM,EAAC,UAAS,SAAQ,KAAI,GAAE,MAAK,GAAE,OAAM,GAAE,QAAO,GAAE,SAAQ,GAAE,QAAO,IAAG,UAAS,UAAS,MAAK,oBAAmB,YAAW,UAAS,aAAY,KAAI,IAAIC,MAAE,OAAK,MAAIA,MAAE,OAAK,KAAG,EAAC,SAAQ,OAAM,EAAC,EAAC;AAAE,SAAO,EAAE,EAAC,UAASC,KAAE,YAAWN,IAAE,MAAK,CAAC,GAAE,YAAWF,IAAE,MAAK,SAAQ,CAAC;AAAC;AAAC,IAAIS,KAAE,EAAEN,EAAC;;;AFA7N,IAAIO,SAAE,eAAAC,eAAE,IAAI;AAAE,SAAS,EAAEC,KAAE;AAAC,MAAG,CAACC,KAAEC,EAAC,QAAE,eAAAC,UAAE,IAAI;AAAE,SAAO,eAAAC,QAAE,cAAcN,GAAE,UAAS,EAAC,OAAM,EAAC,QAAOG,IAAC,EAAC,GAAED,IAAE,UAAS,eAAAI,QAAE,cAAcC,IAAE,EAAC,UAASF,GAAE,QAAO,KAAID,GAAC,CAAC,CAAC;AAAC;AAAC,SAASI,GAAE,EAAC,UAASN,IAAC,GAAE;AAAC,MAAIC,UAAE,eAAAI,YAAEP,EAAC;AAAE,MAAG,CAACG;AAAE,WAAO,eAAAG,QAAE,cAAc,eAAAA,QAAE,UAAS,MAAKJ,GAAC;AAAE,MAAG,EAAC,QAAOE,GAAC,IAAED;AAAE,SAAOC,SAAE,iBAAAK,cAAE,eAAAH,QAAE,cAAc,eAAAA,QAAE,UAAS,MAAKJ,GAAC,GAAEE,EAAC,IAAE;AAAI;AAAC,SAASM,GAAE,EAAC,MAAKR,KAAE,MAAKC,KAAE,SAAQC,GAAC,GAAE;AAAC,MAAG,CAACO,KAAEC,GAAC,QAAE,eAAAP,UAAE,IAAI,GAAEQ,MAAEC,GAAE;AAAE,aAAO,eAAAC,WAAE,MAAI;AAAC,QAAGX,MAAGO;AAAE,aAAOE,IAAE,iBAAiBF,KAAE,SAAQP,EAAC;AAAA,EAAC,GAAE,CAACO,KAAER,KAAEC,EAAC,CAAC,GAAE,eAAAE,QAAE,cAAcE,IAAE,MAAK,eAAAF,QAAE,cAAcU,IAAE,EAAC,SAAQJ,KAAE,QAAOT,IAAC,CAAC,GAAEC,GAAEF,GAAC,EAAE,IAAI,CAAC,CAACe,KAAEH,EAAC,MAAI,eAAAR,QAAE,cAAcC,IAAE,EAAC,UAASF,GAAE,QAAO,GAAGU,GAAE,EAAC,KAAIE,KAAE,IAAG,SAAQ,MAAK,UAAS,QAAO,MAAG,UAAS,MAAG,MAAKd,KAAE,MAAKc,KAAE,OAAMH,GAAC,CAAC,EAAC,CAAC,CAAC,CAAC;AAAC;AAAC,SAASE,GAAE,EAAC,SAAQd,KAAE,QAAOC,IAAC,GAAE;AAAC,aAAO,eAAAY,WAAE,MAAI;AAAC,QAAGZ,KAAE;AAAC,UAAIC,KAAE,SAAS,eAAeD,GAAC;AAAE,MAAAC,MAAGF,IAAEE,EAAC;AAAA,IAAC;AAAA,EAAC,GAAE,CAACF,KAAEC,GAAC,CAAC,GAAEA,MAAE,OAAK,eAAAG,QAAE,cAAcC,IAAE,EAAC,UAASF,GAAE,QAAO,IAAG,SAAQ,MAAK,UAAS,QAAO,MAAG,UAAS,MAAG,KAAI,CAAAD,OAAG;AAAC,QAAG,CAACA;AAAE;AAAO,QAAIO,MAAEP,GAAE,QAAQ,MAAM;AAAE,IAAAO,OAAGT,IAAES,GAAC;AAAA,EAAC,EAAC,CAAC;AAAC;;;AGAxtC,IAAAO,iBAAiD;AAAQ,IAAIC,SAAE,eAAAC,eAAE,MAAM;AAAE,SAASC,KAAG;AAAC,aAAO,eAAAC,YAAEH,EAAC;AAAC;AAAC,SAASI,GAAE,EAAC,IAAGC,KAAE,UAASC,IAAC,GAAE;AAAC,SAAO,eAAAC,QAAE,cAAcP,GAAE,UAAS,EAAC,OAAMK,IAAC,GAAEC,GAAC;AAAC;;;ACA9K,SAASE,GAAEC,KAAE;AAAC,MAAIC,KAAED,IAAE,eAAcE,MAAE;AAAK,SAAKD,MAAG,EAAEA,cAAa;AAAsB,IAAAA,cAAa,sBAAoBC,MAAED,KAAGA,KAAEA,GAAE;AAAc,MAAIE,OAAGF,MAAG,OAAK,SAAOA,GAAE,aAAa,UAAU,OAAK;AAAG,SAAOE,OAAGC,GAAEF,GAAC,IAAE,QAAGC;AAAC;AAAC,SAASC,GAAEJ,KAAE;AAAC,MAAG,CAACA;AAAE,WAAM;AAAG,MAAIC,KAAED,IAAE;AAAuB,SAAKC,OAAI,QAAM;AAAC,QAAGA,cAAa;AAAkB,aAAM;AAAG,IAAAA,KAAEA,GAAE;AAAA,EAAsB;AAAC,SAAM;AAAE;;;ACAxW,IAAAI,iBAA4E;;;ACAzF,IAAAC,iBAAsC;AAAkD,IAAIC,KAAE,OAAO;AAAE,SAASC,GAAEC,KAAEC,MAAE,MAAG;AAAC,SAAO,OAAO,OAAOD,KAAE,EAAC,CAACF,EAAC,GAAEG,IAAC,CAAC;AAAC;AAAC,SAASC,MAAKF,KAAE;AAAC,MAAIC,UAAE,eAAAE,QAAEH,GAAC;AAAE,qBAAAI,WAAE,MAAI;AAAC,IAAAH,IAAE,UAAQD;AAAA,EAAC,GAAE,CAACA,GAAC,CAAC;AAAE,MAAIK,MAAEC,GAAE,CAAAC,OAAG;AAAC,aAAQD,OAAKL,IAAE;AAAQ,MAAAK,OAAG,SAAO,OAAOA,OAAG,aAAWA,IAAEC,EAAC,IAAED,IAAE,UAAQC;AAAA,EAAE,CAAC;AAAE,SAAOP,IAAE,MAAM,CAAAO,OAAGA,MAAG,SAAOA,MAAG,OAAK,SAAOA,GAAET,EAAC,EAAE,IAAE,SAAOO;AAAC;;;ADAyG,IAAIG,SAAE,eAAAC,eAAE,IAAI;AAAED,GAAE,cAAY;AAAqB,SAASE,KAAG;AAAC,MAAIC,UAAE,eAAAC,YAAEJ,EAAC;AAAE,MAAGG,QAAI,MAAK;AAAC,QAAIE,KAAE,IAAI,MAAM,+EAA+E;AAAE,UAAM,MAAM,qBAAmB,MAAM,kBAAkBA,IAAEH,EAAC,GAAEG;AAAA,EAAC;AAAC,SAAOF;AAAC;AAAC,SAASG,KAAG;AAAC,MAAIH,KAAEE;AAAE,UAAOA,MAAGF,UAAE,eAAAC,YAAEJ,EAAC,MAAI,OAAK,SAAOG,IAAE,UAAQ,OAAKE,KAAE;AAAM;AAAC,SAAS,IAAG;AAAC,MAAG,CAACF,KAAEE,EAAC,QAAE,eAAAE,UAAE,CAAC,CAAC;AAAE,SAAM,CAACJ,IAAE,SAAO,IAAEA,IAAE,KAAK,GAAG,IAAE,YAAO,eAAAK,SAAE,MAAI,SAASC,KAAE;AAAC,QAAIC,MAAEC,GAAE,CAAAC,SAAIP,GAAE,CAAAQ,QAAG,CAAC,GAAGA,KAAED,GAAC,CAAC,GAAE,MAAIP,GAAE,CAAAQ,QAAG;AAAC,UAAIF,MAAEE,IAAE,MAAM,GAAEC,KAAEH,IAAE,QAAQC,GAAC;AAAE,aAAOE,OAAI,MAAIH,IAAE,OAAOG,IAAE,CAAC,GAAEH;AAAA,IAAC,CAAC,EAAE,GAAEI,UAAE,eAAAP,SAAE,OAAK,EAAC,UAASE,KAAE,MAAKD,IAAE,MAAK,MAAKA,IAAE,MAAK,OAAMA,IAAE,OAAM,OAAMA,IAAE,MAAK,IAAG,CAACC,KAAED,IAAE,MAAKA,IAAE,MAAKA,IAAE,OAAMA,IAAE,KAAK,CAAC;AAAE,WAAO,eAAAO,QAAE,cAAchB,GAAE,UAAS,EAAC,OAAMe,IAAC,GAAEN,IAAE,QAAQ;AAAA,EAAC,GAAE,CAACJ,EAAC,CAAC,CAAC;AAAC;AAAC,IAAIY,KAAE;AAAI,SAASC,GAAEf,KAAEE,IAAE;AAAC,MAAIc,MAAEC,GAAE,GAAEX,MAAET,GAAE,GAAE,EAAC,IAAGU,MAAE,0BAA0BS,GAAC,IAAG,GAAGJ,IAAC,IAAEZ,KAAES,MAAEV,GAAE,GAAEW,MAAEQ,GAAEhB,EAAC;AAAE,EAAAO,GAAE,MAAIA,IAAE,SAASF,GAAC,GAAE,CAACA,KAAEE,IAAE,QAAQ,CAAC;AAAE,MAAID,MAAEF,OAAG,OAAGK,SAAE,eAAAN,SAAE,OAAK,EAAC,GAAGI,IAAE,MAAK,UAASD,IAAC,IAAG,CAACC,IAAE,MAAKD,GAAC,CAAC,GAAEW,MAAE,EAAC,KAAIT,KAAE,GAAGD,IAAE,OAAM,IAAGF,IAAC;AAAE,SAAO,EAAE,EAAC,UAASY,KAAE,YAAWP,KAAE,MAAKD,IAAE,YAAWG,IAAE,MAAKL,IAAE,QAAM,cAAa,CAAC;AAAC;AAAC,IAAI,IAAE,EAAEM,EAAC;AAAT,IAAWK,KAAE,OAAO,OAAO,GAAE,CAAC,CAAC;;;AEAr8C,IAAIC,OAAG,CAAAC,SAAIA,IAAE,QAAM,KAAIA,IAAE,QAAM,SAAQA,IAAE,SAAO,UAASA,IAAE,YAAU,aAAYA,IAAE,SAAO,UAASA,IAAE,YAAU,aAAYA,IAAE,UAAQ,WAAUA,IAAE,aAAW,cAAaA,IAAE,YAAU,aAAYA,IAAE,OAAK,QAAOA,IAAE,MAAI,OAAMA,IAAE,SAAO,UAASA,IAAE,WAAS,YAAWA,IAAE,MAAI,OAAMA,MAAID,OAAG,CAAC,CAAC;;;ACA3Q,IAAAE,iBAA4E;AAAoa,IAAIC,SAAE,eAAAC,eAAE,IAAI;AAAED,GAAE,cAAY;AAAe,SAASE,KAAG;AAAC,MAAIC,UAAE,eAAAC,YAAEJ,EAAC;AAAE,MAAGG,QAAI,MAAK;AAAC,QAAIE,MAAE,IAAI,MAAM,yEAAyE;AAAE,UAAM,MAAM,qBAAmB,MAAM,kBAAkBA,KAAEH,EAAC,GAAEG;AAAA,EAAC;AAAC,SAAOF;AAAC;AAAC,SAASG,GAAEH,KAAE;AAAC,MAAII,KAAEC,IAAEC;AAAE,MAAIJ,OAAGG,MAAGD,UAAE,eAAAH,YAAEJ,EAAC,MAAI,OAAK,SAAOO,IAAE,UAAQ,OAAKC,KAAE;AAAO,WAAQC,MAAEN,OAAG,OAAK,SAAOA,IAAE,WAAS,OAAKM,MAAE,KAAG,IAAE,CAACJ,KAAE,GAAGF,GAAC,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG,IAAEE;AAAC;AAAC,SAASK,GAAE,EAAC,SAAQP,MAAE,MAAE,IAAE,CAAC,GAAE;AAAC,MAAIE,MAAEC,GAAE,GAAE,CAACC,KAAEC,EAAC,QAAE,eAAAG,UAAE,CAAC,CAAC,GAAEF,MAAEN,MAAE,CAACE,KAAE,GAAGE,GAAC,EAAE,OAAO,OAAO,IAAEA;AAAE,SAAM,CAACE,IAAE,SAAO,IAAEA,IAAE,KAAK,GAAG,IAAE,YAAO,eAAAG,SAAE,MAAI,SAASC,KAAE;AAAC,QAAIC,MAAEL,GAAE,CAAAM,SAAIP,GAAE,CAAAQ,OAAG,CAAC,GAAGA,IAAED,GAAC,CAAC,GAAE,MAAIP,GAAE,CAAAQ,OAAG;AAAC,UAAIC,MAAED,GAAE,MAAM,GAAEE,MAAED,IAAE,QAAQF,GAAC;AAAE,aAAOG,QAAI,MAAID,IAAE,OAAOC,KAAE,CAAC,GAAED;AAAA,IAAC,CAAC,EAAE,GAAEE,UAAE,eAAAP,SAAE,OAAK,EAAC,UAASE,KAAE,MAAKD,IAAE,MAAK,MAAKA,IAAE,MAAK,OAAMA,IAAE,OAAM,OAAMA,IAAE,MAAK,IAAG,CAACC,KAAED,IAAE,MAAKA,IAAE,MAAKA,IAAE,OAAMA,IAAE,KAAK,CAAC;AAAE,WAAO,eAAAO,QAAE,cAAcpB,GAAE,UAAS,EAAC,OAAMmB,IAAC,GAAEN,IAAE,QAAQ;AAAA,EAAC,GAAE,CAACL,EAAC,CAAC,CAAC;AAAC;AAAC,IAAIa,KAAE;AAAQ,SAASC,GAAEnB,KAAEE,KAAE;AAAC,MAAIkB;AAAE,MAAIhB,MAAED,GAAE,GAAEE,KAAEN,GAAE,GAAEO,MAAEQ,GAAE,GAAEO,KAAEjB,GAAE,GAAE,EAAC,IAAGM,MAAE,oBAAoBN,GAAC,IAAG,SAAQO,MAAEL,OAAG,OAAKA,OAAGc,MAAEf,GAAE,UAAQ,OAAK,SAAOe,IAAE,SAAQ,SAAQJ,MAAE,OAAG,GAAGJ,IAAC,IAAEZ,KAAEa,KAAEO,GAAElB,GAAC;AAAE,EAAAoB,GAAE,MAAIjB,GAAE,SAASK,GAAC,GAAE,CAACA,KAAEL,GAAE,QAAQ,CAAC;AAAE,MAAIS,MAAER,GAAE,CAAAiB,OAAG;AAAC,QAAIC,MAAED,GAAE;AAAc,QAAGC,eAAa,oBAAkBD,GAAE,eAAe,GAAElB,GAAE,SAAO,aAAYA,GAAE,SAAO,OAAOA,GAAE,MAAM,WAAS,cAAYA,GAAE,MAAM,QAAQkB,EAAC,GAAEC,eAAa,kBAAiB;AAAC,UAAIF,MAAE,SAAS,eAAeE,IAAE,OAAO;AAAE,UAAGF,KAAE;AAAC,YAAIG,KAAEH,IAAE,aAAa,UAAU;AAAE,YAAGG,OAAI,UAAQA,OAAI;AAAG;AAAO,YAAIC,KAAEJ,IAAE,aAAa,eAAe;AAAE,YAAGI,OAAI,UAAQA,OAAI;AAAG;AAAO,SAACJ,eAAa,qBAAmBA,IAAE,SAAO,WAASA,IAAE,SAAO,eAAaA,IAAE,SAAO,WAASA,IAAE,SAAO,cAAYA,IAAE,SAAO,aAAWA,IAAE,MAAM,GAAEA,IAAE,MAAM,EAAC,eAAc,KAAE,CAAC;AAAA,MAAC;AAAA,IAAC;AAAA,EAAC,CAAC,GAAEP,MAAEM,MAAG,OAAGM,SAAE,eAAAlB,SAAE,OAAK,EAAC,GAAGJ,GAAE,MAAK,UAASU,IAAC,IAAG,CAACV,GAAE,MAAKU,GAAC,CAAC,GAAEa,MAAE,EAAC,KAAIf,IAAE,GAAGR,GAAE,OAAM,IAAGK,KAAE,SAAQC,KAAE,SAAQG,IAAC;AAAE,SAAOE,QAAI,aAAYY,QAAI,OAAOA,IAAE,SAAQ,OAAOA,IAAE,UAAS,aAAYhB,OAAG,OAAOA,IAAE,UAAS,EAAE,EAAC,UAASgB,KAAE,YAAWhB,KAAE,MAAKe,IAAE,YAAWhB,MAAEO,KAAE,OAAM,MAAKb,GAAE,QAAM,QAAO,CAAC;AAAC;AAAC,IAAIwB,KAAE,EAAEV,EAAC;AAAT,IAAW,IAAE,OAAO,OAAOU,IAAE,CAAC,CAAC;;;AZA96C,IAAI,KAAG;AAAO,SAAS,GAAGC,KAAEC,IAAE;AAAC,MAAIC;AAAE,MAAIC,KAAEC,GAAE,GAAEC,KAAEC,GAAE,GAAEC,KAAEP,GAAE,GAAE,EAAC,IAAGQ,KAAEH,MAAG,uBAAuBF,EAAC,IAAG,UAASM,MAAEF,MAAG,OAAG,SAAQG,IAAE,gBAAeC,MAAE,OAAG,UAASC,IAAE,MAAKC,KAAE,OAAMC,IAAE,MAAKC,KAAE,eAAcC,MAAE,OAAG,GAAGC,IAAC,IAAEjB,KAAE,CAACkB,KAAEC,GAAC,IAAEC,GAAEV,IAAEE,IAAED,GAAC,GAAEU,KAAEjB,GAAG,GAAEkB,KAAEC,GAAG,GAAEC,KAAEC,GAAE,GAAE,CAACC,KAAED,EAAC,QAAE,eAAAE,UAAE,KAAE,GAAErB,MAAEG,GAAE,MAAI;AAAC,IAAAgB,GAAE,IAAE,GAAEN,OAAG,QAAMA,IAAE,CAACD,GAAC,GAAEM,GAAE,UAAU,MAAI;AAAC,MAAAC,GAAE,KAAE;AAAA,IAAC,CAAC;AAAA,EAAC,CAAC,GAAEG,KAAEnB,GAAE,CAAAoB,OAAG;AAAC,QAAGX,GAAEW,GAAE,aAAa;AAAE,aAAOA,GAAE,eAAe;AAAE,IAAAvB,IAAE;AAAA,EAAC,CAAC,GAAEwB,KAAErB,GAAE,CAAAoB,OAAG;AAAC,QAAGX,GAAEW,GAAE,aAAa;AAAE,aAAOA,GAAE,eAAe;AAAE,YAAOA,GAAE,KAAI;AAAA,MAAC,KAAKpB,IAAG;AAAM,QAAAoB,GAAE,eAAe,GAAEvB,IAAE;AAAE;AAAA,IAAK;AAAA,EAAC,CAAC,GAAE,EAAC,gBAAeyB,KAAE,YAAWC,GAAC,IAAE,0CAAE,EAAC,YAAW9B,MAAEF,IAAE,cAAY,OAAKE,MAAE,MAAE,CAAC,GAAE,EAAC,WAAU+B,KAAE,YAAW7B,GAAC,IAAE,0CAAE,EAAC,YAAWK,OAAG,OAAKA,MAAE,MAAE,CAAC,GAAE,EAAC,SAAQyB,KAAE,YAAWC,GAAC,IAAE,EAAE,GAAEZ,MAAE,EAAE,EAAC,KAAItB,IAAE,IAAGO,IAAE,MAAK,YAAW,gBAAeQ,MAAE,UAAQE,MAAE,SAAO,SAAQ,mBAAkBG,IAAE,oBAAmBC,IAAE,iBAAgBb,MAAE,OAAG,QAAO,eAAcO,MAAE,SAAO,QAAO,UAAS,GAAE,WAAUP,MAAE,SAAOqB,IAAE,SAAQrB,MAAE,SAAOmB,GAAC,GAAEI,IAAE5B,IAAE+B,EAAC,GAAEC,SAAE,eAAAC,SAAE,MAAI;AAAC,QAAIR;AAAE,WAAM,EAAC,SAAQX,KAAE,UAAST,KAAE,OAAMwB,KAAE,OAAMF,KAAE,QAAOG,KAAE,eAAclB,KAAE,UAASU,KAAE,YAAWG,KAAE7B,IAAE,cAAY,OAAK6B,KAAE,MAAE;AAAA,EAAC,GAAE,CAACX,KAAEF,KAAEP,KAAEwB,KAAEF,KAAEG,KAAER,KAAE1B,IAAE,SAAS,CAAC,GAAEsC,SAAE,eAAAC,aAAE,MAAIpB,OAAG,OAAK,SAAOA,IAAER,GAAC,GAAE,CAACQ,GAAC,CAAC;AAAE,SAAO,eAAAqB,QAAE,cAAc,eAAAA,QAAE,UAAS,MAAK3B,OAAG,QAAM,eAAA2B,QAAE,cAAcF,IAAE,EAAC,MAAKpB,MAAE,EAAC,CAACL,GAAC,GAAEC,MAAG,KAAI,IAAE,CAAC,GAAE,MAAKC,KAAE,SAAQuB,GAAC,CAAC,GAAE,EAAE,EAAC,UAASf,KAAE,YAAWN,KAAE,MAAKmB,IAAE,YAAW,IAAG,MAAK,WAAU,CAAC,CAAC;AAAC;AAAC,IAAI,KAAG,EAAE,EAAE;;;AaU3pE,SAAS,WAAW;AAClB,aAAW,OAAO,SAAS,OAAO,OAAO,KAAK,IAAI,SAAU,QAAQ;AAClE,aAASK,MAAI,GAAGA,MAAI,UAAU,QAAQA,OAAK;AACzC,UAAI,SAAS,UAAUA,GAAC;AACxB,eAAS,OAAO,QAAQ;AACtB,YAAI,OAAO,UAAU,eAAe,KAAK,QAAQ,GAAG,GAAG;AACrD,iBAAO,GAAG,IAAI,OAAO,GAAG;AAAA,QAC1B;AAAA,MACF;AAAA,IACF;AACA,WAAO;AAAA,EACT;AACA,SAAO,SAAS,MAAM,MAAM,SAAS;AACvC;;;;;;ACbA,SAASC,YAAW;AAClB,EAAAA,YAAW,OAAO,SAAS,OAAO,OAAO,KAAK,IAAI,SAAU,QAAQ;AAClE,aAASC,MAAI,GAAGA,MAAI,UAAU,QAAQA,OAAK;AACzC,UAAI,SAAS,UAAUA,GAAC;AACxB,eAAS,OAAO,QAAQ;AACtB,YAAI,OAAO,UAAU,eAAe,KAAK,QAAQ,GAAG,GAAG;AACrD,iBAAO,GAAG,IAAI,OAAO,GAAG;AAAA,QAC1B;AAAA,MACF;AAAA,IACF;AACA,WAAO;AAAA,EACT;AACA,SAAOD,UAAS,MAAM,MAAM,SAAS;AACvC;;;ACnBO,SAASE,KACdC,SACAC,IACAC,MAMA;AAAA,MAAA;AACA,MAAIC,QAAOD,oBAAAA,KAAKE,gBAAW,OAAA,oBAAI,CAAA;AAC/B,MAAIC;AAEJ,SAAO,WAAe;AACpB,QAAIC;AACJ,QAAIJ,KAAKK,OAAOL,KAAKM,SAALN,QAAAA,KAAKM,MAAK;AAAMF,gBAAUG,KAAKC,IAAG;AAElD,QAAMC,UAAUX,QAAO;AAEvB,QAAMY,cACJD,QAAQE,WAAWV,KAAKU,UACxBF,QAAQG,KAAK,SAACC,KAAUC,QAAa;AAAA,aAAKb,KAAKa,MAAK,MAAMD;KAAI;AAEhE,QAAI,CAACH,aAAa;AAChB,aAAOP;IACT;AAEAF,WAAOQ;AAEP,QAAIM;AACJ,QAAIf,KAAKK,OAAOL,KAAKM,SAALN,QAAAA,KAAKM,MAAK;AAAMS,mBAAaR,KAAKC,IAAG;AAErDL,aAASJ,GAAMU,MAAAA,QAAAA,OAAO;AAEtB,QAAIT,KAAKK,OAAOL,KAAKM,SAAK,QAAVN,KAAKM,MAAK,GAAM;AAC9B,UAAMU,aAAaC,KAAKC,OAAOX,KAAKC,IAAG,IAAKJ,WAAY,GAAG,IAAI;AAC/D,UAAMe,gBAAgBF,KAAKC,OAAOX,KAAKC,IAAG,IAAKO,cAAe,GAAG,IAAI;AACrE,UAAMK,sBAAsBD,gBAAgB;AAE5C,UAAME,MAAM,SAANA,KAAOC,KAAsBC,KAAgB;AACjDD,cAAME,OAAOF,GAAG;AAChB,eAAOA,IAAIX,SAASY,KAAK;AACvBD,gBAAM,MAAMA;QACd;AACA,eAAOA;;AAGTG,cAAQC,KAAI,SACHL,IAAIF,eAAe,CAAC,IAAC,OAAKE,IAAIL,YAAY,CAAC,IAIjCC,OAAAA,6FAAAA,KAAKU,IAChB,GACAV,KAAKW,IAAI,MAAM,MAAMR,qBAAqB,GAAG,CAAC,IAEpDpB,kBAAAA,QAAI,OAAA,SAAJA,KAAMK,GAAG;IAEb;AAEAL,YAAI,OAAA,SAAJA,KAAM6B,YAAQ,OAAA,SAAd7B,KAAM6B,SAAW1B,MAAM;AAEvB,WAAOA;;AAEX;AAEO,SAAS2B,aAAgBC,OAAsBC,KAAiB;AACrE,MAAID,UAAUE,QAAW;AACvB,UAAM,IAAIC,MAA6BF,0BAAAA,MAAG,OAAQA,MAAQ,GAAK;EACjE,OAAO;AACL,WAAOD;EACT;AACF;AAEO,IAAMI,cAAc,SAAdA,aAAeC,KAAWC,KAAS;AAAA,SAAKpB,KAAKqB,IAAIF,MAAIC,GAAC,IAAI;AAAC;;;IChC3DE,sBAAsB,SAAtBA,qBAAuBC,QAAa;AAAA,SAAKA;AAAK;IAE9CC,wBAAwB,SAAxBA,uBAAyBC,OAAiB;AACrD,MAAMC,QAAQC,KAAKC,IAAIH,MAAMI,aAAaJ,MAAMK,UAAU,CAAC;AAC3D,MAAMC,MAAMJ,KAAKK,IAAIP,MAAMQ,WAAWR,MAAMK,UAAUL,MAAMS,QAAQ,CAAC;AAErE,MAAMC,MAAM,CAAA;AAEZ,WAASC,KAAIV,OAAOU,MAAKL,KAAKK,MAAK;AACjCD,QAAIE,KAAKD,EAAC;EACZ;AAEA,SAAOD;AACT;AAEO,IAAMG,qBAAqB,SAArBA,oBACXC,UACAC,IACG;AACH,MAAMC,UAAUF,SAASG;AACzB,MAAI,CAACD,SAAS;AACZ;EACF;AAEA,MAAME,UAAU,SAAVA,SAAWC,MAAe;AAC9B,QAAQC,QAAkBD,KAAlBC,OAAOC,SAAWF,KAAXE;AACfN,OAAG;MAAEK,OAAOlB,KAAKoB,MAAMF,KAAK;MAAGC,QAAQnB,KAAKoB,MAAMD,MAAM;IAAE,CAAC;;AAG7DH,UAAQF,QAAQO,sBAAqB,CAAE;AAEvC,MAAMC,WAAW,IAAIC,eAAe,SAACC,SAAY;AAC/C,QAAMC,QAAQD,QAAQ,CAAC;AACvB,QAAIC,SAAK,QAALA,MAAOC,eAAe;AACxB,UAAMC,MAAMF,MAAMC,cAAc,CAAC;AACjC,UAAIC,KAAK;AACPX,gBAAQ;UAAEE,OAAOS,IAAIC;UAAYT,QAAQQ,IAAIE;QAAU,CAAC;AACxD;MACF;IACF;AACAb,YAAQF,QAAQO,sBAAqB,CAAE;EACzC,CAAC;AAEDC,WAASQ,QAAQhB,SAAS;IAAEa,KAAK;EAAa,CAAC;AAE/C,SAAO,WAAM;AACXL,aAASS,UAAUjB,OAAO;;AAE9B;AAyBO,IAAMkB,uBAAuB,SAAvBA,sBACXC,UACAC,IACG;AACH,MAAMC,UAAUF,SAASG;AACzB,MAAI,CAACD,SAAS;AACZ;EACF;AAEA,MAAME,UAAU,SAAVA,WAAgB;AACpBH,OAAGC,QAAQF,SAASK,QAAQC,aAAa,eAAe,WAAW,CAAC;;AAEtEF,UAAO;AAEPF,UAAQK,iBAAiB,UAAUH,SAAS;IAC1CI,SAAS;EACX,CAAC;AAED,SAAO,WAAM;AACXN,YAAQO,oBAAoB,UAAUL,OAAO;;AAEjD;AAyBO,IAAMM,iBAAiB,SAAjBA,gBACXC,SACAC,OACAC,UACG;AACH,MAAID,SAAK,QAALA,MAAOE,eAAe;AACxB,QAAMC,MAAMH,MAAME,cAAc,CAAC;AACjC,QAAIC,KAAK;AACP,UAAMC,QAAOC,KAAKC,MAChBH,IAAIF,SAASM,QAAQC,aAAa,eAAe,WAAW,CAAC;AAE/D,aAAOJ;IACT;EACF;AACA,SAAOC,KAAKC,MACVP,QAAQU,sBAAqB,EAC3BR,SAASM,QAAQC,aAAa,UAAU,QAAQ,CACjD;AAEL;AAkBO,IAAME,gBAAgB,SAAhBA,eACXC,SAKAC,OAAAA,UACG;AAAA,MAAA,wBAAA;AAAA,MAAA,oBAAA,MAJDC,aAAAA,cAAW,sBAAA,SAAG,IAAC,mBACfC,WAAQ,MAARA;AAIF,MAAMC,WAAWJ,UAASE;AAE1B,GAAAD,yBAAAA,SAASI,kBAAT,OAAA,SAAA,uBAAwBC,YAAxB,OAAA,SAAA,uBAAwBA,UAAQ,yBAAA,CAAA,GAAA,uBAC7BL,SAASM,QAAQC,aAAa,SAAS,KAAK,IAAGJ,UAChDD,uBAAAA,WAAAA,UACA,uBAAA;AACJ;AAmDA,IAAaM,cA+CX,SAAYC,aAAAA,OAAwD;AAAA,MAAA,QAAA;AAAA,OA3C5DC,SAAkC,CAAA;AAAE,OAE5CN,gBAAuC;AAAI,OAC3CO,cAAuB;AAAK,OACpBC,uBAA6D;AAAI,OACjEC,yBAA+D;AAAI,OAC3EC,oBAAmC,CAAA;AAAE,OAC7BC,gBAAgB,oBAAIC,IAAG;AAAe,OACtCC,8BAAwC,CAAA;AAAE,OAGlDC,kBAA0C;AAAI,OACtCC,oBAA4B;AAAC,OACrCC,sBAAsB,oBAAIJ,IAAG;AAAqB,OAC1CK,WAAY,2BAAM;AACxB,QAAIC,MAA6B;AAEjC,QAAMC,MAAM,SAANA,OAAY;AAChB,UAAID,KAAK;AACP,eAAOA;MACT,WAAW,OAAOE,mBAAmB,aAAa;AAChD,eAAQF,MAAM,IAAIE,eAAe,SAACC,SAAY;AAC5CA,kBAAQC,QAAQ,SAACC,OAAU;AACzB,kBAAKC,gBAAgBD,MAAME,QAAwBF,KAAK;UAC1D,CAAC;QACH,CAAC;MACH,OAAO;AACL,eAAO;MACT;;AAGF,WAAO;MACLG,YAAY,SAAA,aAAA;AAAA,YAAA;AAAA,gBAAA,OAAMP,IAAG,MAAH,OAAA,SAAA,KAAOO,WAAU;MAAE;MACrCC,SAAS,SAAA,QAACF,QAAe;AAAA,YAAA;AAAA,gBAAA,QACvBN,IAAG,MAAE,OAAA,SAAL,MAAOQ,QAAQF,QAAQ;UAAEG,KAAK;QAAa,CAAC;MAAC;MAC/CC,WAAW,SAAA,UAACJ,QAAe;AAAA,YAAA;AAAA,gBAAA,QAAKN,IAAG,MAAE,OAAA,SAAL,MAAOU,UAAUJ,MAAM;MAAC;;EAE5D,EAAC;AAAG,OACJK,QAAkD;IAChDC,YAAY;IACZC,UAAU;;AACX,OAcDC,aAAa,SAAC5B,MAA2D;AACvE6B,WAAOb,QAAQhB,IAAI,EAAEiB,QAAQ,SAAkB,OAAA;AAAA,UAAhBa,MAAG,MAAA,CAAA,GAAEC,QAAK,MAAA,CAAA;AACvC,UAAI,OAAOA,UAAU;AAAa,eAAQ/B,KAAa8B,GAAG;IAC5D,CAAC;AAED,UAAKjC,UAAOmC,UAAA;MACVC,OAAO;MACPC,eAAe;MACfC,UAAU;MACVC,cAAc;MACdC,YAAY;MACZC,oBAAoB;MACpBC,kBAAkB;MAClBzC,YAAY;MACZ0C,YAAYC;MACZC,gBAAgBC;MAChBC,UAAU,SAAM,WAAA;MAAA;MAChBC;MACAC,aAAa;QAAEC,OAAO;QAAGC,QAAQ;;MACjCC,cAAc;MACdC,gBAAgB;MAChBC,gBAAgB;MAChBC,0BAA0B,CAAA;MAC1BC,OAAO;IAAC,GACLrD,IAAI;;AAEV,OAEOsD,SAAS,WAAM;AACrB,UAAKzD,QAAQ+C,YAAb,OAAA,SAAA,MAAK/C,QAAQ+C,SAAW,KAAI;;AAC7B,OAEOW,UAAU,WAAM;AACtB,UAAKtD,OAAOuD,OAAOC,OAAO,EAAExC,QAAQ,SAACyC,KAAC;AAAA,aAAKA,IAAC;KAAI;AAChD,UAAKzD,SAAS,CAAA;AACd,UAAKN,gBAAgB;;AACtB,OAEDgE,YAAY,WAAM;AAChB,UAAKhD,oBAAoBM,QAAQ,MAAKL,SAASU,OAAO;AACtD,WAAO,WAAM;AACX,YAAKV,SAASS,WAAU;AACxB,YAAKkC,QAAO;;;AAEf,OAEDK,cAAc,WAAM;AAClB,QAAMjE,gBAAgB,MAAKE,QAAQgE,iBAAgB;AAEnD,QAAI,MAAKlE,kBAAkBA,eAAe;AACxC,YAAK4D,QAAO;AAEZ,YAAK5D,gBAAgBA;AAErB,YAAKmE,gBAAgB,MAAKC,cAAc;QACtCvE,aAAawE;QACbvE,UAAUuE;MACZ,CAAC;AAED,YAAK/D,OAAOgE,KACV,MAAKpE,QAAQqE,mBAAmB,OAAM,SAACC,MAAS;AAC9C,YAAMC,OAAO,MAAKC;AAClB,cAAKA,aAAaF;AAClB,YACE,MAAKtE,QAAQC,aACTqE,KAAKpB,UAAUqB,KAAKrB,QACpBoB,KAAKnB,WAAWoB,KAAKpB,QACzB;AACA,gBAAKsB,YAAW;QAClB;MACF,CAAC,CAAC;AAGJ,YAAKrE,OAAOgE,KACV,MAAKpE,QAAQ0E,qBAAqB,OAAM,SAACjF,SAAW;AAClD,cAAKoB,oBAAoB;AAEzB,YAAI,MAAKqD,iBAAiBzE,SAAQ;AAChC;QACF;AAEA,YAAI,MAAKa,yBAAyB,MAAM;AACtCqE,uBAAa,MAAKrE,oBAAoB;AACtC,gBAAKA,uBAAuB;QAC9B;AAEA,cAAKD,cAAc;AACnB,cAAKO,kBACH,MAAKsD,eAAezE,UAAS,YAAY;AAC3C,cAAKyE,eAAezE;AAEpB,cAAKgF,YAAW;AAEhB,cAAKnE,uBAAuBsE,WAAW,WAAM;AAC3C,gBAAKtE,uBAAuB;AAC5B,gBAAKD,cAAc;AACnB,gBAAKO,kBAAkB;AAEvB,gBAAK6D,YAAW;QAClB,GAAG,MAAKzE,QAAQqD,cAAc;MAChC,CAAC,CAAC;IAEN;;AACD,OAEOwB,UAAU,WAAM;AACtB,WAAO,MAAKL,WAAW,MAAKxE,QAAQC,aAAa,UAAU,QAAQ;;AACpE,OAEO6E,cAAcC,KACpB,WAAA;AAAA,WAAM,CACJ,MAAK/E,QAAQgF,OACb,MAAKhF,QAAQuC,cACb,MAAKvC,QAAQoD,cACb,MAAKpD,QAAQ2C,UAAU;KAEzB,SAACqC,QAAOzC,cAAca,cAAcT,YAAe;AACjD,UAAKhC,8BAA8B,CAAA;AACnC,WAAO;MACLqE,OAAAA;MACAzC;MACAa;MACAT;;EAEJ,GACA;IACEV,KAAK;EACP,CAAC;AACF,OAEOgD,yBAAyB,SAC/BC,cACAC,QACG;AACH,QAAMC,4BAA4B,oBAAI1E,IAAG;AACzC,QAAM2E,uBAAuB,oBAAI3E,IAAG;AACpC,aAAS4E,MAAIH,SAAQ,GAAGG,OAAK,GAAGA,OAAK;AACnC,UAAMC,cAAcL,aAAaI,GAAC;AAElC,UAAIF,0BAA0BI,IAAID,YAAYE,IAAI,GAAG;AACnD;MACF;AAEA,UAAMC,8BAA8BL,qBAAqBpE,IACvDsE,YAAYE,IAAI;AAElB,UACEC,+BAA+B,QAC/BH,YAAYI,MAAMD,4BAA4BC,KAC9C;AACAN,6BAAqBO,IAAIL,YAAYE,MAAMF,WAAW;iBAC7CA,YAAYI,MAAMD,4BAA4BC,KAAK;AAC5DP,kCAA0BQ,IAAIL,YAAYE,MAAM,IAAI;MACtD;AAEA,UAAIL,0BAA0BS,SAAS,MAAK7F,QAAQwD,OAAO;AACzD;MACF;IACF;AAEA,WAAO6B,qBAAqBQ,SAAS,MAAK7F,QAAQwD,QAC9CsC,MAAMC,KAAKV,qBAAqBW,OAAM,CAAE,EAAEC,KACxC,SAACC,KAAGC,KAAC;AAAA,aAAKD,IAAEP,MAAMQ,IAAER;IAAG,CAAA,EACvB,CAAC,IACHxB;;AACL,OAEOiC,kBAAkBrB,KACxB,WAAA;AAAA,WAAM,CAAC,MAAKD,YAAW,GAAI,MAAKrE,aAAa;KAC7C,SAAA,OAAoDA,eAAkB;AAAA,QAAnEuE,SAAK,MAALA,OAAOzC,eAAY,MAAZA,cAAca,eAAY,MAAZA,cAAcT,aAAU,MAAVA;AACpC,QAAM0D,OACJ,MAAK1F,4BAA4B2F,SAAS,IACtCC,KAAKF,IAAG,MAARE,MAAY,MAAK5F,2BAA2B,IAC5C;AACN,UAAKA,8BAA8B,CAAA;AAEnC,QAAMuE,eAAe,MAAK1E,kBAAkBgG,MAAM,GAAGH,IAAG;AAExD,aAASI,MAAIJ,MAAKI,MAAIzB,QAAOyB,OAAK;AAChC,UAAMxE,MAAMU,WAAW8D,GAAC;AAExB,UAAMC,sBACJ,MAAK1G,QAAQwD,UAAU,IACnB0B,aAAauB,MAAI,CAAC,IAClB,MAAKxB,uBAAuBC,cAAcuB,GAAC;AAEjD,UAAME,QAAQD,sBACVA,oBAAoBf,MACpBpD,eAAea;AAEnB,UAAMwD,eAAenG,cAAcQ,IAAIgB,GAAG;AAC1C,UAAM4D,QACJ,OAAOe,iBAAiB,WACpBA,eACA,MAAK5G,QAAQ6G,aAAaJ,GAAC;AAEjC,UAAMd,MAAMgB,QAAQd;AAEpB,UAAMJ,OAAOiB,sBACTA,oBAAoBjB,OACpBgB,MAAI,MAAKzG,QAAQwD;AAErB0B,mBAAauB,GAAC,IAAI;QAChBtB,OAAOsB;QACPE;QACAd,MAAAA;QACAF;QACA1D;QACAwD;;IAEJ;AAEA,UAAKjF,oBAAoB0E;AAEzB,WAAOA;EACT,GACA;IACEjD,KAA8C;IAC9CG,OAAO,SAAA,QAAA;AAAA,aAAM,MAAKpC,QAAQoC;IAAK;EACjC,CAAC;AACF,OAED0E,iBAAiB/B,KACf,WAAA;AAAA,WAAM,CAAC,MAAKqB,gBAAe,GAAI,MAAKvB,QAAO,GAAI,MAAKX,YAAY;EAAC,GACjE,SAACgB,cAAc6B,WAAW7C,cAAiB;AACzC,WAAQ,MAAKtC,QAAQkF,eAAe;MAClC5B;MACA6B;MACA7C;IACF,CAAC;EACH,GACA;IACEjC,KAA8C;IAC9CG,OAAO,SAAA,QAAA;AAAA,aAAM,MAAKpC,QAAQoC;IAAK;EACjC,CAAC;AACF,OAEOqC,cAAcM,KACpB,WAAM;AACJ,QAAMnD,QAAQ,MAAKkF,eAAc;AAEjC,WAAO,CAAClF,MAAMC,YAAYD,MAAME,UAAU,MAAKzB,WAAW;EAC5D,GACA,WAAM;AACJ,UAAKoD,OAAM;EACb,GACA;IACExB,KAA8C;IAC9CG,OAAO,SAAA,QAAA;AAAA,aAAM,MAAKpC,QAAQoC;IAAK;IAC/B4E,aAAa,CACX,KAAKpF,MAAMC,YACX,KAAKD,MAAME,UACX,KAAKzB,WAAW;EAEpB,CAAC;AACF,OAEO4G,aAAalC,KACnB,WAAA;AAAA,WAAM,CACJ,MAAK/E,QAAQ6C,gBACb,MAAKiE,eAAc,GACnB,MAAK9G,QAAQsC,UACb,MAAKtC,QAAQgF,KAAK;KAEpB,SAACnC,gBAAgBjB,OAAOU,UAAU0C,QAAU;AAC1C,WAAOnC,eAAcV,UAAA,CAAA,GAChBP,OAAK;MACRU;MACA0C,OAAAA;KACA,CAAA;EACJ,GACA;IACE/C,KAA8C;IAC9CG,OAAO,SAAA,QAAA;AAAA,aAAM,MAAKpC,QAAQoC;IAAK;EACjC,CAAC;AACF,OAED8E,mBAAmB,SAACC,MAAuB;AACzC,QAAMC,gBAAgB,MAAKpH,QAAQsD;AACnC,QAAM+D,WAAWF,KAAKG,aAAaF,aAAa;AAEhD,QAAI,CAACC,UAAU;AACbE,cAAQC,KACqBJ,6BAAAA,gBAC5B,gCAAA;AACD,aAAO;IACT;AAEA,WAAOK,SAASJ,UAAU,EAAE;;AAC7B,OAEO/F,kBAAkB,SACxB6F,MACA9F,OACG;AACH,QAAMqG,OAAO,MAAKlH,kBAAkB,MAAK0G,iBAAiBC,IAAI,CAAC;AAC/D,QAAI,CAACO,MAAM;AACT,YAAK5G,oBAAoBM,QAAQ,SAACuG,QAAQ1F,KAAQ;AAChD,YAAI0F,WAAWR,MAAM;AACnB,gBAAKpG,SAASY,UAAUwF,IAAI;AAC5B,gBAAKrG,oBAA0B,QAAA,EAACmB,GAAG;QACrC;MACF,CAAC;AACD;IACF;AAEA,QAAM2F,WAAW,MAAK9G,oBAAoBG,IAAIyG,KAAKzF,GAAG;AAEtD,QAAI,CAACkF,KAAKU,aAAa;AACrB,UAAID,UAAU;AACZ,cAAK7G,SAASY,UAAUiG,QAAQ;AAChC,cAAK9G,oBAAmB,QAAA,EAAQ4G,KAAKzF,GAAG;MAC1C;AACA;IACF;AAEA,QAAI2F,aAAaT,MAAM;AACrB,UAAIS,UAAU;AACZ,cAAK7G,SAASY,UAAUiG,QAAQ;MAClC;AACA,YAAK7G,SAASU,QAAQ0F,IAAI;AAC1B,YAAKrG,oBAAoB8E,IAAI8B,KAAKzF,KAAKkF,IAAI;IAC7C;AAEA,QAAMW,mBAAmB,MAAK9H,QAAQgD,eAAemE,MAAM9F,OAAO,KAAI;AAEtE,UAAK0G,WAAWL,MAAMI,gBAAgB;;AACvC,OAEDC,aAAa,SAACL,MAAmB7B,OAAiB;AAAA,QAAA;AAChD,QAAMmC,YAAQ,wBAAG,MAAKvH,cAAcQ,IAAIyG,KAAKzF,GAAG,MAAKyF,OAAAA,wBAAAA,KAAK7B;AAC1D,QAAMoC,QAAQpC,QAAOmC;AAErB,QAAIC,UAAU,GAAG;AACf,UAAIP,KAAKf,QAAQ,MAAKzC,cAAc;AAClC,YAA6C,MAAKlE,QAAQoC,OAAO;AAC/DmF,kBAAQW,KAAK,cAAcD,KAAK;QAClC;AAEA,cAAKhE,gBAAgB,MAAKC,cAAc;UACtCvE,aAAc,MAAKkB,qBAAqBoH;UACxCrI,UAAUuE;QACZ,CAAC;MACH;AAEA,YAAKxD,4BAA4ByD,KAAKsD,KAAKvC,KAAK;AAChD,YAAK1E,gBAAgB,IAAIC,IAAI,MAAKD,cAAcmF,IAAI8B,KAAKzF,KAAK4D,KAAI,CAAC;AAEnE,YAAKpC,OAAM;IACb;;AACD,OAEDT,iBAAiB,SAACmE,MAA8B;AAC9C,QAAI,CAACA,MAAM;AACT;IACF;AAEA,UAAK7F,gBAAgB6F,MAAMhD,MAAS;;AACrC,OAEDgE,kBAAkBpD,KAChB,WAAA;AAAA,WAAM,CAAC,MAAKkC,WAAU,GAAI,MAAKb,gBAAe,CAAE;EAAC,GACjD,SAACgC,SAASlD,cAAiB;AACzB,QAAMmD,eAA8B,CAAA;AAEpC,aAASC,KAAI,GAAGC,MAAMH,QAAQ9B,QAAQgC,KAAIC,KAAKD,MAAK;AAClD,UAAM7B,MAAI2B,QAAQE,EAAC;AACnB,UAAM/C,cAAcL,aAAauB,GAAC;AAElC4B,mBAAajE,KAAKmB,WAAW;IAC/B;AAEA,WAAO8C;EACT,GACA;IACEpG,KAA8C;IAC9CG,OAAO,SAAA,QAAA;AAAA,aAAM,MAAKpC,QAAQoC;IAAK;EACjC,CAAC;AACF,OAEDoG,0BAA0B,SAAC/I,SAAmB;AAC5C,QAAMyF,eAAe,MAAKkB,gBAAe;AAEzC,WAAOqC,aACLvD,aACEwD,wBACE,GACAxD,aAAaoB,SAAS,GACtB,SAACnB,QAAa;AAAA,aAAKsD,aAAavD,aAAaC,MAAK,CAAC,EAAEwB;OACrDlH,OAAM,CACP,CACF;;AAEJ,OAEDkJ,wBAAwB,SAAC9I,UAAkB+I,OAA2B;AACpE,QAAM/C,QAAO,MAAKhB,QAAO;AAEzB,QAAI+D,UAAU,QAAQ;AACpB,UAAI/I,YAAY,MAAKqE,cAAc;AACjC0E,gBAAQ;iBACC/I,YAAY,MAAKqE,eAAe2B,OAAM;AAC/C+C,gBAAQ;MACV,OAAO;AACLA,gBAAQ;MACV;IACF;AAEA,QAAIA,UAAU,SAAS;AACrB/I,iBAAWA;IACb,WAAW+I,UAAU,OAAO;AAC1B/I,iBAAWA,WAAWgG;IACxB,WAAW+C,UAAU,UAAU;AAC7B/I,iBAAWA,WAAWgG,QAAO;IAC/B;AAEA,QAAMgD,iBAAiB,MAAK7I,QAAQC,aAChC,gBACA;AACJ,QAAM6I,aAAa,MAAKhJ,gBACpB,cAAc,MAAKA,gBACjB,MAAKA,cAAciJ,SAASC,gBAAgBH,cAAc,IAC1D,MAAK/I,cAAc+I,cAAc,IACnC;AAEJ,QAAMI,YAAYH,aAAa,MAAKjE,QAAO;AAE3C,WAAO0B,KAAK2C,IAAI3C,KAAKF,IAAI4C,WAAWpJ,QAAQ,GAAG,CAAC;;AACjD,OAEDsJ,oBAAoB,SAAChE,QAAeyD,OAAoC;AAAA,QAApCA,UAAsB,QAAA;AAAtBA,cAAyB;IAAM;AACjEzD,IAAAA,SAAQoB,KAAK2C,IAAI,GAAG3C,KAAKF,IAAIlB,QAAO,MAAKnF,QAAQgF,QAAQ,CAAC,CAAC;AAE3D,QAAMO,cAAckD,aAAa,MAAKrC,gBAAe,EAAGjB,MAAK,CAAC;AAE9D,QAAIyD,UAAU,QAAQ;AACpB,UACErD,YAAYI,OACZ,MAAKzB,eAAe,MAAKW,QAAO,IAAK,MAAK7E,QAAQ0C,kBAClD;AACAkG,gBAAQ;MACV,WACErD,YAAYoB,SACZ,MAAKzC,eAAe,MAAKlE,QAAQyC,oBACjC;AACAmG,gBAAQ;MACV,OAAO;AACL,eAAO,CAAC,MAAK1E,cAAc0E,KAAK;MAClC;IACF;AAEA,QAAM/I,WACJ+I,UAAU,QACNrD,YAAYI,MAAM,MAAK3F,QAAQ0C,mBAC/B6C,YAAYoB,QAAQ,MAAK3G,QAAQyC;AAEvC,WAAO,CAAC,MAAKkG,sBAAsB9I,UAAU+I,KAAK,GAAGA,KAAK;;AAC3D,OAEOQ,gBAAgB,WAAA;AAAA,WAAM,MAAKtI,oBAAoB+E,OAAO;EAAC;AAAA,OAEvDwD,sBAAsB,WAAM;AAClC,QAAI,MAAK9I,2BAA2B,MAAM;AACxCoE,mBAAa,MAAKpE,sBAAsB;AACxC,YAAKA,yBAAyB;IAChC;;AACD,OAED+I,iBAAiB,SACfzJ,UAEG,OAAA;AAAA,QAAA,QAAA,UAAA,SADoD,CAAA,IAAE,OAAA,cAAA,MAAvD+I,OAAAA,QAAK,gBAAA,SAAG,UAAO,aAAEhJ,WAAQ,MAARA;AAEnB,UAAKyJ,oBAAmB;AAExB,QAAIzJ,aAAa,YAAY,MAAKwJ,cAAa,GAAI;AACjD7B,cAAQC,KACN,wEAAwE;IAE5E;AAEA,UAAKvD,gBAAgB,MAAK0E,sBAAsB9I,UAAU+I,KAAK,GAAG;MAChEjJ,aAAawE;MACbvE;IACF,CAAC;;AACF,OAED2J,gBAAgB,SACdpE,QAEG,QAAA;AAAA,QAAA,QAAA,WAAA,SADgE,CAAA,IAAE,QAAA,cAAA,MAAnEyD,OAAOY,eAAY,gBAAA,SAAG,SAAM,aAAE5J,WAAQ,MAARA;AAEhCuF,IAAAA,SAAQoB,KAAK2C,IAAI,GAAG3C,KAAKF,IAAIlB,QAAO,MAAKnF,QAAQgF,QAAQ,CAAC,CAAC;AAE3D,UAAKqE,oBAAmB;AAExB,QAAIzJ,aAAa,YAAY,MAAKwJ,cAAa,GAAI;AACjD7B,cAAQC,KACN,wEAAwE;IAE5E;AAEA,QAAA,wBAA0B,MAAK2B,kBAAkBhE,QAAOqE,YAAY,GAA7D3J,WAAQ,sBAAA,CAAA,GAAE+I,QAAK,sBAAA,CAAA;AAEtB,UAAK3E,gBAAgBpE,UAAU;MAAEF,aAAawE;MAAWvE;IAAS,CAAC;AAEnE,QAAIA,aAAa,YAAY,MAAKwJ,cAAa,GAAI;AACjD,YAAK7I,yBAAyBqE,WAAW,WAAM;AAC7C,cAAKrE,yBAAyB;AAE9B,YAAMkJ,eAAe,MAAK3I,oBAAoB0E,IAC5C,MAAKxF,QAAQ2C,WAAWwC,MAAK,CAAC;AAGhC,YAAIsE,cAAc;AAChB,cAAA,yBAAmB,MAAKN,kBAAkBhE,QAAOyD,KAAK,GAA/C/I,YAAQ,uBAAA,CAAA;AAEf,cAAI,CAAC6J,YAAY7J,WAAU,MAAKqE,YAAY,GAAG;AAC7C,kBAAKqF,cAAcpE,QAAO;cAAEyD;cAAOhJ;YAAS,CAAC;UAC/C;QACF,OAAO;AACL,gBAAK2J,cAAcpE,QAAO;YAAEyD;YAAOhJ;UAAS,CAAC;QAC/C;MACF,CAAC;IACH;;AACD,OAED+J,WAAW,SAAC1B,OAA4D,QAAA;AAAA,QAAA,QAAA,WAAA,SAAP,CAAA,IAAE,QAAtCrI,WAAQ,MAARA;AAC3B,UAAKyJ,oBAAmB;AAExB,QAAIzJ,aAAa,YAAY,MAAKwJ,cAAa,GAAI;AACjD7B,cAAQC,KACN,wEAAwE;IAE5E;AAEA,UAAKvD,gBAAgB,MAAKC,eAAe+D,OAAO;MAC9CtI,aAAawE;MACbvE;IACF,CAAC;;AACF,OAEDgK,eAAe,WAAA;AAAA,QAAA;AAAA,cACZ,wBAAA,MAAKxD,gBAAe,EAAG,MAAKpG,QAAQgF,QAAQ,CAAC,MAAC,OAAA,SAA9C,sBAAgDW,QAC/C,MAAK3F,QAAQuC,gBACf,MAAKvC,QAAQoD,eACb,MAAKpD,QAAQwC;EAAU;AAAA,OAEjByB,kBAAkB,SACxBxE,SAQG,OAAA;AAAA,QANDE,cAAW,MAAXA,aACAC,WAAQ,MAARA;AAMF,UAAKI,QAAQ6J,WAAWpK,SAAQ;MAAEG;MAAUD;OAAe,KAAI;;AAChE,OAEDmK,UAAU,WAAM;AACd,UAAKrJ,gBAAgB,oBAAIC,IAAG;AAC5B,UAAK+C,OAAM;;AA5jBX,OAAK1B,WAAW5B,KAAI;AACpB,OAAKqE,aAAa,KAAKxE,QAAQiD;AAC/B,OAAKiB,eAAe,KAAKlE,QAAQqC;AACjC,OAAK7B,oBAAoB,KAAKR,QAAQuD;AACtC,OAAK/C,kBAAkBY,QAAQ,SAACsG,MAAS;AACvC,UAAKjH,cAAcmF,IAAI8B,KAAKzF,KAAKyF,KAAK7B,IAAI;EAC5C,CAAC;AAED,OAAKpB,YAAW;AAClB;AAujBF,IAAMiE,0BAA0B,SAA1BA,yBACJqB,KACAC,MACAC,iBACA/H,OACG;AACH,SAAO6H,OAAOC,MAAM;AAClB,QAAME,UAAWH,MAAMC,QAAQ,IAAK;AACpC,QAAMG,eAAeF,gBAAgBC,MAAM;AAE3C,QAAIC,eAAejI,OAAO;AACxB6H,YAAMG,SAAS;IACjB,WAAWC,eAAejI,OAAO;AAC/B8H,aAAOE,SAAS;IAClB,OAAO;AACL,aAAOA;IACT;EACF;AAEA,MAAIH,MAAM,GAAG;AACX,WAAOA,MAAM;EACf,OAAO;AACL,WAAO;EACT;AACF;AAEA,SAASjD,eAQN,OAAA;AAAA,MAPD5B,eAAY,MAAZA,cACA6B,YAAS,MAATA,WACA7C,eAAY,MAAZA;AAMA,MAAMc,SAAQE,aAAaoB,SAAS;AACpC,MAAM8D,YAAY,SAAZA,WAAajF,QAAa;AAAA,WAAKD,aAAaC,MAAK,EAAGwB;EAAK;AAE/D,MAAM9E,aAAa6G,wBAAwB,GAAG1D,QAAOoF,WAAWlG,YAAY;AAC5E,MAAIpC,WAAWD;AAEf,SACEC,WAAWkD,UACXE,aAAapD,QAAQ,EAAG6D,MAAMzB,eAAe6C,WAC7C;AACAjF;EACF;AAEA,SAAO;IAAED;IAAYC;;AACvB;;;AC55BA,IAAMuI,4BACJ,OAAOC,aAAa,cAAoBC,wBAAwBC;AAElE,SAASC,mBAIPC,SAC2C;AAC3C,MAAMC,WAAiBC,iBAAW,WAAA;AAAA,WAAO,CAAA;EAAE,GAAG,CAAA,CAAE,EAAE,CAAC;AAEnD,MAAMC,kBAAiE,SAAA,CAAA,GAClEH,SAAO;IACVI,UAAU,SAACC,SAAAA,WAAa;AACtBJ,eAAQ;AACRD,cAAQI,YAARJ,OAAAA,SAAAA,QAAQI,SAAWC,SAAQ;IAC7B;GACD;AAED,MAAmBC,kBAAMC,eACvB,WAAA;AAAA,WAAM,IAAIC,YAA0CL,eAAe;GACpE,GAFME,WAAQ,gBAAA,CAAA;AAIfA,WAASI,WAAWN,eAAe;AAEnCG,EAAMR,gBAAU,WAAM;AACpB,WAAOO,SAASK,UAAS;KACxB,CAAA,CAAE;AAELf,4BAA0B,WAAM;AAC9B,WAAOU,SAASM,YAAW;EAC7B,CAAC;AAED,SAAON;AACT;AAEO,SAASO,eAIdZ,SAI2C;AAC3C,SAAOD,mBAAkB,SAAA;IACvBc;IACAC;IACAC,YAAYC;EAAa,GACtBhB,OAAO,CACV;AACJ;;;ACnE8K,IAAAiB,iBAA6J;;;ACA3U,IAAAC,iBAA4B;AAAQ,SAASC,IAAEC,KAAEC,KAAE;AAAC,SAAOD,QAAI,QAAMC,QAAI,QAAM,OAAOD,OAAG,YAAU,OAAOC,OAAG,YAAU,QAAOD,OAAG,QAAOC,MAAED,IAAE,OAAKC,IAAE,KAAGD,QAAIC;AAAC;AAAC,SAASC,GAAEF,MAAED,KAAE;AAAC,aAAO,eAAAI,aAAE,CAACF,KAAEG,OAAI;AAAC,QAAG,OAAOJ,OAAG,UAAS;AAAC,UAAIK,MAAEL;AAAE,cAAOC,OAAG,OAAK,SAAOA,IAAEI,GAAC,QAAMD,MAAG,OAAK,SAAOA,GAAEC,GAAC;AAAA,IAAE;AAAC,WAAOL,IAAEC,KAAEG,EAAC;AAAA,EAAC,GAAE,CAACJ,GAAC,CAAC;AAAC;;;ACAnS,IAAAM,iBAAsC;;;ACA0F,IAAIC,KAAE,CAAC,0BAAyB,cAAa,WAAU,cAAa,0BAAyB,UAAS,yBAAwB,0BAAyB,0BAA0B,EAAE,IAAI,CAAAC,OAAG,GAAGA,EAAC,uBAAuB,EAAE,KAAK,GAAG;AAA/N,IAAiOC,KAAE,CAAC,kBAAkB,EAAE,IAAI,CAAAD,OAAG,GAAGA,EAAC,uBAAuB,EAAE,KAAK,GAAG;AAAE,IAAIE,MAAG,CAAAC,SAAIA,IAAEA,IAAE,QAAM,CAAC,IAAE,SAAQA,IAAEA,IAAE,WAAS,CAAC,IAAE,YAAWA,IAAEA,IAAE,OAAK,CAAC,IAAE,QAAOA,IAAEA,IAAE,OAAK,CAAC,IAAE,QAAOA,IAAEA,IAAE,aAAW,EAAE,IAAE,cAAaA,IAAEA,IAAE,WAAS,EAAE,IAAE,YAAWA,IAAEA,IAAE,YAAU,EAAE,IAAE,aAAYA,MAAID,MAAG,CAAC,CAAC;AAApM,IAAsME,MAAG,CAAAC,SAAIA,IAAEA,IAAE,QAAM,CAAC,IAAE,SAAQA,IAAEA,IAAE,WAAS,CAAC,IAAE,YAAWA,IAAEA,IAAE,UAAQ,CAAC,IAAE,WAAUA,IAAEA,IAAE,YAAU,CAAC,IAAE,aAAYA,MAAID,MAAG,CAAC,CAAC;AAA5T,IAA8TE,MAAG,CAAAC,SAAIA,IAAEA,IAAE,WAAS,EAAE,IAAE,YAAWA,IAAEA,IAAE,OAAK,CAAC,IAAE,QAAOA,MAAID,MAAG,CAAC,CAAC;AAAE,SAASE,GAAER,KAAE,SAAS,MAAK;AAAC,SAAOA,MAAG,OAAK,CAAC,IAAE,MAAM,KAAKA,GAAE,iBAAiBD,EAAC,CAAC,EAAE,KAAK,CAACU,KAAEF,QAAI,KAAK,MAAME,IAAE,YAAU,OAAO,qBAAmBF,IAAE,YAAU,OAAO,iBAAiB,CAAC;AAAC;AAAC,SAASG,GAAEV,KAAE,SAAS,MAAK;AAAC,SAAOA,MAAG,OAAK,CAAC,IAAE,MAAM,KAAKA,GAAE,iBAAiBC,EAAC,CAAC,EAAE,KAAK,CAACQ,KAAEF,QAAI,KAAK,MAAME,IAAE,YAAU,OAAO,qBAAmBF,IAAE,YAAU,OAAO,iBAAiB,CAAC;AAAC;AAAC,IAAII,MAAG,CAAAJ,SAAIA,IAAEA,IAAE,SAAO,CAAC,IAAE,UAASA,IAAEA,IAAE,QAAM,CAAC,IAAE,SAAQA,MAAII,MAAG,CAAC,CAAC;AAAE,SAAS,EAAEX,IAAES,MAAE,GAAE;AAAC,MAAIF;AAAE,SAAOP,SAAMO,MAAEF,GAAEL,EAAC,MAAI,OAAK,SAAOO,IAAE,QAAM,QAAGK,GAAEH,KAAE,EAAC,CAAC,CAAC,IAAG;AAAC,WAAOT,GAAE,QAAQD,EAAC;AAAA,EAAC,GAAE,CAAC,CAAC,IAAG;AAAC,QAAIa,MAAEZ;AAAE,WAAKY,QAAI,QAAM;AAAC,UAAGA,IAAE,QAAQb,EAAC;AAAE,eAAM;AAAG,MAAAa,MAAEA,IAAE;AAAA,IAAa;AAAC,WAAM;AAAA,EAAE,EAAC,CAAC;AAAC;AAAC,SAASC,GAAEb,IAAE;AAAC,MAAIS,MAAEJ,GAAEL,EAAC;AAAE,EAAAK,GAAE,EAAE,UAAU,MAAI;AAAC,IAAAI,OAAG,CAAC,EAAEA,IAAE,eAAc,CAAC,KAAGK,GAAEd,EAAC;AAAA,EAAC,CAAC;AAAC;AAAC,IAAIe,MAAG,CAAAR,SAAIA,IAAEA,IAAE,WAAS,CAAC,IAAE,YAAWA,IAAEA,IAAE,QAAM,CAAC,IAAE,SAAQA,MAAIQ,MAAG,CAAC,CAAC;AAAE,OAAO,UAAQ,eAAa,OAAO,YAAU,gBAAc,SAAS,iBAAiB,WAAU,CAAAf,OAAG;AAAC,EAAAA,GAAE,WAASA,GAAE,UAAQA,GAAE,YAAU,SAAS,gBAAgB,QAAQ,yBAAuB;AAAG,GAAE,IAAE,GAAE,SAAS,iBAAiB,SAAQ,CAAAA,OAAG;AAAC,EAAAA,GAAE,WAAS,IAAE,OAAO,SAAS,gBAAgB,QAAQ,yBAAuBA,GAAE,WAAS,MAAI,SAAS,gBAAgB,QAAQ,yBAAuB;AAAG,GAAE,IAAE;AAAG,SAASc,GAAEd,IAAE;AAAC,EAAAA,MAAG,QAAMA,GAAE,MAAM,EAAC,eAAc,KAAE,CAAC;AAAC;AAAC,IAAIgB,KAAE,CAAC,YAAW,OAAO,EAAE,KAAK,GAAG;AAAE,SAASC,GAAEjB,IAAE;AAAC,MAAIS,KAAEF;AAAE,UAAOA,OAAGE,MAAET,MAAG,OAAK,SAAOA,GAAE,YAAU,OAAK,SAAOS,IAAE,KAAKT,IAAEgB,EAAC,MAAI,OAAKT,MAAE;AAAE;AAAC,SAAS,EAAEP,IAAES,MAAE,CAAAF,QAAGA,KAAE;AAAC,SAAOP,GAAE,MAAM,EAAE,KAAK,CAACO,KAAEK,QAAI;AAAC,QAAIP,MAAEI,IAAEF,GAAC,GAAEW,MAAET,IAAEG,GAAC;AAAE,QAAGP,QAAI,QAAMa,QAAI;AAAK,aAAO;AAAE,QAAIC,MAAEd,IAAE,wBAAwBa,GAAC;AAAE,WAAOC,MAAE,KAAK,8BAA4B,KAAGA,MAAE,KAAK,8BAA4B,IAAE;AAAA,EAAC,CAAC;AAAC;AAAC,SAAS,EAAEnB,IAAES,KAAE;AAAC,SAAOW,GAAEZ,GAAE,GAAEC,KAAE,EAAC,YAAWT,GAAC,CAAC;AAAC;AAAC,SAASoB,GAAEpB,IAAES,KAAE,EAAC,QAAOF,MAAE,MAAG,YAAWK,MAAE,MAAK,cAAaP,MAAE,CAAC,EAAC,IAAE,CAAC,GAAE;AAAC,MAAIa,MAAE,MAAM,QAAQlB,EAAC,IAAEA,GAAE,SAAO,IAAEA,GAAE,CAAC,EAAE,gBAAc,WAASA,GAAE,eAAcmB,MAAE,MAAM,QAAQnB,EAAC,IAAEO,MAAE,EAAEP,EAAC,IAAEA,KAAES,MAAE,KAAGC,GAAEV,EAAC,IAAEQ,GAAER,EAAC;AAAE,EAAAK,IAAE,SAAO,KAAGc,IAAE,SAAO,MAAIA,MAAEA,IAAE,OAAO,CAAAE,QAAG,CAAChB,IAAE,KAAK,CAAAiB,QAAGA,OAAG,QAAM,aAAYA,OAAGA,OAAG,OAAK,SAAOA,IAAE,aAAWD,MAAEC,QAAID,GAAC,CAAC,IAAGT,MAAEA,OAAG,OAAKA,MAAEM,IAAE;AAAc,MAAIf,OAAG,MAAI;AAAC,QAAGM,MAAE;AAAE,aAAO;AAAE,QAAGA,MAAE;AAAG,aAAM;AAAG,UAAM,IAAI,MAAM,+DAA+D;AAAA,EAAC,GAAG,GAAEc,MAAG,MAAI;AAAC,QAAGd,MAAE;AAAE,aAAO;AAAE,QAAGA,MAAE;AAAE,aAAO,KAAK,IAAI,GAAEU,IAAE,QAAQP,GAAC,CAAC,IAAE;AAAE,QAAGH,MAAE;AAAE,aAAO,KAAK,IAAI,GAAEU,IAAE,QAAQP,GAAC,CAAC,IAAE;AAAE,QAAGH,MAAE;AAAE,aAAOU,IAAE,SAAO;AAAE,UAAM,IAAI,MAAM,+DAA+D;AAAA,EAAC,GAAG,GAAEK,KAAEf,MAAE,KAAG,EAAC,eAAc,KAAE,IAAE,CAAC,GAAEgB,MAAE,GAAEC,MAAEP,IAAE,QAAOQ;AAAE,KAAE;AAAC,QAAGF,OAAGC,OAAGD,MAAEC,OAAG;AAAE,aAAO;AAAE,QAAIL,MAAEE,KAAEE;AAAE,QAAGhB,MAAE;AAAG,MAAAY,OAAGA,MAAEK,OAAGA;AAAA,SAAM;AAAC,UAAGL,MAAE;AAAE,eAAO;AAAE,UAAGA,OAAGK;AAAE,eAAO;AAAA,IAAC;AAAC,IAAAC,MAAER,IAAEE,GAAC,GAAEM,OAAG,QAAMA,IAAE,MAAMH,EAAC,GAAEC,OAAGtB;AAAA,EAAC,SAAOwB,QAAIT,IAAE;AAAe,SAAOT,MAAE,KAAGQ,GAAEU,GAAC,KAAGA,IAAE,OAAO,GAAE;AAAC;;;ACAnvG,IAAAC,iBAA0B;AAA+D,SAASC,GAAEC,IAAEC,KAAEC,KAAE;AAAC,MAAIC,MAAEC,GAAEH,GAAC;AAAE,qBAAAI,WAAE,MAAI;AAAC,aAASC,IAAEC,KAAE;AAAC,MAAAJ,IAAE,QAAQI,GAAC;AAAA,IAAC;AAAC,WAAO,SAAS,iBAAiBP,IAAEM,KAAEJ,GAAC,GAAE,MAAI,SAAS,oBAAoBF,IAAEM,KAAEJ,GAAC;AAAA,EAAC,GAAE,CAACF,IAAEE,GAAC,CAAC;AAAC;;;ACA/O,IAAAM,iBAA0B;AAA+D,SAASC,GAAEC,IAAEC,KAAEC,KAAE;AAAC,MAAIC,MAAEJ,GAAEE,GAAC;AAAE,qBAAAG,WAAE,MAAI;AAAC,aAASC,IAAEC,KAAE;AAAC,MAAAH,IAAE,QAAQG,GAAC;AAAA,IAAC;AAAC,WAAO,OAAO,iBAAiBN,IAAEK,KAAEH,GAAC,GAAE,MAAI,OAAO,oBAAoBF,IAAEK,KAAEH,GAAC;AAAA,EAAC,GAAE,CAACF,IAAEE,GAAC,CAAC;AAAC;;;AHA0D,SAASK,GAAEC,KAAEC,KAAEC,MAAE,MAAG;AAAC,MAAIC,UAAE,eAAAC,QAAE,KAAE;AAAE,qBAAAC,WAAE,MAAI;AAAC,0BAAsB,MAAI;AAAC,MAAAF,IAAE,UAAQD;AAAA,IAAC,CAAC;AAAA,EAAC,GAAE,CAACA,GAAC,CAAC;AAAE,WAASI,IAAEC,IAAEC,KAAE;AAAC,QAAG,CAACL,IAAE,WAASI,GAAE;AAAiB;AAAO,QAAIE,MAAED,IAAED,EAAC;AAAE,QAAGE,QAAI,QAAM,CAACA,IAAE,YAAY,EAAE,SAASA,GAAC,KAAG,CAACA,IAAE;AAAY;AAAO,QAAIC,KAAE,SAASC,IAAEC,KAAE;AAAC,aAAO,OAAOA,OAAG,aAAWD,IAAEC,IAAE,CAAC,IAAE,MAAM,QAAQA,GAAC,KAAGA,eAAa,MAAIA,MAAE,CAACA,GAAC;AAAA,IAAC,EAAEZ,GAAC;AAAE,aAAQW,OAAKD,IAAE;AAAC,UAAGC,QAAI;AAAK;AAAS,UAAIC,MAAED,eAAa,cAAYA,MAAEA,IAAE;AAAQ,UAAGC,OAAG,QAAMA,IAAE,SAASH,GAAC,KAAGF,GAAE,YAAUA,GAAE,aAAa,EAAE,SAASK,GAAC;AAAE;AAAA,IAAM;AAAC,WAAM,CAAC,EAAEH,KAAEI,GAAE,KAAK,KAAGJ,IAAE,aAAW,MAAIF,GAAE,eAAe,GAAEN,IAAEM,IAAEE,GAAC;AAAA,EAAC;AAAC,MAAIK,UAAE,eAAAV,QAAE,IAAI;AAAE,EAAAC,GAAE,eAAc,CAAAE,OAAG;AAAC,QAAIC,KAAEC;AAAE,IAAAN,IAAE,YAAUW,IAAE,YAAUL,OAAGD,MAAED,GAAE,iBAAe,OAAK,SAAOC,IAAE,KAAKD,EAAC,MAAI,OAAK,SAAOE,IAAE,CAAC,MAAIF,GAAE;AAAA,EAAO,GAAE,IAAE,GAAEF,GAAE,aAAY,CAAAE,OAAG;AAAC,QAAIC,KAAEC;AAAE,IAAAN,IAAE,YAAUW,IAAE,YAAUL,OAAGD,MAAED,GAAE,iBAAe,OAAK,SAAOC,IAAE,KAAKD,EAAC,MAAI,OAAK,SAAOE,IAAE,CAAC,MAAIF,GAAE;AAAA,EAAO,GAAE,IAAE,GAAEF,GAAE,SAAQ,CAAAE,OAAG;AAAC,MAAE,KAAGO,IAAE,YAAUR,IAAEC,IAAE,MAAIO,IAAE,OAAO,GAAEA,IAAE,UAAQ;AAAA,EAAK,GAAE,IAAE,GAAET,GAAE,YAAW,CAAAE,OAAGD,IAAEC,IAAE,MAAIA,GAAE,kBAAkB,cAAYA,GAAE,SAAO,IAAI,GAAE,IAAE,GAAEP,GAAE,QAAO,CAAAO,OAAGD,IAAEC,IAAE,MAAI,OAAO,SAAS,yBAAyB,oBAAkB,OAAO,SAAS,gBAAc,IAAI,GAAE,IAAE;AAAC;;;AIA51C,IAAAQ,iBAAyB;AAA0E,SAASC,IAAEC,KAAE;AAAC,MAAIC;AAAE,MAAGD,IAAE;AAAK,WAAOA,IAAE;AAAK,MAAIE,MAAGD,MAAED,IAAE,OAAK,OAAKC,MAAE;AAAS,MAAG,OAAOC,MAAG,YAAUA,GAAE,YAAY,MAAI;AAAS,WAAM;AAAQ;AAAC,SAASC,GAAEH,KAAEE,IAAE;AAAC,MAAG,CAACD,KAAEG,GAAC,QAAE,eAAAC,UAAE,MAAIN,IAAEC,GAAC,CAAC;AAAE,SAAOC,GAAE,MAAI;AAAC,IAAAG,IAAEL,IAAEC,GAAC,CAAC;AAAA,EAAC,GAAE,CAACA,IAAE,MAAKA,IAAE,EAAE,CAAC,GAAEC,GAAE,MAAI;AAAC,IAAAA,OAAGC,GAAE,WAASA,GAAE,mBAAmB,qBAAmB,CAACA,GAAE,QAAQ,aAAa,MAAM,KAAGE,IAAE,QAAQ;AAAA,EAAC,GAAE,CAACH,KAAEC,EAAC,CAAC,GAAED;AAAC;;;ACA9a,IAAAK,iBAAuB;AAAQ,SAASC,IAAEC,IAAE;AAAC,SAAM,CAACA,GAAE,SAAQA,GAAE,OAAO;AAAC;AAAC,SAASC,KAAG;AAAC,MAAID,SAAE,eAAAE,QAAE,CAAC,IAAG,EAAE,CAAC;AAAE,SAAM,EAAC,SAASC,KAAE;AAAC,QAAIC,MAAEL,IAAEI,GAAC;AAAE,WAAOH,GAAE,QAAQ,CAAC,MAAII,IAAE,CAAC,KAAGJ,GAAE,QAAQ,CAAC,MAAII,IAAE,CAAC,IAAE,SAAIJ,GAAE,UAAQI,KAAE;AAAA,EAAG,GAAE,OAAOD,KAAE;AAAC,IAAAH,GAAE,UAAQD,IAAEI,GAAC;AAAA,EAAC,EAAC;AAAC;;;ACApO,IAAAE,iBAAsC;AAA+H,SAASC,GAAE,EAAC,WAAUC,IAAE,QAAOC,KAAE,MAAKC,KAAE,SAAQC,MAAE,KAAE,GAAE;AAAC,MAAIC,UAAE,eAAAC,QAAEJ,GAAC,GAAEK,UAAE,eAAAD,QAAEH,GAAC;AAAE,qBAAAK,WAAE,MAAI;AAAC,IAAAH,IAAE,UAAQH,KAAEK,IAAE,UAAQJ;AAAA,EAAC,GAAE,CAACD,KAAEC,GAAC,CAAC,GAAEM,GAAE,MAAI;AAAC,QAAG,CAACR,MAAG,CAACG;AAAE;AAAO,QAAIK,MAAEJ,GAAEJ,EAAC;AAAE,QAAG,CAACQ;AAAE;AAAO,QAAIC,MAAEL,IAAE,SAAQM,KAAEJ,IAAE,SAAQK,MAAE,OAAO,OAAO,CAAAC,QAAGH,IAAEG,GAAC,GAAE,EAAC,YAAWH,IAAC,CAAC,GAAEI,MAAEL,IAAE,iBAAiBR,IAAE,WAAW,cAAaW,KAAE,KAAE;AAAE,WAAKE,IAAE,SAAS;AAAG,MAAAH,GAAEG,IAAE,WAAW;AAAA,EAAC,GAAE,CAACb,IAAEG,KAAEC,KAAEE,GAAC,CAAC;AAAC;;;ACA7e,IAAAQ,iBAAsC;AAAkD,SAASC,GAAEC,KAAEC,KAAE;AAAC,MAAIC,SAAE,eAAAC,QAAE,CAAC,CAAC,GAAEC,MAAEC,GAAEL,GAAC;AAAE,qBAAAM,WAAE,MAAI;AAAC,QAAID,MAAE,CAAC,GAAGH,GAAE,OAAO;AAAE,aAAO,CAACK,KAAEC,GAAC,KAAIP,IAAE,QAAQ;AAAE,UAAGC,GAAE,QAAQK,GAAC,MAAIC,KAAE;AAAC,YAAIC,MAAEL,IAAEH,KAAEI,GAAC;AAAE,eAAOH,GAAE,UAAQD,KAAEQ;AAAA,MAAC;AAAA,EAAC,GAAE,CAACL,KAAE,GAAGH,GAAC,CAAC;AAAC;;;ACApP,IAAAS,SAAuB;AACvB,IAAAC,iBAAmD;;;ACDnD,SAAS,YAAY,MAAM;AACzB,MAAI,OAAO,IAAI,GAAG;AAChB,YAAQ,KAAK,YAAY,IAAI,YAAY;AAAA,EAC3C;AAIA,SAAO;AACT;AACA,SAAS,UAAU,MAAM;AACvB,MAAI;AACJ,UAAQ,QAAQ,SAAS,sBAAsB,KAAK,kBAAkB,OAAO,SAAS,oBAAoB,gBAAgB;AAC5H;AACA,SAAS,mBAAmB,MAAM;AAChC,MAAI;AACJ,UAAQ,QAAQ,OAAO,IAAI,IAAI,KAAK,gBAAgB,KAAK,aAAa,OAAO,aAAa,OAAO,SAAS,KAAK;AACjH;AACA,SAAS,OAAO,OAAO;AACrB,SAAO,iBAAiB,QAAQ,iBAAiB,UAAU,KAAK,EAAE;AACpE;AACA,SAAS,UAAU,OAAO;AACxB,SAAO,iBAAiB,WAAW,iBAAiB,UAAU,KAAK,EAAE;AACvE;AACA,SAAS,cAAc,OAAO;AAC5B,SAAO,iBAAiB,eAAe,iBAAiB,UAAU,KAAK,EAAE;AAC3E;AACA,SAAS,aAAa,OAAO;AAE3B,MAAI,OAAO,eAAe,aAAa;AACrC,WAAO;AAAA,EACT;AACA,SAAO,iBAAiB,cAAc,iBAAiB,UAAU,KAAK,EAAE;AAC1E;AACA,SAAS,kBAAkB,SAAS;AAClC,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAIC,kBAAiB,OAAO;AAC5B,SAAO,kCAAkC,KAAK,WAAW,YAAY,SAAS,KAAK,CAAC,CAAC,UAAU,UAAU,EAAE,SAAS,OAAO;AAC7H;AACA,SAAS,eAAe,SAAS;AAC/B,SAAO,CAAC,SAAS,MAAM,IAAI,EAAE,SAAS,YAAY,OAAO,CAAC;AAC5D;AACA,SAAS,kBAAkB,SAAS;AAClC,QAAM,SAAS,SAAS;AACxB,QAAM,MAAMA,kBAAiB,OAAO;AAGpC,SAAO,IAAI,cAAc,UAAU,IAAI,gBAAgB,WAAW,IAAI,gBAAgB,IAAI,kBAAkB,WAAW,UAAU,CAAC,WAAW,IAAI,iBAAiB,IAAI,mBAAmB,SAAS,UAAU,CAAC,WAAW,IAAI,SAAS,IAAI,WAAW,SAAS,UAAU,CAAC,aAAa,eAAe,QAAQ,EAAE,KAAK,YAAU,IAAI,cAAc,IAAI,SAAS,KAAK,CAAC,KAAK,CAAC,SAAS,UAAU,UAAU,SAAS,EAAE,KAAK,YAAU,IAAI,WAAW,IAAI,SAAS,KAAK,CAAC;AACnc;AACA,SAAS,mBAAmB,SAAS;AACnC,MAAI,cAAc,cAAc,OAAO;AACvC,SAAO,cAAc,WAAW,KAAK,CAAC,sBAAsB,WAAW,GAAG;AACxE,QAAI,kBAAkB,WAAW,GAAG;AAClC,aAAO;AAAA,IACT,OAAO;AACL,oBAAc,cAAc,WAAW;AAAA,IACzC;AAAA,EACF;AACA,SAAO;AACT;AACA,SAAS,WAAW;AAClB,MAAI,OAAO,QAAQ,eAAe,CAAC,IAAI;AAAU,WAAO;AACxD,SAAO,IAAI,SAAS,2BAA2B,MAAM;AACvD;AACA,SAAS,sBAAsB,MAAM;AACnC,SAAO,CAAC,QAAQ,QAAQ,WAAW,EAAE,SAAS,YAAY,IAAI,CAAC;AACjE;AACA,SAASA,kBAAiB,SAAS;AACjC,SAAO,UAAU,OAAO,EAAE,iBAAiB,OAAO;AACpD;AACA,SAAS,cAAc,SAAS;AAC9B,MAAI,UAAU,OAAO,GAAG;AACtB,WAAO;AAAA,MACL,YAAY,QAAQ;AAAA,MACpB,WAAW,QAAQ;AAAA,IACrB;AAAA,EACF;AACA,SAAO;AAAA,IACL,YAAY,QAAQ;AAAA,IACpB,WAAW,QAAQ;AAAA,EACrB;AACF;AACA,SAAS,cAAc,MAAM;AAC3B,MAAI,YAAY,IAAI,MAAM,QAAQ;AAChC,WAAO;AAAA,EACT;AACA,QAAM;AAAA;AAAA,IAEN,KAAK;AAAA,IAEL,KAAK;AAAA,IAEL,aAAa,IAAI,KAAK,KAAK;AAAA,IAE3B,mBAAmB,IAAI;AAAA;AACvB,SAAO,aAAa,MAAM,IAAI,OAAO,OAAO;AAC9C;AACA,SAAS,2BAA2B,MAAM;AACxC,QAAM,aAAa,cAAc,IAAI;AACrC,MAAI,sBAAsB,UAAU,GAAG;AACrC,WAAO,KAAK,gBAAgB,KAAK,cAAc,OAAO,KAAK;AAAA,EAC7D;AACA,MAAI,cAAc,UAAU,KAAK,kBAAkB,UAAU,GAAG;AAC9D,WAAO;AAAA,EACT;AACA,SAAO,2BAA2B,UAAU;AAC9C;AACA,SAAS,qBAAqB,MAAM,MAAM,iBAAiB;AACzD,MAAI;AACJ,MAAI,SAAS,QAAQ;AACnB,WAAO,CAAC;AAAA,EACV;AACA,MAAI,oBAAoB,QAAQ;AAC9B,sBAAkB;AAAA,EACpB;AACA,QAAM,qBAAqB,2BAA2B,IAAI;AAC1D,QAAM,SAAS,yBAAyB,uBAAuB,KAAK,kBAAkB,OAAO,SAAS,qBAAqB;AAC3H,QAAM,MAAM,UAAU,kBAAkB;AACxC,MAAI,QAAQ;AACV,WAAO,KAAK,OAAO,KAAK,IAAI,kBAAkB,CAAC,GAAG,kBAAkB,kBAAkB,IAAI,qBAAqB,CAAC,GAAG,IAAI,gBAAgB,kBAAkB,qBAAqB,IAAI,YAAY,IAAI,CAAC,CAAC;AAAA,EACtM;AACA,SAAO,KAAK,OAAO,oBAAoB,qBAAqB,oBAAoB,CAAC,GAAG,eAAe,CAAC;AACtG;;;ACxFA,SAAS,cAAc;AACrB,QAAM,SAAS,UAAU;AACzB,MAAI,UAAU,QAAQ,OAAO,UAAU;AACrC,WAAO,OAAO;AAAA,EAChB;AACA,SAAO,UAAU;AACnB;AACA,SAAS,eAAe;AACtB,QAAM,SAAS,UAAU;AACzB,MAAI,UAAU,MAAM,QAAQ,OAAO,MAAM,GAAG;AAC1C,WAAO,OAAO,OAAO,IAAI,UAAQ;AAC/B,UAAI;AAAA,QACF;AAAA,QACA;AAAA,MACF,IAAI;AACJ,aAAO,QAAQ,MAAM;AAAA,IACvB,CAAC,EAAE,KAAK,GAAG;AAAA,EACb;AACA,SAAO,UAAU;AACnB;AAoBA,SAAS,WAAW;AAElB,SAAO,SAAS,KAAK,UAAU,MAAM;AACvC;AAsDA,SAAS,UAAU,OAAO;AACxB,QAAM,eAAe;AACrB,QAAM,gBAAgB;AACxB;;;ACnIA,IAAM,QAAQ,CAAC,OAAO,SAAS,UAAU,MAAM;AAC/C,IAAM,aAAa,CAAC,SAAS,KAAK;AAClC,IAAM,aAA0B,MAAM,OAAO,CAAC,KAAK,SAAS,IAAI,OAAO,MAAM,OAAO,MAAM,WAAW,CAAC,GAAG,OAAO,MAAM,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC;AACxI,IAAM,MAAM,KAAK;AACjB,IAAM,MAAM,KAAK;AACjB,IAAM,QAAQ,KAAK;AACnB,IAAM,QAAQ,KAAK;AACnB,IAAM,eAAe,CAAAC,QAAM;AAAA,EACzB,GAAGA;AAAA,EACH,GAAGA;AACL;AACA,IAAM,kBAAkB;AAAA,EACtB,MAAM;AAAA,EACN,OAAO;AAAA,EACP,QAAQ;AAAA,EACR,KAAK;AACP;AACA,IAAM,uBAAuB;AAAA,EAC3B,OAAO;AAAA,EACP,KAAK;AACP;AACA,SAAS,MAAM,OAAO,OAAO,KAAK;AAChC,SAAO,IAAI,OAAO,IAAI,OAAO,GAAG,CAAC;AACnC;AACA,SAAS,SAAS,OAAO,OAAO;AAC9B,SAAO,OAAO,UAAU,aAAa,MAAM,KAAK,IAAI;AACtD;AACA,SAAS,QAAQ,WAAW;AAC1B,SAAO,UAAU,MAAM,GAAG,EAAE,CAAC;AAC/B;AACA,SAAS,aAAa,WAAW;AAC/B,SAAO,UAAU,MAAM,GAAG,EAAE,CAAC;AAC/B;AACA,SAAS,gBAAgB,MAAM;AAC7B,SAAO,SAAS,MAAM,MAAM;AAC9B;AACA,SAAS,cAAc,MAAM;AAC3B,SAAO,SAAS,MAAM,WAAW;AACnC;AACA,SAAS,YAAY,WAAW;AAC9B,SAAO,CAAC,OAAO,QAAQ,EAAE,SAAS,QAAQ,SAAS,CAAC,IAAI,MAAM;AAChE;AACA,SAAS,iBAAiB,WAAW;AACnC,SAAO,gBAAgB,YAAY,SAAS,CAAC;AAC/C;AACA,SAAS,kBAAkB,WAAW,OAAO,KAAK;AAChD,MAAI,QAAQ,QAAQ;AAClB,UAAM;AAAA,EACR;AACA,QAAM,YAAY,aAAa,SAAS;AACxC,QAAM,gBAAgB,iBAAiB,SAAS;AAChD,QAAM,SAAS,cAAc,aAAa;AAC1C,MAAI,oBAAoB,kBAAkB,MAAM,eAAe,MAAM,QAAQ,WAAW,UAAU,SAAS,cAAc,UAAU,WAAW;AAC9I,MAAI,MAAM,UAAU,MAAM,IAAI,MAAM,SAAS,MAAM,GAAG;AACpD,wBAAoB,qBAAqB,iBAAiB;AAAA,EAC5D;AACA,SAAO,CAAC,mBAAmB,qBAAqB,iBAAiB,CAAC;AACpE;AACA,SAAS,sBAAsB,WAAW;AACxC,QAAM,oBAAoB,qBAAqB,SAAS;AACxD,SAAO,CAAC,8BAA8B,SAAS,GAAG,mBAAmB,8BAA8B,iBAAiB,CAAC;AACvH;AACA,SAAS,8BAA8B,WAAW;AAChD,SAAO,UAAU,QAAQ,cAAc,eAAa,qBAAqB,SAAS,CAAC;AACrF;AACA,SAAS,YAAY,MAAM,SAAS,KAAK;AACvC,QAAM,KAAK,CAAC,QAAQ,OAAO;AAC3B,QAAM,KAAK,CAAC,SAAS,MAAM;AAC3B,QAAM,KAAK,CAAC,OAAO,QAAQ;AAC3B,QAAMC,MAAK,CAAC,UAAU,KAAK;AAC3B,UAAQ,MAAM;AAAA,IACZ,KAAK;AAAA,IACL,KAAK;AACH,UAAI;AAAK,eAAO,UAAU,KAAK;AAC/B,aAAO,UAAU,KAAK;AAAA,IACxB,KAAK;AAAA,IACL,KAAK;AACH,aAAO,UAAU,KAAKA;AAAA,IACxB;AACE,aAAO,CAAC;AAAA,EACZ;AACF;AACA,SAAS,0BAA0B,WAAW,eAAe,WAAW,KAAK;AAC3E,QAAM,YAAY,aAAa,SAAS;AACxC,MAAI,OAAO,YAAY,QAAQ,SAAS,GAAG,cAAc,SAAS,GAAG;AACrE,MAAI,WAAW;AACb,WAAO,KAAK,IAAI,UAAQ,OAAO,MAAM,SAAS;AAC9C,QAAI,eAAe;AACjB,aAAO,KAAK,OAAO,KAAK,IAAI,6BAA6B,CAAC;AAAA,IAC5D;AAAA,EACF;AACA,SAAO;AACT;AACA,SAAS,qBAAqB,WAAW;AACvC,SAAO,UAAU,QAAQ,0BAA0B,UAAQ,gBAAgB,IAAI,CAAC;AAClF;AACA,SAAS,oBAAoB,SAAS;AACpC,SAAO;AAAA,IACL,KAAK;AAAA,IACL,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,MAAM;AAAA,IACN,GAAG;AAAA,EACL;AACF;AACA,SAAS,iBAAiB,SAAS;AACjC,SAAO,OAAO,YAAY,WAAW,oBAAoB,OAAO,IAAI;AAAA,IAClE,KAAK;AAAA,IACL,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,MAAM;AAAA,EACR;AACF;AACA,SAAS,iBAAiB,MAAM;AAC9B,SAAO;AAAA,IACL,GAAG;AAAA,IACH,KAAK,KAAK;AAAA,IACV,MAAM,KAAK;AAAA,IACX,OAAO,KAAK,IAAI,KAAK;AAAA,IACrB,QAAQ,KAAK,IAAI,KAAK;AAAA,EACxB;AACF;;;AC3HA,SAAS,2BAA2B,MAAM,WAAW,KAAK;AACxD,MAAI;AAAA,IACF;AAAA,IACA;AAAA,EACF,IAAI;AACJ,QAAM,WAAW,YAAY,SAAS;AACtC,QAAM,gBAAgB,iBAAiB,SAAS;AAChD,QAAM,cAAc,cAAc,aAAa;AAC/C,QAAM,OAAO,QAAQ,SAAS;AAC9B,QAAM,aAAa,aAAa;AAChC,QAAM,UAAU,UAAU,IAAI,UAAU,QAAQ,IAAI,SAAS,QAAQ;AACrE,QAAM,UAAU,UAAU,IAAI,UAAU,SAAS,IAAI,SAAS,SAAS;AACvE,QAAM,cAAc,UAAU,WAAW,IAAI,IAAI,SAAS,WAAW,IAAI;AACzE,MAAI;AACJ,UAAQ,MAAM;AAAA,IACZ,KAAK;AACH,eAAS;AAAA,QACP,GAAG;AAAA,QACH,GAAG,UAAU,IAAI,SAAS;AAAA,MAC5B;AACA;AAAA,IACF,KAAK;AACH,eAAS;AAAA,QACP,GAAG;AAAA,QACH,GAAG,UAAU,IAAI,UAAU;AAAA,MAC7B;AACA;AAAA,IACF,KAAK;AACH,eAAS;AAAA,QACP,GAAG,UAAU,IAAI,UAAU;AAAA,QAC3B,GAAG;AAAA,MACL;AACA;AAAA,IACF,KAAK;AACH,eAAS;AAAA,QACP,GAAG,UAAU,IAAI,SAAS;AAAA,QAC1B,GAAG;AAAA,MACL;AACA;AAAA,IACF;AACE,eAAS;AAAA,QACP,GAAG,UAAU;AAAA,QACb,GAAG,UAAU;AAAA,MACf;AAAA,EACJ;AACA,UAAQ,aAAa,SAAS,GAAG;AAAA,IAC/B,KAAK;AACH,aAAO,aAAa,KAAK,eAAe,OAAO,aAAa,KAAK;AACjE;AAAA,IACF,KAAK;AACH,aAAO,aAAa,KAAK,eAAe,OAAO,aAAa,KAAK;AACjE;AAAA,EACJ;AACA,SAAO;AACT;AASA,IAAM,kBAAkB,OAAO,WAAW,UAAU,WAAW;AAC7D,QAAM;AAAA,IACJ,YAAY;AAAA,IACZ,WAAW;AAAA,IACX,aAAa,CAAC;AAAA,IACd,UAAAC;AAAA,EACF,IAAI;AACJ,QAAM,kBAAkB,WAAW,OAAO,OAAO;AACjD,QAAM,MAAM,OAAOA,UAAS,SAAS,OAAO,SAASA,UAAS,MAAM,QAAQ;AAC5E,MAAI,QAAQ,MAAMA,UAAS,gBAAgB;AAAA,IACzC;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC;AACD,MAAI;AAAA,IACF,GAAAC;AAAA,IACA,GAAAC;AAAA,EACF,IAAI,2BAA2B,OAAO,WAAW,GAAG;AACpD,MAAI,oBAAoB;AACxB,MAAI,iBAAiB,CAAC;AACtB,MAAI,aAAa;AACjB,WAASC,MAAI,GAAGA,MAAI,gBAAgB,QAAQA,OAAK;AAC/C,UAAM;AAAA,MACJ;AAAA,MACA;AAAA,IACF,IAAI,gBAAgBA,GAAC;AACrB,UAAM;AAAA,MACJ,GAAG;AAAA,MACH,GAAG;AAAA,MACH;AAAA,MACA;AAAA,IACF,IAAI,MAAM,GAAG;AAAA,MACX,GAAAF;AAAA,MACA,GAAAC;AAAA,MACA,kBAAkB;AAAA,MAClB,WAAW;AAAA,MACX;AAAA,MACA;AAAA,MACA;AAAA,MACA,UAAAF;AAAA,MACA,UAAU;AAAA,QACR;AAAA,QACA;AAAA,MACF;AAAA,IACF,CAAC;AACD,IAAAC,KAAI,SAAS,OAAO,QAAQA;AAC5B,IAAAC,MAAI,SAAS,OAAO,QAAQA;AAC5B,qBAAiB;AAAA,MACf,GAAG;AAAA,MACH,CAAC,IAAI,GAAG;AAAA,QACN,GAAG,eAAe,IAAI;AAAA,QACtB,GAAG;AAAA,MACL;AAAA,IACF;AACA,QAAI,SAAS,cAAc,IAAI;AAC7B;AACA,UAAI,OAAO,UAAU,UAAU;AAC7B,YAAI,MAAM,WAAW;AACnB,8BAAoB,MAAM;AAAA,QAC5B;AACA,YAAI,MAAM,OAAO;AACf,kBAAQ,MAAM,UAAU,OAAO,MAAMF,UAAS,gBAAgB;AAAA,YAC5D;AAAA,YACA;AAAA,YACA;AAAA,UACF,CAAC,IAAI,MAAM;AAAA,QACb;AACA,SAAC;AAAA,UACC,GAAAC;AAAA,UACA,GAAAC;AAAA,QACF,IAAI,2BAA2B,OAAO,mBAAmB,GAAG;AAAA,MAC9D;AACA,MAAAC,MAAI;AAAA,IACN;AAAA,EACF;AACA,SAAO;AAAA,IACL,GAAAF;AAAA,IACA,GAAAC;AAAA,IACA,WAAW;AAAA,IACX;AAAA,IACA;AAAA,EACF;AACF;AAUA,eAAe,eAAe,OAAO,SAAS;AAC5C,MAAI;AACJ,MAAI,YAAY,QAAQ;AACtB,cAAU,CAAC;AAAA,EACb;AACA,QAAM;AAAA,IACJ,GAAAD;AAAA,IACA,GAAAC;AAAA,IACA,UAAAF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI;AACJ,QAAM;AAAA,IACJ,WAAW;AAAA,IACX,eAAe;AAAA,IACf,iBAAiB;AAAA,IACjB,cAAc;AAAA,IACd,UAAU;AAAA,EACZ,IAAI,SAAS,SAAS,KAAK;AAC3B,QAAM,gBAAgB,iBAAiB,OAAO;AAC9C,QAAM,aAAa,mBAAmB,aAAa,cAAc;AACjE,QAAM,UAAU,SAAS,cAAc,aAAa,cAAc;AAClE,QAAM,qBAAqB,iBAAiB,MAAMA,UAAS,gBAAgB;AAAA,IACzE,WAAW,wBAAwB,OAAOA,UAAS,aAAa,OAAO,SAASA,UAAS,UAAU,OAAO,OAAO,OAAO,wBAAwB,QAAQ,UAAU,QAAQ,kBAAmB,OAAOA,UAAS,sBAAsB,OAAO,SAASA,UAAS,mBAAmB,SAAS,QAAQ;AAAA,IAChS;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC,CAAC;AACF,QAAM,OAAO,mBAAmB,aAAa;AAAA,IAC3C,GAAG,MAAM;AAAA,IACT,GAAAC;AAAA,IACA,GAAAC;AAAA,EACF,IAAI,MAAM;AACV,QAAM,eAAe,OAAOF,UAAS,mBAAmB,OAAO,SAASA,UAAS,gBAAgB,SAAS,QAAQ;AAClH,QAAM,cAAe,OAAOA,UAAS,aAAa,OAAO,SAASA,UAAS,UAAU,YAAY,KAAO,OAAOA,UAAS,YAAY,OAAO,SAASA,UAAS,SAAS,YAAY,MAAO;AAAA,IACvL,GAAG;AAAA,IACH,GAAG;AAAA,EACL,IAAI;AAAA,IACF,GAAG;AAAA,IACH,GAAG;AAAA,EACL;AACA,QAAM,oBAAoB,iBAAiBA,UAAS,wDAAwD,MAAMA,UAAS,sDAAsD;AAAA,IAC/K;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC,IAAI,IAAI;AACT,SAAO;AAAA,IACL,MAAM,mBAAmB,MAAM,kBAAkB,MAAM,cAAc,OAAO,YAAY;AAAA,IACxF,SAAS,kBAAkB,SAAS,mBAAmB,SAAS,cAAc,UAAU,YAAY;AAAA,IACpG,OAAO,mBAAmB,OAAO,kBAAkB,OAAO,cAAc,QAAQ,YAAY;AAAA,IAC5F,QAAQ,kBAAkB,QAAQ,mBAAmB,QAAQ,cAAc,SAAS,YAAY;AAAA,EAClG;AACF;AAiMA,IAAM,OAAO,SAAU,SAAS;AAC9B,MAAI,YAAY,QAAQ;AACtB,cAAU,CAAC;AAAA,EACb;AACA,SAAO;AAAA,IACL,MAAM;AAAA,IACN;AAAA,IACA,MAAM,GAAG,OAAO;AACd,UAAI,uBAAuB;AAC3B,YAAM;AAAA,QACJ;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA,UAAAI;AAAA,QACA;AAAA,MACF,IAAI;AACJ,YAAM;AAAA,QACJ,UAAU,gBAAgB;AAAA,QAC1B,WAAW,iBAAiB;AAAA,QAC5B,oBAAoB;AAAA,QACpB,mBAAmB;AAAA,QACnB,4BAA4B;AAAA,QAC5B,gBAAgB;AAAA,QAChB,GAAG;AAAA,MACL,IAAI,SAAS,SAAS,KAAK;AAM3B,WAAK,wBAAwB,eAAe,UAAU,QAAQ,sBAAsB,iBAAiB;AACnG,eAAO,CAAC;AAAA,MACV;AACA,YAAM,OAAO,QAAQ,SAAS;AAC9B,YAAM,kBAAkB,QAAQ,gBAAgB,MAAM;AACtD,YAAM,MAAM,OAAOA,UAAS,SAAS,OAAO,SAASA,UAAS,MAAM,SAAS,QAAQ;AACrF,YAAM,qBAAqB,gCAAgC,mBAAmB,CAAC,gBAAgB,CAAC,qBAAqB,gBAAgB,CAAC,IAAI,sBAAsB,gBAAgB;AAChL,UAAI,CAAC,+BAA+B,8BAA8B,QAAQ;AACxE,2BAAmB,KAAK,GAAG,0BAA0B,kBAAkB,eAAe,2BAA2B,GAAG,CAAC;AAAA,MACvH;AACA,YAAMC,cAAa,CAAC,kBAAkB,GAAG,kBAAkB;AAC3D,YAAM,WAAW,MAAM,eAAe,OAAO,qBAAqB;AAClE,YAAM,YAAY,CAAC;AACnB,UAAI,kBAAkB,uBAAuB,eAAe,SAAS,OAAO,SAAS,qBAAqB,cAAc,CAAC;AACzH,UAAI,eAAe;AACjB,kBAAU,KAAK,SAAS,IAAI,CAAC;AAAA,MAC/B;AACA,UAAI,gBAAgB;AAClB,cAAMC,SAAQ,kBAAkB,WAAW,OAAO,GAAG;AACrD,kBAAU,KAAK,SAASA,OAAM,CAAC,CAAC,GAAG,SAASA,OAAM,CAAC,CAAC,CAAC;AAAA,MACvD;AACA,sBAAgB,CAAC,GAAG,eAAe;AAAA,QACjC;AAAA,QACA;AAAA,MACF,CAAC;AAGD,UAAI,CAAC,UAAU,MAAM,CAAAC,UAAQA,SAAQ,CAAC,GAAG;AACvC,YAAI,uBAAuB;AAC3B,cAAM,eAAe,wBAAwB,eAAe,SAAS,OAAO,SAAS,sBAAsB,UAAU,KAAK;AAC1H,cAAM,gBAAgBF,YAAW,SAAS;AAC1C,YAAI,eAAe;AAEjB,iBAAO;AAAA,YACL,MAAM;AAAA,cACJ,OAAO;AAAA,cACP,WAAW;AAAA,YACb;AAAA,YACA,OAAO;AAAA,cACL,WAAW;AAAA,YACb;AAAA,UACF;AAAA,QACF;AAIA,YAAI,kBAAkB,wBAAwB,cAAc,OAAO,CAAAG,QAAKA,IAAE,UAAU,CAAC,KAAK,CAAC,EAAE,KAAK,CAACC,KAAGC,QAAMD,IAAE,UAAU,CAAC,IAAIC,IAAE,UAAU,CAAC,CAAC,EAAE,CAAC,MAAM,OAAO,SAAS,sBAAsB;AAG1L,YAAI,CAAC,gBAAgB;AACnB,kBAAQ,kBAAkB;AAAA,YACxB,KAAK,WACH;AACE,kBAAI;AACJ,oBAAMC,cAAa,wBAAwB,cAAc,IAAI,CAAAH,QAAK,CAACA,IAAE,WAAWA,IAAE,UAAU,OAAO,CAAAI,cAAYA,YAAW,CAAC,EAAE,OAAO,CAAC,KAAKA,cAAa,MAAMA,WAAU,CAAC,CAAC,CAAC,EAAE,KAAK,CAACH,KAAGC,QAAMD,IAAE,CAAC,IAAIC,IAAE,CAAC,CAAC,EAAE,CAAC,MAAM,OAAO,SAAS,sBAAsB,CAAC;AACtP,kBAAIC,YAAW;AACb,iCAAiBA;AAAA,cACnB;AACA;AAAA,YACF;AAAA,YACF,KAAK;AACH,+BAAiB;AACjB;AAAA,UACJ;AAAA,QACF;AACA,YAAI,cAAc,gBAAgB;AAChC,iBAAO;AAAA,YACL,OAAO;AAAA,cACL,WAAW;AAAA,YACb;AAAA,UACF;AAAA,QACF;AAAA,MACF;AACA,aAAO,CAAC;AAAA,IACV;AAAA,EACF;AACF;AA6MA,eAAe,qBAAqB,OAAO,SAAS;AAClD,QAAM;AAAA,IACJ;AAAA,IACA,UAAAE;AAAA,IACA;AAAA,EACF,IAAI;AACJ,QAAM,MAAM,OAAOA,UAAS,SAAS,OAAO,SAASA,UAAS,MAAM,SAAS,QAAQ;AACrF,QAAM,OAAO,QAAQ,SAAS;AAC9B,QAAM,YAAY,aAAa,SAAS;AACxC,QAAM,aAAa,YAAY,SAAS,MAAM;AAC9C,QAAM,gBAAgB,CAAC,QAAQ,KAAK,EAAE,SAAS,IAAI,IAAI,KAAK;AAC5D,QAAM,iBAAiB,OAAO,aAAa,KAAK;AAChD,QAAM,WAAW,SAAS,SAAS,KAAK;AACxC,MAAI;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI,OAAO,aAAa,WAAW;AAAA,IACjC,UAAU;AAAA,IACV,WAAW;AAAA,IACX,eAAe;AAAA,EACjB,IAAI;AAAA,IACF,UAAU;AAAA,IACV,WAAW;AAAA,IACX,eAAe;AAAA,IACf,GAAG;AAAA,EACL;AACA,MAAI,aAAa,OAAO,kBAAkB,UAAU;AAClD,gBAAY,cAAc,QAAQ,gBAAgB,KAAK;AAAA,EACzD;AACA,SAAO,aAAa;AAAA,IAClB,GAAG,YAAY;AAAA,IACf,GAAG,WAAW;AAAA,EAChB,IAAI;AAAA,IACF,GAAG,WAAW;AAAA,IACd,GAAG,YAAY;AAAA,EACjB;AACF;AASA,IAAM,SAAS,SAAU,SAAS;AAChC,MAAI,YAAY,QAAQ;AACtB,cAAU;AAAA,EACZ;AACA,SAAO;AAAA,IACL,MAAM;AAAA,IACN;AAAA,IACA,MAAM,GAAG,OAAO;AACd,UAAI,uBAAuB;AAC3B,YAAM;AAAA,QACJ,GAAAC;AAAA,QACA,GAAAC;AAAA,QACA;AAAA,QACA;AAAA,MACF,IAAI;AACJ,YAAM,aAAa,MAAM,qBAAqB,OAAO,OAAO;AAI5D,UAAI,gBAAgB,wBAAwB,eAAe,WAAW,OAAO,SAAS,sBAAsB,eAAe,wBAAwB,eAAe,UAAU,QAAQ,sBAAsB,iBAAiB;AACzN,eAAO,CAAC;AAAA,MACV;AACA,aAAO;AAAA,QACL,GAAGD,KAAI,WAAW;AAAA,QAClB,GAAGC,MAAI,WAAW;AAAA,QAClB,MAAM;AAAA,UACJ,GAAG;AAAA,UACH;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;AAOA,IAAM,QAAQ,SAAU,SAAS;AAC/B,MAAI,YAAY,QAAQ;AACtB,cAAU,CAAC;AAAA,EACb;AACA,SAAO;AAAA,IACL,MAAM;AAAA,IACN;AAAA,IACA,MAAM,GAAG,OAAO;AACd,YAAM;AAAA,QACJ,GAAAD;AAAA,QACA,GAAAC;AAAA,QACA;AAAA,MACF,IAAI;AACJ,YAAM;AAAA,QACJ,UAAU,gBAAgB;AAAA,QAC1B,WAAW,iBAAiB;AAAA,QAC5B,UAAU;AAAA,UACR,IAAI,UAAQ;AACV,gBAAI;AAAA,cACF,GAAAD;AAAA,cACA,GAAAC;AAAA,YACF,IAAI;AACJ,mBAAO;AAAA,cACL,GAAAD;AAAA,cACA,GAAAC;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA,GAAG;AAAA,MACL,IAAI,SAAS,SAAS,KAAK;AAC3B,YAAM,SAAS;AAAA,QACb,GAAAD;AAAA,QACA,GAAAC;AAAA,MACF;AACA,YAAM,WAAW,MAAM,eAAe,OAAO,qBAAqB;AAClE,YAAM,YAAY,YAAY,QAAQ,SAAS,CAAC;AAChD,YAAM,WAAW,gBAAgB,SAAS;AAC1C,UAAI,gBAAgB,OAAO,QAAQ;AACnC,UAAI,iBAAiB,OAAO,SAAS;AACrC,UAAI,eAAe;AACjB,cAAM,UAAU,aAAa,MAAM,QAAQ;AAC3C,cAAM,UAAU,aAAa,MAAM,WAAW;AAC9C,cAAMC,OAAM,gBAAgB,SAAS,OAAO;AAC5C,cAAMC,OAAM,gBAAgB,SAAS,OAAO;AAC5C,wBAAgB,MAAMD,MAAK,eAAeC,IAAG;AAAA,MAC/C;AACA,UAAI,gBAAgB;AAClB,cAAM,UAAU,cAAc,MAAM,QAAQ;AAC5C,cAAM,UAAU,cAAc,MAAM,WAAW;AAC/C,cAAMD,OAAM,iBAAiB,SAAS,OAAO;AAC7C,cAAMC,OAAM,iBAAiB,SAAS,OAAO;AAC7C,yBAAiB,MAAMD,MAAK,gBAAgBC,IAAG;AAAA,MACjD;AACA,YAAM,gBAAgB,QAAQ,GAAG;AAAA,QAC/B,GAAG;AAAA,QACH,CAAC,QAAQ,GAAG;AAAA,QACZ,CAAC,SAAS,GAAG;AAAA,MACf,CAAC;AACD,aAAO;AAAA,QACL,GAAG;AAAA,QACH,MAAM;AAAA,UACJ,GAAG,cAAc,IAAIH;AAAA,UACrB,GAAG,cAAc,IAAIC;AAAA,QACvB;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;AA4EA,IAAM,OAAO,SAAU,SAAS;AAC9B,MAAI,YAAY,QAAQ;AACtB,cAAU,CAAC;AAAA,EACb;AACA,SAAO;AAAA,IACL,MAAM;AAAA,IACN;AAAA,IACA,MAAM,GAAG,OAAO;AACd,YAAM;AAAA,QACJ;AAAA,QACA;AAAA,QACA,UAAAG;AAAA,QACA;AAAA,MACF,IAAI;AACJ,YAAM;AAAA,QACJ,QAAQ,MAAM;AAAA,QAAC;AAAA,QACf,GAAG;AAAA,MACL,IAAI,SAAS,SAAS,KAAK;AAC3B,YAAM,WAAW,MAAM,eAAe,OAAO,qBAAqB;AAClE,YAAM,OAAO,QAAQ,SAAS;AAC9B,YAAM,YAAY,aAAa,SAAS;AACxC,YAAM,UAAU,YAAY,SAAS,MAAM;AAC3C,YAAM;AAAA,QACJ;AAAA,QACA;AAAA,MACF,IAAI,MAAM;AACV,UAAI;AACJ,UAAI;AACJ,UAAI,SAAS,SAAS,SAAS,UAAU;AACvC,qBAAa;AACb,oBAAY,eAAgB,OAAOA,UAAS,SAAS,OAAO,SAASA,UAAS,MAAM,SAAS,QAAQ,KAAM,UAAU,SAAS,SAAS;AAAA,MACzI,OAAO;AACL,oBAAY;AACZ,qBAAa,cAAc,QAAQ,QAAQ;AAAA,MAC7C;AACA,YAAM,0BAA0B,SAAS,SAAS,UAAU;AAC5D,YAAM,yBAAyB,QAAQ,SAAS,SAAS;AACzD,YAAM,UAAU,CAAC,MAAM,eAAe;AACtC,UAAI,kBAAkB;AACtB,UAAI,iBAAiB;AACrB,UAAI,SAAS;AACX,cAAM,uBAAuB,QAAQ,SAAS,OAAO,SAAS;AAC9D,yBAAiB,aAAa,UAAU,IAAI,wBAAwB,oBAAoB,IAAI;AAAA,MAC9F,OAAO;AACL,cAAM,wBAAwB,SAAS,SAAS,MAAM,SAAS;AAC/D,0BAAkB,aAAa,UAAU,IAAI,yBAAyB,qBAAqB,IAAI;AAAA,MACjG;AACA,UAAI,WAAW,CAAC,WAAW;AACzB,cAAM,OAAO,IAAI,SAAS,MAAM,CAAC;AACjC,cAAM,OAAO,IAAI,SAAS,OAAO,CAAC;AAClC,cAAM,OAAO,IAAI,SAAS,KAAK,CAAC;AAChC,cAAM,OAAO,IAAI,SAAS,QAAQ,CAAC;AACnC,YAAI,SAAS;AACX,2BAAiB,QAAQ,KAAK,SAAS,KAAK,SAAS,IAAI,OAAO,OAAO,IAAI,SAAS,MAAM,SAAS,KAAK;AAAA,QAC1G,OAAO;AACL,4BAAkB,SAAS,KAAK,SAAS,KAAK,SAAS,IAAI,OAAO,OAAO,IAAI,SAAS,KAAK,SAAS,MAAM;AAAA,QAC5G;AAAA,MACF;AACA,YAAM,MAAM;AAAA,QACV,GAAG;AAAA,QACH;AAAA,QACA;AAAA,MACF,CAAC;AACD,YAAM,iBAAiB,MAAMA,UAAS,cAAc,SAAS,QAAQ;AACrE,UAAI,UAAU,eAAe,SAAS,WAAW,eAAe,QAAQ;AACtE,eAAO;AAAA,UACL,OAAO;AAAA,YACL,OAAO;AAAA,UACT;AAAA,QACF;AAAA,MACF;AACA,aAAO,CAAC;AAAA,IACV;AAAA,EACF;AACF;;;ACr/BA,SAAS,iBAAiB,SAAS;AACjC,QAAM,MAAMC,kBAAiB,OAAO;AAGpC,MAAI,QAAQ,WAAW,IAAI,KAAK,KAAK;AACrC,MAAI,SAAS,WAAW,IAAI,MAAM,KAAK;AACvC,QAAM,YAAY,cAAc,OAAO;AACvC,QAAM,cAAc,YAAY,QAAQ,cAAc;AACtD,QAAM,eAAe,YAAY,QAAQ,eAAe;AACxD,QAAM,iBAAiB,MAAM,KAAK,MAAM,eAAe,MAAM,MAAM,MAAM;AACzE,MAAI,gBAAgB;AAClB,YAAQ;AACR,aAAS;AAAA,EACX;AACA,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA,GAAG;AAAA,EACL;AACF;AAEA,SAAS,cAAc,SAAS;AAC9B,SAAO,CAAC,UAAU,OAAO,IAAI,QAAQ,iBAAiB;AACxD;AAEA,SAAS,SAAS,SAAS;AACzB,QAAM,aAAa,cAAc,OAAO;AACxC,MAAI,CAAC,cAAc,UAAU,GAAG;AAC9B,WAAO,aAAa,CAAC;AAAA,EACvB;AACA,QAAM,OAAO,WAAW,sBAAsB;AAC9C,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA,GAAAC;AAAA,EACF,IAAI,iBAAiB,UAAU;AAC/B,MAAIC,MAAKD,KAAI,MAAM,KAAK,KAAK,IAAI,KAAK,SAAS;AAC/C,MAAIE,OAAKF,KAAI,MAAM,KAAK,MAAM,IAAI,KAAK,UAAU;AAIjD,MAAI,CAACC,MAAK,CAAC,OAAO,SAASA,EAAC,GAAG;AAC7B,IAAAA,KAAI;AAAA,EACN;AACA,MAAI,CAACC,OAAK,CAAC,OAAO,SAASA,GAAC,GAAG;AAC7B,IAAAA,MAAI;AAAA,EACN;AACA,SAAO;AAAA,IACL,GAAAD;AAAA,IACA,GAAAC;AAAA,EACF;AACF;AAEA,IAAM,YAAyB,aAAa,CAAC;AAC7C,SAAS,iBAAiB,SAAS;AACjC,QAAM,MAAM,UAAU,OAAO;AAC7B,MAAI,CAAC,SAAS,KAAK,CAAC,IAAI,gBAAgB;AACtC,WAAO;AAAA,EACT;AACA,SAAO;AAAA,IACL,GAAG,IAAI,eAAe;AAAA,IACtB,GAAG,IAAI,eAAe;AAAA,EACxB;AACF;AACA,SAAS,uBAAuB,SAAS,SAAS,sBAAsB;AACtE,MAAI,YAAY,QAAQ;AACtB,cAAU;AAAA,EACZ;AACA,MAAI,CAAC,wBAAwB,WAAW,yBAAyB,UAAU,OAAO,GAAG;AACnF,WAAO;AAAA,EACT;AACA,SAAO;AACT;AAEA,SAAS,sBAAsB,SAAS,cAAc,iBAAiB,cAAc;AACnF,MAAI,iBAAiB,QAAQ;AAC3B,mBAAe;AAAA,EACjB;AACA,MAAI,oBAAoB,QAAQ;AAC9B,sBAAkB;AAAA,EACpB;AACA,QAAM,aAAa,QAAQ,sBAAsB;AACjD,QAAM,aAAa,cAAc,OAAO;AACxC,MAAI,QAAQ,aAAa,CAAC;AAC1B,MAAI,cAAc;AAChB,QAAI,cAAc;AAChB,UAAI,UAAU,YAAY,GAAG;AAC3B,gBAAQ,SAAS,YAAY;AAAA,MAC/B;AAAA,IACF,OAAO;AACL,cAAQ,SAAS,OAAO;AAAA,IAC1B;AAAA,EACF;AACA,QAAM,gBAAgB,uBAAuB,YAAY,iBAAiB,YAAY,IAAI,iBAAiB,UAAU,IAAI,aAAa,CAAC;AACvI,MAAID,MAAK,WAAW,OAAO,cAAc,KAAK,MAAM;AACpD,MAAIC,OAAK,WAAW,MAAM,cAAc,KAAK,MAAM;AACnD,MAAI,QAAQ,WAAW,QAAQ,MAAM;AACrC,MAAI,SAAS,WAAW,SAAS,MAAM;AACvC,MAAI,YAAY;AACd,UAAM,MAAM,UAAU,UAAU;AAChC,UAAM,YAAY,gBAAgB,UAAU,YAAY,IAAI,UAAU,YAAY,IAAI;AACtF,QAAI,aAAa;AACjB,QAAI,gBAAgB,WAAW;AAC/B,WAAO,iBAAiB,gBAAgB,cAAc,YAAY;AAChE,YAAM,cAAc,SAAS,aAAa;AAC1C,YAAM,aAAa,cAAc,sBAAsB;AACvD,YAAM,MAAMH,kBAAiB,aAAa;AAC1C,YAAM,OAAO,WAAW,QAAQ,cAAc,aAAa,WAAW,IAAI,WAAW,KAAK,YAAY;AACtG,YAAM,MAAM,WAAW,OAAO,cAAc,YAAY,WAAW,IAAI,UAAU,KAAK,YAAY;AAClG,MAAAE,MAAK,YAAY;AACjB,MAAAC,OAAK,YAAY;AACjB,eAAS,YAAY;AACrB,gBAAU,YAAY;AACtB,MAAAD,MAAK;AACL,MAAAC,OAAK;AACL,mBAAa,UAAU,aAAa;AACpC,sBAAgB,WAAW;AAAA,IAC7B;AAAA,EACF;AACA,SAAO,iBAAiB;AAAA,IACtB;AAAA,IACA;AAAA,IACA,GAAAD;AAAA,IACA,GAAAC;AAAA,EACF,CAAC;AACH;AAEA,IAAM,oBAAoB,CAAC,iBAAiB,QAAQ;AACpD,SAAS,WAAW,UAAU;AAC5B,SAAO,kBAAkB,KAAK,cAAY;AACxC,QAAI;AACF,aAAO,SAAS,QAAQ,QAAQ;AAAA,IAClC,SAASC,IAAG;AACV,aAAO;AAAA,IACT;AAAA,EACF,CAAC;AACH;AAEA,SAAS,sDAAsD,MAAM;AACnE,MAAI;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI;AACJ,QAAM,UAAU,aAAa;AAC7B,QAAM,kBAAkB,mBAAmB,YAAY;AACvD,QAAM,WAAW,WAAW,WAAW,SAAS,QAAQ,IAAI;AAC5D,MAAI,iBAAiB,mBAAmB,YAAY,SAAS;AAC3D,WAAO;AAAA,EACT;AACA,MAAI,SAAS;AAAA,IACX,YAAY;AAAA,IACZ,WAAW;AAAA,EACb;AACA,MAAI,QAAQ,aAAa,CAAC;AAC1B,QAAM,UAAU,aAAa,CAAC;AAC9B,QAAM,0BAA0B,cAAc,YAAY;AAC1D,MAAI,2BAA2B,CAAC,2BAA2B,CAAC,SAAS;AACnE,QAAI,YAAY,YAAY,MAAM,UAAU,kBAAkB,eAAe,GAAG;AAC9E,eAAS,cAAc,YAAY;AAAA,IACrC;AACA,QAAI,cAAc,YAAY,GAAG;AAC/B,YAAM,aAAa,sBAAsB,YAAY;AACrD,cAAQ,SAAS,YAAY;AAC7B,cAAQ,IAAI,WAAW,IAAI,aAAa;AACxC,cAAQ,IAAI,WAAW,IAAI,aAAa;AAAA,IAC1C;AAAA,EACF;AACA,SAAO;AAAA,IACL,OAAO,KAAK,QAAQ,MAAM;AAAA,IAC1B,QAAQ,KAAK,SAAS,MAAM;AAAA,IAC5B,GAAG,KAAK,IAAI,MAAM,IAAI,OAAO,aAAa,MAAM,IAAI,QAAQ;AAAA,IAC5D,GAAG,KAAK,IAAI,MAAM,IAAI,OAAO,YAAY,MAAM,IAAI,QAAQ;AAAA,EAC7D;AACF;AAEA,SAAS,eAAe,SAAS;AAC/B,SAAO,MAAM,KAAK,QAAQ,eAAe,CAAC;AAC5C;AAEA,SAAS,oBAAoB,SAAS;AAGpC,SAAO,sBAAsB,mBAAmB,OAAO,CAAC,EAAE,OAAO,cAAc,OAAO,EAAE;AAC1F;AAIA,SAAS,gBAAgB,SAAS;AAChC,QAAM,OAAO,mBAAmB,OAAO;AACvC,QAAM,SAAS,cAAc,OAAO;AACpC,QAAM,OAAO,QAAQ,cAAc;AACnC,QAAM,QAAQ,IAAI,KAAK,aAAa,KAAK,aAAa,KAAK,aAAa,KAAK,WAAW;AACxF,QAAM,SAAS,IAAI,KAAK,cAAc,KAAK,cAAc,KAAK,cAAc,KAAK,YAAY;AAC7F,MAAIF,KAAI,CAAC,OAAO,aAAa,oBAAoB,OAAO;AACxD,QAAMC,MAAI,CAAC,OAAO;AAClB,MAAIH,kBAAiB,IAAI,EAAE,cAAc,OAAO;AAC9C,IAAAE,MAAK,IAAI,KAAK,aAAa,KAAK,WAAW,IAAI;AAAA,EACjD;AACA,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA,GAAAA;AAAA,IACA,GAAAC;AAAA,EACF;AACF;AAEA,SAAS,gBAAgB,SAAS,UAAU;AAC1C,QAAM,MAAM,UAAU,OAAO;AAC7B,QAAM,OAAO,mBAAmB,OAAO;AACvC,QAAM,iBAAiB,IAAI;AAC3B,MAAI,QAAQ,KAAK;AACjB,MAAI,SAAS,KAAK;AAClB,MAAID,KAAI;AACR,MAAIC,MAAI;AACR,MAAI,gBAAgB;AAClB,YAAQ,eAAe;AACvB,aAAS,eAAe;AACxB,UAAM,sBAAsB,SAAS;AACrC,QAAI,CAAC,uBAAuB,uBAAuB,aAAa,SAAS;AACvE,MAAAD,KAAI,eAAe;AACnB,MAAAC,MAAI,eAAe;AAAA,IACrB;AAAA,EACF;AACA,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA,GAAAD;AAAA,IACA,GAAAC;AAAA,EACF;AACF;AAGA,SAAS,2BAA2B,SAAS,UAAU;AACrD,QAAM,aAAa,sBAAsB,SAAS,MAAM,aAAa,OAAO;AAC5E,QAAM,MAAM,WAAW,MAAM,QAAQ;AACrC,QAAM,OAAO,WAAW,OAAO,QAAQ;AACvC,QAAM,QAAQ,cAAc,OAAO,IAAI,SAAS,OAAO,IAAI,aAAa,CAAC;AACzE,QAAM,QAAQ,QAAQ,cAAc,MAAM;AAC1C,QAAM,SAAS,QAAQ,eAAe,MAAM;AAC5C,QAAMD,KAAI,OAAO,MAAM;AACvB,QAAMC,MAAI,MAAM,MAAM;AACtB,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA,GAAAD;AAAA,IACA,GAAAC;AAAA,EACF;AACF;AACA,SAAS,kCAAkC,SAAS,kBAAkB,UAAU;AAC9E,MAAI;AACJ,MAAI,qBAAqB,YAAY;AACnC,WAAO,gBAAgB,SAAS,QAAQ;AAAA,EAC1C,WAAW,qBAAqB,YAAY;AAC1C,WAAO,gBAAgB,mBAAmB,OAAO,CAAC;AAAA,EACpD,WAAW,UAAU,gBAAgB,GAAG;AACtC,WAAO,2BAA2B,kBAAkB,QAAQ;AAAA,EAC9D,OAAO;AACL,UAAM,gBAAgB,iBAAiB,OAAO;AAC9C,WAAO;AAAA,MACL,GAAG;AAAA,MACH,GAAG,iBAAiB,IAAI,cAAc;AAAA,MACtC,GAAG,iBAAiB,IAAI,cAAc;AAAA,IACxC;AAAA,EACF;AACA,SAAO,iBAAiB,IAAI;AAC9B;AACA,SAAS,yBAAyB,SAAS,UAAU;AACnD,QAAM,aAAa,cAAc,OAAO;AACxC,MAAI,eAAe,YAAY,CAAC,UAAU,UAAU,KAAK,sBAAsB,UAAU,GAAG;AAC1F,WAAO;AAAA,EACT;AACA,SAAOH,kBAAiB,UAAU,EAAE,aAAa,WAAW,yBAAyB,YAAY,QAAQ;AAC3G;AAKA,SAAS,4BAA4B,SAAS,OAAO;AACnD,QAAM,eAAe,MAAM,IAAI,OAAO;AACtC,MAAI,cAAc;AAChB,WAAO;AAAA,EACT;AACA,MAAI,SAAS,qBAAqB,SAAS,CAAC,GAAG,KAAK,EAAE,OAAO,QAAM,UAAU,EAAE,KAAK,YAAY,EAAE,MAAM,MAAM;AAC9G,MAAI,sCAAsC;AAC1C,QAAM,iBAAiBA,kBAAiB,OAAO,EAAE,aAAa;AAC9D,MAAI,cAAc,iBAAiB,cAAc,OAAO,IAAI;AAG5D,SAAO,UAAU,WAAW,KAAK,CAAC,sBAAsB,WAAW,GAAG;AACpE,UAAM,gBAAgBA,kBAAiB,WAAW;AAClD,UAAM,0BAA0B,kBAAkB,WAAW;AAC7D,QAAI,CAAC,2BAA2B,cAAc,aAAa,SAAS;AAClE,4CAAsC;AAAA,IACxC;AACA,UAAM,wBAAwB,iBAAiB,CAAC,2BAA2B,CAAC,sCAAsC,CAAC,2BAA2B,cAAc,aAAa,YAAY,CAAC,CAAC,uCAAuC,CAAC,YAAY,OAAO,EAAE,SAAS,oCAAoC,QAAQ,KAAK,kBAAkB,WAAW,KAAK,CAAC,2BAA2B,yBAAyB,SAAS,WAAW;AACzZ,QAAI,uBAAuB;AAEzB,eAAS,OAAO,OAAO,cAAY,aAAa,WAAW;AAAA,IAC7D,OAAO;AAEL,4CAAsC;AAAA,IACxC;AACA,kBAAc,cAAc,WAAW;AAAA,EACzC;AACA,QAAM,IAAI,SAAS,MAAM;AACzB,SAAO;AACT;AAIA,SAAS,gBAAgB,MAAM;AAC7B,MAAI;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI;AACJ,QAAM,2BAA2B,aAAa,sBAAsB,4BAA4B,SAAS,KAAK,EAAE,IAAI,CAAC,EAAE,OAAO,QAAQ;AACtI,QAAM,oBAAoB,CAAC,GAAG,0BAA0B,YAAY;AACpE,QAAM,wBAAwB,kBAAkB,CAAC;AACjD,QAAM,eAAe,kBAAkB,OAAO,CAAC,SAAS,qBAAqB;AAC3E,UAAM,OAAO,kCAAkC,SAAS,kBAAkB,QAAQ;AAClF,YAAQ,MAAM,IAAI,KAAK,KAAK,QAAQ,GAAG;AACvC,YAAQ,QAAQ,IAAI,KAAK,OAAO,QAAQ,KAAK;AAC7C,YAAQ,SAAS,IAAI,KAAK,QAAQ,QAAQ,MAAM;AAChD,YAAQ,OAAO,IAAI,KAAK,MAAM,QAAQ,IAAI;AAC1C,WAAO;AAAA,EACT,GAAG,kCAAkC,SAAS,uBAAuB,QAAQ,CAAC;AAC9E,SAAO;AAAA,IACL,OAAO,aAAa,QAAQ,aAAa;AAAA,IACzC,QAAQ,aAAa,SAAS,aAAa;AAAA,IAC3C,GAAG,aAAa;AAAA,IAChB,GAAG,aAAa;AAAA,EAClB;AACF;AAEA,SAAS,cAAc,SAAS;AAC9B,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,EACF,IAAI,iBAAiB,OAAO;AAC5B,SAAO;AAAA,IACL;AAAA,IACA;AAAA,EACF;AACF;AAEA,SAAS,8BAA8B,SAAS,cAAc,UAAU;AACtE,QAAM,0BAA0B,cAAc,YAAY;AAC1D,QAAM,kBAAkB,mBAAmB,YAAY;AACvD,QAAM,UAAU,aAAa;AAC7B,QAAM,OAAO,sBAAsB,SAAS,MAAM,SAAS,YAAY;AACvE,MAAI,SAAS;AAAA,IACX,YAAY;AAAA,IACZ,WAAW;AAAA,EACb;AACA,QAAM,UAAU,aAAa,CAAC;AAC9B,MAAI,2BAA2B,CAAC,2BAA2B,CAAC,SAAS;AACnE,QAAI,YAAY,YAAY,MAAM,UAAU,kBAAkB,eAAe,GAAG;AAC9E,eAAS,cAAc,YAAY;AAAA,IACrC;AACA,QAAI,yBAAyB;AAC3B,YAAM,aAAa,sBAAsB,cAAc,MAAM,SAAS,YAAY;AAClF,cAAQ,IAAI,WAAW,IAAI,aAAa;AACxC,cAAQ,IAAI,WAAW,IAAI,aAAa;AAAA,IAC1C,WAAW,iBAAiB;AAC1B,cAAQ,IAAI,oBAAoB,eAAe;AAAA,IACjD;AAAA,EACF;AACA,QAAME,KAAI,KAAK,OAAO,OAAO,aAAa,QAAQ;AAClD,QAAMC,MAAI,KAAK,MAAM,OAAO,YAAY,QAAQ;AAChD,SAAO;AAAA,IACL,GAAAD;AAAA,IACA,GAAAC;AAAA,IACA,OAAO,KAAK;AAAA,IACZ,QAAQ,KAAK;AAAA,EACf;AACF;AAEA,SAAS,oBAAoB,SAAS,UAAU;AAC9C,MAAI,CAAC,cAAc,OAAO,KAAKH,kBAAiB,OAAO,EAAE,aAAa,SAAS;AAC7E,WAAO;AAAA,EACT;AACA,MAAI,UAAU;AACZ,WAAO,SAAS,OAAO;AAAA,EACzB;AACA,SAAO,QAAQ;AACjB;AAIA,SAAS,gBAAgB,SAAS,UAAU;AAC1C,QAAMK,UAAS,UAAU,OAAO;AAChC,MAAI,CAAC,cAAc,OAAO,KAAK,WAAW,OAAO,GAAG;AAClD,WAAOA;AAAA,EACT;AACA,MAAI,eAAe,oBAAoB,SAAS,QAAQ;AACxD,SAAO,gBAAgB,eAAe,YAAY,KAAKL,kBAAiB,YAAY,EAAE,aAAa,UAAU;AAC3G,mBAAe,oBAAoB,cAAc,QAAQ;AAAA,EAC3D;AACA,MAAI,iBAAiB,YAAY,YAAY,MAAM,UAAU,YAAY,YAAY,MAAM,UAAUA,kBAAiB,YAAY,EAAE,aAAa,YAAY,CAAC,kBAAkB,YAAY,IAAI;AAC9L,WAAOK;AAAA,EACT;AACA,SAAO,gBAAgB,mBAAmB,OAAO,KAAKA;AACxD;AAEA,IAAM,kBAAkB,eAAgB,MAAM;AAC5C,QAAM,oBAAoB,KAAK,mBAAmB;AAClD,QAAM,kBAAkB,KAAK;AAC7B,SAAO;AAAA,IACL,WAAW,8BAA8B,KAAK,WAAW,MAAM,kBAAkB,KAAK,QAAQ,GAAG,KAAK,QAAQ;AAAA,IAC9G,UAAU;AAAA,MACR,GAAG;AAAA,MACH,GAAG;AAAA,MACH,GAAI,MAAM,gBAAgB,KAAK,QAAQ;AAAA,IACzC;AAAA,EACF;AACF;AAEA,SAAS,MAAM,SAAS;AACtB,SAAOL,kBAAiB,OAAO,EAAE,cAAc;AACjD;AAEA,IAAM,WAAW;AAAA,EACf;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;AAGA,SAAS,YAAY,SAAS,QAAQ;AACpC,MAAIM,MAAK;AACT,MAAIC;AACJ,QAAM,OAAO,mBAAmB,OAAO;AACvC,WAAS,UAAU;AACjB,QAAI;AACJ,iBAAaA,UAAS;AACtB,KAAC,MAAMD,QAAO,QAAQ,IAAI,WAAW;AACrC,IAAAA,MAAK;AAAA,EACP;AACA,WAAS,QAAQ,MAAM,WAAW;AAChC,QAAI,SAAS,QAAQ;AACnB,aAAO;AAAA,IACT;AACA,QAAI,cAAc,QAAQ;AACxB,kBAAY;AAAA,IACd;AACA,YAAQ;AACR,UAAM;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF,IAAI,QAAQ,sBAAsB;AAClC,QAAI,CAAC,MAAM;AACT,aAAO;AAAA,IACT;AACA,QAAI,CAAC,SAAS,CAAC,QAAQ;AACrB;AAAA,IACF;AACA,UAAM,WAAW,MAAM,GAAG;AAC1B,UAAM,aAAa,MAAM,KAAK,eAAe,OAAO,MAAM;AAC1D,UAAM,cAAc,MAAM,KAAK,gBAAgB,MAAM,OAAO;AAC5D,UAAM,YAAY,MAAM,IAAI;AAC5B,UAAM,aAAa,CAAC,WAAW,QAAQ,CAAC,aAAa,QAAQ,CAAC,cAAc,QAAQ,CAAC,YAAY;AACjG,UAAM,UAAU;AAAA,MACd;AAAA,MACA,WAAW,IAAI,GAAG,IAAI,GAAG,SAAS,CAAC,KAAK;AAAA,IAC1C;AACA,QAAI,gBAAgB;AACpB,aAAS,cAAc,SAAS;AAC9B,YAAM,QAAQ,QAAQ,CAAC,EAAE;AACzB,UAAI,UAAU,WAAW;AACvB,YAAI,CAAC,eAAe;AAClB,iBAAO,QAAQ;AAAA,QACjB;AACA,YAAI,CAAC,OAAO;AACV,UAAAC,aAAY,WAAW,MAAM;AAC3B,oBAAQ,OAAO,IAAI;AAAA,UACrB,GAAG,GAAG;AAAA,QACR,OAAO;AACL,kBAAQ,OAAO,KAAK;AAAA,QACtB;AAAA,MACF;AACA,sBAAgB;AAAA,IAClB;AAIA,QAAI;AACF,MAAAD,MAAK,IAAI,qBAAqB,eAAe;AAAA,QAC3C,GAAG;AAAA;AAAA,QAEH,MAAM,KAAK;AAAA,MACb,CAAC;AAAA,IACH,SAASF,IAAG;AACV,MAAAE,MAAK,IAAI,qBAAqB,eAAe,OAAO;AAAA,IACtD;AACA,IAAAA,IAAG,QAAQ,OAAO;AAAA,EACpB;AACA,UAAQ,IAAI;AACZ,SAAO;AACT;AAUA,SAAS,WAAW,WAAW,UAAU,QAAQ,SAAS;AACxD,MAAI,YAAY,QAAQ;AACtB,cAAU,CAAC;AAAA,EACb;AACA,QAAM;AAAA,IACJ,iBAAiB;AAAA,IACjB,iBAAiB;AAAA,IACjB,gBAAgB,OAAO,mBAAmB;AAAA,IAC1C,cAAc,OAAO,yBAAyB;AAAA,IAC9C,iBAAiB;AAAA,EACnB,IAAI;AACJ,QAAM,cAAc,cAAc,SAAS;AAC3C,QAAM,YAAY,kBAAkB,iBAAiB,CAAC,GAAI,cAAc,qBAAqB,WAAW,IAAI,CAAC,GAAI,GAAG,qBAAqB,QAAQ,CAAC,IAAI,CAAC;AACvJ,YAAU,QAAQ,cAAY;AAC5B,sBAAkB,SAAS,iBAAiB,UAAU,QAAQ;AAAA,MAC5D,SAAS;AAAA,IACX,CAAC;AACD,sBAAkB,SAAS,iBAAiB,UAAU,MAAM;AAAA,EAC9D,CAAC;AACD,QAAM,YAAY,eAAe,cAAc,YAAY,aAAa,MAAM,IAAI;AAClF,MAAI,iBAAiB;AACrB,MAAI,iBAAiB;AACrB,MAAI,eAAe;AACjB,qBAAiB,IAAI,eAAe,UAAQ;AAC1C,UAAI,CAAC,UAAU,IAAI;AACnB,UAAI,cAAc,WAAW,WAAW,eAAe,gBAAgB;AAGrE,uBAAe,UAAU,QAAQ;AACjC,6BAAqB,cAAc;AACnC,yBAAiB,sBAAsB,MAAM;AAC3C,cAAI;AACJ,WAAC,kBAAkB,mBAAmB,QAAQ,gBAAgB,QAAQ,QAAQ;AAAA,QAChF,CAAC;AAAA,MACH;AACA,aAAO;AAAA,IACT,CAAC;AACD,QAAI,eAAe,CAAC,gBAAgB;AAClC,qBAAe,QAAQ,WAAW;AAAA,IACpC;AACA,mBAAe,QAAQ,QAAQ;AAAA,EACjC;AACA,MAAI;AACJ,MAAI,cAAc,iBAAiB,sBAAsB,SAAS,IAAI;AACtE,MAAI,gBAAgB;AAClB,cAAU;AAAA,EACZ;AACA,WAAS,YAAY;AACnB,UAAM,cAAc,sBAAsB,SAAS;AACnD,QAAI,gBAAgB,YAAY,MAAM,YAAY,KAAK,YAAY,MAAM,YAAY,KAAK,YAAY,UAAU,YAAY,SAAS,YAAY,WAAW,YAAY,SAAS;AAC/K,aAAO;AAAA,IACT;AACA,kBAAc;AACd,cAAU,sBAAsB,SAAS;AAAA,EAC3C;AACA,SAAO;AACP,SAAO,MAAM;AACX,QAAI;AACJ,cAAU,QAAQ,cAAY;AAC5B,wBAAkB,SAAS,oBAAoB,UAAU,MAAM;AAC/D,wBAAkB,SAAS,oBAAoB,UAAU,MAAM;AAAA,IACjE,CAAC;AACD,iBAAa,QAAQ,UAAU;AAC/B,KAAC,mBAAmB,mBAAmB,QAAQ,iBAAiB,WAAW;AAC3E,qBAAiB;AACjB,QAAI,gBAAgB;AAClB,2BAAqB,OAAO;AAAA,IAC9B;AAAA,EACF;AACF;AAeA,IAAME,SAAQ;AAQd,IAAMC,QAAO;AAQb,IAAMC,QAAO;AAgCb,IAAMC,mBAAkB,CAAC,WAAW,UAAU,YAAY;AAIxD,QAAM,QAAQ,oBAAI,IAAI;AACtB,QAAM,gBAAgB;AAAA,IACpB;AAAA,IACA,GAAG;AAAA,EACL;AACA,QAAM,oBAAoB;AAAA,IACxB,GAAG,cAAc;AAAA,IACjB,IAAI;AAAA,EACN;AACA,SAAO,gBAAkB,WAAW,UAAU;AAAA,IAC5C,GAAG;AAAA,IACH,UAAU;AAAA,EACZ,CAAC;AACH;;;AClqBA,IAAAC,SAAuB;AACvB,IAAAC,iBAA2C;AAC3C,eAA0B;AAwC1B,IAAI,QAAQ,OAAO,aAAa,cAAc,iCAAkB;AAIhE,SAAS,UAAUC,KAAGC,KAAG;AACvB,MAAID,QAAMC,KAAG;AACX,WAAO;AAAA,EACT;AACA,MAAI,OAAOD,QAAM,OAAOC,KAAG;AACzB,WAAO;AAAA,EACT;AACA,MAAI,OAAOD,QAAM,cAAcA,IAAE,SAAS,MAAMC,IAAE,SAAS,GAAG;AAC5D,WAAO;AAAA,EACT;AACA,MAAI;AACJ,MAAIC;AACJ,MAAI;AACJ,MAAIF,OAAKC,OAAK,OAAOD,QAAM,UAAU;AACnC,QAAI,MAAM,QAAQA,GAAC,GAAG;AACpB,eAASA,IAAE;AACX,UAAI,WAAWC,IAAE;AAAQ,eAAO;AAChC,WAAKC,MAAI,QAAQA,UAAQ,KAAI;AAC3B,YAAI,CAAC,UAAUF,IAAEE,GAAC,GAAGD,IAAEC,GAAC,CAAC,GAAG;AAC1B,iBAAO;AAAA,QACT;AAAA,MACF;AACA,aAAO;AAAA,IACT;AACA,WAAO,OAAO,KAAKF,GAAC;AACpB,aAAS,KAAK;AACd,QAAI,WAAW,OAAO,KAAKC,GAAC,EAAE,QAAQ;AACpC,aAAO;AAAA,IACT;AACA,SAAKC,MAAI,QAAQA,UAAQ,KAAI;AAC3B,UAAI,CAAC,CAAC,EAAE,eAAe,KAAKD,KAAG,KAAKC,GAAC,CAAC,GAAG;AACvC,eAAO;AAAA,MACT;AAAA,IACF;AACA,SAAKA,MAAI,QAAQA,UAAQ,KAAI;AAC3B,YAAM,MAAM,KAAKA,GAAC;AAClB,UAAI,QAAQ,YAAYF,IAAE,UAAU;AAClC;AAAA,MACF;AACA,UAAI,CAAC,UAAUA,IAAE,GAAG,GAAGC,IAAE,GAAG,CAAC,GAAG;AAC9B,eAAO;AAAA,MACT;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAGA,SAAOD,QAAMA,OAAKC,QAAMA;AAC1B;AAEA,SAAS,OAAO,SAAS;AACvB,MAAI,OAAO,WAAW,aAAa;AACjC,WAAO;AAAA,EACT;AACA,QAAM,MAAM,QAAQ,cAAc,eAAe;AACjD,SAAO,IAAI,oBAAoB;AACjC;AAEA,SAAS,WAAW,SAAS,OAAO;AAClC,QAAM,MAAM,OAAO,OAAO;AAC1B,SAAO,KAAK,MAAM,QAAQ,GAAG,IAAI;AACnC;AAEA,SAAS,aAAa,OAAO;AAC3B,QAAM,MAAY,cAAO,KAAK;AAC9B,QAAM,MAAM;AACV,QAAI,UAAU;AAAA,EAChB,CAAC;AACD,SAAO;AACT;AAMA,SAAS,YAAY,SAAS;AAC5B,MAAI,YAAY,QAAQ;AACtB,cAAU,CAAC;AAAA,EACb;AACA,QAAM;AAAA,IACJ,YAAY;AAAA,IACZ,WAAW;AAAA,IACX,aAAa,CAAC;AAAA,IACd,UAAAE;AAAA,IACA,UAAU;AAAA,MACR,WAAW;AAAA,MACX,UAAU;AAAA,IACZ,IAAI,CAAC;AAAA,IACL,YAAY;AAAA,IACZ;AAAA,IACA;AAAA,EACF,IAAI;AACJ,QAAM,CAAC,MAAM,OAAO,IAAU,gBAAS;AAAA,IACrC,GAAG;AAAA,IACH,GAAG;AAAA,IACH;AAAA,IACA;AAAA,IACA,gBAAgB,CAAC;AAAA,IACjB,cAAc;AAAA,EAChB,CAAC;AACD,QAAM,CAAC,kBAAkB,mBAAmB,IAAU,gBAAS,UAAU;AACzE,MAAI,CAAC,UAAU,kBAAkB,UAAU,GAAG;AAC5C,wBAAoB,UAAU;AAAA,EAChC;AACA,QAAM,CAAC,YAAY,aAAa,IAAU,gBAAS,IAAI;AACvD,QAAM,CAAC,WAAW,YAAY,IAAU,gBAAS,IAAI;AACrD,QAAM,eAAqB,mBAAY,UAAQ;AAC7C,QAAI,SAAS,aAAa,SAAS;AACjC,mBAAa,UAAU;AACvB,oBAAc,IAAI;AAAA,IACpB;AAAA,EACF,GAAG,CAAC,CAAC;AACL,QAAM,cAAoB,mBAAY,UAAQ;AAC5C,QAAI,SAAS,YAAY,SAAS;AAChC,kBAAY,UAAU;AACtB,mBAAa,IAAI;AAAA,IACnB;AAAA,EACF,GAAG,CAAC,CAAC;AACL,QAAM,cAAc,qBAAqB;AACzC,QAAM,aAAa,oBAAoB;AACvC,QAAM,eAAqB,cAAO,IAAI;AACtC,QAAM,cAAoB,cAAO,IAAI;AACrC,QAAM,UAAgB,cAAO,IAAI;AACjC,QAAM,0BAA0B,wBAAwB;AACxD,QAAM,0BAA0B,aAAa,oBAAoB;AACjE,QAAM,cAAc,aAAaA,SAAQ;AACzC,QAAM,SAAe,mBAAY,MAAM;AACrC,QAAI,CAAC,aAAa,WAAW,CAAC,YAAY,SAAS;AACjD;AAAA,IACF;AACA,UAAM,SAAS;AAAA,MACb;AAAA,MACA;AAAA,MACA,YAAY;AAAA,IACd;AACA,QAAI,YAAY,SAAS;AACvB,aAAO,WAAW,YAAY;AAAA,IAChC;AACA,IAAAC,iBAAgB,aAAa,SAAS,YAAY,SAAS,MAAM,EAAE,KAAK,CAAAC,UAAQ;AAC9E,YAAM,WAAW;AAAA,QACf,GAAGA;AAAA,QACH,cAAc;AAAA,MAChB;AACA,UAAI,aAAa,WAAW,CAAC,UAAU,QAAQ,SAAS,QAAQ,GAAG;AACjE,gBAAQ,UAAU;AAClB,QAAS,mBAAU,MAAM;AACvB,kBAAQ,QAAQ;AAAA,QAClB,CAAC;AAAA,MACH;AAAA,IACF,CAAC;AAAA,EACH,GAAG,CAAC,kBAAkB,WAAW,UAAU,WAAW,CAAC;AACvD,QAAM,MAAM;AACV,QAAI,SAAS,SAAS,QAAQ,QAAQ,cAAc;AAClD,cAAQ,QAAQ,eAAe;AAC/B,cAAQ,CAAAA,WAAS;AAAA,QACf,GAAGA;AAAA,QACH,cAAc;AAAA,MAChB,EAAE;AAAA,IACJ;AAAA,EACF,GAAG,CAAC,IAAI,CAAC;AACT,QAAM,eAAqB,cAAO,KAAK;AACvC,QAAM,MAAM;AACV,iBAAa,UAAU;AACvB,WAAO,MAAM;AACX,mBAAa,UAAU;AAAA,IACzB;AAAA,EACF,GAAG,CAAC,CAAC;AAGL,QAAM,MAAM;AACV,QAAI;AAAa,mBAAa,UAAU;AACxC,QAAI;AAAY,kBAAY,UAAU;AACtC,QAAI,eAAe,YAAY;AAC7B,UAAI,wBAAwB,SAAS;AACnC,eAAO,wBAAwB,QAAQ,aAAa,YAAY,MAAM;AAAA,MACxE;AACA,aAAO;AAAA,IACT;AAAA,EACF,GAAG,CAAC,aAAa,YAAY,QAAQ,yBAAyB,uBAAuB,CAAC;AACtF,QAAM,OAAa,eAAQ,OAAO;AAAA,IAChC,WAAW;AAAA,IACX,UAAU;AAAA,IACV;AAAA,IACA;AAAA,EACF,IAAI,CAAC,cAAc,WAAW,CAAC;AAC/B,QAAM,WAAiB,eAAQ,OAAO;AAAA,IACpC,WAAW;AAAA,IACX,UAAU;AAAA,EACZ,IAAI,CAAC,aAAa,UAAU,CAAC;AAC7B,QAAM,iBAAuB,eAAQ,MAAM;AACzC,UAAM,gBAAgB;AAAA,MACpB,UAAU;AAAA,MACV,MAAM;AAAA,MACN,KAAK;AAAA,IACP;AACA,QAAI,CAAC,SAAS,UAAU;AACtB,aAAO;AAAA,IACT;AACA,UAAMC,KAAI,WAAW,SAAS,UAAU,KAAK,CAAC;AAC9C,UAAMC,MAAI,WAAW,SAAS,UAAU,KAAK,CAAC;AAC9C,QAAI,WAAW;AACb,aAAO;AAAA,QACL,GAAG;AAAA,QACH,WAAW,eAAeD,KAAI,SAASC,MAAI;AAAA,QAC3C,GAAI,OAAO,SAAS,QAAQ,KAAK,OAAO;AAAA,UACtC,YAAY;AAAA,QACd;AAAA,MACF;AAAA,IACF;AACA,WAAO;AAAA,MACL,UAAU;AAAA,MACV,MAAMD;AAAA,MACN,KAAKC;AAAA,IACP;AAAA,EACF,GAAG,CAAC,UAAU,WAAW,SAAS,UAAU,KAAK,GAAG,KAAK,CAAC,CAAC;AAC3D,SAAa,eAAQ,OAAO;AAAA,IAC1B,GAAG;AAAA,IACH;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI,CAAC,MAAM,QAAQ,MAAM,UAAU,cAAc,CAAC;AACpD;;;ACzQA,IAAMC,qBAAqB,CACzB,sBACA,uBACA,yBACA,wBACA,uBACA,qCACA,gCACA,gCACA,iEACA,8CACA,sBAAsB;AAExB,IAAMC,oBAAoCD,mBAAmBE,KAAK,GAAG;AAErE,IAAMC,YAAY,OAAOC,YAAY;AAErC,IAAMC,UAAUF,YACZ,WAAY;AAAA,IACZC,QAAQE,UAAUD,WAClBD,QAAQE,UAAUC,qBAClBH,QAAQE,UAAUE;AAEtB,IAAMC,cACJ,CAACN,aAAaC,QAAQE,UAAUG,cAC5B,SAACC,SAAO;AAAA,MAAAC;AAAA,SAAKD,YAAAA,QAAAA,YAAOC,SAAAA,UAAAA,uBAAPD,QAASD,iBAAW,QAAAE,yBAApBA,SAAAA,SAAAA,qBAAAC,KAAAF,OAAuB;AAAC,IACrC,SAACA,SAAO;AAAA,SAAKA,YAAAA,QAAAA,YAAAA,SAAAA,SAAAA,QAASG;AAAa;AAioBzC,IAAMC,6BAA6CC,mBAChDC,OAAO,QAAQ,EACfC,KAAK,GAAG;;;AP1pBX,IAAAC,oBAAwC;AAMxC,SAAS,aAAa,MAAM;AAE1B,SAAa,eAAQ,MAAM;AACzB,QAAI,KAAK,MAAM,SAAO,OAAO,IAAI,GAAG;AAClC,aAAO;AAAA,IACT;AACA,WAAO,WAAS;AACd,WAAK,QAAQ,SAAO;AAClB,YAAI,OAAO,QAAQ,YAAY;AAC7B,cAAI,KAAK;AAAA,QACX,WAAW,OAAO,MAAM;AACtB,cAAI,UAAU;AAAA,QAChB;AAAA,MACF,CAAC;AAAA,IACH;AAAA,EACF,GAAG,IAAI;AACT;AAGA,IAAM,qBAAqBC,OAAmB,qBAAqB,SAAS,CAAC;AAC7E,IAAM,yBAAyB,uBAAuB,QAAM,GAAG;AAC/D,SAAS,eAAe,UAAU;AAChC,QAAM,MAAY,cAAO,MAAM;AAC7B,QAAI,MAAuC;AACzC,YAAM,IAAI,MAAM,+CAA+C;AAAA,IACjE;AAAA,EACF,CAAC;AACD,yBAAuB,MAAM;AAC3B,QAAI,UAAU;AAAA,EAChB,CAAC;AACD,SAAa,mBAAY,WAAY;AACnC,aAAS,OAAO,UAAU,QAAQ,OAAO,IAAI,MAAM,IAAI,GAAG,OAAO,GAAG,OAAO,MAAM,QAAQ;AACvF,WAAK,IAAI,IAAI,UAAU,IAAI;AAAA,IAC7B;AACA,WAAO,IAAI,WAAW,OAAO,SAAS,IAAI,QAAQ,GAAG,IAAI;AAAA,EAC3D,GAAG,CAAC,CAAC;AACP;AAEA,IAAM,WAAW;AACjB,IAAM,aAAa;AACnB,IAAM,aAAa;AACnB,IAAM,cAAc;AACpB,SAAS,eAAeC,QAAO,MAAM,SAAS;AAC5C,SAAO,KAAK,MAAMA,SAAQ,IAAI,MAAM;AACtC;AACA,SAAS,mBAAmB,SAASA,QAAO;AAC1C,SAAOA,SAAQ,KAAKA,UAAS,QAAQ,QAAQ;AAC/C;AACA,SAAS,YAAY,SAAS,iBAAiB;AAC7C,SAAO,qBAAqB,SAAS;AAAA,IACnC;AAAA,EACF,CAAC;AACH;AACA,SAAS,YAAY,SAAS,iBAAiB;AAC7C,SAAO,qBAAqB,SAAS;AAAA,IACnC,WAAW;AAAA,IACX,eAAe,QAAQ,QAAQ;AAAA,IAC/B;AAAA,EACF,CAAC;AACH;AACA,SAAS,qBAAqB,SAAS,OAAO;AAC5C,MAAI;AAAA,IACF,gBAAgB;AAAA,IAChB,YAAY;AAAA,IACZ;AAAA,IACA,SAAS;AAAA,EACX,IAAI,UAAU,SAAS,CAAC,IAAI;AAC5B,QAAM,OAAO,QAAQ;AACrB,QAAM,kBAAkB,kBAAkB,CAAAA,WAAS,gBAAgB,SAASA,MAAK,IAAI,CAAAA,WAAS;AAC5F,UAAM,UAAU,KAAKA,MAAK;AAC1B,WAAO,WAAW,QAAQ,QAAQ,aAAa,UAAU,KAAK,QAAQ,aAAa,eAAe,MAAM;AAAA,EAC1G;AACA,MAAIA,SAAQ;AACZ,KAAG;AACD,IAAAA,UAAS,YAAY,CAAC,SAAS;AAAA,EACjC,SAASA,UAAS,KAAKA,UAAS,KAAK,SAAS,KAAK,gBAAgBA,MAAK;AACxE,SAAOA;AACT;AACA,SAAS,sBAAsB,aAAa,MAAM;AAChD,MAAI;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,WAAW,OAAO;AAAA,EACpB,IAAI;AACJ,MAAI,YAAY;AAChB,MAAI,MAAM,QAAQ,UAAU;AAC1B,YAAQ,UAAU,KAAK;AACvB,QAAI,cAAc,IAAI;AACpB,kBAAY;AAAA,IACd,OAAO;AACL,kBAAY,qBAAqB,aAAa;AAAA,QAC5C,eAAe;AAAA,QACf,QAAQ;AAAA,QACR,WAAW;AAAA,QACX;AAAA,MACF,CAAC;AACD,UAAI,SAAS,YAAY,OAAO,YAAY,YAAY,IAAI;AAC1D,cAAM,MAAM,YAAY;AACxB,cAAM,SAAS,WAAW;AAC1B,cAAMC,UAAS,YAAY,SAAS;AACpC,YAAI,WAAW,KAAK;AAClB,sBAAY;AAAA,QACd,OAAO;AACL,sBAAY,SAAS,MAAMA,UAASA,UAAS;AAAA,QAC/C;AAAA,MACF;AAAA,IACF;AACA,QAAI,mBAAmB,aAAa,SAAS,GAAG;AAC9C,kBAAY;AAAA,IACd;AAAA,EACF;AACA,MAAI,MAAM,QAAQ,YAAY;AAC5B,YAAQ,UAAU,KAAK;AACvB,QAAI,cAAc,IAAI;AACpB,kBAAY;AAAA,IACd,OAAO;AACL,kBAAY,qBAAqB,aAAa;AAAA,QAC5C,eAAe;AAAA,QACf,QAAQ;AAAA,QACR;AAAA,MACF,CAAC;AACD,UAAI,QAAQ,YAAY,OAAO,UAAU;AACvC,oBAAY,qBAAqB,aAAa;AAAA,UAC5C,eAAe,YAAY,OAAO;AAAA,UAClC,QAAQ;AAAA,UACR;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF;AACA,QAAI,mBAAmB,aAAa,SAAS,GAAG;AAC9C,kBAAY;AAAA,IACd;AAAA,EACF;AAGA,MAAI,gBAAgB,QAAQ;AAC1B,UAAM,UAAU,MAAM,YAAY,IAAI;AACtC,QAAI,MAAM,QAAQ,aAAa;AAC7B,cAAQ,UAAU,KAAK;AACvB,UAAI,YAAY,SAAS,OAAO,GAAG;AACjC,oBAAY,qBAAqB,aAAa;AAAA,UAC5C,eAAe;AAAA,UACf;AAAA,QACF,CAAC;AACD,YAAI,QAAQ,eAAe,WAAW,MAAM,OAAO,GAAG;AACpD,sBAAY,qBAAqB,aAAa;AAAA,YAC5C,eAAe,YAAY,YAAY,OAAO;AAAA,YAC9C;AAAA,UACF,CAAC;AAAA,QACH;AAAA,MACF,WAAW,MAAM;AACf,oBAAY,qBAAqB,aAAa;AAAA,UAC5C,eAAe,YAAY,YAAY,OAAO;AAAA,UAC9C;AAAA,QACF,CAAC;AAAA,MACH;AACA,UAAI,eAAe,WAAW,MAAM,OAAO,GAAG;AAC5C,oBAAY;AAAA,MACd;AAAA,IACF;AACA,QAAI,MAAM,QAAQ,YAAY;AAC5B,cAAQ,UAAU,KAAK;AACvB,UAAI,YAAY,SAAS,GAAG;AAC1B,oBAAY,qBAAqB,aAAa;AAAA,UAC5C,eAAe;AAAA,UACf;AAAA,UACA,WAAW;AAAA,QACb,CAAC;AACD,YAAI,QAAQ,eAAe,WAAW,MAAM,OAAO,GAAG;AACpD,sBAAY,qBAAqB,aAAa;AAAA,YAC5C,eAAe,aAAa,OAAO,YAAY;AAAA,YAC/C,WAAW;AAAA,YACX;AAAA,UACF,CAAC;AAAA,QACH;AAAA,MACF,WAAW,MAAM;AACf,oBAAY,qBAAqB,aAAa;AAAA,UAC5C,eAAe,aAAa,OAAO,YAAY;AAAA,UAC/C,WAAW;AAAA,UACX;AAAA,QACF,CAAC;AAAA,MACH;AACA,UAAI,eAAe,WAAW,MAAM,OAAO,GAAG;AAC5C,oBAAY;AAAA,MACd;AAAA,IACF;AACA,UAAM,UAAU,MAAM,WAAW,IAAI,MAAM;AAC3C,QAAI,mBAAmB,aAAa,SAAS,GAAG;AAC9C,UAAI,QAAQ,SAAS;AACnB,oBAAY,MAAM,QAAQ,aAAa,WAAW,qBAAqB,aAAa;AAAA,UAClF,eAAe,YAAY,YAAY,OAAO;AAAA,UAC9C;AAAA,QACF,CAAC;AAAA,MACH,OAAO;AACL,oBAAY;AAAA,MACd;AAAA,IACF;AAAA,EACF;AACA,SAAO;AACT;AAGA,SAAS,aAAa,OAAO,MAAM,OAAO;AACxC,QAAM,UAAU,CAAC;AACjB,MAAI,aAAa;AACjB,QAAM,QAAQ,CAAC,OAAOD,WAAU;AAC9B,QAAI;AAAA,MACF;AAAA,MACA;AAAA,IACF,IAAI;AACJ,QAAI,QAAQ,MAAM;AAChB,UAAI,MAAuC;AACzC,cAAM,IAAI,MAAM,uDAAuDA,SAAQ,+BAA+B;AAAA,MAChH;AAAA,IACF;AACA,QAAI,aAAa;AACjB,QAAI,OAAO;AACT,mBAAa;AAAA,IACf;AACA,WAAO,CAAC,YAAY;AAClB,YAAM,cAAc,CAAC;AACrB,eAASE,MAAI,GAAGA,MAAI,OAAOA,OAAK;AAC9B,iBAASC,MAAI,GAAGA,MAAI,QAAQA,OAAK;AAC/B,sBAAY,KAAK,aAAaD,MAAIC,MAAI,IAAI;AAAA,QAC5C;AAAA,MACF;AACA,UAAI,aAAa,OAAO,SAAS,QAAQ,YAAY,MAAM,UAAQ,QAAQ,IAAI,KAAK,IAAI,GAAG;AACzF,oBAAY,QAAQ,UAAQ;AAC1B,kBAAQ,IAAI,IAAIH;AAAA,QAClB,CAAC;AACD,qBAAa;AAAA,MACf,OAAO;AACL;AAAA,MACF;AAAA,IACF;AAAA,EACF,CAAC;AAGD,SAAO,CAAC,GAAG,OAAO;AACpB;AAGA,SAAS,qBAAqBA,QAAO,OAAO,SAAS,MAAM,QAAQ;AACjE,MAAIA,WAAU;AAAI,WAAO;AACzB,QAAM,iBAAiB,QAAQ,QAAQA,MAAK;AAC5C,UAAQ,QAAQ;AAAA,IACd,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO,iBAAiB,MAAMA,MAAK,EAAE,QAAQ;AAAA,IAC/C,KAAK;AACH,aAAO,kBAAkB,MAAMA,MAAK,EAAE,SAAS,KAAK;AAAA,IACtD,KAAK;AACH,aAAO,QAAQ,YAAYA,MAAK;AAAA,EACpC;AACF;AAGA,SAAS,eAAe,SAAS,SAAS;AACxC,SAAO,QAAQ,QAAQ,CAACA,QAAO,cAAc,QAAQ,SAASA,MAAK,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC;AACzF;AAEA,IAAI,QAAQ;AACZ,SAAS,aAAa,IAAI,SAAS;AACjC,MAAI,YAAY,QAAQ;AACtB,cAAU,CAAC;AAAA,EACb;AACA,QAAM;AAAA,IACJ,gBAAgB;AAAA,IAChB,iBAAiB;AAAA,IACjB,OAAO;AAAA,EACT,IAAI;AACJ,oBAAkB,qBAAqB,KAAK;AAC5C,QAAM,OAAO,MAAM,MAAM,OAAO,SAAS,GAAG,MAAM;AAAA,IAChD;AAAA,EACF,CAAC;AACD,MAAI,MAAM;AACR,SAAK;AAAA,EACP,OAAO;AACL,YAAQ,sBAAsB,IAAI;AAAA,EACpC;AACF;AAEA,IAAIA,SAAQ,OAAO,aAAa,cAAc,iCAAkB;AAEhE,SAAS,uBAAuBI,KAAGC,KAAG;AACpC,QAAM,WAAWD,IAAE,wBAAwBC,GAAC;AAC5C,MAAI,WAAW,KAAK,+BAA+B,WAAW,KAAK,gCAAgC;AACjG,WAAO;AAAA,EACT;AACA,MAAI,WAAW,KAAK,+BAA+B,WAAW,KAAK,4BAA4B;AAC7F,WAAO;AAAA,EACT;AACA,SAAO;AACT;AACA,SAAS,aAAa,MAAM,MAAM;AAChC,MAAI,KAAK,SAAS,KAAK,MAAM;AAC3B,WAAO;AAAA,EACT;AACA,aAAW,CAAC,KAAK,KAAK,KAAK,KAAK,QAAQ,GAAG;AACzC,QAAI,UAAU,KAAK,IAAI,GAAG,GAAG;AAC3B,aAAO;AAAA,IACT;AAAA,EACF;AACA,SAAO;AACT;AACA,IAAM,sBAAyC,qBAAc;AAAA,EAC3D,UAAU,MAAM;AAAA,EAAC;AAAA,EACjB,YAAY,MAAM;AAAA,EAAC;AAAA,EACnB,KAAkB,oBAAI,IAAI;AAAA,EAC1B,aAAa;AAAA,IACX,SAAS,CAAC;AAAA,EACZ;AACF,CAAC;AAKD,SAAS,aAAa,MAAM;AAC1B,MAAI;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI;AACJ,QAAM,CAAC,KAAK,MAAM,IAAU,gBAAS,MAAM,oBAAI,IAAI,CAAC;AACpD,QAAM,WAAiB,mBAAY,UAAQ;AACzC,WAAO,aAAW,IAAI,IAAI,OAAO,EAAE,IAAI,MAAM,IAAI,CAAC;AAAA,EACpD,GAAG,CAAC,CAAC;AACL,QAAM,aAAmB,mBAAY,UAAQ;AAC3C,WAAO,aAAW;AAChB,YAAMC,OAAM,IAAI,IAAI,OAAO;AAC3B,MAAAA,KAAI,OAAO,IAAI;AACf,aAAOA;AAAA,IACT,CAAC;AAAA,EACH,GAAG,CAAC,CAAC;AACL,EAAAN,OAAM,MAAM;AACV,UAAM,SAAS,IAAI,IAAI,GAAG;AAC1B,UAAM,QAAQ,MAAM,KAAK,OAAO,KAAK,CAAC,EAAE,KAAK,sBAAsB;AACnE,UAAM,QAAQ,CAAC,MAAMA,WAAU;AAC7B,aAAO,IAAI,MAAMA,MAAK;AAAA,IACxB,CAAC;AACD,QAAI,CAAC,aAAa,KAAK,MAAM,GAAG;AAC9B,aAAO,MAAM;AAAA,IACf;AAAA,EACF,GAAG,CAAC,GAAG,CAAC;AACR,SAA0B,qBAAc,oBAAoB,UAAU;AAAA,IACpE,OAAa,eAAQ,OAAO;AAAA,MAC1B;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF,IAAI,CAAC,UAAU,YAAY,KAAK,aAAa,SAAS,CAAC;AAAA,EACzD,GAAG,QAAQ;AACb;AAMA,SAAS,YAAY,OAAO;AAC1B,MAAI;AAAA,IACF;AAAA,EACF,IAAI,UAAU,SAAS,CAAC,IAAI;AAC5B,QAAM,CAAC,SAAS,QAAQ,IAAU,gBAAS,IAAI;AAC/C,QAAM,eAAqB,cAAO,IAAI;AACtC,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAU,kBAAW,mBAAmB;AACxC,QAAM,MAAY,mBAAY,UAAQ;AACpC,iBAAa,UAAU;AACvB,QAAI,YAAY,MAAM;AACpB,kBAAY,QAAQ,OAAO,IAAI;AAC/B,UAAI,WAAW;AACb,YAAI;AACJ,cAAM,iBAAiB,UAAU;AACjC,kBAAU,QAAQ,OAAO,IAAI,iBAAiB,SAAS,oBAAoB,QAAQ,OAAO,SAAS,KAAK,gBAAgB,OAAO,oBAAoB;AAAA,MACrJ;AAAA,IACF;AAAA,EACF,GAAG,CAAC,SAAS,aAAa,WAAW,KAAK,CAAC;AAC3C,EAAAA,OAAM,MAAM;AACV,UAAM,OAAO,aAAa;AAC1B,QAAI,MAAM;AACR,eAAS,IAAI;AACb,aAAO,MAAM;AACX,mBAAW,IAAI;AAAA,MACjB;AAAA,IACF;AAAA,EACF,GAAG,CAAC,UAAU,UAAU,CAAC;AACzB,EAAAA,OAAM,MAAM;AACV,UAAMA,SAAQ,aAAa,UAAU,IAAI,IAAI,aAAa,OAAO,IAAI;AACrE,QAAIA,UAAS,MAAM;AACjB,eAASA,MAAK;AAAA,IAChB;AAAA,EACF,GAAG,CAAC,GAAG,CAAC;AACR,SAAa,eAAQ,OAAO;AAAA,IAC1B;AAAA,IACA,OAAO,WAAW,OAAO,KAAK;AAAA,EAChC,IAAI,CAAC,SAAS,GAAG,CAAC;AACpB;AAEA,SAAS,UAAU,QAAQ,eAAe;AACxC,MAAI,OAAO,WAAW,YAAY;AAChC,WAAO,OAAO,aAAa;AAAA,EAC7B;AACA,MAAI,QAAQ;AACV,WAA0B,oBAAa,QAAQ,aAAa;AAAA,EAC9D;AACA,SAA0B,qBAAc,OAAO,aAAa;AAC9D;AACA,IAAM,mBAAsC,qBAAc;AAAA,EACxD,aAAa;AAAA,EACb,YAAY,MAAM;AAAA,EAAC;AACrB,CAAC;AACD,IAAM,iBAAiB,CAAC,YAAY,WAAW;AAC/C,IAAM,eAAe,CAAC,UAAU,UAAU;AAC1C,IAAM,UAAU,CAAC,GAAG,gBAAgB,GAAG,YAAY;AAWnD,IAAM,YAA+B,kBAAW,SAASO,WAAU,MAAM,cAAc;AACrF,MAAI;AAAA,IACF;AAAA,IACA,cAAc;AAAA,IACd,OAAO;AAAA,IACP,OAAO;AAAA,IACP,kBAAkB,CAAC;AAAA,IACnB,aAAa;AAAA,IACb,YAAY;AAAA,IACZ;AAAA,IACA,QAAQ;AAAA,IACR,GAAG;AAAA,EACL,IAAI;AACJ,QAAM,CAAC,qBAAqB,sBAAsB,IAAU,gBAAS,CAAC;AACtE,QAAM,cAAc,uBAAuB,OAAO,sBAAsB;AACxE,QAAM,aAAa,eAAe,0BAA0B,OAAO,yBAAyB,sBAAsB;AAClH,QAAM,cAAoB,cAAO,CAAC,CAAC;AACnC,QAAM,qBAAqB,UAAU,OAAO,WAAW,aAAa,OAAO,QAAQ,CAAC;AACpF,QAAM,eAAqB,eAAQ,OAAO;AAAA,IACxC;AAAA,IACA;AAAA,EACF,IAAI,CAAC,aAAa,UAAU,CAAC;AAC7B,QAAM,SAAS,OAAO;AACtB,WAAS,cAAc,OAAO;AAC5B,QAAI,CAAC,QAAQ,SAAS,MAAM,GAAG;AAAG;AAClC,QAAI,YAAY;AAChB,QAAI,QAAQ;AACV,YAAM,QAAQ,aAAa,MAAM,KAAK;AAAA,QACpC,QAAQ,YAAY,QAAQ;AAAA,MAC9B,GAAG,OAAO;AAAA,QACR,OAAO;AAAA,QACP,QAAQ;AAAA,MACV,EAAE;AAGF,YAAM,UAAU,aAAa,OAAO,MAAM,KAAK;AAC/C,YAAM,eAAe,QAAQ,UAAU,CAAAP,WAASA,UAAS,QAAQ,CAAC,gBAAgB,SAASA,MAAK,CAAC;AAEjG,YAAM,eAAe,QAAQ,OAAO,CAAC,YAAYA,QAAO,cAAcA,UAAS,QAAQ,EAAE,mBAAmB,QAAQ,gBAAgB,SAASA,MAAK,KAAK,YAAY,YAAY,EAAE;AACjL,kBAAY,QAAQ,sBAAsB;AAAA,QACxC,SAAS,QAAQ,IAAI,eAAa,YAAY,YAAY,QAAQ,SAAS,IAAI,IAAI;AAAA,MACrF,GAAG;AAAA,QACD;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA;AAAA;AAAA,QAGA,iBAAiB,eAAe,CAAC,GAAG,iBAAiB,MAAS,GAAG,OAAO;AAAA,QACxE,UAAU;AAAA,QACV,UAAU;AAAA,QACV,WAAW;AAAA,UAAqB;AAAA,UAAa;AAAA,UAAO;AAAA,UAAS;AAAA;AAAA;AAAA;AAAA,UAI7D,MAAM,QAAQ,aAAa,OAAO,MAAM,QAAQ,cAAc,OAAO;AAAA,QAAI;AAAA,MAC3E,CAAC,CAAC;AAAA,IACJ;AACA,UAAM,WAAW,YAAY,aAAa,eAAe;AACzD,UAAM,WAAW,YAAY,aAAa,eAAe;AACzD,UAAM,YAAY;AAAA,MAChB,YAAY,CAAC,WAAW;AAAA,MACxB,UAAU,CAAC,UAAU;AAAA,MACrB,MAAM,CAAC,aAAa,UAAU;AAAA,IAChC,EAAE,WAAW;AACb,UAAM,cAAc;AAAA,MAClB,YAAY,CAAC,UAAU;AAAA,MACvB,UAAU,CAAC,QAAQ;AAAA,MACnB,MAAM,CAAC,YAAY,QAAQ;AAAA,IAC7B,EAAE,WAAW;AACb,UAAM,gBAAgB,SAAS,UAAU;AAAA,MACvC,YAAY;AAAA,MACZ,UAAU;AAAA,MACV,MAAM;AAAA,IACR,EAAE,WAAW;AACb,QAAI,cAAc,eAAe,CAAC,GAAG,WAAW,GAAG,WAAW,EAAE,SAAS,MAAM,GAAG,GAAG;AACnF,UAAI,QAAQ,cAAc,YAAY,UAAU,SAAS,MAAM,GAAG,GAAG;AACnE,oBAAY;AAAA,MACd,WAAW,QAAQ,cAAc,YAAY,YAAY,SAAS,MAAM,GAAG,GAAG;AAC5E,oBAAY;AAAA,MACd,OAAO;AACL,oBAAY,qBAAqB,aAAa;AAAA,UAC5C,eAAe;AAAA,UACf,WAAW,YAAY,SAAS,MAAM,GAAG;AAAA,UACzC;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF;AACA,QAAI,cAAc,eAAe,CAAC,mBAAmB,aAAa,SAAS,GAAG;AAC5E,YAAM,gBAAgB;AACtB,UAAI,cAAc,SAAS,MAAM,GAAG,GAAG;AACrC,cAAM,eAAe;AAAA,MACvB;AACA,iBAAW,SAAS;AAGpB,qBAAe,MAAM;AACnB,qBAAa,YAAY,QAAQ,SAAS,CAAC;AAAA,MAC7C,CAAC;AAAA,IACH;AAAA,EACF;AACA,QAAM,gBAAgB;AAAA,IACpB,GAAG;AAAA,IACH,GAAG;AAAA,IACH,KAAK;AAAA,IACL,oBAAoB,gBAAgB,SAAS,SAAY;AAAA,IACzD,UAAUQ,IAAG;AACX,YAAM,aAAa,QAAQ,MAAM,UAAUA,EAAC;AAC5C,yBAAmB,aAAa,QAAQ,mBAAmB,UAAUA,EAAC;AACtE,oBAAcA,EAAC;AAAA,IACjB;AAAA,EACF;AACA,SAA0B,qBAAc,iBAAiB,UAAU;AAAA,IACjE,OAAO;AAAA,EACT,GAAsB,qBAAc,cAAc;AAAA,IAChD;AAAA,EACF,GAAG,UAAU,QAAQ,aAAa,CAAC,CAAC;AACtC,CAAC;AAID,IAAM,gBAAmC,kBAAW,SAASC,eAAc,OAAO,cAAc;AAC9F,MAAI;AAAA,IACF;AAAA,IACA,GAAG;AAAA,EACL,IAAI;AACJ,QAAM,qBAAqB,UAAU,OAAO,WAAW,aAAa,OAAO,QAAQ,CAAC;AACpF,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,EACF,IAAU,kBAAW,gBAAgB;AACrC,QAAM;AAAA,IACJ;AAAA,IACA,OAAAT;AAAA,EACF,IAAI,YAAY;AAChB,QAAM,YAAY,aAAa,CAAC,KAAK,cAAc,mBAAmB,GAAG,CAAC;AAC1E,QAAM,WAAW,gBAAgBA;AACjC,QAAM,gBAAgB;AAAA,IACpB,GAAG;AAAA,IACH,GAAG;AAAA,IACH,KAAK;AAAA,IACL,UAAU,WAAW,IAAI;AAAA,IACzB,eAAe,WAAW,KAAK;AAAA,IAC/B,QAAQQ,IAAG;AACT,YAAM,WAAW,QAAQ,MAAM,QAAQA,EAAC;AACxC,yBAAmB,WAAW,QAAQ,mBAAmB,QAAQA,EAAC;AAClE,iBAAWR,MAAK;AAAA,IAClB;AAAA,EACF;AACA,SAAO,UAAU,QAAQ,aAAa;AACxC,CAAC;AAED,SAASU,YAAW;AAClB,EAAAA,YAAW,OAAO,SAAS,OAAO,OAAO,KAAK,IAAI,SAAU,QAAQ;AAClE,aAASR,MAAI,GAAGA,MAAI,UAAU,QAAQA,OAAK;AACzC,UAAI,SAAS,UAAUA,GAAC;AACxB,eAAS,OAAO,QAAQ;AACtB,YAAI,OAAO,UAAU,eAAe,KAAK,QAAQ,GAAG,GAAG;AACrD,iBAAO,GAAG,IAAI,OAAO,GAAG;AAAA,QAC1B;AAAA,MACF;AAAA,IACF;AACA,WAAO;AAAA,EACT;AACA,SAAOQ,UAAS,MAAM,MAAM,SAAS;AACvC;AAEA,IAAI,wBAAwB;AAC5B,IAAI,QAAQ;AACZ,IAAM,QAAQ,MAAM,iBAAiB;AACrC,SAAS,gBAAgB;AACvB,QAAM,CAAC,IAAI,KAAK,IAAU,gBAAS,MAAM,wBAAwB,MAAM,IAAI,MAAS;AAGpF,EAAAV,OAAM,MAAM;AACV,QAAI,MAAM,MAAM;AACd,YAAM,MAAM,CAAC;AAAA,IACf;AAAA,EACF,GAAG,CAAC,CAAC;AACL,EAAM,iBAAU,MAAM;AACpB,QAAI,CAAC,uBAAuB;AAC1B,8BAAwB;AAAA,IAC1B;AAAA,EACF,GAAG,CAAC,CAAC;AACL,SAAO;AACT;AAGA,IAAM,aAAaD,OAAmB,QAAQ,SAAS,CAAC;AAQxD,IAAM,QAAQ,cAAc;AAM5B,IAAM,gBAAmC,kBAAW,SAASY,eAAc,MAAM,KAAK;AACpF,MAAI;AAAA,IACF,SAAS;AAAA,MACP;AAAA,MACA,UAAU;AAAA,QACR;AAAA,MACF;AAAA,MACA,gBAAgB;AAAA,QACd,OAAAC;AAAA,MACF;AAAA,IACF;AAAA,IACA,QAAQ;AAAA,IACR,SAAS;AAAA,IACT,YAAY;AAAA,IACZ,cAAc;AAAA,IACd;AAAA,IACA;AAAA,IACA,GAAAC;AAAA,IACA,OAAO;AAAA,MACL;AAAA,MACA,GAAG;AAAA,IACL,IAAI,CAAC;AAAA,IACL,GAAG;AAAA,EACL,IAAI;AACJ,MAAI,MAAuC;AACzC,QAAI,CAAC,KAAK;AACR,cAAQ,KAAK,mEAAmE,YAAY;AAAA,IAC9F;AAAA,EACF;AACA,QAAM,aAAa,MAAM;AACzB,MAAI,CAAC,UAAU;AACb,WAAO;AAAA,EACT;AAIA,iBAAe;AACf,QAAM,kBAAkB,cAAc;AACtC,QAAM,OAAO,QAAQ,KAAK,YAAY,KAAK;AAC3C,QAAM,OAAO,SAAS,IAAI,YAAY;AACtC,QAAM,CAAC,MAAM,SAAS,IAAI,UAAU,MAAM,GAAG;AAC7C,QAAMC,SAAQ,SAAS,MAAM,QAAQ;AACrC,QAAM,gBAAgB,CAAC,CAACD;AACxB,QAAM,iBAAiB,SAAS,SAAS,SAAS;AAClD,QAAM,cAAc,gBAAgB,cAAc,QAAQ,WAAW;AACrE,MAAI,cAAc,gBAAgB,cAAc,QAAQ,UAAU;AAClE,MAAI,gBAAgBC,QAAO;AACzB,kBAAc,cAAc,QAAQ,SAAS;AAAA,EAC/C;AACA,QAAM,UAAUF,UAAS,OAAO,SAASA,OAAM,MAAM,OAAO,gBAAgBA,OAAM,IAAI;AACtF,QAAM,UAAUA,UAAS,OAAO,SAASA,OAAM,MAAM,OAAO,gBAAgBA,OAAM,IAAI;AACtF,QAAM,SAASC;AAAA,EAEf,UAAU,OAAO,UAAU,QAAQ,QAAQ,QAAQ,OAAO,SAAS,UAAU,OAAO,QAAQ,IAAI,MAAM,SAAS,MAAM,OAAO,OAAO,SAAS,SAAS;AACrJ,QAAM,WAAW;AAAA,IACf,KAAK,gBAAgB,mBAAmB;AAAA,IACxC,MAAM,gBAAgB,kBAAkB;AAAA,IACxC,QAAQ,gBAAgB,KAAK;AAAA,IAC7B,OAAO,gBAAgB,mBAAmB;AAAA,EAC5C,EAAE,IAAI;AACN,SAA0B,qBAAc,OAAOH,UAAS,CAAC,GAAG,MAAM;AAAA,IAChE,eAAe;AAAA,IACf;AAAA,IACA,OAAO,gBAAgB,QAAQ,QAAQ;AAAA,IACvC,QAAQ;AAAA,IACR,SAAS,SAAS,QAAQ,OAAO,SAAS,QAAQ,SAAS;AAAA,IAC3D,OAAO;AAAA,MACL,UAAU;AAAA,MACV,eAAe;AAAA,MACf,CAAC,WAAW,GAAG;AAAA,MACf,CAAC,WAAW,GAAG;AAAA,MACf,CAAC,IAAI,GAAG,kBAAkB,gBAAgB,SAAS,iBAAiB,cAAc,IAAI;AAAA,MACtF,WAAW,KAAK,YAAY,aAAa,OAAO,YAAY;AAAA,MAC5D,GAAG;AAAA,IACL;AAAA,EACF,CAAC,GAAG,cAAc,KAAwB,qBAAc,QAAQ;AAAA,IAC9D,UAAU,UAAU,aAAa;AAAA,IACjC,MAAM;AAAA,IACN;AAAA,IAGA,aAAa,eAAeG,MAAI,IAAI;AAAA,IACpC,GAAG;AAAA,EACL,CAAC,GAAsB,qBAAc,QAAQ;AAAA,IAC3C,QAAQ,eAAe,CAACA,MAAI,KAAK,OAAO;AAAA,IACxC,GAAG;AAAA,EACL,CAAC,GAAsB,qBAAc,YAAY;AAAA,IAC/C,IAAI;AAAA,EACN,GAAsB,qBAAc,QAAQ;AAAA,IAC1C,GAAG,CAAC;AAAA,IACJ,GAAG,mBAAmB,gBAAgB,KAAK;AAAA,IAC3C,OAAO,QAAQ;AAAA,IACf,QAAQ;AAAA,EACV,CAAC,CAAC,CAAC;AACL,CAAC;AAED,SAAS,eAAe;AACtB,QAAM,MAAM,oBAAI,IAAI;AACpB,SAAO;AAAA,IACL,KAAK,OAAO,MAAM;AAChB,UAAI;AACJ,OAAC,WAAW,IAAI,IAAI,KAAK,MAAM,QAAQ,SAAS,QAAQ,aAAW,QAAQ,IAAI,CAAC;AAAA,IAClF;AAAA,IACA,GAAG,OAAO,UAAU;AAClB,UAAI,IAAI,OAAO,CAAC,GAAI,IAAI,IAAI,KAAK,KAAK,CAAC,GAAI,QAAQ,CAAC;AAAA,IACtD;AAAA,IACA,IAAI,OAAO,UAAU;AACnB,UAAI;AACJ,UAAI,IAAI,SAAS,YAAY,IAAI,IAAI,KAAK,MAAM,OAAO,SAAS,UAAU,OAAO,CAAAE,QAAKA,QAAM,QAAQ,MAAM,CAAC,CAAC;AAAA,IAC9G;AAAA,EACF;AACF;AAEA,IAAM,sBAAyC,qBAAc,IAAI;AACjE,IAAM,sBAAyC,qBAAc,IAAI;AAMjE,IAAM,0BAA0B,MAAM;AACpC,MAAI;AACJ,WAAS,oBAA0B,kBAAW,mBAAmB,MAAM,OAAO,SAAS,kBAAkB,OAAO;AAClH;AAKA,IAAM,kBAAkB,MAAY,kBAAW,mBAAmB;AA0ElE,SAAS,gBAAgB,MAAM;AAC7B,SAAO,sBAAsB;AAC/B;AAUA,IAAM,wBAAqC,gBAAgB,cAAc;AAiTzE,IAAM,4BAA+C,qBAAc;AAAA,EACjE,OAAO;AAAA,EACP,cAAc;AAAA,EACd,WAAW;AAAA,EACX,WAAW;AAAA,EACX,cAAc,MAAM;AAAA,EAAC;AAAA,EACrB,UAAU,MAAM;AAAA,EAAC;AAAA,EACjB,gBAAgB;AAClB,CAAC;AA2TD,IAAM,gBAAgB;AAAA,EACpB,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,SAAS;AAAA,EACT,UAAU;AAAA,EACV,YAAY;AAAA,EACZ,OAAO;AAAA,EACP,KAAK;AAAA,EACL,MAAM;AACR;AACA,IAAI;AACJ,SAAS,sBAAsB,OAAO;AACpC,MAAI,MAAM,QAAQ,OAAO;AACvB,UAAM;AACN,iBAAa,SAAS;AAAA,EACxB;AACF;AACA,IAAM,aAAgC,kBAAW,SAASC,YAAW,OAAO,KAAK;AAC/E,QAAM,CAAC,MAAM,OAAO,IAAU,gBAAS;AACvC,EAAAC,OAAM,MAAM;AACV,QAAI,SAAS,GAAG;AAMd,cAAQ,QAAQ;AAAA,IAClB;AACA,aAAS,iBAAiB,WAAW,qBAAqB;AAC1D,WAAO,MAAM;AACX,eAAS,oBAAoB,WAAW,qBAAqB;AAAA,IAC/D;AAAA,EACF,GAAG,CAAC,CAAC;AACL,QAAM,YAAY;AAAA,IAChB;AAAA,IACA,UAAU;AAAA;AAAA,IAEV;AAAA,IACA,eAAe,OAAO,SAAY;AAAA,IAClC,CAAC,gBAAgB,aAAa,CAAC,GAAG;AAAA,IAClC,OAAO;AAAA,EACT;AACA,SAA0B,qBAAc,QAAQC,UAAS,CAAC,GAAG,OAAO,SAAS,CAAC;AAChF,CAAC;AAED,IAAM,gBAAmC,qBAAc,IAAI;AAC3D,IAAM,OAAoB,gBAAgB,QAAQ;AA2KlD,IAAM,wBAA2C,kBAAW,SAASC,uBAAsB,OAAO,KAAK;AACrG,SAA0B,qBAAc,UAAUC,UAAS,CAAC,GAAG,OAAO;AAAA,IACpE,MAAM;AAAA,IACN;AAAA,IACA,UAAU;AAAA,IACV,OAAO;AAAA,EACT,CAAC,CAAC;AACJ,CAAC;AAkUD,IAAM,cAA2B,oBAAI,IAAI;AAOzC,IAAM,kBAAqC,kBAAW,SAASC,iBAAgB,MAAM,KAAK;AACxF,MAAI;AAAA,IACF,aAAa;AAAA,IACb,GAAG;AAAA,EACL,IAAI;AACJ,QAAM,SAAS,MAAM;AACrB,EAAAC,OAAM,MAAM;AACV,QAAI,CAAC;AAAY;AACjB,gBAAY,IAAI,MAAM;AACtB,UAAM,QAAQ,qBAAqB,KAAK,YAAY,CAAC;AACrD,UAAM,YAAY,SAAS,KAAK;AAEhC,UAAM,aAAa,KAAK,MAAM,SAAS,gBAAgB,sBAAsB,EAAE,IAAI,IAAI,SAAS,gBAAgB;AAChH,UAAM,cAAc,aAAa,gBAAgB;AACjD,UAAM,iBAAiB,OAAO,aAAa,SAAS,gBAAgB;AACpE,UAAM,UAAU,UAAU,OAAO,WAAW,UAAU,IAAI,IAAI,OAAO;AACrE,UAAM,UAAU,UAAU,MAAM,WAAW,UAAU,GAAG,IAAI,OAAO;AACnE,cAAU,WAAW;AACrB,QAAI,gBAAgB;AAClB,gBAAU,WAAW,IAAI,iBAAiB;AAAA,IAC5C;AAIA,QAAI,OAAO;AACT,UAAI,uBAAuB;AAE3B,YAAM,eAAe,wBAAwB,OAAO,mBAAmB,OAAO,SAAS,sBAAsB,eAAe;AAC5H,YAAM,cAAc,yBAAyB,OAAO,mBAAmB,OAAO,SAAS,uBAAuB,cAAc;AAC5H,aAAO,OAAO,WAAW;AAAA,QACvB,UAAU;AAAA,QACV,KAAK,EAAE,UAAU,KAAK,MAAM,SAAS,KAAK;AAAA,QAC1C,MAAM,EAAE,UAAU,KAAK,MAAM,UAAU,KAAK;AAAA,QAC5C,OAAO;AAAA,MACT,CAAC;AAAA,IACH;AACA,WAAO,MAAM;AACX,kBAAY,OAAO,MAAM;AACzB,UAAI,YAAY,SAAS,GAAG;AAC1B,eAAO,OAAO,WAAW;AAAA,UACvB,UAAU;AAAA,UACV,CAAC,WAAW,GAAG;AAAA,QACjB,CAAC;AACD,YAAI,OAAO;AACT,iBAAO,OAAO,WAAW;AAAA,YACvB,UAAU;AAAA,YACV,KAAK;AAAA,YACL,MAAM;AAAA,YACN,OAAO;AAAA,UACT,CAAC;AACD,iBAAO,SAAS,SAAS,OAAO;AAAA,QAClC;AAAA,MACF;AAAA,IACF;AAAA,EACF,GAAG,CAAC,QAAQ,UAAU,CAAC;AACvB,SAA0B,qBAAc,OAAOC,UAAS;AAAA,IACtD;AAAA,EACF,GAAG,MAAM;AAAA,IACP,OAAO;AAAA,MACL,UAAU;AAAA,MACV,UAAU;AAAA,MACV,KAAK;AAAA,MACL,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,GAAG,KAAK;AAAA,IACV;AAAA,EACF,CAAC,CAAC;AACJ,CAAC;AAgjBD,IAAI;AACJ,IAAI,MAAuC;AACzC,kBAA6B,oBAAI,IAAI;AACvC;AAMA,SAASC,aAAY,SAAS;AAC5B,MAAI;AACJ,MAAI,YAAY,QAAQ;AACtB,cAAU,CAAC;AAAA,EACb;AACA,QAAM;AAAA,IACJ,OAAO;AAAA,IACP,cAAc;AAAA,IACd;AAAA,EACF,IAAI;AACJ,MAAI,MAAuC;AACzC,QAAI;AACJ,UAAM,MAAM;AACZ,SAAK,oBAAoB,QAAQ,aAAa,QAAQ,kBAAkB,aAAa,CAAC,UAAU,QAAQ,SAAS,SAAS,GAAG;AAC3H,UAAI;AACJ,UAAI,GAAG,iBAAiB,kBAAkB,QAAQ,eAAe,IAAI,GAAG,IAAI;AAC1E,YAAI;AACJ,SAAC,kBAAkB,kBAAkB,QAAQ,gBAAgB,IAAI,GAAG;AACpE,gBAAQ,MAAM,GAAG;AAAA,MACnB;AAAA,IACF;AAAA,EACF;AACA,QAAM,CAAC,eAAe,eAAe,IAAU,gBAAS,IAAI;AAC5D,QAAM,iBAAiB,qBAAqB,QAAQ,aAAa,OAAO,SAAS,mBAAmB,cAAc;AAClH,QAAM,WAAW,YAAc,OAAO;AACtC,QAAM,OAAO,gBAAgB;AAC7B,QAAM,SAAS,wBAAwB,KAAK;AAC5C,QAAM,eAAe,eAAe,CAACC,OAAM,OAAO,WAAW;AAC3D,QAAIA,OAAM;AACR,cAAQ,QAAQ,YAAY;AAAA,IAC9B;AACA,WAAO,KAAK,cAAc;AAAA,MACxB,MAAAA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF,CAAC;AACD,6BAAyB,QAAQ,sBAAsBA,OAAM,OAAO,MAAM;AAAA,EAC5E,CAAC;AACD,QAAM,kBAAwB,cAAO,IAAI;AACzC,QAAM,UAAgB,cAAO,CAAC,CAAC;AAC/B,QAAM,SAAe,gBAAS,MAAM,aAAa,CAAC,EAAE,CAAC;AACrD,QAAM,aAAa,MAAM;AACzB,QAAM,uBAA6B,mBAAY,UAAQ;AACrD,UAAM,oBAAoB,UAAU,IAAI,IAAI;AAAA,MAC1C,uBAAuB,MAAM,KAAK,sBAAsB;AAAA,MACxD,gBAAgB;AAAA,IAClB,IAAI;AACJ,aAAS,KAAK,aAAa,iBAAiB;AAAA,EAC9C,GAAG,CAAC,SAAS,IAAI,CAAC;AAClB,QAAM,eAAqB,mBAAY,UAAQ;AAC7C,QAAI,UAAU,IAAI,KAAK,SAAS,MAAM;AACpC,sBAAgB,UAAU;AAC1B,sBAAgB,IAAI;AAAA,IACtB;AAIA,QAAI,UAAU,SAAS,KAAK,UAAU,OAAO,KAAK,SAAS,KAAK,UAAU,YAAY;AAAA;AAAA;AAAA,IAItF,SAAS,QAAQ,CAAC,UAAU,IAAI,GAAG;AACjC,eAAS,KAAK,aAAa,IAAI;AAAA,IACjC;AAAA,EACF,GAAG,CAAC,SAAS,IAAI,CAAC;AAClB,QAAM,OAAa,eAAQ,OAAO;AAAA,IAChC,GAAG,SAAS;AAAA,IACZ;AAAA,IACA;AAAA,IACA,cAAc;AAAA,EAChB,IAAI,CAAC,SAAS,MAAM,cAAc,oBAAoB,CAAC;AACvD,QAAM,WAAiB,eAAQ,OAAO;AAAA,IACpC,GAAG,SAAS;AAAA,IACZ;AAAA,EACF,IAAI,CAAC,SAAS,UAAU,YAAY,CAAC;AACrC,QAAM,UAAgB,eAAQ,OAAO;AAAA,IACnC,GAAG;AAAA,IACH;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI,CAAC,UAAU,QAAQ,YAAY,QAAQ,MAAM,cAAc,MAAM,QAAQ,CAAC;AAC9E,EAAAC,OAAM,MAAM;AACV,UAAM,OAAO,QAAQ,OAAO,SAAS,KAAK,SAAS,QAAQ,KAAK,CAAAC,UAAQA,MAAK,OAAO,MAAM;AAC1F,QAAI,MAAM;AACR,WAAK,UAAU;AAAA,IACjB;AAAA,EACF,CAAC;AACD,SAAa,eAAQ,OAAO;AAAA,IAC1B,GAAG;AAAA,IACH;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI,CAAC,UAAU,MAAM,UAAU,OAAO,CAAC;AACzC;AA0IA,IAAM,aAAa;AACnB,IAAM,eAAe;AACrB,SAAS,WAAW,WAAW,WAAW,YAAY;AACpD,QAAM,MAAM,oBAAI,IAAI;AACpB,QAAM,SAAS,eAAe;AAC9B,MAAI,eAAe;AACnB,MAAI,UAAU,WAAW;AACvB,UAAM;AAAA,MACJ,CAAC,UAAU,GAAGC;AAAA,MACd,CAAC,YAAY,GAAG;AAAA,MAChB,GAAG;AAAA,IACL,IAAI;AACJ,mBAAe;AAAA,EACjB;AACA,SAAO;AAAA,IACL,GAAI,eAAe,cAAc;AAAA,MAC/B,UAAU;AAAA,IACZ;AAAA,IACA,GAAG;AAAA,IACH,GAAG,UAAU,IAAI,WAAS;AACxB,YAAM,kBAAkB,QAAQ,MAAM,UAAU,IAAI;AACpD,UAAI,OAAO,oBAAoB,YAAY;AACzC,eAAO,YAAY,gBAAgB,SAAS,IAAI;AAAA,MAClD;AACA,aAAO;AAAA,IACT,CAAC,EAAE,OAAO,SAAS,EAAE,OAAO,CAAC,KAAK,UAAU;AAC1C,UAAI,CAAC,OAAO;AACV,eAAO;AAAA,MACT;AACA,aAAO,QAAQ,KAAK,EAAE,QAAQ,UAAQ;AACpC,YAAI,CAAC,KAAK,KAAK,IAAI;AACnB,YAAI,UAAU,CAAC,YAAY,YAAY,EAAE,SAAS,GAAG,GAAG;AACtD;AAAA,QACF;AACA,YAAI,IAAI,QAAQ,IAAI,MAAM,GAAG;AAC3B,cAAI,CAAC,IAAI,IAAI,GAAG,GAAG;AACjB,gBAAI,IAAI,KAAK,CAAC,CAAC;AAAA,UACjB;AACA,cAAI,OAAO,UAAU,YAAY;AAC/B,gBAAI;AACJ,aAAC,WAAW,IAAI,IAAI,GAAG,MAAM,QAAQ,SAAS,KAAK,KAAK;AACxD,gBAAI,GAAG,IAAI,WAAY;AACrB,kBAAI;AACJ,uBAAS,OAAO,UAAU,QAAQ,OAAO,IAAI,MAAM,IAAI,GAAG,OAAO,GAAG,OAAO,MAAM,QAAQ;AACvF,qBAAK,IAAI,IAAI,UAAU,IAAI;AAAA,cAC7B;AACA,sBAAQ,YAAY,IAAI,IAAI,GAAG,MAAM,OAAO,SAAS,UAAU,IAAI,QAAM,GAAG,GAAG,IAAI,CAAC,EAAE,KAAK,SAAO,QAAQ,MAAS;AAAA,YACrH;AAAA,UACF;AAAA,QACF,OAAO;AACL,cAAI,GAAG,IAAI;AAAA,QACb;AAAA,MACF,CAAC;AACD,aAAO;AAAA,IACT,GAAG,CAAC,CAAC;AAAA,EACP;AACF;AAQA,SAAS,gBAAgB,WAAW;AAClC,MAAI,cAAc,QAAQ;AACxB,gBAAY,CAAC;AAAA,EACf;AAGA,QAAM,OAAO;AAGb,QAAM,oBAA0B,mBAAY,eAAa,WAAW,WAAW,WAAW,WAAW,GAAG,IAAI;AAG5G,QAAM,mBAAyB,mBAAY,eAAa,WAAW,WAAW,WAAW,UAAU,GAAG,IAAI;AAG1G,QAAM,eAAqB;AAAA,IAAY,eAAa,WAAW,WAAW,WAAW,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA,IAK3F,UAAU,IAAI,SAAO,OAAO,OAAO,SAAS,IAAI,IAAI;AAAA,EAAC;AACrD,SAAa,eAAQ,OAAO;AAAA,IAC1B;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI,CAAC,mBAAmB,kBAAkB,YAAY,CAAC;AACzD;AAg6BA,SAAS,gCAAgC,OAAO,QAAQ;AACtD,SAAO;AAAA,IACL,GAAG;AAAA,IACH,OAAO;AAAA,MACL,GAAG,MAAM;AAAA,MACT,UAAU;AAAA,QACR,GAAG,MAAM,MAAM;AAAA,QACf;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;AAMA,IAAM,QAAQ,YAAU;AAAA,EACtB,MAAM;AAAA,EACN,SAAS;AAAA,EACT,MAAM,GAAG,OAAO;AACd,UAAM;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA,QAAQ,cAAc;AAAA,MACtB,OAAAC,SAAQ;AAAA,MACR,kBAAkB;AAAA,MAClB,6BAA6B;AAAA,MAC7B;AAAA,MACA,GAAG;AAAA,IACL,IAAI;AACJ,UAAM;AAAA,MACJ;AAAA,MACA,UAAU;AAAA,QACR;AAAA,MACF;AAAA,IACF,IAAI;AACJ,UAAM,OAAO,QAAQ,QAAQA,MAAK;AAClC,QAAI,MAAuC;AACzC,UAAI,CAAC,MAAM,UAAU,WAAW,QAAQ,GAAG;AACzC,gBAAQ,KAAK,CAAC,iEAAiE,qBAAqB,EAAE,KAAK,GAAG,CAAC;AAAA,MACjH;AAAA,IACF;AACA,QAAI,CAAC,MAAM;AACT,aAAO,CAAC;AAAA,IACV;AACA,UAAM,WAAW;AAAA,MACf,GAAG;AAAA,MACH,GAAI,MAAM,OAAO,CAAC,KAAK,YAAY,SAAS,YAAY,MAAM,UAAU,SAAS,IAAI,KAAK,eAAe,IAAI,WAAW,EAAE,GAAG,KAAK;AAAA,IACpI;AACA,UAAM,MAAM,aAAa,OAAO,SAAS,UAAU,YAAY;AAC/D,UAAM,WAAW,MAAM,eAAe,gCAAgC,UAAU,GAAG,YAAY,GAAG,qBAAqB;AACvH,UAAM,cAAc,MAAM,eAAe,UAAU;AAAA,MACjD,GAAG;AAAA,MACH,gBAAgB;AAAA,IAClB,CAAC;AACD,UAAM,QAAQ,KAAK,IAAI,GAAG,SAAS,GAAG;AACtC,UAAM,QAAQ,SAAS,IAAI;AAC3B,UAAM,YAAY,KAAK,IAAI,GAAG,GAAG,eAAe,QAAQ,KAAK,IAAI,GAAG,SAAS,MAAM,CAAC;AACpF,OAAG,MAAM,YAAY,YAAY;AACjC,OAAG,YAAY;AAGf,QAAI,kBAAkB;AACpB,UAAI,GAAG,eAAe,KAAK,eAAe,KAAK,IAAI,iBAAiB,QAAQ,QAAQ,SAAS,CAAC,IAAI,KAAK,YAAY,OAAO,CAAC,8BAA8B,YAAY,UAAU,CAAC,4BAA4B;AAC1M,yCAAU,MAAM,iBAAiB,IAAI,CAAC;AAAA,MACxC,OAAO;AACL,yCAAU,MAAM,iBAAiB,KAAK,CAAC;AAAA,MACzC;AAAA,IACF;AACA,QAAI,aAAa;AACf,kBAAY,UAAU,MAAM,eAAe,gCAAgC;AAAA,QACzE,GAAG;AAAA,QACH,GAAG;AAAA,MACL,GAAG,GAAG,YAAY,GAAG,qBAAqB;AAAA,IAC5C;AACA,WAAO;AAAA,MACL,GAAG;AAAA,IACL;AAAA,EACF;AACF;AAMA,SAAS,eAAe,SAAS,OAAO;AACtC,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,EACF,IAAI;AACJ,QAAM;AAAA,IACJ,UAAU;AAAA,IACV;AAAA,IACA;AAAA,IACA,UAAU;AAAA,EACZ,IAAI;AACJ,QAAM,WAAW,eAAe,iBAAiB;AACjD,QAAM,yBAA+B,cAAO,KAAK;AACjD,QAAM,mBAAyB,cAAO,IAAI;AAC1C,QAAM,qBAA2B,cAAO,IAAI;AAC5C,EAAM,iBAAU,MAAM;AACpB,QAAI,CAAC,SAAS;AACZ;AAAA,IACF;AACA,aAAS,QAAQC,IAAG;AAClB,UAAIA,GAAE,WAAW,CAAC,MAAM,YAAY,WAAW,MAAM;AACnD;AAAA,MACF;AACA,YAAM,KAAKA,GAAE;AACb,YAAM,UAAU,YAAY,QAAQ,OAAO;AAC3C,YAAM,aAAa,YAAY,QAAQ,UAAU;AACjD,YAAM,kBAAkB,GAAG,eAAe,GAAG;AAC7C,YAAM,OAAO,KAAK,IAAI,KAAK;AAC3B,YAAM,SAAS,KAAK,IAAI,QAAQ;AAChC,UAAI,GAAG,gBAAgB,GAAG,cAAc;AACtC;AAAA,MACF;AACA,UAAI,CAAC,WAAW,KAAK,KAAK,CAAC,cAAc,KAAK,GAAG;AAC/C,QAAAA,GAAE,eAAe;AACjB,yCAAU,MAAM;AACd,mBAAS,CAAAC,QAAKA,MAAI,KAAK,MAAM,EAAE,IAAI,kBAAkB,IAAI,CAAC;AAAA,QAC5D,CAAC;AAAA,MACH,WAAW,WAAW,KAAK,aAAa,CAAC,GAAG;AAG1C,WAAG,aAAa;AAAA,MAClB;AAAA,IACF;AACA,UAAM,MAAM,aAAa,OAAO,SAAS,UAAU,YAAY,SAAS;AACxE,QAAI,QAAQ,IAAI;AACd,SAAG,iBAAiB,SAAS,OAAO;AAGpC,4BAAsB,MAAM;AAC1B,yBAAiB,UAAU,GAAG;AAC9B,YAAI,YAAY,WAAW,MAAM;AAC/B,6BAAmB,UAAU;AAAA,YAC3B,GAAG,YAAY;AAAA,UACjB;AAAA,QACF;AAAA,MACF,CAAC;AACD,aAAO,MAAM;AACX,yBAAiB,UAAU;AAC3B,2BAAmB,UAAU;AAC7B,WAAG,oBAAoB,SAAS,OAAO;AAAA,MACzC;AAAA,IACF;AAAA,EACF,GAAG,CAAC,SAAS,MAAM,SAAS,UAAU,aAAa,WAAW,QAAQ,CAAC;AACvE,SAAa,eAAQ,MAAM;AACzB,QAAI,CAAC,SAAS;AACZ,aAAO,CAAC;AAAA,IACV;AACA,WAAO;AAAA,MACL,UAAU;AAAA,QACR,YAAY;AACV,iCAAuB,UAAU;AAAA,QACnC;AAAA,QACA,UAAU;AACR,iCAAuB,UAAU;AAAA,QACnC;AAAA,QACA,gBAAgB;AACd,iCAAuB,UAAU;AAAA,QACnC;AAAA,QACA,WAAW;AACT,gBAAM,MAAM,aAAa,OAAO,SAAS,UAAU,YAAY,SAAS;AACxE,cAAI,CAAC,YAAY,WAAW,CAAC,MAAM,CAAC,uBAAuB,SAAS;AAClE;AAAA,UACF;AACA,cAAI,iBAAiB,YAAY,MAAM;AACrC,kBAAM,aAAa,GAAG,YAAY,iBAAiB;AACnD,gBAAI,YAAY,QAAQ,SAAS,QAAQ,aAAa,MAAM,YAAY,QAAQ,MAAM,QAAQ,aAAa,GAAG;AAC5G,+CAAU,MAAM,SAAS,CAAAA,QAAKA,MAAI,UAAU,CAAC;AAAA,YAC/C;AAAA,UACF;AAGA,gCAAsB,MAAM;AAC1B,6BAAiB,UAAU,GAAG;AAAA,UAChC,CAAC;AAAA,QACH;AAAA,MACF;AAAA,IACF;AAAA,EACF,GAAG,CAAC,SAAS,aAAa,SAAS,UAAU,WAAW,QAAQ,CAAC;AACnE;;;AQhiIwK,IAAAC,KAAgB;AAAQ,IAAAC,iBAAwG;AAAgM,IAAIC,SAAE,eAAAC,eAAE,EAAC,QAAO,QAAO,cAAa,MAAI;AAAC,GAAE,aAAY,MAAI;AAAC,GAAE,mBAAkB,OAAK,CAAC,IAAG,kBAAiB,OAAK,CAAC,IAAG,MAAK,CAAC,EAAC,CAAC;AAAED,GAAE,cAAY;AAAkB,IAAIE,SAAE,eAAAD,eAAE,IAAI;AAAEC,GAAE,cAAY;AAAmB,SAAS,KAAI;AAAC,aAAO,eAAAC,YAAEH,EAAC,EAAE;AAAY;AAAC,SAASI,MAAI;AAAC,aAAO,eAAAD,YAAEH,EAAC,EAAE;AAAiB;AAAC,SAAS,KAAI;AAAC,MAAG,EAAC,kBAAiBK,IAAE,MAAKC,IAAC,QAAE,eAAAH,YAAEH,EAAC;AAAE,aAAO,eAAAO,aAAG,IAAIC,QAAI,OAAO,OAAO,CAAC,GAAEH,GAAE,GAAGG,GAAC,GAAE,EAAC,eAAcF,IAAE,OAAM,CAAC,GAAE,CAACD,IAAEC,GAAC,CAAC;AAAC;AAAC,SAAS,GAAGD,IAAE;AAAC,MAAIC,UAAE,eAAAH,YAAED,EAAC,GAAEM,UAAE,eAAAC,SAAE,MAAIJ,IAAE,CAAC,KAAK,UAAUA,IAAE,OAAO,eAAa,cAAY,CAACK,KAAEC,QAAIA,eAAa,cAAYA,IAAE,YAAUA,MAAE,MAAM,CAAC,CAAC;AAAE,EAAAH,GAAE,MAAI;AAAC,IAAAF,OAAG,QAAMA,IAAEE,OAAG,OAAKA,MAAE,IAAI;AAAA,EAAC,GAAE,CAACF,KAAEE,GAAC,CAAC;AAAE,MAAII,UAAE,eAAAT,YAAEH,EAAC;AAAE,aAAO,eAAAS,SAAE,MAAI,CAACG,IAAE,aAAYA,IAAE,MAAM,GAAE,CAACA,IAAE,aAAYA,IAAE,MAAM,CAAC;AAAC;AAAC,IAAI,IAAE;AAAE,SAAS,GAAG,EAAC,UAASP,IAAE,SAAQC,MAAE,KAAE,GAAE;AAAC,MAAG,CAACE,KAAEI,GAAC,QAAE,eAAAC,UAAE,IAAI,GAAE,CAACH,KAAEC,GAAC,QAAE,eAAAE,UAAE,CAAC,GAAEC,SAAE,eAAAC,QAAG,IAAI,GAAE,CAACC,KAAEC,GAAC,QAAE,eAAAJ,UAAE,IAAI;AAAE,KAAGG,GAAC;AAAE,MAAIE,MAAEZ,OAAGE,QAAI,QAAMQ,QAAI,MAAK,EAAC,IAAGG,KAAE,UAAS,KAAIC,KAAE,GAAE,QAAOC,KAAE,GAAE,SAAQC,KAAE,GAAE,OAAMC,IAAC,IAAE,GAAGf,KAAEQ,GAAC,GAAE,CAACQ,KAAEC,MAAE,QAAQ,IAAEN,GAAE,MAAM,GAAG;AAAE,EAAAX,GAAE,MAAI;AAAC,IAAAU,OAAGP,IAAE,CAAC;AAAA,EAAC,GAAE,CAACO,GAAC,CAAC;AAAE,MAAG,EAAC,MAAKQ,KAAE,gBAAeC,KAAE,SAAQC,IAAC,IAAEC,aAAG,EAAC,MAAKX,KAAE,WAAUM,QAAI,cAAYC,QAAI,WAAS,WAAS,UAAUA,GAAC,KAAGA,QAAI,WAAS,GAAGD,GAAC,KAAG,GAAGA,GAAC,IAAIC,GAAC,IAAG,UAAS,SAAQ,WAAU,OAAG,YAAW,CAAC,OAAG,EAAC,UAASD,QAAI,cAAY,IAAEJ,IAAE,WAAUC,GAAC,CAAC,GAAES,OAAG,EAAC,SAAQR,GAAC,CAAC,GAAEE,QAAI,eAAaO,MAAG,GAAEP,QAAI,eAAaD,MAAE,MAAG,EAAC,GAAGA,KAAE,SAAQD,IAAE,aAAYR,IAAE,QAAOJ,KAAE,iBAAgB,GAAE,4BAA2BY,IAAE,iBAAiBU,IAAE;AAAC,QAAIC,IAAEC;AAAE,QAAG,CAACF;AAAE;AAAO,QAAIG,MAAEP,IAAE,SAAS;AAAS,QAAG,CAACO;AAAE;AAAO,QAAIC,KAAE,WAAW,iBAAiBD,GAAC,EAAE,mBAAmB,KAAG,GAAEE,KAAE,KAAK,IAAI,GAAEF,IAAE,iBAAiB,GAAEG,KAAE,GAAEC,KAAE;AAAE,aAAQC,OAAKN,MAAGD,KAAEL,IAAE,SAAS,aAAW,OAAK,SAAOK,GAAE,eAAa,OAAKC,KAAE,CAAC;AAAE,UAAGM,cAAa,aAAY;AAAC,YAAIC,KAAED,GAAE,WAAUE,KAAED,KAAED,GAAE,eAAaJ,IAAEO,KAAER,IAAE,WAAUS,KAAED,KAAER,IAAE;AAAa,YAAGM,MAAGE,MAAGD,MAAGE;AAAE,UAAAP;AAAA,aAAQ;AAAC,UAAAE,KAAE,KAAK,IAAI,GAAE,KAAK,IAAIG,IAAEE,EAAC,IAAE,KAAK,IAAIH,IAAEE,EAAC,CAAC,GAAEL,KAAEE,GAAE;AAAa;AAAA,QAAK;AAAA,MAAC;AAAC,IAAAH,MAAG,KAAG1B,IAAE,CAAA6B,OAAG;AAAC,UAAIC,KAAEH,KAAED,KAAEE,KAAEH;AAAE,aAAOI,MAAGC,KAAED,KAAEC;AAAA,IAAC,CAAC;AAAA,EAAC,EAAC,CAAC,IAAE,MAAKI,MAAG,EAAC,MAAM,EAAC,gBAAeb,IAAE,iBAAgBG,KAAE,UAASC,GAAC,GAAE;AAAC,WAAO,OAAOA,GAAE,SAAS,OAAM,EAAC,UAAS,GAAGJ,KAAEV,EAAC,MAAK,WAAU,GAAGa,MAAEb,EAAC,KAAI,CAAC;AAAA,EAAC,EAAC,CAAC,CAAC,EAAE,OAAO,OAAO,GAAE,sBAAqB,WAAC,CAAC,GAAE,CAACwB,KAAEtB,KAAEuB,KAAEtB,GAAC,IAAEG,IAAE,UAAU,MAAM,GAAG;AAAE,EAAAJ,QAAI,gBAAcsB,KAAE;AAAa,MAAIE,SAAE,eAAAvC,SAAE,OAAK,EAAC,QAAO,CAACqC,IAAEC,EAAC,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG,EAAC,IAAG,CAACD,IAAEC,EAAC,CAAC,GAAEE,KAAE,eAAGrB,KAAE,EAAC,aAAYd,IAAE,UAASH,IAAC,CAAC,GAAE,EAAC,mBAAkBuC,IAAE,kBAAiBC,GAAC,IAAE,gBAAG,CAACF,EAAC,CAAC,GAAEG,KAAEnC,GAAE,CAAAe,OAAG;AAAC,IAAAf,IAAEe,EAAC,GAAEN,IAAE,YAAYM,EAAC;AAAA,EAAC,CAAC;AAAE,SAAS,iBAAc9B,GAAE,UAAS,EAAC,OAAMU,IAAC,GAAI,iBAAcZ,GAAE,UAAS,EAAC,OAAM,EAAC,aAAYoD,IAAE,cAAa1B,IAAE,cAAa,QAAOR,MAAES,MAAE,CAAC,GAAE,mBAAkBuB,IAAE,kBAAiBC,IAAE,MAAKH,GAAC,EAAC,GAAE3C,EAAC,CAAC;AAAC;AAAC,SAAS,GAAGA,IAAE;AAAC,EAAAG,GAAE,MAAI;AAAC,QAAG,CAACH;AAAE;AAAO,QAAIC,MAAE,IAAI,iBAAiB,MAAI;AAAC,UAAIE,MAAEH,GAAE,MAAM;AAAU,iBAAWG,GAAC,MAAI,SAASA,GAAC,MAAIH,GAAE,MAAM,YAAU,GAAG,KAAK,KAAK,WAAWG,GAAC,CAAC,CAAC;AAAA,IAAK,CAAC;AAAE,WAAOF,IAAE,QAAQD,IAAE,EAAC,YAAW,MAAG,iBAAgB,CAAC,OAAO,EAAC,CAAC,GAAE,MAAI;AAAC,MAAAC,IAAE,WAAW;AAAA,IAAC;AAAA,EAAC,GAAE,CAACD,EAAC,CAAC;AAAC;AAAC,SAAS,GAAGA,IAAEC,KAAE;AAAC,MAAIE,MAAE6C,GAAEhD,MAAG,OAAK,SAAOA,GAAE,KAAIC,GAAC,GAAEM,MAAEyC,GAAEhD,MAAG,OAAK,SAAOA,GAAE,QAAOC,GAAC,GAAEI,MAAE2C,GAAEhD,MAAG,OAAK,SAAOA,GAAE,SAAQC,GAAC;AAAE,SAAM,EAAC,GAAGD,IAAE,KAAIG,KAAE,QAAOI,KAAE,SAAQF,IAAC;AAAC;AAAC,SAAS2C,GAAEhD,IAAEC,KAAEE,MAAE,QAAO;AAAC,MAAII,MAAEU,GAAG,GAAEZ,MAAEO,GAAE,CAACA,KAAEC,QAAI;AAAC,QAAGD,OAAG;AAAK,aAAM,CAACT,KAAE,IAAI;AAAE,QAAG,OAAOS,OAAG;AAAS,aAAM,CAACA,KAAE,IAAI;AAAE,QAAG,OAAOA,OAAG,UAAS;AAAC,UAAG,CAACC;AAAE,eAAM,CAACV,KAAE,IAAI;AAAE,UAAIW,KAAE,EAAEF,KAAEC,GAAC;AAAE,aAAM,CAACC,IAAE,CAAAC,OAAG;AAAC,YAAIC,KAAEiC,GAAErC,GAAC;AAAE;AAAC,cAAIK,KAAED,GAAE,IAAI,CAAAE,QAAG,OAAO,iBAAiBL,GAAC,EAAE,iBAAiBK,GAAC,CAAC;AAAE,UAAAX,IAAE,sBAAsB,SAASW,MAAG;AAAC,YAAAX,IAAE,UAAUW,GAAC;AAAE,gBAAIC,MAAE;AAAG,qBAAO,CAACE,KAAEC,GAAC,KAAIN,GAAE,QAAQ,GAAE;AAAC,kBAAIO,MAAE,OAAO,iBAAiBV,GAAC,EAAE,iBAAiBS,GAAC;AAAE,kBAAGL,GAAEI,GAAC,MAAIE,KAAE;AAAC,gBAAAN,GAAEI,GAAC,IAAEE,KAAEJ,MAAE;AAAG;AAAA,cAAK;AAAA,YAAC;AAAC,gBAAG,CAACA;AAAE;AAAO,gBAAIC,MAAE,EAAER,KAAEC,GAAC;AAAE,YAAAC,OAAIM,QAAIL,GAAEK,GAAC,GAAEN,KAAEM;AAAA,UAAE,CAAC;AAAA,QAAC;AAAC,eAAOb,IAAE;AAAA,MAAO,CAAC;AAAA,IAAC;AAAC,WAAM,CAACJ,KAAE,IAAI;AAAA,EAAC,CAAC,GAAEG,UAAE,eAAAF,SAAE,MAAIC,IAAEL,IAAEC,GAAC,EAAE,CAAC,GAAE,CAACD,IAAEC,GAAC,CAAC,GAAE,CAACQ,KAAEH,KAAEK,GAAC,QAAE,eAAAH,UAAE;AAAE,SAAOL,GAAE,MAAI;AAAC,QAAG,CAACS,KAAEC,GAAC,IAAER,IAAEL,IAAEC,GAAC;AAAE,QAAGU,IAAEC,GAAC,GAAE,CAAC,CAACC;AAAE,aAAOA,IAAEF,GAAC;AAAA,EAAC,GAAE,CAACX,IAAEC,GAAC,CAAC,GAAEQ;AAAC;AAAC,SAASwC,GAAEjD,IAAE;AAAC,MAAIC,MAAE,cAAc,KAAKD,EAAC;AAAE,MAAGC,KAAE;AAAC,QAAIE,MAAEF,IAAE,CAAC,EAAE,QAAQ,GAAG;AAAE,QAAGE,QAAI;AAAG,aAAM,CAACF,IAAE,CAAC,CAAC;AAAE,QAAIM,MAAEN,IAAE,CAAC,EAAE,MAAM,GAAEE,GAAC,EAAE,KAAK,GAAEE,MAAEJ,IAAE,CAAC,EAAE,MAAME,MAAE,CAAC,EAAE,KAAK;AAAE,WAAOE,MAAE,CAACE,KAAE,GAAG0C,GAAE5C,GAAC,CAAC,IAAE,CAACE,GAAC;AAAA,EAAC;AAAC,SAAM,CAAC;AAAC;AAAC,SAAS,EAAEP,IAAEC,KAAE;AAAC,MAAIE,MAAE,SAAS,cAAc,KAAK;AAAE,EAAAF,IAAE,YAAYE,GAAC,GAAEA,IAAE,MAAM,YAAY,cAAa,OAAM,WAAW,GAAEA,IAAE,MAAM,YAAY,cAAaH,IAAE,WAAW;AAAE,MAAIO,MAAE,WAAW,OAAO,iBAAiBJ,GAAC,EAAE,SAAS,KAAG;AAAE,SAAOF,IAAE,YAAYE,GAAC,GAAEI;AAAC;;;ACAtwI,IAAA2C,iBAAiD;AAAQ,IAAIC,SAAE,eAAAC,eAAE,IAAI;AAAED,GAAE,cAAY;AAAoB,IAAIE,MAAG,CAAAC,QAAIA,GAAEA,GAAE,OAAK,CAAC,IAAE,QAAOA,GAAEA,GAAE,SAAO,CAAC,IAAE,UAASA,GAAEA,GAAE,UAAQ,CAAC,IAAE,WAAUA,GAAEA,GAAE,UAAQ,CAAC,IAAE,WAAUA,KAAID,MAAG,CAAC,CAAC;AAAE,SAASE,KAAG;AAAC,aAAO,eAAAC,YAAEL,EAAC;AAAC;AAAC,SAASM,IAAE,EAAC,OAAMC,KAAE,UAASC,IAAC,GAAE;AAAC,SAAO,eAAAC,QAAE,cAAcT,GAAE,UAAS,EAAC,OAAMO,IAAC,GAAEC,GAAC;AAAC;;;ACAnU,SAASE,IAAEC,KAAE;AAAC,WAASC,KAAG;AAAC,aAAS,eAAa,cAAYD,IAAE,GAAE,SAAS,oBAAoB,oBAAmBC,EAAC;AAAA,EAAE;AAAC,SAAO,UAAQ,eAAa,OAAO,YAAU,gBAAc,SAAS,iBAAiB,oBAAmBA,EAAC,GAAEA,GAAE;AAAE;;;ACA9K,IAAIC,MAAE,CAAC;AAAEA,IAAE,MAAI;AAAC,WAASC,GAAEC,KAAE;AAAC,IAAAA,IAAE,kBAAkB,eAAaA,IAAE,WAAS,SAAS,QAAMF,IAAE,CAAC,MAAIE,IAAE,WAASF,IAAE,QAAQE,IAAE,MAAM,GAAEF,MAAEA,IAAE,OAAO,CAAAG,QAAGA,OAAG,QAAMA,IAAE,WAAW,GAAEH,IAAE,OAAO,EAAE;AAAA,EAAE;AAAC,SAAO,iBAAiB,SAAQC,IAAE,EAAC,SAAQ,KAAE,CAAC,GAAE,OAAO,iBAAiB,aAAYA,IAAE,EAAC,SAAQ,KAAE,CAAC,GAAE,OAAO,iBAAiB,SAAQA,IAAE,EAAC,SAAQ,KAAE,CAAC,GAAE,SAAS,KAAK,iBAAiB,SAAQA,IAAE,EAAC,SAAQ,KAAE,CAAC,GAAE,SAAS,KAAK,iBAAiB,aAAYA,IAAE,EAAC,SAAQ,KAAE,CAAC,GAAE,SAAS,KAAK,iBAAiB,SAAQA,IAAE,EAAC,SAAQ,KAAE,CAAC;AAAC,CAAC;;;ACAtiB,SAASG,GAAEC,KAAE;AAAC,QAAM,IAAI,MAAM,wBAAsBA,GAAC;AAAC;AAAC,IAAIC,MAAG,CAAAC,SAAIA,IAAEA,IAAE,QAAM,CAAC,IAAE,SAAQA,IAAEA,IAAE,WAAS,CAAC,IAAE,YAAWA,IAAEA,IAAE,OAAK,CAAC,IAAE,QAAOA,IAAEA,IAAE,OAAK,CAAC,IAAE,QAAOA,IAAEA,IAAE,WAAS,CAAC,IAAE,YAAWA,IAAEA,IAAE,UAAQ,CAAC,IAAE,WAAUA,MAAID,MAAG,CAAC,CAAC;AAAE,SAASE,IAAEH,KAAEI,KAAE;AAAC,MAAIC,MAAED,IAAE,aAAa;AAAE,MAAGC,IAAE,UAAQ;AAAE,WAAO;AAAK,MAAIC,MAAEF,IAAE,mBAAmB,GAAEG,MAAED,OAAG,OAAKA,MAAE;AAAG,UAAON,IAAE,OAAM;AAAA,IAAC,KAAK,GAAE;AAAC,eAAQQ,KAAE,GAAEA,KAAEH,IAAE,QAAO,EAAEG;AAAE,YAAG,CAACJ,IAAE,gBAAgBC,IAAEG,EAAC,GAAEA,IAAEH,GAAC;AAAE,iBAAOG;AAAE,aAAOF;AAAA,IAAC;AAAA,IAAC,KAAK,GAAE;AAAC,MAAAC,QAAI,OAAKA,MAAEF,IAAE;AAAQ,eAAQG,KAAED,MAAE,GAAEC,MAAG,GAAE,EAAEA;AAAE,YAAG,CAACJ,IAAE,gBAAgBC,IAAEG,EAAC,GAAEA,IAAEH,GAAC;AAAE,iBAAOG;AAAE,aAAOF;AAAA,IAAC;AAAA,IAAC,KAAK,GAAE;AAAC,eAAQE,KAAED,MAAE,GAAEC,KAAEH,IAAE,QAAO,EAAEG;AAAE,YAAG,CAACJ,IAAE,gBAAgBC,IAAEG,EAAC,GAAEA,IAAEH,GAAC;AAAE,iBAAOG;AAAE,aAAOF;AAAA,IAAC;AAAA,IAAC,KAAK,GAAE;AAAC,eAAQE,KAAEH,IAAE,SAAO,GAAEG,MAAG,GAAE,EAAEA;AAAE,YAAG,CAACJ,IAAE,gBAAgBC,IAAEG,EAAC,GAAEA,IAAEH,GAAC;AAAE,iBAAOG;AAAE,aAAOF;AAAA,IAAC;AAAA,IAAC,KAAK,GAAE;AAAC,eAAQE,KAAE,GAAEA,KAAEH,IAAE,QAAO,EAAEG;AAAE,YAAGJ,IAAE,UAAUC,IAAEG,EAAC,GAAEA,IAAEH,GAAC,MAAIL,IAAE;AAAG,iBAAOQ;AAAE,aAAOF;AAAA,IAAC;AAAA,IAAC,KAAK;AAAE,aAAO;AAAA,IAAK;AAAQ,MAAAP,GAAEC,GAAC;AAAA,EAAC;AAAC;;;AtBA0jD,IAAI,MAAI,CAAAS,SAAIA,IAAEA,IAAE,OAAK,CAAC,IAAE,QAAOA,IAAEA,IAAE,SAAO,CAAC,IAAE,UAASA,MAAI,MAAI,CAAC,CAAC;AAAhE,IAAkE,MAAI,CAAAA,SAAIA,IAAEA,IAAE,SAAO,CAAC,IAAE,UAASA,IAAEA,IAAE,QAAM,CAAC,IAAE,SAAQA,MAAI,MAAI,CAAC,CAAC;AAAhI,IAAkI,MAAI,CAAAC,SAAIA,IAAEA,IAAE,UAAQ,CAAC,IAAE,WAAUA,IAAEA,IAAE,QAAM,CAAC,IAAE,SAAQA,IAAEA,IAAE,QAAM,CAAC,IAAE,SAAQA,MAAI,MAAI,CAAC,CAAC;AAAvN,IAAyN,MAAI,CAAAC,SAAIA,IAAEA,IAAE,eAAa,CAAC,IAAE,gBAAeA,IAAEA,IAAE,gBAAc,CAAC,IAAE,iBAAgBA,IAAEA,IAAE,aAAW,CAAC,IAAE,cAAaA,IAAEA,IAAE,iBAAe,CAAC,IAAE,kBAAiBA,IAAEA,IAAE,mBAAiB,CAAC,IAAE,oBAAmBA,IAAEA,IAAE,uBAAqB,CAAC,IAAE,wBAAuBA,IAAEA,IAAE,uBAAqB,CAAC,IAAE,wBAAuBA,MAAI,MAAI,CAAC,CAAC;AAAE,SAASC,IAAGC,IAAEC,MAAE,CAAAL,QAAGA,KAAE;AAAC,MAAIA,MAAEI,GAAE,sBAAoB,OAAKA,GAAE,QAAQA,GAAE,iBAAiB,IAAE,MAAKH,MAAEI,IAAED,GAAE,QAAQ,MAAM,CAAC,GAAEE,KAAEL,IAAE,SAAO,KAAGA,IAAE,CAAC,EAAE,QAAQ,QAAQ,UAAQ,OAAKA,IAAE,KAAK,CAACM,KAAEL,QAAIK,IAAE,QAAQ,QAAQ,QAAML,IAAE,QAAQ,QAAQ,KAAK,IAAE,EAAGD,KAAE,CAAAM,QAAGA,IAAE,QAAQ,QAAQ,OAAO,OAAO,GAAEC,MAAER,MAAEM,GAAE,QAAQN,GAAC,IAAE;AAAK,SAAOQ,QAAI,OAAKA,MAAE,OAAM,EAAC,SAAQF,IAAE,mBAAkBE,IAAC;AAAC;AAAC,IAAI,KAAG,EAAC,CAAC,CAAC,EAAEJ,IAAE;AAAC,MAAIC;AAAE,UAAOA,MAAED,GAAE,QAAQ,YAAU,QAAMC,IAAE,YAAUD,GAAE,kBAAgB,IAAEA,KAAE,EAAC,GAAGA,IAAE,mBAAkB,MAAK,eAAc,EAAC;AAAC,GAAE,CAAC,CAAC,EAAEA,IAAE;AAAC,MAAIC,KAAEL;AAAE,OAAIK,MAAED,GAAE,QAAQ,YAAU,QAAMC,IAAE,YAAUD,GAAE,kBAAgB;AAAE,WAAOA;AAAE,OAAIJ,MAAEI,GAAE,QAAQ,YAAU,QAAMJ,IAAE,OAAM;AAAC,QAAIC,MAAEG,GAAE,QAAQ,QAAQ,eAAeA,GAAE,QAAQ,QAAQ,KAAK;AAAE,QAAGH,QAAI;AAAG,aAAM,EAAC,GAAGG,IAAE,mBAAkBH,KAAE,eAAc,EAAC;AAAA,EAAC;AAAC,SAAM,EAAC,GAAGG,IAAE,eAAc,EAAC;AAAC,GAAE,CAAC,CAAC,EAAEA,IAAEC,KAAE;AAAC,MAAIG,KAAED,KAAEL,KAAEO,KAAEC;AAAE,OAAIF,MAAEJ,GAAE,QAAQ,YAAU,QAAMI,IAAE,aAAWD,MAAEH,GAAE,QAAQ,YAAU,QAAMG,IAAE,WAAW,WAAS,GAAGL,MAAEE,GAAE,QAAQ,YAAU,QAAMF,IAAE,gBAAgB,QAAQ,WAASE,GAAE,kBAAgB;AAAE,WAAOA;AAAE,MAAGA,GAAE,SAAQ;AAAC,QAAIO,MAAEN,IAAE,UAAQO,GAAE,WAASP,IAAE,MAAIE,IAAGF,KAAE,EAAC,cAAa,MAAID,GAAE,QAAQ,SAAQ,oBAAmB,MAAI;AAAC,UAAIS,IAAEC;AAAE,cAAOA,OAAGD,KAAET,GAAE,sBAAoB,OAAKS,KAAET,GAAE,QAAQ,QAAQ,UAAU,CAAAW,QAAG,CAACX,GAAE,QAAQ,SAASW,GAAC,CAAC,MAAI,OAAKD,MAAE;AAAA,IAAI,GAAE,iBAAgBV,GAAE,QAAQ,UAAS,YAAW;AAAC,YAAM,IAAI,MAAM,2BAA2B;AAAA,IAAC,EAAC,CAAC,GAAEY,MAAGP,MAAEJ,IAAE,YAAU,OAAKI,MAAE;AAAE,WAAOL,GAAE,sBAAoBO,OAAGP,GAAE,sBAAoBY,KAAEZ,KAAE,EAAC,GAAGA,IAAE,mBAAkBO,KAAE,mBAAkBK,GAAC;AAAA,EAAC;AAAC,MAAIhB,MAAEG,IAAGC,EAAC;AAAE,MAAGJ,IAAE,sBAAoB,MAAK;AAAC,QAAIW,MAAEX,IAAE,QAAQ,UAAU,CAAAgB,OAAG,CAACA,GAAE,QAAQ,QAAQ,QAAQ;AAAE,IAAAL,QAAI,OAAKX,IAAE,oBAAkBW;AAAA,EAAE;AAAC,MAAIV,MAAEI,IAAE,UAAQO,GAAE,WAASP,IAAE,MAAIE,IAAGF,KAAE,EAAC,cAAa,MAAIL,IAAE,SAAQ,oBAAmB,MAAIA,IAAE,mBAAkB,WAAU,CAAAW,QAAGA,IAAE,IAAG,iBAAgB,CAAAA,QAAGA,IAAE,QAAQ,QAAQ,SAAQ,CAAC,GAAEL,MAAGI,MAAEL,IAAE,YAAU,OAAKK,MAAE;AAAE,SAAON,GAAE,sBAAoBH,OAAGG,GAAE,sBAAoBE,KAAEF,KAAE,EAAC,GAAGA,IAAE,GAAGJ,KAAE,mBAAkBC,KAAE,mBAAkBK,GAAC;AAAC,GAAE,CAAC,CAAC,GAAE,CAACF,IAAEC,QAAI;AAAC,MAAIG,KAAED,KAAEL;AAAE,OAAIM,MAAEJ,GAAE,QAAQ,YAAU,QAAMI,IAAE;AAAQ,WAAM,EAAC,GAAGJ,IAAE,SAAQ,CAAC,GAAGA,GAAE,SAAQC,IAAE,OAAO,EAAC;AAAE,MAAIL,MAAEK,IAAE,SAAQJ,MAAEE,IAAGC,IAAE,CAAAK,SAAIA,IAAE,KAAKT,GAAC,GAAES,IAAE;AAAE,EAAAL,GAAE,sBAAoB,SAAOG,MAAEH,GAAE,QAAQ,YAAU,QAAMG,IAAE,WAAWF,IAAE,QAAQ,QAAQ,QAAQ,KAAK,MAAIJ,IAAE,oBAAkBA,IAAE,QAAQ,QAAQD,GAAC;AAAG,MAAIM,KAAE,EAAC,GAAGF,IAAE,GAAGH,KAAE,mBAAkB,EAAC;AAAE,UAAOC,MAAEE,GAAE,QAAQ,YAAU,QAAMF,IAAE,cAAYE,GAAE,QAAQ,QAAQ,UAAQ,WAASE,GAAE,oBAAkB,IAAGA;AAAC,GAAE,CAAC,CAAC,GAAE,CAACF,IAAEC,QAAI;AAAC,MAAIJ;AAAE,OAAIA,MAAEG,GAAE,QAAQ,YAAU,QAAMH,IAAE;AAAQ,WAAM,EAAC,GAAGG,IAAE,SAAQA,GAAE,QAAQ,OAAO,CAAAE,OAAGA,GAAE,OAAKD,IAAE,EAAE,EAAC;AAAE,MAAIL,MAAEG,IAAGC,IAAE,CAAAE,OAAG;AAAC,QAAIE,MAAEF,GAAE,UAAU,CAAAC,QAAGA,IAAE,OAAKF,IAAE,EAAE;AAAE,WAAOG,QAAI,MAAIF,GAAE,OAAOE,KAAE,CAAC,GAAEF;AAAA,EAAC,CAAC;AAAE,SAAM,EAAC,GAAGF,IAAE,GAAGJ,KAAE,mBAAkB,EAAC;AAAC,GAAE,CAAC,CAAC,GAAE,CAACI,IAAEC,QAAID,GAAE,sBAAoBC,IAAE,UAAQD,KAAE,EAAC,GAAGA,IAAE,mBAAkBC,IAAE,QAAO,GAAE,CAAC,CAAC,GAAE,CAACD,IAAEC,QAAI;AAAC,MAAIJ;AAAE,QAAKA,MAAEG,GAAE,YAAU,OAAK,SAAOH,IAAE,aAAWI,IAAE;AAAQ,WAAOD;AAAE,MAAIJ,MAAEI,GAAE;AAAkB,MAAGA,GAAE,sBAAoB,MAAK;AAAC,QAAIE,KAAED,IAAE,QAAQ,QAAQD,GAAE,QAAQ,QAAQA,GAAE,iBAAiB,CAAC;AAAE,IAAAE,OAAI,KAAGN,MAAEM,KAAEN,MAAE;AAAA,EAAI;AAAC,SAAM,EAAC,GAAGI,IAAE,mBAAkBJ,KAAE,SAAQ,OAAO,OAAO,CAAC,GAAEI,GAAE,SAAQ,EAAC,SAAQC,IAAE,QAAO,CAAC,EAAC;AAAC,EAAC;AAA5iF,IAA8iFY,UAAG,eAAAC,eAAG,IAAI;AAAED,IAAG,cAAY;AAAyB,SAAS,GAAGb,IAAE;AAAC,MAAIC,UAAE,eAAAc,YAAGF,GAAE;AAAE,MAAGZ,QAAI,MAAK;AAAC,QAAIL,MAAE,IAAI,MAAM,IAAII,EAAC,iDAAiD;AAAE,UAAM,MAAM,qBAAmB,MAAM,kBAAkBJ,KAAE,EAAE,GAAEA;AAAA,EAAC;AAAC,SAAOK;AAAC;AAAC,IAAI,SAAG,eAAAa,eAAG,IAAI;AAAE,SAAS,GAAGd,IAAE;AAAC,MAAIF;AAAE,MAAIG,MAAEe,GAAE,iBAAiB,GAAE,CAACpB,KAAEC,GAAC,QAAE,eAAAoB,SAAE,MAAI;AAAC,QAAIZ,MAAEJ,IAAE,WAAW;AAAQ,QAAG,CAACI;AAAE,aAAM,CAAC,GAAE,CAAC;AAAE,QAAIC,MAAE,OAAO,iBAAiBD,GAAC;AAAE,WAAM,CAAC,WAAWC,IAAE,qBAAmBA,IAAE,UAAU,GAAE,WAAWA,IAAE,mBAAiBA,IAAE,aAAa,CAAC;AAAA,EAAC,GAAE,CAACL,IAAE,WAAW,OAAO,CAAC,GAAEC,KAAE,eAAG,EAAC,oBAAmBN,KAAE,kBAAiBC,KAAE,OAAMI,IAAE,QAAQ,QAAQ,QAAO,eAAc;AAAC,WAAO;AAAA,EAAE,GAAE,mBAAkB;AAAC,QAAII;AAAE,YAAOA,MAAEJ,IAAE,WAAW,YAAU,OAAKI,MAAE;AAAA,EAAI,GAAE,UAAS,GAAE,CAAC,GAAE,CAACD,KAAED,GAAC,QAAE,eAAAe,UAAG,CAAC;AAAE,SAAOjB,GAAE,MAAI;AAAC,IAAAE,IAAE,CAAAE,QAAGA,MAAE,CAAC;AAAA,EAAC,GAAE,EAAEP,MAAEG,IAAE,YAAU,OAAK,SAAOH,IAAE,OAAO,CAAC,GAAE,eAAAqB,QAAE,cAAc,GAAG,UAAS,EAAC,OAAMjB,GAAC,GAAE,eAAAiB,QAAE,cAAc,OAAM,EAAC,OAAM,EAAC,UAAS,YAAW,OAAM,QAAO,QAAO,GAAGjB,GAAE,aAAa,CAAC,KAAI,GAAE,KAAI,CAAAG,QAAG;AAAC,QAAGA,KAAE;AAAC,UAAG,OAAO,WAAS,eAAa,QAAQ,IAAI,mBAAiB,UAAQJ,IAAE,sBAAoB;AAAE;AAAO,MAAAA,IAAE,sBAAoB,QAAMA,IAAE,QAAQ,QAAQ,SAAOA,IAAE,qBAAmBC,GAAE,cAAcD,IAAE,iBAAiB;AAAA,IAAC;AAAA,EAAC,EAAC,GAAEC,GAAE,gBAAgB,EAAE,IAAI,CAAAG,QAAG;AAAC,QAAIC;AAAE,WAAO,eAAAa,QAAE,cAAc,eAAAC,UAAG,EAAC,KAAIf,IAAE,IAAG,GAAE,eAAAc,QAAE,cAAcb,MAAEN,GAAE,aAAW,OAAK,SAAOM,IAAE,KAAKN,IAAE,EAAC,QAAOC,IAAE,QAAQ,QAAQI,IAAE,KAAK,GAAE,MAAKJ,IAAE,kBAAgB,EAAC,CAAC,GAAE,EAAC,KAAI,GAAGG,GAAC,IAAIC,IAAE,GAAG,IAAG,cAAaA,IAAE,OAAM,gBAAeJ,IAAE,QAAQ,QAAQ,QAAO,iBAAgBI,IAAE,QAAM,GAAE,OAAM,EAAC,UAAS,YAAW,KAAI,GAAE,MAAK,GAAE,WAAU,cAAcA,IAAE,KAAK,OAAM,gBAAe,OAAM,EAAC,CAAC,CAAC;AAAA,EAAC,CAAC,CAAC,CAAC;AAAC;AAAC,IAAI,SAAG,eAAAS,eAAG,IAAI;AAAE,GAAG,cAAY;AAAsB,SAASE,GAAEhB,IAAE;AAAC,MAAIC,UAAE,eAAAc,YAAG,EAAE;AAAE,MAAGd,QAAI,MAAK;AAAC,QAAIL,MAAE,IAAI,MAAM,IAAII,EAAC,iDAAiD;AAAE,UAAM,MAAM,qBAAmB,MAAM,kBAAkBJ,KAAEoB,EAAC,GAAEpB;AAAA,EAAC;AAAC,SAAOK;AAAC;AAAC,SAAS,GAAGD,IAAEC,KAAE;AAAC,SAAOoB,GAAEpB,IAAE,MAAK,IAAGD,IAAEC,GAAC;AAAC;AAAC,IAAI,KAAG,eAAAmB;AAAG,SAAS,GAAGpB,IAAEC,KAAE;AAAC,MAAIqB,IAAEC;AAAE,MAAI3B,MAAEE,GAAG,GAAE,EAAC,OAAMD,KAAE,cAAaK,IAAE,UAASE,KAAE,MAAKD,KAAE,MAAKL,KAAE,IAAGO,KAAE,UAASC,MAAEV,OAAG,OAAG,YAAWW,MAAE,OAAG,UAASK,KAAE,OAAG,UAASH,KAAE,OAAG,WAAUC,MAAE,OAAG,SAAQC,MAAE,MAAK,GAAGa,GAAC,IAAExB,IAAE,CAACyB,MAAEhB,KAAE,CAAC,IAAE,QAAOiB,GAAC,IAAEhB,GAAGb,KAAEO,KAAEF,EAAC,GAAE,CAACyB,KAAEC,EAAC,QAAE,eAAAC,YAAG,IAAG,EAAC,aAAQ,eAAAC,WAAG,GAAE,eAAcvB,MAAE,IAAE,GAAE,SAAQ,CAAC,GAAE,SAAQI,MAAE,EAAC,SAAQA,IAAE,SAAQ,WAAUW,KAAEX,IAAE,aAAW,OAAKW,KAAE,MAAI,MAAE,IAAE,MAAK,mBAAkB,MAAK,mBAAkB,EAAC,CAAC,GAAES,SAAE,eAAAC,QAAE,KAAE,GAAEC,SAAE,eAAAD,QAAE,EAAC,QAAO,OAAG,MAAK,MAAE,CAAC,GAAEE,SAAE,eAAAF,QAAE,IAAI,GAAEG,SAAE,eAAAH,QAAE,IAAI,GAAEI,SAAE,eAAAJ,QAAE,IAAI,GAAEK,KAAE3B,GAAGL,GAAC,GAAEiC,KAAEhC,GAAE,CAAAE,QAAGG,MAAEN,QAAI,OAAKM,IAAE,QAAQ,QAAQH,GAAC,IAAEG,IAAE,QAAQ,UAAU,CAAA4B,OAAGF,GAAEE,IAAE/B,GAAC,CAAC,IAAEmB,IAAE,QAAQ,UAAU,CAAAY,OAAGF,GAAEE,GAAE,QAAQ,QAAQ,OAAM/B,GAAC,CAAC,CAAC,GAAEgC,SAAE,eAAAC,aAAG,CAAAjC,QAAGa,GAAEqB,IAAE,MAAK,EAAC,CAAC,CAAC,GAAE,MAAIjB,IAAE,KAAK,CAAAc,OAAGF,GAAEE,IAAE/B,GAAC,CAAC,GAAE,CAAC,CAAC,GAAE,MAAI6B,GAAEZ,KAAEjB,GAAC,EAAC,CAAC,GAAE,CAACiB,GAAC,CAAC,GAAEkB,KAAErC,GAAE,CAAAE,QAAGmB,IAAE,sBAAoBW,GAAE9B,GAAC,CAAC,GAAEkC,UAAE,eAAAzB,SAAE,OAAK,EAAC,GAAGU,KAAE,WAAUjB,KAAE,iBAAgBuB,IAAE,UAASC,IAAE,WAAUC,IAAE,YAAWC,IAAE,OAAMX,KAAE,cAAavB,IAAE,UAASI,KAAE,MAAKG,KAAE,IAAE,GAAE,SAAQkB,IAAE,SAAQ,IAAI,oBAAmB;AAAC,QAAGI,GAAE,WAASJ,IAAE,sBAAoB,SAAOhB,MAAEA,IAAE,QAAQ,SAAO,IAAEgB,IAAE,QAAQ,SAAO,IAAG;AAAC,UAAGhB,KAAE;AAAC,YAAI4B,KAAE5B,IAAE,QAAQ,UAAU,CAAAiC,OAAG;AAAC,cAAIC,KAAGC;AAAG,iBAAM,GAAGA,OAAID,MAAGlC,OAAG,OAAK,SAAOA,IAAE,aAAW,OAAK,SAAOkC,IAAG,KAAKlC,KAAEiC,EAAC,MAAI,QAAME;AAAA,QAAG,CAAC;AAAE,YAAGP,OAAI;AAAG,iBAAOA;AAAA,MAAC;AAAC,UAAI/B,MAAEmB,IAAE,QAAQ,UAAU,CAAAY,OAAG,CAACA,GAAE,QAAQ,QAAQ,QAAQ;AAAE,UAAG/B,QAAI;AAAG,eAAOA;AAAA,IAAC;AAAC,WAAOmB,IAAE;AAAA,EAAiB,GAAE,gBAAeW,IAAE,SAAQD,IAAE,YAAWG,IAAE,UAASG,IAAE,UAAS/B,IAAE,YAAWL,IAAC,IAAG,CAACkB,KAAEvB,IAAEI,KAAEG,IAAEG,IAAEL,KAAEoB,KAAEhB,GAAC,CAAC;AAAE,EAAAV,GAAE,MAAI;AAAC,IAAAU,OAAGiB,GAAE,EAAC,MAAK,GAAE,SAAQjB,IAAE,QAAO,CAAC;AAAA,EAAC,GAAE,CAACA,KAAEA,OAAG,OAAK,SAAOA,IAAE,OAAO,CAAC,GAAEV,GAAE,MAAI;AAAC,IAAA0B,IAAE,QAAQ,UAAQe;AAAA,EAAC,GAAE,CAACA,GAAC,CAAC,GAAEvB,GAAG,CAACuB,IAAE,WAAUA,IAAE,UAASA,IAAE,UAAU,GAAE,MAAIK,GAAE,cAAc,GAAEL,IAAE,kBAAgB,CAAC;AAAE,MAAIM,UAAG,eAAA/B,SAAE,MAAI;AAAC,QAAIT,KAAE+B,IAAEK;AAAE,WAAM,EAAC,MAAKF,IAAE,kBAAgB,GAAE,UAASpC,KAAE,aAAYoC,IAAE,mBAAkB,cAAaA,IAAE,sBAAoB,OAAK,OAAKA,IAAE,UAAQA,IAAE,QAAQ,SAASlC,MAAEkC,IAAE,sBAAoB,OAAKlC,MAAE,CAAC,KAAGoC,MAAGL,KAAEG,IAAE,QAAQA,IAAE,iBAAiB,MAAI,OAAK,SAAOH,GAAE,QAAQ,QAAQ,UAAQ,OAAKK,KAAE,MAAK,OAAMnB,IAAC;AAAA,EAAC,GAAE,CAACiB,KAAEpC,KAAEmB,GAAC,CAAC,GAAEwB,MAAG3C,GAAE,MAAI;AAAC,QAAGoC,IAAE,sBAAoB,MAAK;AAAC,UAAGA,IAAE;AAAQ,QAAAQ,GAAER,IAAE,QAAQ,QAAQA,IAAE,iBAAiB,CAAC;AAAA,WAAM;AAAC,YAAG,EAAC,SAAQlC,IAAC,IAAEkC,IAAE,QAAQA,IAAE,iBAAiB;AAAE,QAAAQ,GAAE1C,IAAE,QAAQ,KAAK;AAAA,MAAC;AAAC,MAAAuC,GAAE,WAAWvC,GAAE,UAASkC,IAAE,iBAAiB;AAAA,IAAC;AAAA,EAAC,CAAC,GAAES,KAAE7C,GAAE,MAAI;AAAC,IAAAsB,GAAE,EAAC,MAAK,EAAC,CAAC,GAAEG,GAAE,UAAQ;AAAA,EAAE,CAAC,GAAEqB,KAAE9C,GAAE,MAAI;AAAC,IAAAsB,GAAE,EAAC,MAAK,EAAC,CAAC,GAAEG,GAAE,UAAQ;AAAA,EAAE,CAAC,GAAEsB,MAAG/C,GAAE,CAACE,KAAE+B,IAAEK,QAAKb,GAAE,UAAQ,OAAGvB,QAAIA,GAAE,WAASoB,GAAE,EAAC,MAAK,GAAE,OAAMpB,GAAE,UAAS,KAAI+B,IAAE,SAAQK,GAAC,CAAC,IAAEhB,GAAE,EAAC,MAAK,GAAE,OAAMpB,KAAE,SAAQoC,GAAC,CAAC,EAAE,GAAE,KAAGtC,GAAE,CAACE,KAAE+B,QAAKX,GAAE,EAAC,MAAK,GAAE,SAAQ,EAAC,IAAGpB,KAAE,SAAQ+B,GAAC,EAAC,CAAC,GAAE,MAAI;AAAC,IAAAG,IAAE,SAASH,GAAE,QAAQ,KAAK,MAAIR,GAAE,UAAQ,OAAIH,GAAE,EAAC,MAAK,GAAE,IAAGpB,IAAC,CAAC;AAAA,EAAC,EAAE,GAAE0C,KAAE5C,GAAE,CAAAE,QAAGa,GAAEqB,IAAE,MAAK,EAAC,CAAC,CAAC,IAAG;AAAC,WAAOhB,OAAG,OAAK,SAAOA,IAAElB,GAAC;AAAA,EAAC,GAAE,CAAC,CAAC,IAAG;AAAC,QAAI+B,KAAEG,IAAE,MAAM,MAAM,GAAEE,KAAEL,GAAE,UAAU,CAAAM,QAAIR,GAAEQ,KAAGrC,GAAC,CAAC;AAAE,WAAOoC,OAAI,KAAGL,GAAE,KAAK/B,GAAC,IAAE+B,GAAE,OAAOK,IAAE,CAAC,GAAElB,OAAG,OAAK,SAAOA,IAAEa,EAAC;AAAA,EAAC,EAAC,CAAC,CAAC,GAAEe,MAAGhD,GAAE,CAAAE,QAAG;AAAC,IAAAoB,GAAE,EAAC,MAAK,GAAE,SAAQpB,IAAC,CAAC;AAAA,EAAC,CAAC,GAAEuC,SAAE,eAAA9B,SAAE,OAAK,EAAC,UAASiC,IAAE,gBAAe,IAAG,YAAWG,KAAG,eAAcD,IAAE,cAAaD,IAAE,sBAAqBG,KAAG,oBAAmBL,IAAE,IAAG,CAAC,CAAC,GAAE,CAAC5B,KAAEkC,GAAC,IAAEpC,GAAG,GAAEqC,KAAEvD,QAAI,OAAK,CAAC,IAAE,EAAC,KAAIA,IAAC,GAAEwD,SAAE,eAAAhB,aAAG,MAAIf,OAAG,OAAK,SAAOA,IAAExB,EAAC,GAAE,CAACwB,GAAC,CAAC;AAAE,SAAO,eAAAP,QAAE,cAAcoC,KAAE,EAAC,OAAMlC,KAAE,OAAM,EAAC,UAASE,KAAEmB,IAAE,SAAS,YAAU,OAAK,SAAOnB,GAAE,GAAE,GAAE,MAAK,EAAC,MAAKmB,IAAE,kBAAgB,GAAE,UAASpC,IAAC,EAAC,GAAE,eAAAa,QAAE,cAAc,IAAG,MAAK,eAAAA,QAAE,cAAcN,IAAG,UAAS,EAAC,OAAMkC,GAAC,GAAE,eAAA5B,QAAE,cAAc,GAAG,UAAS,EAAC,OAAMuB,IAAC,GAAE,eAAAvB,QAAE,cAAcuB,KAAG,EAAC,OAAMrB,GAAEqB,IAAE,eAAc,EAAC,CAAC,CAAC,GAAE/B,GAAG,MAAK,CAAC,CAAC,GAAEA,GAAG,OAAM,CAAC,EAAC,GAAEb,OAAG,QAAM,eAAAqB,QAAE,cAAcG,IAAG,EAAC,MAAKG,OAAG,OAAK,EAAC,CAAC3B,GAAC,GAAE2B,IAAC,IAAE,CAAC,GAAE,MAAKtB,KAAE,SAAQsD,GAAC,CAAC,GAAE,EAAE,EAAC,UAASD,IAAE,YAAWhC,IAAE,MAAKwB,KAAG,YAAW,IAAG,MAAK,WAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAAC;AAAC,IAAI,KAAG;AAAQ,SAAS,GAAGhD,IAAEC,KAAE;AAAC,MAAIkD,IAAEC,IAAEC,KAAG,IAAGH,IAAEI,KAAGP;AAAE,MAAInD,MAAE4D,GAAG,GAAE3D,MAAEwB,GAAG,GAAE,EAAC,IAAGnB,KAAEL,OAAG,6BAA6BD,GAAC,IAAG,UAASQ,KAAE,cAAaD,KAAE,MAAKL,MAAE,QAAO,GAAGO,IAAC,IAAEL,IAAEM,MAAEU,GAAE,gBAAgB,GAAET,MAAE,GAAG,gBAAgB,GAAEK,KAAEa,GAAGnB,IAAE,UAASL,KAAE,GAAG,CAAC,GAAEQ,KAAER,GAAGK,IAAE,QAAQ,GAAEI,UAAE,eAAAsB,QAAE,KAAE,GAAErB,MAAET,GAAG,GAAEsB,KAAElB,GAAE,MAAI;AAAC,IAAAC,IAAE,SAAS,IAAI,GAAED,IAAE,WAAW,YAAUA,IAAE,WAAW,QAAQ,YAAU,IAAGC,IAAE,WAAWC,GAAE,OAAO;AAAA,EAAC,CAAC,GAAEiB,MAAE,WAAU;AAAC,QAAIJ;AAAE,WAAO,OAAOlB,OAAG,cAAYG,IAAE,UAAQ,UAAQe,MAAElB,IAAEG,IAAE,KAAK,MAAI,OAAKe,MAAE,KAAG,OAAOf,IAAE,SAAO,WAASA,IAAE,QAAM;AAAA,EAAE,EAAE;AAAE,EAAAoB,GAAG,CAAC,CAACL,KAAEkC,GAAC,GAAE,CAACC,IAAEC,EAAC,MAAI;AAAC,QAAG/C,IAAE;AAAQ;AAAO,QAAIY,KAAEhB,IAAE,SAAS;AAAQ,IAAAgB,QAAKmC,OAAI,KAAGF,QAAI,KAAGlC,QAAImC,QAAKlC,GAAE,QAAMD,MAAG,sBAAsB,MAAI;AAAC,UAAGX,IAAE,WAAS,CAACY,OAAIb,MAAG,OAAK,SAAOA,GAAE,mBAAiBa;AAAE;AAAO,UAAG,EAAC,gBAAeC,IAAE,cAAaf,IAAC,IAAEc;AAAE,WAAK,KAAKd,OAAG,OAAKA,MAAE,MAAIe,MAAG,OAAKA,KAAE,EAAE,MAAI,KAAGA,OAAI,KAAGD,GAAE,kBAAkBA,GAAE,MAAM,QAAOA,GAAE,MAAM,MAAM;AAAA,IAAC,CAAC;AAAA,EAAE,GAAE,CAACG,KAAEnB,IAAE,eAAcG,EAAC,CAAC,GAAEiB,GAAG,CAAC,CAACL,GAAC,GAAE,CAACkC,GAAC,MAAI;AAAC,QAAGlC,QAAI,KAAGkC,QAAI,GAAE;AAAC,UAAG7C,IAAE;AAAQ;AAAO,UAAI8C,KAAElD,IAAE,SAAS;AAAQ,UAAG,CAACkD;AAAE;AAAO,UAAIC,KAAED,GAAE,OAAM,EAAC,gBAAelC,IAAE,cAAaC,IAAE,oBAAmBf,IAAC,IAAEgD;AAAE,MAAAA,GAAE,QAAM,IAAGA,GAAE,QAAMC,IAAEjD,QAAI,OAAKgD,GAAE,kBAAkBlC,IAAEC,IAAEf,GAAC,IAAEgD,GAAE,kBAAkBlC,IAAEC,EAAC;AAAA,IAAC;AAAA,EAAC,GAAE,CAACjB,IAAE,aAAa,CAAC;AAAE,MAAIoB,UAAE,eAAAM,QAAE,KAAE,GAAEL,MAAErB,GAAE,MAAI;AAAC,IAAAoB,IAAE,UAAQ;AAAA,EAAE,CAAC,GAAEE,KAAEtB,GAAE,MAAI;AAAC,IAAAK,IAAE,UAAU,MAAI;AAAC,MAAAe,IAAE,UAAQ;AAAA,IAAE,CAAC;AAAA,EAAC,CAAC,GAAEK,KAAEzB,GAAE,CAAAe,QAAG;AAAC,YAAOX,IAAE,UAAQ,MAAGW,IAAE,KAAI;AAAA,MAAC,KAAKf,IAAE;AAAM,YAAGI,IAAE,UAAQ,OAAGJ,IAAE,kBAAgB,KAAGoB,IAAE;AAAQ;AAAO,YAAGL,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEf,IAAE,sBAAoB,MAAK;AAAC,UAAAC,IAAE,cAAc;AAAE;AAAA,QAAM;AAAC,QAAAA,IAAE,mBAAmB,GAAED,IAAE,SAAO,KAAGC,IAAE,cAAc;AAAE;AAAA,MAAM,KAAKD,IAAE;AAAU,eAAOI,IAAE,UAAQ,OAAGW,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEA,GAAEf,IAAE,eAAc,EAAC,CAAC,CAAC,GAAE,MAAIC,IAAE,WAAWC,GAAE,IAAI,GAAE,CAAC,CAAC,GAAE,MAAID,IAAE,aAAa,EAAC,CAAC;AAAA,MAAE,KAAKD,IAAE;AAAQ,eAAOI,IAAE,UAAQ,OAAGW,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEA,GAAEf,IAAE,eAAc,EAAC,CAAC,CAAC,GAAE,MAAIC,IAAE,WAAWC,GAAE,QAAQ,GAAE,CAAC,CAAC,GAAE,MAAI;AAAC,UAAAD,IAAE,aAAa,GAAEI,IAAE,UAAU,MAAI;AAAC,YAAAL,IAAE,SAAOC,IAAE,WAAWC,GAAE,IAAI;AAAA,UAAC,CAAC;AAAA,QAAC,EAAC,CAAC;AAAA,MAAE,KAAKF,IAAE;AAAK,YAAGe,IAAE;AAAS;AAAM,eAAOX,IAAE,UAAQ,OAAGW,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEd,IAAE,WAAWC,GAAE,KAAK;AAAA,MAAE,KAAKF,IAAE;AAAO,eAAOI,IAAE,UAAQ,OAAGW,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEd,IAAE,WAAWC,GAAE,KAAK;AAAA,MAAE,KAAKF,IAAE;AAAI,YAAGe,IAAE;AAAS;AAAM,eAAOX,IAAE,UAAQ,OAAGW,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEd,IAAE,WAAWC,GAAE,IAAI;AAAA,MAAE,KAAKF,IAAE;AAAS,eAAOI,IAAE,UAAQ,OAAGW,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEd,IAAE,WAAWC,GAAE,IAAI;AAAA,MAAE,KAAKF,IAAE;AAAO,eAAOI,IAAE,UAAQ,OAAGJ,IAAE,kBAAgB,IAAE,UAAQe,IAAE,eAAe,GAAEf,IAAE,WAAW,WAAS,CAACA,IAAE,gBAAgB,QAAQ,UAAQe,IAAE,gBAAgB,GAAEf,IAAE,YAAUA,IAAE,SAAO,KAAGA,IAAE,UAAQ,QAAMkB,GAAE,GAAEjB,IAAE,cAAc;AAAA,MAAG,KAAKD,IAAE;AAAI,YAAGI,IAAE,UAAQ,OAAGJ,IAAE,kBAAgB;AAAE;AAAO,QAAAA,IAAE,SAAO,KAAGA,IAAE,sBAAoB,KAAGC,IAAE,mBAAmB,GAAEA,IAAE,cAAc;AAAE;AAAA,IAAK;AAAA,EAAC,CAAC,GAAE0B,KAAE3B,GAAE,CAAAe,QAAG;AAAC,IAAAjB,OAAG,QAAMA,IAAEiB,GAAC,GAAEf,IAAE,YAAUA,IAAE,SAAO,KAAGe,IAAE,OAAO,UAAQ,MAAIG,GAAE,GAAEjB,IAAE,aAAa;AAAA,EAAC,CAAC,GAAE2B,KAAE5B,GAAE,CAAAe,QAAG;AAAC,QAAImC,IAAEC,IAAEnC;AAAE,QAAIiC,OAAGC,KAAEnC,IAAE,kBAAgB,OAAKmC,KAAE5D,IAAG,KAAK,CAAA2B,OAAGA,OAAIF,IAAE,aAAa;AAAE,QAAGX,IAAE,UAAQ,OAAG,GAAG+C,KAAEnD,IAAE,WAAW,YAAU,QAAMmD,GAAE,SAASF,GAAC,MAAI,GAAGjC,KAAEhB,IAAE,UAAU,YAAU,QAAMgB,GAAE,SAASiC,GAAC,MAAIjD,IAAE,kBAAgB;AAAE,aAAOe,IAAE,eAAe,GAAEf,IAAE,SAAO,MAAIA,IAAE,YAAUA,IAAE,UAAQ,OAAKkB,GAAE,IAAElB,IAAE,sBAAoB,KAAGC,IAAE,mBAAmB,IAAGA,IAAE,cAAc;AAAA,EAAC,CAAC,GAAE4B,KAAE7B,GAAE,CAAAe,QAAG;AAAC,QAAImC,IAAEC,IAAEnC;AAAE,QAAIiC,OAAGC,KAAEnC,IAAE,kBAAgB,OAAKmC,KAAE5D,IAAG,KAAK,CAAA2B,OAAGA,OAAIF,IAAE,aAAa;AAAE,KAACoC,KAAEnD,IAAE,UAAU,YAAU,QAAMmD,GAAE,SAASF,GAAC,MAAIjC,KAAEhB,IAAE,WAAW,YAAU,QAAMgB,GAAE,SAASiC,GAAC,KAAGjD,IAAE,YAAUA,IAAE,aAAWA,IAAE,kBAAgB,MAAIC,IAAE,aAAa,GAAEI,IAAE,UAAU,MAAI;AAAC,MAAAJ,IAAE,qBAAqB,CAAC;AAAA,IAAC,CAAC;AAAA,EAAE,CAAC,GAAE6B,KAAEoB,GAAG,GAAEnB,KAAElB,GAAG,GAAE,EAAC,gBAAemB,IAAE,YAAWE,GAAC,IAAE,0CAAG,EAAC,aAAY,MAAG,YAAWW,KAAEnD,GAAE,cAAY,OAAKmD,KAAE,MAAE,CAAC,GAAE,EAAC,WAAUR,IAAE,YAAWD,IAAC,IAAE,0CAAG,EAAC,aAAYU,KAAE9C,IAAE,aAAW,OAAK8C,KAAE,MAAE,CAAC,GAAEJ,UAAG,eAAA/B,SAAE,MAAI;AAAC,QAAII;AAAE,WAAM,EAAC,MAAKf,IAAE,kBAAgB,GAAE,UAASA,IAAE,UAAS,OAAMqC,IAAE,OAAML,IAAE,YAAWjB,MAAErB,GAAE,cAAY,OAAKqB,MAAE,MAAE;AAAA,EAAC,GAAE,CAACf,KAAEqC,IAAEL,IAAEtC,GAAE,SAAS,CAAC,GAAEiD,MAAG,EAAG,EAAC,KAAIrC,IAAE,IAAGV,IAAE,MAAK,YAAW,MAAKJ,KAAE,kBAAiBuD,MAAG/C,IAAE,WAAW,YAAU,OAAK,SAAO+C,IAAG,IAAG,iBAAgB/C,IAAE,kBAAgB,GAAE,yBAAwBA,IAAE,sBAAoB,OAAK,SAAOA,IAAE,WAAS,KAAGA,IAAE,QAAQ,KAAK,CAAAe,QAAG;AAAC,QAAIkC;AAAE,WAAM,GAAGA,MAAEjD,IAAE,YAAU,QAAMiD,IAAE,SAASlC,IAAE,QAAQ,QAAQ,KAAK,MAAIf,IAAE,QAAQe,IAAE,QAAQ,QAAQ,OAAMf,IAAE,QAAQ,QAAQA,IAAE,iBAAiB,CAAC;AAAA,EAAC,CAAC,MAAI,OAAK,SAAO,GAAG,MAAI4C,KAAE5C,IAAE,QAAQA,IAAE,iBAAiB,MAAI,OAAK,SAAO4C,GAAE,IAAG,mBAAkBd,IAAE,oBAAmBC,IAAE,qBAAoB,QAAO,eAAcU,MAAGO,MAAGtD,GAAE,iBAAe,OAAKsD,MAAGhD,IAAE,iBAAe,SAAOH,OAAG,OAAK,SAAOA,IAAEG,IAAE,YAAY,IAAE,SAAO,OAAKyC,KAAEzC,IAAE,cAAa,UAASA,IAAE,UAAS,oBAAmBqB,KAAE,kBAAiBC,IAAE,WAAUG,IAAE,UAASE,IAAE,SAAQE,IAAE,QAAOD,GAAC,GAAEM,IAAEE,GAAC;AAAE,SAAO,EAAE,EAAC,UAASO,KAAG,YAAW5C,KAAE,MAAK2C,KAAG,YAAW,IAAG,MAAK,iBAAgB,CAAC;AAAC;AAAC,IAAI,KAAG;AAAS,SAAS,GAAGhD,IAAEC,KAAE;AAAC,MAAI8B,IAAEE,IAAEC;AAAE,MAAItC,MAAEoB,GAAE,iBAAiB,GAAEnB,MAAE,GAAG,iBAAiB,GAAEK,KAAEuB,GAAG7B,IAAE,WAAUK,GAAC,GAAEG,MAAEoD,GAAG,GAAE,EAAC,IAAGrD,MAAE,8BAA8BC,GAAC,IAAG,GAAGN,IAAC,IAAEE,IAAEK,MAAEH,GAAG,GAAEI,MAAEA,GAAE,CAAA6B,OAAG;AAAC,YAAOA,GAAE,KAAI;AAAA,MAAC,KAAK7B,IAAE;AAAU,eAAO6B,GAAE,eAAe,GAAEA,GAAE,gBAAgB,GAAEvC,IAAE,kBAAgB,KAAGC,IAAE,aAAa,GAAEQ,IAAE,UAAU,MAAI;AAAC,cAAI+B;AAAE,kBAAOA,KAAExC,IAAE,SAAS,YAAU,OAAK,SAAOwC,GAAE,MAAM,EAAC,eAAc,KAAE,CAAC;AAAA,QAAC,CAAC;AAAA,MAAE,KAAK9B,IAAE;AAAQ,eAAO6B,GAAE,eAAe,GAAEA,GAAE,gBAAgB,GAAEvC,IAAE,kBAAgB,MAAIC,IAAE,aAAa,GAAEQ,IAAE,UAAU,MAAI;AAAC,UAAAT,IAAE,SAAOC,IAAE,WAAWW,GAAE,IAAI;AAAA,QAAC,CAAC,IAAGH,IAAE,UAAU,MAAI;AAAC,cAAI+B;AAAE,kBAAOA,KAAExC,IAAE,SAAS,YAAU,OAAK,SAAOwC,GAAE,MAAM,EAAC,eAAc,KAAE,CAAC;AAAA,QAAC,CAAC;AAAA,MAAE,KAAK9B,IAAE;AAAO,eAAOV,IAAE,kBAAgB,IAAE,UAAQuC,GAAE,eAAe,GAAEvC,IAAE,WAAW,WAAS,CAACA,IAAE,gBAAgB,QAAQ,UAAQuC,GAAE,gBAAgB,GAAEtC,IAAE,cAAc,GAAEQ,IAAE,UAAU,MAAI;AAAC,cAAI+B;AAAE,kBAAOA,KAAExC,IAAE,SAAS,YAAU,OAAK,SAAOwC,GAAE,MAAM,EAAC,eAAc,KAAE,CAAC;AAAA,QAAC,CAAC;AAAA,MAAG;AAAQ;AAAA,IAAM;AAAA,EAAC,CAAC,GAAE7B,MAAED,GAAE,CAAA6B,OAAG;AAAC,QAAG9B,GAAG8B,GAAE,aAAa;AAAE,aAAOA,GAAE,eAAe;AAAE,IAAAvC,IAAE,kBAAgB,IAAEC,IAAE,cAAc,KAAGsC,GAAE,eAAe,GAAEtC,IAAE,aAAa,IAAGQ,IAAE,UAAU,MAAI;AAAC,UAAI+B;AAAE,cAAOA,KAAExC,IAAE,SAAS,YAAU,OAAK,SAAOwC,GAAE,MAAM,EAAC,eAAc,KAAE,CAAC;AAAA,IAAC,CAAC;AAAA,EAAC,CAAC,GAAExB,KAAE4C,GAAG,CAACrD,GAAC,CAAC,GAAE,EAAC,gBAAeM,IAAE,YAAWC,IAAC,IAAE,0CAAG,EAAC,aAAY,MAAG,YAAWqB,KAAE/B,GAAE,cAAY,OAAK+B,KAAE,MAAE,CAAC,GAAE,EAAC,WAAUpB,KAAE,YAAWa,GAAC,IAAE,0CAAG,EAAC,aAAYS,KAAErC,IAAE,aAAW,OAAKqC,KAAE,MAAE,CAAC,GAAE,EAAC,SAAQR,KAAE,YAAWC,IAAC,IAAE,EAAG,GAAEC,UAAE,eAAAV,SAAE,OAAK,EAAC,MAAKrB,IAAE,kBAAgB,GAAE,QAAO6B,OAAG7B,IAAE,kBAAgB,GAAE,UAASA,IAAE,UAAS,OAAMA,IAAE,OAAM,OAAMe,KAAE,OAAMF,GAAC,IAAG,CAACb,KAAEe,KAAEF,IAAEgB,GAAC,CAAC,GAAEG,KAAE,EAAG,EAAC,KAAI1B,IAAE,IAAGC,KAAE,MAAKO,GAAGV,IAAEJ,IAAE,SAAS,GAAE,UAAS,IAAG,iBAAgB,WAAU,kBAAiBsC,KAAEtC,IAAE,WAAW,YAAU,OAAK,SAAOsC,GAAE,IAAG,iBAAgBtC,IAAE,kBAAgB,GAAE,mBAAkBgB,IAAE,UAAShB,IAAE,UAAS,SAAQW,KAAE,WAAUD,IAAC,GAAEI,KAAEc,IAAEE,GAAC;AAAE,SAAO,EAAE,EAAC,UAASE,IAAE,YAAW9B,KAAE,MAAK6B,KAAE,YAAW,IAAG,MAAK,kBAAiB,CAAC;AAAC;AAAC,IAAI,KAAG;AAAP,IAAY,KAAG,EAAG,iBAAe,EAAG;AAAO,SAAS,GAAG3B,IAAEC,KAAE;AAAC,MAAIwB;AAAE,MAAI7B,MAAE4D,GAAG,GAAE,EAAC,IAAG3D,MAAE,+BAA+BD,GAAC,IAAG,MAAKM,KAAE,OAAG,QAAOE,KAAE,GAAGD,IAAC,IAAEH,IAAEF,MAAEkB,GAAE,kBAAkB,GAAE,CAACX,KAAEC,GAAC,IAAE,GAAGF,GAAC,GAAEG,MAAEkB,GAAG3B,IAAE,YAAWG,KAAEI,GAAC,GAAEO,KAAES,GAAG,GAAEZ,MAAG,MAAIG,OAAI,QAAMA,KAAED,GAAG,UAAQA,GAAG,OAAKb,IAAE,kBAAgB,GAAG;AAAE,EAAAG,GAAE,MAAI;AAAC,QAAIyB;AAAE,IAAA5B,IAAE,gBAAgB,QAAQ,UAAQ4B,MAAE1B,GAAE,WAAS,OAAK0B,MAAE;AAAA,EAAE,GAAE,CAAC5B,IAAE,iBAAgBE,GAAE,MAAM,CAAC,GAAEC,GAAE,MAAI;AAAC,IAAAH,IAAE,gBAAgB,QAAQ,OAAKI;AAAA,EAAC,GAAE,CAACJ,IAAE,iBAAgBI,EAAC,CAAC,GAAEyB,GAAG,EAAC,WAAU7B,IAAE,WAAW,SAAQ,SAAQA,IAAE,kBAAgB,GAAE,OAAO4B,KAAE;AAAC,WAAOA,IAAE,aAAa,MAAM,MAAI,WAAS,WAAW,gBAAcA,IAAE,aAAa,MAAM,IAAE,WAAW,cAAY,WAAW;AAAA,EAAa,GAAE,KAAKA,KAAE;AAAC,IAAAA,IAAE,aAAa,QAAO,MAAM;AAAA,EAAC,EAAC,CAAC;AAAE,MAAIhB,MAAE8C,GAAG,EAAE/B,MAAE3B,IAAE,UAAU,YAAU,OAAK,SAAO2B,IAAE,EAAE,CAAC,GAAEd,UAAE,eAAAM,SAAE,OAAK,EAAC,MAAKnB,IAAE,kBAAgB,GAAE,QAAO,OAAM,IAAG,CAACA,GAAC,CAAC,GAAE0B,KAAE,EAAC,mBAAkBd,KAAE,MAAK,WAAU,wBAAuBZ,IAAE,SAAO,IAAE,OAAG,QAAO,IAAGD,KAAE,KAAIU,KAAE,GAAGD,MAAE,EAAC,OAAMA,IAAC,IAAE,CAAC,EAAC;AAAE,SAAOR,IAAE,WAASA,IAAE,kBAAgB,KAAG,OAAO,OAAOK,KAAE,EAAC,UAAS,eAAAgB,QAAE,cAAc,IAAG,MAAKhB,IAAE,QAAQ,EAAC,CAAC,GAAE,EAAE,EAAC,UAASqB,IAAE,YAAWrB,KAAE,MAAKQ,KAAE,YAAW,IAAG,UAAS,IAAG,SAAQF,IAAE,MAAK,mBAAkB,CAAC;AAAC;AAAC,IAAI,KAAG;AAAK,SAAS,GAAGT,IAAEC,KAAE;AAAC,MAAIqC;AAAE,MAAI1C,MAAE4D,GAAG,GAAE,EAAC,IAAG3D,MAAE,8BAA8BD,GAAC,IAAG,UAASM,KAAE,OAAG,OAAME,KAAE,OAAMD,MAAE,MAAK,GAAGL,IAAC,IAAEE,IAAEK,MAAEW,GAAE,iBAAiB,GAAEV,MAAE,GAAG,iBAAiB,GAAEC,MAAEF,IAAE,UAAQA,IAAE,sBAAoBA,IAAE,eAAeD,GAAC,IAAEC,IAAE,sBAAoB,OAAK,UAAKiC,KAAEjC,IAAE,QAAQA,IAAE,iBAAiB,MAAI,OAAK,SAAOiC,GAAE,QAAMzC,KAAEe,KAAEP,IAAE,WAAWD,GAAC,GAAEK,SAAE,eAAAuB,QAAE,IAAI,GAAEtB,MAAEgC,GAAG,EAAC,UAASxC,IAAE,OAAME,KAAE,QAAOK,IAAE,OAAMN,IAAC,CAAC,GAAEQ,UAAE,eAAAI,YAAG,EAAE,GAAES,KAAEC,GAAGxB,KAAEQ,IAAEE,MAAEA,IAAE,iBAAe,IAAI,GAAEc,MAAEnB,GAAE,MAAIA,IAAE,SAASF,GAAC,CAAC;AAAE,EAAAH,GAAE,MAAIK,IAAE,eAAeT,KAAEa,GAAC,GAAE,CAACA,KAAEb,GAAC,CAAC;AAAE,MAAI6B,UAAE,eAAAM,QAAE,EAAE3B,IAAE,WAASA,IAAE,WAAW;AAAE,EAAAJ,GAAE,MAAI;AAAC,QAAG,CAACI,IAAE,WAAS,CAACA,IAAE;AAAW;AAAO,QAAImC,KAAElC,GAAG;AAAE,WAAOkC,GAAE,sBAAsB,MAAI;AAAC,MAAAd,IAAE,UAAQ;AAAA,IAAE,CAAC,GAAEc,GAAE;AAAA,EAAO,GAAE,CAACnC,IAAE,SAAQA,IAAE,UAAU,CAAC,GAAEJ,GAAE,MAAI;AAAC,QAAG,CAACyB,IAAE,WAASrB,IAAE,kBAAgB,KAAG,CAACE,OAAGF,IAAE,sBAAoB;AAAE;AAAO,QAAImC,KAAElC,GAAG;AAAE,WAAOkC,GAAE,sBAAsB,MAAI;AAAC,UAAIG,IAAED;AAAE,OAACA,OAAGC,KAAElC,GAAE,YAAU,OAAK,SAAOkC,GAAE,mBAAiB,QAAMD,IAAE,KAAKC,IAAE,EAAC,OAAM,UAAS,CAAC;AAAA,IAAC,CAAC,GAAEH,GAAE;AAAA,EAAO,GAAE,CAAC/B,IAAEF,KAAEF,IAAE,eAAcA,IAAE,mBAAkBA,IAAE,iBAAiB,CAAC;AAAE,MAAIsB,MAAErB,GAAE,CAAAkC,OAAG;AAAC,QAAIG;AAAE,QAAGzC,OAAIyC,KAAEtC,IAAE,YAAU,QAAMsC,GAAE,SAASvC,GAAC;AAAE,aAAOoC,GAAE,eAAe;AAAE,IAAAf,IAAE,GAAE,EAAG,KAAG,sBAAsB,MAAI;AAAC,UAAIiB;AAAE,cAAOA,MAAErC,IAAE,SAAS,YAAU,OAAK,SAAOqC,IAAE,MAAM,EAAC,eAAc,KAAE,CAAC;AAAA,IAAC,CAAC,GAAErC,IAAE,SAAO,KAAG,sBAAsB,MAAIC,IAAE,cAAc,CAAC;AAAA,EAAC,CAAC,GAAEsB,KAAEtB,GAAE,MAAI;AAAC,QAAIqC;AAAE,QAAGzC,OAAIyC,KAAEtC,IAAE,YAAU,QAAMsC,GAAE,SAASvC,GAAC;AAAE,aAAOE,IAAE,WAAWE,GAAE,OAAO;AAAE,QAAIgC,KAAEnC,IAAE,eAAeD,GAAC;AAAE,IAAAE,IAAE,WAAWE,GAAE,UAASgC,EAAC;AAAA,EAAC,CAAC,GAAET,KAAEV,GAAG,GAAEY,KAAE3B,GAAE,CAAAkC,OAAGT,GAAE,OAAOS,EAAC,CAAC,GAAEN,KAAE5B,GAAE,CAAAkC,OAAG;AAAC,QAAIE;AAAE,QAAG,CAACX,GAAE,SAASS,EAAC,KAAGtC,OAAIwC,MAAErC,IAAE,YAAU,QAAMqC,IAAE,SAAStC,GAAC,KAAGG;AAAE;AAAO,QAAIoC,KAAEtC,IAAE,eAAeD,GAAC;AAAE,IAAAE,IAAE,WAAWE,GAAE,UAASmC,IAAE,CAAC;AAAA,EAAC,CAAC,GAAER,KAAE7B,GAAE,CAAAkC,OAAG;AAAC,QAAIG;AAAE,IAAAZ,GAAE,SAASS,EAAC,MAAItC,OAAIyC,KAAEtC,IAAE,YAAU,QAAMsC,GAAE,SAASvC,GAAC,KAAGG,QAAIF,IAAE,gBAAgB,QAAQ,QAAMC,IAAE,WAAWE,GAAE,OAAO;AAAA,EAAG,CAAC,GAAE4B,SAAE,eAAAnB,SAAE,OAAK,EAAC,QAAOV,KAAE,OAAMA,KAAE,UAASK,IAAE,UAASV,GAAC,IAAG,CAACK,KAAEK,IAAEV,EAAC,CAAC;AAAE,SAAO,EAAE,EAAC,UAAS,EAAC,IAAGL,KAAE,KAAI2B,IAAE,MAAK,UAAS,UAAStB,OAAI,OAAG,SAAO,IAAG,iBAAgBA,OAAI,OAAG,OAAG,QAAO,iBAAgBU,IAAE,UAAS,QAAO,SAAQe,KAAE,SAAQC,IAAE,gBAAeK,IAAE,cAAaA,IAAE,eAAcC,IAAE,aAAYA,IAAE,gBAAeC,IAAE,cAAaA,GAAC,GAAE,YAAWrC,KAAE,MAAKsC,IAAE,YAAW,IAAG,MAAK,kBAAiB,CAAC;AAAC;AAAC,IAAI,KAAG,EAAE,EAAE;AAAX,IAAa,KAAG,EAAE,EAAE;AAApB,IAAsB,KAAG,EAAE,EAAE;AAA7B,IAA+B,KAAG;AAAlC,IAAqC,KAAG,EAAE,EAAE;AAA5C,IAA8C,KAAG,EAAE,EAAE;AAArD,IAAuD,KAAG,OAAO,OAAO,IAAG,EAAC,OAAM,IAAG,QAAO,IAAG,OAAM,IAAG,SAAQ,IAAG,QAAO,GAAE,CAAC;;;AuBA52nB,IAAAsB,iBAAsC;AAA8J,IAAIC,KAAE,eAAAC;AAAE,SAASC,GAAEC,KAAEC,KAAE;AAAC,MAAG,EAAC,GAAGC,IAAC,IAAEF,KAAE,EAAC,gBAAeG,IAAE,YAAWC,GAAC,IAAE,0CAAE,GAAE,EAAC,WAAUC,KAAE,YAAWC,IAAC,IAAE,0CAAE,EAAC,YAAW,MAAE,CAAC,GAAE,EAAC,SAAQC,KAAE,YAAWC,IAAC,IAAE,EAAE,GAAEC,MAAE,EAAE,EAAC,KAAIR,IAAC,GAAEG,IAAEE,KAAEE,GAAC,GAAEE,UAAE,eAAAC,SAAE,OAAK,EAAC,OAAMN,KAAE,OAAMF,IAAE,QAAOI,IAAC,IAAG,CAACF,KAAEF,IAAEI,GAAC,CAAC;AAAE,SAAO,EAAE,EAAC,UAASE,KAAE,YAAWP,KAAE,MAAKQ,KAAE,YAAWb,IAAE,MAAK,kBAAiB,CAAC;AAAC;AAAC,IAAIe,KAAE,EAAEb,EAAC;;;ACArlB,IAAAc,iBAA2J;;;ACAxK,IAAAC,iBAA0B;AAA+D,SAASC,GAAEC,KAAEC,IAAEC,KAAEC,KAAE;AAAC,MAAIC,MAAEC,GAAEH,GAAC;AAAE,qBAAAI,WAAE,MAAI;AAAC,IAAAN,MAAEA,OAAG,OAAKA,MAAE;AAAO,aAASO,IAAEC,KAAE;AAAC,MAAAJ,IAAE,QAAQI,GAAC;AAAA,IAAC;AAAC,WAAOR,IAAE,iBAAiBC,IAAEM,KAAEJ,GAAC,GAAE,MAAIH,IAAE,oBAAoBC,IAAEM,KAAEJ,GAAC;AAAA,EAAC,GAAE,CAACH,KAAEC,IAAEE,GAAC,CAAC;AAAC;;;ACAtL,IAAIM,MAAE,oBAAI;AAAV,IAAcC,MAAE,oBAAI;AAAI,SAASC,GAAEC,KAAEC,MAAE,MAAG;AAAC,EAAAC,GAAE,MAAI;AAAC,QAAIC;AAAE,QAAG,CAACF;AAAE;AAAO,QAAIG,KAAE,OAAOJ,OAAG,aAAWA,IAAE,IAAEA,IAAE;AAAQ,QAAG,CAACI;AAAE;AAAO,aAASC,MAAG;AAAC,UAAIC;AAAE,UAAG,CAACF;AAAE;AAAO,UAAIG,OAAGD,MAAER,IAAE,IAAIM,EAAC,MAAI,OAAKE,MAAE;AAAE,UAAGC,QAAI,IAAET,IAAE,OAAOM,EAAC,IAAEN,IAAE,IAAIM,IAAEG,MAAE,CAAC,GAAEA,QAAI;AAAE;AAAO,UAAIL,MAAEL,IAAE,IAAIO,EAAC;AAAE,MAAAF,QAAIA,IAAE,aAAa,MAAI,OAAKE,GAAE,gBAAgB,aAAa,IAAEA,GAAE,aAAa,eAAcF,IAAE,aAAa,CAAC,GAAEE,GAAE,QAAMF,IAAE,OAAML,IAAE,OAAOO,EAAC;AAAA,IAAE;AAAC,QAAII,OAAGL,MAAEL,IAAE,IAAIM,EAAC,MAAI,OAAKD,MAAE;AAAE,WAAOL,IAAE,IAAIM,IAAEI,MAAE,CAAC,GAAEA,QAAI,MAAIX,IAAE,IAAIO,IAAE,EAAC,eAAcA,GAAE,aAAa,aAAa,GAAE,OAAMA,GAAE,MAAK,CAAC,GAAEA,GAAE,aAAa,eAAc,MAAM,GAAEA,GAAE,QAAM,OAAIC;AAAA,EAAC,GAAE,CAACL,KAAEC,GAAC,CAAC;AAAC;;;ACAznB,IAAAQ,iBAAuC;AAAuK,SAASC,GAAE,EAAC,mBAAkBC,MAAE,CAAC,GAAE,SAAQC,KAAE,iBAAgBC,IAAC,IAAE,CAAC,GAAE;AAAC,MAAIC;AAAE,MAAIC,UAAE,eAAAC,SAAGF,MAAED,OAAG,OAAK,SAAOA,IAAE,YAAU,OAAKC,MAAE,IAAI,GAAEG,MAAEC,GAAEH,GAAC,GAAEI,MAAER,GAAE,MAAI;AAAC,QAAIS,KAAEC,KAAEC;AAAE,QAAIJ,MAAE,CAAC;AAAE,aAAQK,MAAKZ;AAAE,MAAAY,OAAI,SAAOA,cAAa,cAAYL,IAAE,KAAKK,EAAC,IAAE,aAAYA,MAAGA,GAAE,mBAAmB,eAAaL,IAAE,KAAKK,GAAE,OAAO;AAAG,QAAGX,OAAG,QAAMA,IAAE;AAAQ,eAAQW,MAAKX,IAAE;AAAQ,QAAAM,IAAE,KAAKK,EAAC;AAAE,aAAQA,OAAKH,MAAEH,OAAG,OAAK,SAAOA,IAAE,iBAAiB,oBAAoB,MAAI,OAAKG,MAAE,CAAC;AAAE,MAAAG,OAAI,SAAS,QAAMA,OAAI,SAAS,QAAMA,cAAa,eAAaA,GAAE,OAAK,6BAA2BA,GAAE,SAASR,IAAE,OAAO,KAAGQ,GAAE,UAAUD,OAAGD,MAAEN,IAAE,YAAU,OAAK,SAAOM,IAAE,YAAY,MAAI,OAAK,SAAOC,IAAE,IAAI,KAAGJ,IAAE,KAAK,CAAAM,OAAGD,GAAE,SAASC,EAAC,CAAC,KAAGN,IAAE,KAAKK,EAAC;AAAG,WAAOL;AAAA,EAAC,CAAC;AAAE,SAAM,EAAC,mBAAkBC,KAAE,UAASR,GAAE,CAAAO,QAAGC,IAAE,EAAE,KAAK,CAAAC,QAAGA,IAAE,SAASF,GAAC,CAAC,CAAC,GAAE,iBAAgBH,KAAE,kBAAa,eAAAU,SAAE,MAAI,WAAU;AAAC,WAAOZ,OAAG,OAAK,OAAK,eAAAa,QAAE,cAAcC,IAAE,EAAC,UAASN,GAAE,QAAO,KAAIN,IAAC,CAAC;AAAA,EAAC,GAAE,CAACA,KAAEF,GAAC,CAAC,EAAC;AAAC;AAAC,SAASe,KAAG;AAAC,MAAIjB,UAAE,eAAAK,QAAE,IAAI;AAAE,SAAM,EAAC,iBAAgBL,KAAE,kBAAa,eAAAc,SAAE,MAAI,WAAU;AAAC,WAAO,eAAAC,QAAE,cAAcC,IAAE,EAAC,UAASN,GAAE,QAAO,KAAIV,IAAC,CAAC;AAAA,EAAC,GAAE,CAACA,GAAC,CAAC,EAAC;AAAC;;;ACA7rC,IAAAkB,iBAAiD;AAAQ,IAAIC,SAAE,eAAAC,eAAE,KAAE;AAAE,SAASC,MAAG;AAAC,aAAO,eAAAC,YAAEH,EAAC;AAAC;AAAC,SAASI,GAAEC,KAAE;AAAC,SAAO,eAAAC,QAAE,cAAcN,GAAE,UAAS,EAAC,OAAMK,IAAE,MAAK,GAAEA,IAAE,QAAQ;AAAC;;;ACAzK,IAAAE,iBAAiD;AAAkI,IAAIC,UAAE,eAAAC,eAAE,MAAI;AAAC,CAAC;AAAED,IAAE,cAAY;AAAe,IAAIE,OAAG,CAAAC,QAAIA,GAAEA,GAAE,MAAI,CAAC,IAAE,OAAMA,GAAEA,GAAE,SAAO,CAAC,IAAE,UAASA,KAAID,OAAG,CAAC,CAAC;AAAE,SAASE,KAAG;AAAC,aAAO,eAAAC,YAAEL,GAAC;AAAC;AAAC,SAASM,GAAE,EAAC,UAASC,KAAE,UAASC,KAAE,MAAKL,IAAE,SAAQM,KAAE,SAAQC,IAAC,GAAE;AAAC,MAAIC,MAAEP,GAAE,GAAEQ,MAAEA,GAAE,IAAIC,QAAI;AAAC,IAAAL,OAAG,QAAMA,IAAE,GAAGK,GAAC,GAAEF,IAAE,GAAGE,GAAC;AAAA,EAAC,CAAC;AAAE,SAAOJ,GAAE,MAAI;AAAC,QAAII,MAAEH,QAAI,UAAQA,QAAI;AAAG,WAAOG,OAAGD,IAAE,GAAET,IAAEM,GAAC,GAAE,MAAI;AAAC,MAAAI,OAAGD,IAAE,GAAET,IAAEM,GAAC;AAAA,IAAC;AAAA,EAAC,GAAE,CAACG,KAAET,IAAEM,KAAEC,GAAC,CAAC,GAAE,eAAAI,QAAE,cAAcd,IAAE,UAAS,EAAC,OAAMY,IAAC,GAAEL,GAAC;AAAC;;;ACA1hB,IAAAQ,iBAA0B;;;ACAvC,IAAAC,iBAAuB;AAA0E,SAASC,MAAG;AAAC,MAAIC,SAAE,eAAAC,QAAE,KAAE;AAAE,SAAOC,GAAE,OAAKF,GAAE,UAAQ,MAAG,MAAI;AAAC,IAAAA,GAAE,UAAQ;AAAA,EAAE,IAAG,CAAC,CAAC,GAAEA;AAAC;;;ACA9K,IAAAG,iBAAsC;AAAqG,SAASC,GAAEC,KAAE;AAAC,MAAIC,MAAEC,GAAEF,GAAC,GAAEG,SAAE,eAAAC,QAAE,KAAE;AAAE,qBAAAC,WAAE,OAAKF,GAAE,UAAQ,OAAG,MAAI;AAAC,IAAAA,GAAE,UAAQ,MAAGH,GAAE,MAAI;AAAC,MAAAG,GAAE,WAASF,IAAE;AAAA,IAAC,CAAC;AAAA,EAAC,IAAG,CAACA,GAAC,CAAC;AAAC;;;ACAhP,IAAAK,iBAAuB;AAA+D,IAAIC,OAAG,CAAAC,SAAIA,IAAEA,IAAE,WAAS,CAAC,IAAE,YAAWA,IAAEA,IAAE,YAAU,CAAC,IAAE,aAAYA,MAAID,OAAG,CAAC,CAAC;AAAE,SAASE,MAAG;AAAC,MAAIC,SAAE,eAAAC,QAAE,CAAC;AAAE,SAAOJ,GAAE,WAAU,CAAAK,QAAG;AAAC,IAAAA,IAAE,QAAM,UAAQF,GAAE,UAAQE,IAAE,WAAS,IAAE;AAAA,EAAE,GAAE,IAAE,GAAEF;AAAC;;;AHAw0B,SAASG,GAAEC,KAAE;AAAC,MAAG,CAACA;AAAE,WAAO,oBAAI;AAAI,MAAG,OAAOA,OAAG;AAAW,WAAO,IAAI,IAAIA,IAAE,CAAC;AAAE,MAAIC,MAAE,oBAAI;AAAI,WAAQC,MAAKF,IAAE;AAAQ,IAAAE,GAAE,mBAAmB,eAAaD,IAAE,IAAIC,GAAE,OAAO;AAAE,SAAOD;AAAC;AAAC,IAAIE,KAAE;AAAM,IAAIC,MAAG,CAAAC,SAAIA,IAAEA,IAAE,OAAK,CAAC,IAAE,QAAOA,IAAEA,IAAE,eAAa,CAAC,IAAE,gBAAeA,IAAEA,IAAE,UAAQ,CAAC,IAAE,WAAUA,IAAEA,IAAE,YAAU,CAAC,IAAE,aAAYA,IAAEA,IAAE,eAAa,EAAE,IAAE,gBAAeA,IAAEA,IAAE,YAAU,EAAE,IAAE,aAAYA,IAAEA,IAAE,MAAI,EAAE,IAAE,OAAMA,MAAID,MAAG,CAAC,CAAC;AAAE,SAAS,EAAEJ,KAAEC,KAAE;AAAC,MAAIC,SAAE,eAAAI,QAAE,IAAI,GAAEC,MAAEC,GAAEN,IAAED,GAAC,GAAE,EAAC,cAAaQ,KAAE,sBAAqBC,IAAE,YAAWC,KAAE,UAASN,MAAE,IAAG,GAAGO,IAAC,IAAEZ;AAAE,EAAAY,GAAE,MAAIP,MAAE;AAAG,MAAIQ,MAAEN,GAAEL,EAAC;AAAE,EAAAY,GAAE,EAAC,eAAcD,IAAC,GAAE,CAAC,EAAER,MAAE,GAAG;AAAE,MAAIU,KAAEC,GAAE,EAAC,eAAcH,KAAE,WAAUX,IAAE,cAAaO,KAAE,sBAAqBC,GAAC,GAAEL,GAAC;AAAE,EAAAY,GAAE,EAAC,eAAcJ,KAAE,WAAUX,IAAE,YAAWS,KAAE,uBAAsBI,GAAC,GAAE,CAAC,EAAEV,MAAE,EAAE;AAAE,MAAIa,MAAEX,IAAE,GAAEY,KAAElB,GAAE,CAAAmB,QAAG;AAAC,QAAIC,MAAEnB,GAAE;AAAQ,QAAG,CAACmB;AAAE;AAAO,KAAC,CAAAC,OAAGA,GAAE,GAAG,MAAI;AAAC,MAAAX,GAAEO,IAAE,SAAQ,EAAC,CAACL,IAAE,QAAQ,GAAE,MAAI;AAAC,QAAAU,GAAEF,KAAEG,GAAE,OAAM,EAAC,cAAa,CAACJ,IAAE,eAAcV,EAAC,EAAC,CAAC;AAAA,MAAC,GAAE,CAACG,IAAE,SAAS,GAAE,MAAI;AAAC,QAAAU,GAAEF,KAAEG,GAAE,MAAK,EAAC,cAAa,CAACJ,IAAE,eAAcV,EAAC,EAAC,CAAC;AAAA,MAAC,EAAC,CAAC;AAAA,IAAC,CAAC;AAAA,EAAC,CAAC,GAAEe,KAAEf,GAAE,GAAEgB,SAAE,eAAApB,QAAE,KAAE,GAAEqB,KAAE,EAAC,KAAIpB,KAAE,UAAUa,KAAE;AAAC,IAAAA,IAAE,OAAK,UAAQM,GAAE,UAAQ,MAAGD,GAAE,sBAAsB,MAAI;AAAC,MAAAC,GAAE,UAAQ;AAAA,IAAE,CAAC;AAAA,EAAE,GAAE,OAAON,KAAE;AAAC,QAAG,EAAEf,MAAE;AAAG;AAAO,QAAIgB,MAAEtB,GAAEY,GAAC;AAAE,IAAAT,GAAE,mBAAmB,eAAamB,IAAE,IAAInB,GAAE,OAAO;AAAE,QAAI0B,KAAER,IAAE;AAAc,IAAAQ,cAAa,eAAaA,GAAE,QAAQ,yBAAuB,WAASC,GAAER,KAAEO,EAAC,MAAIF,GAAE,UAAQH,GAAErB,GAAE,SAAQS,GAAEO,IAAE,SAAQ,EAAC,CAACL,IAAE,QAAQ,GAAE,MAAIW,GAAE,MAAK,CAACX,IAAE,SAAS,GAAE,MAAIW,GAAE,SAAQ,CAAC,IAAEA,GAAE,YAAW,EAAC,YAAWJ,IAAE,OAAM,CAAC,IAAEA,IAAE,kBAAkB,eAAaH,GAAEG,IAAE,MAAM;AAAA,EAAG,EAAC;AAAE,SAAO,eAAAU,QAAE,cAAc,eAAAA,QAAE,UAAS,MAAK,CAAC,EAAEzB,MAAE,MAAI,eAAAyB,QAAE,cAAcJ,IAAE,EAAC,IAAG,UAAS,MAAK,UAAS,+BAA8B,MAAG,SAAQP,IAAE,UAASN,GAAE,UAAS,CAAC,GAAE,EAAE,EAAC,UAASc,IAAE,YAAWf,KAAE,YAAWT,IAAE,MAAK,YAAW,CAAC,GAAE,CAAC,EAAEE,MAAE,MAAI,eAAAyB,QAAE,cAAcJ,IAAE,EAAC,IAAG,UAAS,MAAK,UAAS,+BAA8B,MAAG,SAAQP,IAAE,UAASN,GAAE,UAAS,CAAC,CAAC;AAAC;AAAC,IAAI,IAAE,EAAE,CAAC;AAAT,IAAW,KAAG,OAAO,OAAO,GAAE,EAAC,UAAST,GAAC,CAAC;AAAE,SAAS,EAAEJ,MAAE,MAAG;AAAC,MAAIC,UAAE,eAAAK,QAAEN,IAAE,MAAM,CAAC;AAAE,SAAO+B,GAAE,CAAC,CAAC7B,EAAC,GAAE,CAACK,GAAC,MAAI;AAAC,IAAAA,QAAI,QAAIL,OAAI,SAAIF,GAAE,MAAI;AAAC,MAAAC,IAAE,QAAQ,OAAO,CAAC;AAAA,IAAC,CAAC,GAAEM,QAAI,SAAIL,OAAI,SAAKD,IAAE,UAAQD,IAAE,MAAM;AAAA,EAAE,GAAE,CAACA,KAAEA,KAAEC,GAAC,CAAC,GAAEA,GAAE,MAAI;AAAC,QAAIC;AAAE,YAAOA,KAAED,IAAE,QAAQ,KAAK,CAAAM,QAAGA,OAAG,QAAMA,IAAE,WAAW,MAAI,OAAKL,KAAE;AAAA,EAAI,CAAC;AAAC;AAAC,SAASY,GAAE,EAAC,eAAcd,IAAC,GAAEC,KAAE;AAAC,MAAIC,KAAE,EAAED,GAAC;AAAE,EAAA8B,GAAE,MAAI;AAAC,IAAA9B,QAAID,OAAG,OAAK,SAAOA,IAAE,oBAAkBA,OAAG,OAAK,SAAOA,IAAE,SAAOiB,GAAEf,GAAE,CAAC;AAAA,EAAC,GAAE,CAACD,GAAC,CAAC,GAAEQ,GAAE,MAAI;AAAC,IAAAR,OAAGgB,GAAEf,GAAE,CAAC;AAAA,EAAC,CAAC;AAAC;AAAC,SAASc,GAAE,EAAC,eAAchB,KAAE,WAAUC,KAAE,cAAaC,IAAE,sBAAqBK,IAAC,GAAEE,KAAE;AAAC,MAAIC,KAAE,CAAC,EAAED,MAAE,IAAGE,UAAE,eAAAL,QAAE,IAAI,GAAED,MAAE2B,IAAE;AAAE,SAAOD,GAAE,MAAI;AAAC,QAAG,CAACrB,IAAE;AAAC,MAAAH,OAAG,QAAMA,IAAE,WAASU,GAAEV,IAAE,OAAO;AAAE;AAAA,IAAM;AAAC,QAAIK,MAAEX,IAAE;AAAQ,IAAAW,OAAGZ,GAAE,MAAI;AAAC,UAAG,CAACK,IAAE;AAAQ;AAAO,UAAIQ,MAAEb,OAAG,OAAK,SAAOA,IAAE;AAAc,UAAGE,MAAG,QAAMA,GAAE,SAAQ;AAAC,aAAIA,MAAG,OAAK,SAAOA,GAAE,aAAWW,KAAE;AAAC,UAAAF,IAAE,UAAQE;AAAE;AAAA,QAAM;AAAA,MAAC,WAASD,IAAE,SAASC,GAAC,GAAE;AAAC,QAAAF,IAAE,UAAQE;AAAE;AAAA,MAAM;AAAC,UAAGX,MAAG,QAAMA,GAAE;AAAQ,QAAAe,GAAEf,GAAE,OAAO;AAAA,WAAM;AAAC,YAAGO,MAAE,IAAG;AAAC,cAAGc,GAAEX,KAAEY,GAAE,QAAMA,GAAE,SAAS,MAAIS,GAAE;AAAM;AAAA,QAAM,WAASV,GAAEX,KAAEY,GAAE,KAAK,MAAIS,GAAE;AAAM;AAAO,YAAG1B,OAAG,QAAMA,IAAE,YAAUU,GAAEV,IAAE,OAAO,IAAGP,OAAG,OAAK,SAAOA,IAAE,mBAAiBO,IAAE;AAAS;AAAO,gBAAQ,KAAK,0DAA0D;AAAA,MAAC;AAAC,MAAAI,IAAE,UAAQX,OAAG,OAAK,SAAOA,IAAE;AAAA,IAAa,CAAC;AAAA,EAAC,GAAE,CAACO,KAAEG,IAAED,GAAC,CAAC,GAAEE;AAAC;AAAC,SAASM,GAAE,EAAC,eAAcjB,KAAE,WAAUC,KAAE,YAAWC,IAAE,uBAAsBK,IAAC,GAAEE,KAAE;AAAC,MAAIC,KAAEsB,IAAE;AAAE,EAAAJ,GAAE5B,OAAG,OAAK,SAAOA,IAAE,aAAY,SAAQ,CAAAW,QAAG;AAAC,QAAG,CAACF,OAAG,CAACC,GAAE;AAAQ;AAAO,QAAIL,MAAEN,GAAEG,EAAC;AAAE,IAAAD,IAAE,mBAAmB,eAAaI,IAAE,IAAIJ,IAAE,OAAO;AAAE,QAAIW,MAAEL,IAAE;AAAQ,QAAG,CAACK;AAAE;AAAO,QAAIC,MAAEF,IAAE;AAAO,IAAAE,OAAGA,eAAa,cAAYgB,GAAExB,KAAEQ,GAAC,KAAGN,IAAE,UAAQM,KAAEI,GAAEJ,GAAC,MAAIF,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEM,GAAEL,GAAC,KAAGK,GAAEV,IAAE,OAAO;AAAA,EAAC,GAAE,IAAE;AAAC;AAAC,SAASsB,GAAE7B,KAAEC,KAAE;AAAC,WAAQC,MAAKF;AAAE,QAAGE,GAAE,SAASD,GAAC;AAAE,aAAM;AAAG,SAAM;AAAE;;;AIA90I,IAAAiC,iBAAqH;AAAQ,IAAAC,oBAA6B;AAAylB,SAASC,GAAEC,KAAE;AAAC,MAAIC,MAAED,IAAE,GAAEE,UAAE,eAAAC,YAAEC,EAAC,GAAEC,KAAEH,GAAEF,GAAC,GAAE,CAACM,IAAEC,GAAC,QAAE,eAAAC,UAAE,MAAI;AAAC,QAAG,CAACP,OAAGC,QAAI,QAAM,EAAE;AAAS,aAAO;AAAK,QAAIO,MAAEJ,MAAG,OAAK,SAAOA,GAAE,eAAe,wBAAwB;AAAE,QAAGI;AAAE,aAAOA;AAAE,QAAGJ,OAAI;AAAK,aAAO;AAAK,QAAIK,MAAEL,GAAE,cAAc,KAAK;AAAE,WAAOK,IAAE,aAAa,MAAK,wBAAwB,GAAEL,GAAE,KAAK,YAAYK,GAAC;AAAA,EAAC,CAAC;AAAE,aAAO,eAAAC,WAAE,MAAI;AAAC,IAAAL,OAAI,SAAOD,MAAG,QAAMA,GAAE,KAAK,SAASC,EAAC,KAAGD,MAAG,QAAMA,GAAE,KAAK,YAAYC,EAAC;AAAA,EAAE,GAAE,CAACA,IAAED,EAAC,CAAC,OAAE,eAAAM,WAAE,MAAI;AAAC,IAAAV,OAAGC,QAAI,QAAMK,IAAEL,IAAE,OAAO;AAAA,EAAC,GAAE,CAACA,KAAEK,KAAEN,GAAC,CAAC,GAAEK;AAAC;AAAC,IAAIM,KAAE,eAAAC;AAAE,SAASC,GAAEd,KAAEC,KAAE;AAAC,MAAIC,MAAEF,KAAEK,SAAE,eAAAU,QAAE,IAAI,GAAET,KAAEU,GAAEH,GAAE,CAAAI,QAAG;AAAC,IAAAZ,GAAE,UAAQY;AAAA,EAAC,CAAC,GAAEhB,GAAC,GAAEM,MAAEL,GAAEG,EAAC,GAAEI,MAAEV,GAAEM,EAAC,GAAE,CAACK,GAAC,QAAE,eAAAF,UAAE,MAAI;AAAC,QAAIS;AAAE,WAAO,EAAE,WAAS,QAAMA,MAAEV,OAAG,OAAK,SAAOA,IAAE,cAAc,KAAK,MAAI,OAAKU,MAAE;AAAA,EAAI,CAAC,GAAEC,UAAE,eAAAf,YAAEgB,GAAC,GAAEC,KAAEnB,GAAE;AAAE,SAAOC,GAAE,MAAI;AAAC,KAACO,OAAG,CAACC,OAAGD,IAAE,SAASC,GAAC,MAAIA,IAAE,aAAa,0BAAyB,EAAE,GAAED,IAAE,YAAYC,GAAC;AAAA,EAAE,GAAE,CAACD,KAAEC,GAAC,CAAC,GAAER,GAAE,MAAI;AAAC,QAAGQ,OAAGQ;AAAE,aAAOA,IAAE,SAASR,GAAC;AAAA,EAAC,GAAE,CAACQ,KAAER,GAAC,CAAC,GAAEW,GAAE,MAAI;AAAC,QAAIJ;AAAE,KAACR,OAAG,CAACC,QAAIA,eAAa,QAAMD,IAAE,SAASC,GAAC,KAAGD,IAAE,YAAYC,GAAC,GAAED,IAAE,WAAW,UAAQ,OAAKQ,MAAER,IAAE,kBAAgB,QAAMQ,IAAE,YAAYR,GAAC;AAAA,EAAG,CAAC,GAAEW,KAAE,CAACX,OAAG,CAACC,MAAE,WAAK,kBAAAY,cAAE,EAAE,EAAC,UAAS,EAAC,KAAIhB,GAAC,GAAE,YAAWJ,KAAE,MAAK,CAAC,GAAE,YAAWU,IAAE,MAAK,SAAQ,CAAC,GAAEF,GAAC,IAAE;AAAI;AAAC,IAAIa,KAAE,eAAAV;AAAN,IAAQT,SAAE,eAAAoB,eAAE,IAAI;AAAE,SAASC,GAAEzB,KAAEC,KAAE;AAAC,MAAG,EAAC,QAAOC,KAAE,GAAGG,GAAC,IAAEL,KAAEO,MAAE,EAAC,KAAIS,GAAEf,GAAC,EAAC;AAAE,SAAO,eAAAyB,QAAE,cAActB,GAAE,UAAS,EAAC,OAAMF,IAAC,GAAE,EAAE,EAAC,UAASK,KAAE,YAAWF,IAAE,YAAWkB,IAAE,MAAK,gBAAe,CAAC,CAAC;AAAC;AAAC,IAAIJ,UAAE,eAAAK,eAAE,IAAI;AAAE,SAASG,KAAG;AAAC,MAAI3B,UAAE,eAAAG,YAAEgB,GAAC,GAAElB,UAAE,eAAAc,QAAE,CAAC,CAAC,GAAEb,MAAEK,GAAE,CAAAA,SAAIN,IAAE,QAAQ,KAAKM,GAAC,GAAEP,OAAGA,IAAE,SAASO,GAAC,GAAE,MAAIF,GAAEE,GAAC,EAAE,GAAEF,KAAEE,GAAE,CAAAA,QAAG;AAAC,QAAIE,MAAER,IAAE,QAAQ,QAAQM,GAAC;AAAE,IAAAE,QAAI,MAAIR,IAAE,QAAQ,OAAOQ,KAAE,CAAC,GAAET,OAAGA,IAAE,WAAWO,GAAC;AAAA,EAAC,CAAC,GAAED,SAAE,eAAAU,SAAE,OAAK,EAAC,UAASd,KAAE,YAAWG,IAAE,SAAQJ,IAAC,IAAG,CAACC,KAAEG,IAAEJ,GAAC,CAAC;AAAE,SAAM,CAACA,SAAE,eAAAe,SAAE,MAAI,SAAS,EAAC,UAASP,IAAC,GAAE;AAAC,WAAO,eAAAiB,QAAE,cAAcP,IAAE,UAAS,EAAC,OAAMb,GAAC,GAAEG,GAAC;AAAA,EAAC,GAAE,CAACH,EAAC,CAAC,CAAC;AAAC;AAAC,IAAIsB,KAAE,EAAEd,EAAC;AAAT,IAAWe,KAAE,EAAEJ,EAAC;AAAhB,IAAkBK,KAAE,OAAO,OAAOF,IAAE,EAAC,OAAMC,GAAC,CAAC;;;AVAvpB,IAAI,MAAI,CAAAE,SAAIA,IAAEA,IAAE,OAAK,CAAC,IAAE,QAAOA,IAAEA,IAAE,SAAO,CAAC,IAAE,UAASA,MAAI,MAAI,CAAC,CAAC;AAAhE,IAAkE,MAAI,CAAAC,QAAIA,GAAEA,GAAE,aAAW,CAAC,IAAE,cAAaA,KAAI,MAAI,CAAC,CAAC;AAAE,IAAI,KAAG,EAAC,CAAC,CAAC,EAAEC,KAAED,IAAE;AAAC,SAAOC,IAAE,YAAUD,GAAE,KAAGC,MAAE,EAAC,GAAGA,KAAE,SAAQD,GAAE,GAAE;AAAC,EAAC;AAA/D,IAAiEE,SAAE,eAAAC,eAAG,IAAI;AAAED,GAAE,cAAY;AAAgB,SAASE,GAAEH,KAAE;AAAC,MAAID,SAAE,eAAAK,YAAEH,EAAC;AAAE,MAAGF,OAAI,MAAK;AAAC,QAAID,MAAE,IAAI,MAAM,IAAIE,GAAC,+CAA+C;AAAE,UAAM,MAAM,qBAAmB,MAAM,kBAAkBF,KAAEK,EAAC,GAAEL;AAAA,EAAC;AAAC,SAAOC;AAAC;AAAC,SAAS,GAAGC,KAAED,IAAED,MAAE,MAAI,CAAC,SAAS,IAAI,GAAE;AAAC,EAAAO,GAAGL,KAAED,IAAE,CAAAO,QAAG;AAAC,QAAIC;AAAE,WAAM,EAAC,YAAW,CAAC,IAAIA,MAAED,IAAE,eAAa,OAAKC,MAAE,CAAC,GAAET,GAAC,EAAC;AAAA,EAAC,CAAC;AAAC;AAAC,SAAS,GAAGE,KAAED,IAAE;AAAC,SAAOS,GAAET,GAAE,MAAK,IAAGC,KAAED,EAAC;AAAC;AAAC,IAAI,KAAG;AAAP,IAAa,KAAG,EAAG,iBAAe,EAAG;AAAO,SAASU,IAAGT,KAAED,IAAE;AAAC,MAAID,MAAEG,GAAE,GAAE,EAAC,IAAGK,MAAE,qBAAqBR,GAAC,IAAG,MAAKS,KAAE,SAAQG,KAAE,cAAaC,IAAE,MAAKN,MAAE,UAAS,WAAUO,MAAE,MAAG,YAAWC,MAAE,OAAG,GAAGC,GAAC,IAAEd,KAAE,CAACe,KAAEC,EAAC,QAAE,eAAAC,UAAG,CAAC,GAAEC,SAAE,eAAAC,QAAE,KAAE;AAAE,EAAAd,MAAE,WAAU;AAAC,WAAOA,QAAI,YAAUA,QAAI,gBAAcA,OAAGa,GAAE,YAAUA,GAAE,UAAQ,MAAG,QAAQ,KAAK,iBAAiBb,GAAC,0GAA0G,IAAG;AAAA,EAAS,EAAE;AAAE,MAAIe,KAAEZ,GAAG;AAAE,EAAAD,QAAI,UAAQa,OAAI,SAAOb,OAAGa,KAAEC,GAAE,UAAQA,GAAE;AAAM,MAAIC,UAAE,eAAAH,QAAE,IAAI,GAAEI,MAAGC,GAAEF,KAAEvB,EAAC,GAAE0B,KAAElB,GAAGe,GAAC,GAAEI,KAAE1B,IAAE,eAAe,MAAM,KAAGoB,OAAI,MAAKO,MAAE3B,IAAE,eAAe,SAAS;AAAE,MAAG,CAAC0B,MAAG,CAACC;AAAE,UAAM,IAAI,MAAM,gFAAgF;AAAE,MAAG,CAACD;AAAE,UAAM,IAAI,MAAM,4EAA4E;AAAE,MAAG,CAACC;AAAE,UAAM,IAAI,MAAM,4EAA4E;AAAE,MAAG,OAAOpB,OAAG;AAAU,UAAM,IAAI,MAAM,8FAA8FA,GAAC,EAAE;AAAE,MAAG,OAAOG,OAAG;AAAW,UAAM,IAAI,MAAM,kGAAkGA,GAAC,EAAE;AAAE,MAAIW,MAAEd,MAAE,IAAE,GAAE,CAACqB,KAAEC,GAAE,QAAE,eAAAC,YAAG,IAAG,EAAC,SAAQ,MAAK,eAAc,MAAK,cAAS,eAAAC,WAAG,EAAC,CAAC,GAAEP,MAAEQ,GAAE,MAAItB,IAAE,KAAE,CAAC,GAAEuB,KAAED,GAAE,CAAAA,QAAGH,IAAG,EAAC,MAAK,GAAE,IAAGG,IAAC,CAAC,CAAC,GAAEE,KAAExB,GAAG,IAAEG,MAAE,QAAGQ,QAAI,IAAE,OAAGc,KAAEpB,MAAE,GAAEqB,SAAE,eAAAhC,YAAEH,EAAC,MAAI,MAAK,CAACoC,KAAGC,GAAE,IAAEZ,GAAG,GAAEa,MAAG,EAAC,IAAI,UAAS;AAAC,QAAIP;AAAE,YAAOA,MAAEJ,IAAE,SAAS,YAAU,OAAKI,MAAEV,IAAE;AAAA,EAAO,EAAC,GAAE,EAAC,mBAAkBkB,IAAE,iBAAgBC,IAAE,cAAaC,IAAE,IAAEf,GAAG,EAAC,SAAQU,KAAG,mBAAkB,CAACE,GAAE,EAAC,CAAC,GAAEI,MAAGR,KAAE,WAAS,QAAOS,KAAExB,OAAI,QAAMA,KAAEC,GAAE,aAAWA,GAAE,UAAQ,OAAGwB,MAAI,uBAAIT,MAAGQ,KAAE,QAAGV,IAAG,GAAEY,UAAG,eAAAC,aAAE,MAAI;AAAC,QAAIf,KAAEgB;AAAE,YAAOA,MAAE,MAAM,MAAMhB,MAAEP,MAAG,OAAK,SAAOA,GAAE,iBAAiB,UAAU,MAAI,OAAKO,MAAE,CAAC,CAAC,EAAE,KAAK,CAAAxB,QAAGA,IAAE,OAAK,2BAAyB,QAAGA,IAAE,SAASiC,GAAE,OAAO,KAAGjC,eAAa,WAAW,MAAI,OAAKwC,MAAE;AAAA,EAAI,GAAE,CAACP,EAAC,CAAC;AAAE,EAAAb,GAAEkB,KAAGD,GAAE;AAAE,MAAII,MAAI,uBAAId,KAAE,OAAGD,IAAG,GAAEgB,UAAG,eAAAH,aAAE,MAAI;AAAC,QAAIf,KAAEgB;AAAE,YAAOA,MAAE,MAAM,MAAMhB,MAAEP,MAAG,OAAK,SAAOA,GAAE,iBAAiB,0BAA0B,MAAI,OAAKO,MAAE,CAAC,CAAC,EAAE,KAAK,CAAAxB,QAAGA,IAAE,SAASiC,GAAE,OAAO,KAAGjC,eAAa,WAAW,MAAI,OAAKwC,MAAE;AAAA,EAAI,GAAE,CAACP,EAAC,CAAC;AAAE,EAAAb,GAAEsB,KAAGD,GAAE;AAAE,MAAIE,MAAI,uBAAI,EAAE,CAACjB,MAAGC,KAAI;AAAE,EAAAiB,GAAGZ,IAAEhB,KAAE2B,GAAE;AAAE,MAAIE,MAAI,uBAAI,EAAElB,MAAGd,QAAI,IAAI;AAAE,EAAAiC,GAAG7B,MAAG,OAAK,SAAOA,GAAE,aAAY,WAAU,CAAAO,QAAG;AAAC,IAAAqB,QAAKrB,IAAE,oBAAkBA,IAAE,QAAMA,IAAG,WAASA,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAER,IAAE;AAAA,EAAG,CAAC;AAAE,MAAI+B,MAAI,uBAAI,EAAEX,MAAGvB,QAAI,KAAGe,KAAI;AAAE,KAAGX,IAAE8B,KAAGf,EAAC,OAAE,eAAAgB,WAAE,MAAI;AAAC,QAAGnC,QAAI,KAAG,CAACC,IAAE;AAAQ;AAAO,QAAIU,MAAE,IAAI,eAAe,CAAAgB,QAAG;AAAC,eAAQxC,OAAKwC,KAAE;AAAC,YAAIS,KAAEjD,IAAE,OAAO,sBAAsB;AAAE,QAAAiD,GAAE,MAAI,KAAGA,GAAE,MAAI,KAAGA,GAAE,UAAQ,KAAGA,GAAE,WAAS,KAAGjC,IAAE;AAAA,MAAC;AAAA,IAAC,CAAC;AAAE,WAAOQ,IAAE,QAAQV,IAAE,OAAO,GAAE,MAAIU,IAAE,WAAW;AAAA,EAAC,GAAE,CAACX,KAAEC,KAAEE,GAAC,CAAC;AAAE,MAAG,CAACkC,KAAGC,GAAE,IAAE,EAAG,GAAEC,UAAG,eAAAC,SAAE,MAAI,CAAC,EAAC,aAAYxC,KAAE,OAAMG,KAAE,YAAWS,GAAC,GAAEL,GAAC,GAAE,CAACP,KAAEO,KAAEJ,KAAES,EAAC,CAAC,GAAE6B,SAAE,eAAAD,SAAE,OAAK,EAAC,MAAKxC,QAAI,EAAC,IAAG,CAACA,GAAC,CAAC,GAAE0C,MAAG,EAAC,KAAIxC,KAAG,IAAGjB,KAAE,MAAKD,KAAE,UAAS,IAAG,cAAagB,QAAI,IAAE,OAAG,QAAO,mBAAkBO,IAAE,SAAQ,oBAAmB8B,IAAE,GAAEM,MAAG,CAACjD,GAAG,GAAEqC,MAAElB,KAAE1B,GAAEmC,KAAG,EAAC,QAAOF,GAAE,cAAa,MAAKA,GAAE,MAAI,CAACA,GAAE,UAAS,CAAC,IAAEA,GAAE;AAAK,SAAO7B,QAAIwC,OAAGX,GAAE,YAAWuB,QAAKZ,OAAG,CAACX,GAAE,eAAc,eAAAwB,QAAE,cAAcrC,IAAG,EAAC,MAAK,UAAS,SAAQP,QAAI,GAAE,SAAQC,KAAE,UAASU,GAAE,CAACA,KAAEgB,QAAI;AAAC,IAAAA,QAAI,YAAUxC,GAAEwB,KAAE,EAAC,CAACiC,IAAG,GAAG,GAAE,MAAIjD,GAAE,CAAAR,QAAGA,MAAE,CAAC,GAAE,CAACyD,IAAG,MAAM,GAAE,MAAIjD,GAAE,CAAAR,QAAGA,MAAE,CAAC,EAAC,CAAC;AAAA,EAAC,CAAC,EAAC,GAAE,eAAAyD,QAAE,cAAcvD,IAAE,EAAC,OAAM,KAAE,GAAE,eAAAuD,QAAE,cAAcb,IAAE,MAAK,eAAAa,QAAE,cAAchE,GAAE,UAAS,EAAC,OAAM2D,IAAE,GAAE,eAAAK,QAAE,cAAcb,GAAE,OAAM,EAAC,QAAO9B,IAAC,GAAE,eAAA2C,QAAE,cAAcvD,IAAE,EAAC,OAAM,MAAE,GAAE,eAAAuD,QAAE,cAAcN,KAAG,EAAC,MAAKG,IAAE,MAAK,qBAAoB,GAAE,eAAAG,QAAE,cAAc3B,KAAG,MAAK,eAAA2B,QAAE,cAAc,IAAG,EAAC,cAAatD,IAAE,sBAAqBW,KAAE,YAAWkB,IAAE,UAASY,IAAC,GAAE,EAAE,EAAC,UAASW,KAAG,YAAWjD,IAAE,MAAKgD,IAAE,YAAW,IAAG,UAAS,IAAG,SAAQzC,QAAI,GAAE,MAAK,SAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAE,eAAA4C,QAAE,cAAc9B,IAAG,MAAK,eAAA8B,QAAE,cAAcvB,KAAG,IAAI,CAAC,CAAC;AAAC;AAAC,IAAI,KAAG;AAAM,SAAS,GAAG1C,KAAED,IAAE;AAAC,MAAID,MAAEG,GAAE,GAAE,EAAC,IAAGK,MAAE,6BAA6BR,GAAC,IAAG,GAAGS,IAAC,IAAEP,KAAE,CAAC,EAAC,aAAYU,KAAE,OAAMC,GAAC,CAAC,IAAER,GAAE,gBAAgB,GAAEE,MAAEmB,GAAEzB,EAAC,GAAEa,MAAEoB,GAAE,CAAAjB,QAAG;AAAC,QAAGA,IAAE,WAASA,IAAE,eAAc;AAAC,UAAGjB,GAAGiB,IAAE,aAAa;AAAE,eAAOA,IAAE,eAAe;AAAE,MAAAA,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEJ,GAAE;AAAA,IAAC;AAAA,EAAC,CAAC,GAAEE,UAAE,eAAAgD,SAAE,OAAK,EAAC,MAAKnD,QAAI,EAAC,IAAG,CAACA,GAAC,CAAC;AAAE,SAAO,EAAE,EAAC,UAAS,EAAC,KAAIL,KAAE,IAAGC,KAAE,eAAc,MAAG,SAAQM,IAAC,GAAE,YAAWL,KAAE,MAAKM,KAAE,YAAW,IAAG,MAAK,iBAAgB,CAAC;AAAC;AAAC,IAAI,KAAG;AAAM,SAAS,GAAGb,KAAED,IAAE;AAAC,MAAID,MAAEG,GAAE,GAAE,EAAC,IAAGK,MAAE,8BAA8BR,GAAC,IAAG,GAAGS,IAAC,IAAEP,KAAE,CAAC,EAAC,aAAYU,IAAC,GAAEC,EAAC,IAAER,GAAE,iBAAiB,GAAEE,MAAEmB,GAAEzB,EAAC;AAAE,qBAAAyD,WAAE,MAAI;AAAC,QAAG7C,GAAE,SAAS,YAAU;AAAK,YAAM,IAAI,MAAM,6FAA6F;AAAA,EAAC,GAAE,CAACA,GAAE,QAAQ,CAAC;AAAE,MAAIC,UAAE,eAAAiD,SAAE,OAAK,EAAC,MAAKnD,QAAI,EAAC,IAAG,CAACA,GAAC,CAAC;AAAE,SAAO,eAAAuD,QAAE,cAAcvD,IAAE,EAAC,OAAM,KAAE,GAAE,eAAAuD,QAAE,cAAcb,IAAE,MAAK,EAAE,EAAC,UAAS,EAAC,KAAI/C,KAAE,IAAGC,KAAE,eAAc,KAAE,GAAE,YAAWC,KAAE,MAAKK,KAAE,YAAW,IAAG,MAAK,kBAAiB,CAAC,CAAC,CAAC;AAAC;AAAC,IAAI,KAAG;AAAM,SAAS,GAAGZ,KAAED,IAAE;AAAC,MAAID,MAAEG,GAAE,GAAE,EAAC,IAAGK,MAAE,2BAA2BR,GAAC,IAAG,GAAGS,IAAC,IAAEP,KAAE,CAAC,EAAC,aAAYU,IAAC,GAAEC,EAAC,IAAER,GAAE,cAAc,GAAEE,MAAEmB,GAAEzB,IAAEY,GAAE,QAAQ,GAAEC,UAAE,eAAAiD,SAAE,OAAK,EAAC,MAAKnD,QAAI,EAAC,IAAG,CAACA,GAAC,CAAC,GAAEG,MAAEmB,GAAE,CAAAjB,QAAG;AAAC,IAAAA,IAAE,gBAAgB;AAAA,EAAC,CAAC;AAAE,SAAO,EAAE,EAAC,UAAS,EAAC,KAAIV,KAAE,IAAGC,KAAE,SAAQO,IAAC,GAAE,YAAWN,KAAE,MAAKK,KAAE,YAAW,IAAG,MAAK,eAAc,CAAC;AAAC;AAAC,IAAI,KAAG;AAAK,SAAS,GAAGZ,KAAED,IAAE;AAAC,MAAID,MAAEG,GAAE,GAAE,EAAC,IAAGK,MAAE,2BAA2BR,GAAC,IAAG,GAAGS,IAAC,IAAEP,KAAE,CAAC,EAAC,aAAYU,KAAE,YAAWC,GAAC,CAAC,IAAER,GAAE,cAAc,GAAEE,MAAEmB,GAAEzB,EAAC;AAAE,qBAAAyD,WAAE,OAAK7C,GAAEL,GAAC,GAAE,MAAIK,GAAE,IAAI,IAAG,CAACL,KAAEK,EAAC,CAAC;AAAE,MAAIC,UAAE,eAAAiD,SAAE,OAAK,EAAC,MAAKnD,QAAI,EAAC,IAAG,CAACA,GAAC,CAAC;AAAE,SAAO,EAAE,EAAC,UAAS,EAAC,KAAIL,KAAE,IAAGC,IAAC,GAAE,YAAWC,KAAE,MAAKK,KAAE,YAAW,IAAG,MAAK,eAAc,CAAC;AAAC;AAAC,IAAI,KAAG,EAAEH,GAAE;AAAX,IAAa,KAAG,EAAE,EAAE;AAApB,IAAsB,KAAG,EAAE,EAAE;AAA7B,IAA+B,KAAG,EAAE,EAAE;AAAtC,IAAwC,KAAG,EAAE,EAAE;AAA/C,IAAiD,KAAGyD;AAApD,IAAuD,KAAG,OAAO,OAAO,IAAG,EAAC,UAAS,IAAG,OAAM,IAAG,SAAQ,IAAG,OAAM,IAAG,aAAYA,GAAE,CAAC;;;AWArkO,IAAAC,iBAAuH;;;ACAnO,IAAAC,iBAAa;AAAnB,IAAIC;AAAuB,IAAIC,OAAGD,MAAE,eAAAE,QAAE,oBAAkB,OAAKF,MAAE,SAASG,KAAE;AAAC,EAAAA,IAAE;AAAC;;;ADAk9B,IAAI,MAAI,CAAAC,SAAIA,IAAEA,IAAE,OAAK,CAAC,IAAE,QAAOA,IAAEA,IAAE,SAAO,CAAC,IAAE,UAASA,MAAI,MAAI,CAAC,CAAC;AAAhE,IAAkEC,OAAI,CAAAC,SAAIA,IAAEA,IAAE,mBAAiB,CAAC,IAAE,oBAAmBA,IAAEA,IAAE,kBAAgB,CAAC,IAAE,mBAAkBA,IAAEA,IAAE,cAAY,CAAC,IAAE,eAAcA,IAAEA,IAAE,aAAW,CAAC,IAAE,cAAaA,IAAEA,IAAE,YAAU,CAAC,IAAE,aAAYA,IAAEA,IAAE,cAAY,CAAC,IAAE,eAAcA,MAAID,OAAI,CAAC,CAAC;AAAE,IAAI,KAAG,EAAC,CAAC,CAAC,GAAE,CAAAE,QAAI,EAAC,GAAGA,IAAE,iBAAgBC,GAAED,GAAE,iBAAgB,EAAC,CAAC,CAAC,GAAE,GAAE,CAAC,CAAC,GAAE,EAAC,CAAC,EAAC,IAAG,CAAC,CAAC,GAAE,CAAAA,OAAGA,GAAE,oBAAkB,IAAEA,KAAE,EAAC,GAAGA,IAAE,iBAAgB,EAAC,GAAE,CAAC,CAAC,EAAEA,IAAE;AAAC,SAAOA,GAAE,gBAAc,OAAGA,KAAE,EAAC,GAAGA,IAAE,aAAY,KAAE;AAAC,GAAE,CAAC,CAAC,EAAEA,IAAE;AAAC,SAAOA,GAAE,gBAAc,QAAGA,KAAE,EAAC,GAAGA,IAAE,aAAY,MAAE;AAAC,GAAE,CAAC,CAAC,EAAEA,IAAEE,KAAE;AAAC,SAAOF,GAAE,aAAWE,IAAE,WAASF,KAAE,EAAC,GAAGA,IAAE,UAASE,IAAE,SAAQ;AAAC,GAAE,CAAC,CAAC,EAAEF,IAAEE,KAAE;AAAC,SAAOF,GAAE,YAAUE,IAAE,UAAQF,KAAE,EAAC,GAAGA,IAAE,SAAQE,IAAE,QAAO;AAAC,EAAC;AAA9X,IAAgYC,SAAE,eAAAC,eAAE,IAAI;AAAED,GAAE,cAAY;AAAoB,SAASE,GAAEL,IAAE;AAAC,MAAIE,UAAE,eAAAI,YAAEH,EAAC;AAAE,MAAGD,QAAI,MAAK;AAAC,QAAIL,MAAE,IAAI,MAAM,IAAIG,EAAC,mDAAmD;AAAE,UAAM,MAAM,qBAAmB,MAAM,kBAAkBH,KAAEQ,EAAC,GAAER;AAAA,EAAC;AAAC,SAAOK;AAAC;AAAC,IAAIK,SAAE,eAAAH,eAAE,IAAI;AAAEG,GAAE,cAAY;AAAuB,SAASC,GAAER,IAAE;AAAC,MAAIE,UAAE,eAAAI,YAAEC,EAAC;AAAE,MAAGL,QAAI,MAAK;AAAC,QAAIL,MAAE,IAAI,MAAM,IAAIG,EAAC,mDAAmD;AAAE,UAAM,MAAM,qBAAmB,MAAM,kBAAkBH,KAAEW,EAAC,GAAEX;AAAA,EAAC;AAAC,SAAOK;AAAC;AAAC,IAAIO,SAAE,eAAAL,eAAE,IAAI;AAAEK,GAAE,cAAY;AAAyB,SAASC,MAAI;AAAC,aAAO,eAAAJ,YAAEG,EAAC;AAAC;AAAC,SAASE,IAAGX,IAAEE,KAAE;AAAC,SAAOD,GAAEC,IAAE,MAAK,IAAGF,IAAEE,GAAC;AAAC;AAAC,IAAIU,MAAG,eAAAC;AAAE,SAAS,GAAGb,IAAEE,KAAE;AAAC,MAAG,EAAC,aAAYL,MAAE,OAAG,GAAGiB,IAAC,IAAEd,IAAEe,UAAE,eAAAC,QAAE,IAAI,GAAEC,MAAEC,GAAEhB,KAAEiB,GAAG,CAAAlB,QAAG;AAAC,IAAAc,IAAE,UAAQd;AAAA,EAAC,GAAED,GAAE,OAAK,UAAQA,GAAE,OAAK,eAAAa,QAAC,CAAC,GAAEd,UAAE,eAAAiB,QAAE,IAAI,GAAEI,UAAE,eAAAJ,QAAE,IAAI,GAAEK,UAAE,eAAAC,YAAEX,KAAG,EAAC,iBAAgBd,MAAE,IAAE,GAAE,aAAY,OAAG,WAAUuB,KAAE,UAASrB,KAAE,UAAS,MAAK,SAAQ,KAAI,CAAC,GAAE,CAAC,EAAC,iBAAgBwB,KAAE,UAASC,IAAC,GAAEN,GAAC,IAAEG,KAAEI,KAAER,GAAE,CAAAhB,QAAG;AAAC,IAAAiB,IAAE,EAAC,MAAK,EAAC,CAAC;AAAE,QAAIQ,MAAET,GAAGF,GAAC;AAAE,QAAG,CAACW,OAAG,CAACF;AAAE;AAAO,QAAIG,MAAG,MAAI1B,MAAEA,eAAa,cAAYA,MAAEA,IAAE,mBAAmB,cAAYA,IAAE,UAAQyB,IAAE,eAAeF,GAAC,IAAEE,IAAE,eAAeF,GAAC,GAAG;AAAE,IAAAG,MAAG,QAAMA,GAAE,MAAM;AAAA,EAAC,CAAC,GAAEC,UAAE,eAAAC,SAAE,OAAK,EAAC,OAAMJ,GAAC,IAAG,CAACA,EAAC,CAAC,GAAEN,UAAE,eAAAU,SAAE,OAAK,EAAC,MAAKN,QAAI,GAAE,OAAME,GAAC,IAAG,CAACF,KAAEE,EAAC,CAAC,GAAEK,KAAE,EAAC,KAAIb,IAAC;AAAE,SAAO,eAAAc,QAAE,cAAc5B,GAAE,UAAS,EAAC,OAAMkB,IAAC,GAAE,eAAAU,QAAE,cAAcxB,GAAE,UAAS,EAAC,OAAMqB,IAAC,GAAE,eAAAG,QAAE,cAAcC,KAAG,EAAC,OAAM/B,GAAEsB,KAAE,EAAC,CAAC,CAAC,GAAEH,GAAE,MAAK,CAAC,CAAC,GAAEA,GAAE,OAAM,CAAC,EAAC,GAAE,EAAE,EAAC,UAASU,IAAE,YAAWhB,KAAE,MAAKK,KAAE,YAAWP,KAAG,MAAK,aAAY,CAAC,CAAC,CAAC,CAAC;AAAC;AAAC,IAAIqB,MAAG;AAAS,SAAS,GAAGjC,IAAEE,KAAE;AAAC,MAAIgC,IAAEC;AAAE,MAAItC,MAAEuC,GAAE,GAAE,EAAC,IAAGtB,MAAE,gCAAgCjB,GAAC,IAAG,GAAGkB,IAAC,IAAEf,IAAE,CAACiB,KAAElB,GAAC,IAAEM,GAAE,mBAAmB,GAAEe,MAAEV,IAAG,GAAEW,MAAED,QAAI,OAAK,QAAGA,QAAIH,IAAE,SAAQM,UAAE,eAAAP,QAAE,IAAI,GAAEQ,MAAEN,GAAEK,KAAErB,KAAEmB,MAAE,OAAKJ,IAAE,SAAS,GAAEC,MAAE,EAAE;AAAE,qBAAAmB,WAAE,MAAI;AAAC,QAAG,CAAChB;AAAE,aAAOtB,IAAE,EAAC,MAAK,GAAE,UAASe,IAAC,CAAC,GAAE,MAAI;AAAC,QAAAf,IAAE,EAAC,MAAK,GAAE,UAAS,KAAI,CAAC;AAAA,MAAC;AAAA,EAAC,GAAE,CAACe,KAAEf,KAAEsB,GAAC,CAAC;AAAE,MAAII,KAAER,GAAE,CAAAe,QAAG;AAAC,QAAIM;AAAE,QAAGjB,KAAE;AAAC,UAAGJ,IAAE,oBAAkB;AAAE;AAAO,cAAOe,IAAE,KAAI;AAAA,QAAC,KAAKf,IAAE;AAAA,QAAM,KAAKA,IAAE;AAAM,UAAAe,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEjC,IAAE,EAAC,MAAK,EAAC,CAAC,IAAGuC,KAAErB,IAAE,UAAU,YAAU,QAAMqB,GAAE,MAAM;AAAE;AAAA,MAAK;AAAA,IAAC;AAAM,cAAON,IAAE,KAAI;AAAA,QAAC,KAAKf,IAAE;AAAA,QAAM,KAAKA,IAAE;AAAM,UAAAe,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEjC,IAAE,EAAC,MAAK,EAAC,CAAC;AAAE;AAAA,MAAK;AAAA,EAAC,CAAC,GAAE6B,MAAEX,GAAE,CAAAe,QAAG;AAAC,YAAOA,IAAE,KAAI;AAAA,MAAC,KAAKf,IAAE;AAAM,QAAAe,IAAE,eAAe;AAAE;AAAA,IAAK;AAAA,EAAC,CAAC,GAAEb,MAAEF,GAAE,CAAAe,QAAG;AAAC,QAAIM;AAAE,IAAAjB,GAAGW,IAAE,aAAa,KAAGhC,GAAE,aAAWqB,OAAGtB,IAAE,EAAC,MAAK,EAAC,CAAC,IAAGuC,KAAErB,IAAE,UAAU,YAAU,QAAMqB,GAAE,MAAM,KAAGvC,IAAE,EAAC,MAAK,EAAC,CAAC;AAAA,EAAE,CAAC,GAAE,EAAC,gBAAe+B,IAAE,YAAW7B,IAAC,IAAE,0CAAE,EAAC,YAAWiC,KAAElC,GAAE,cAAY,OAAKkC,KAAE,MAAE,CAAC,GAAE,EAAC,WAAUR,KAAE,YAAWC,GAAC,IAAE,0CAAE,EAAC,aAAYQ,KAAEnC,GAAE,aAAW,OAAKmC,KAAE,MAAE,CAAC,GAAE,EAAC,SAAQI,IAAE,YAAWC,GAAC,IAAE,EAAG,GAAEC,SAAE,eAAAZ,SAAE,MAAI;AAAC,QAAIG;AAAE,WAAM,EAAC,MAAKf,IAAE,oBAAkB,GAAE,OAAMS,KAAE,QAAOa,IAAE,OAAMT,IAAE,YAAWE,MAAEhC,GAAE,cAAY,OAAKgC,MAAE,MAAE;AAAA,EAAC,GAAE,CAACf,KAAES,KAAEa,IAAET,IAAE9B,GAAE,SAAS,CAAC,GAAE0C,MAAEvB,GAAGnB,IAAEuB,GAAC,GAAEoB,MAAEtB,MAAE,EAAE,EAAC,KAAIG,KAAE,MAAKkB,KAAE,WAAUjB,IAAE,SAAQN,IAAC,GAAElB,KAAE0B,IAAEa,EAAC,IAAE,EAAE,EAAC,KAAIhB,KAAE,IAAGV,KAAE,MAAK4B,KAAE,iBAAgBzB,IAAE,oBAAkB,GAAE,iBAAgBA,IAAE,cAAYA,IAAE,UAAQ,QAAO,WAAUQ,IAAE,SAAQG,KAAE,SAAQT,IAAC,GAAElB,KAAE0B,IAAEa,EAAC;AAAE,SAAO,EAAE,EAAC,WAAUtB,KAAE,UAASyB,KAAE,YAAW5B,KAAE,MAAK0B,IAAE,YAAWR,KAAG,MAAK,oBAAmB,CAAC;AAAC;AAAC,IAAIW,MAAG;AAAP,IAAaC,MAAG,EAAE,iBAAe,EAAE;AAAO,SAAS,GAAG7C,IAAEE,KAAE;AAAC,MAAIL,MAAEuC,GAAE,GAAE,EAAC,IAAGtB,MAAE,+BAA+BjB,GAAC,IAAG,GAAGkB,IAAC,IAAEf,IAAE,CAACiB,KAAElB,GAAC,IAAEM,GAAE,kBAAkB,GAAE,EAAC,OAAMe,IAAC,IAAEZ,GAAE,kBAAkB,GAAEa,MAAE,EAAE,GAAEE,MAAEL,GAAEhB,KAAEe,IAAE,UAAS,CAAAE,QAAG;AAAC,IAAAK,IAAG,MAAIzB,IAAE,EAAC,MAAKoB,MAAE,IAAE,EAAC,CAAC,CAAC;AAAA,EAAC,CAAC;AAAE,qBAAAkB,WAAE,OAAKtC,IAAE,EAAC,MAAK,GAAE,SAAQe,IAAC,CAAC,GAAE,MAAI;AAAC,IAAAf,IAAE,EAAC,MAAK,GAAE,SAAQ,KAAI,CAAC;AAAA,EAAC,IAAG,CAACe,KAAEf,GAAC,CAAC;AAAE,MAAIyB,MAAEvB,GAAG,GAAEiB,OAAG,MAAIM,QAAI,QAAMA,MAAEJ,GAAE,UAAQA,GAAE,OAAKH,IAAE,oBAAkB,GAAG,GAAEQ,SAAE,eAAAI,SAAE,OAAK,EAAC,MAAKZ,IAAE,oBAAkB,GAAE,OAAMG,IAAC,IAAG,CAACH,KAAEG,GAAC,CAAC,GAAEQ,MAAE,EAAC,KAAIL,KAAE,IAAGT,IAAC;AAAE,SAAO,eAAAiB,QAAE,cAActB,GAAE,UAAS,EAAC,OAAMQ,IAAE,QAAO,GAAE,EAAE,EAAC,WAAUI,KAAE,UAASO,KAAE,YAAWb,KAAE,MAAKU,IAAE,YAAWmB,KAAG,UAASC,KAAG,SAAQ3B,KAAE,MAAK,mBAAkB,CAAC,CAAC;AAAC;AAAC,IAAI,KAAG,EAAE,EAAE;AAAX,IAAa,KAAG,EAAE,EAAE;AAApB,IAAsB4B,MAAG,EAAE,EAAE;AAA7B,IAA+B,KAAG,OAAO,OAAO,IAAG,EAAC,QAAO,IAAG,OAAMA,IAAE,CAAC;;;AEAx/J,IAAAC,iBAA2B;AAA6a,IAAIC,KAAE;AAAM,SAASC,GAAEC,KAAEC,KAAE;AAAC,MAAIC,MAAE,sBAAsBC,GAAE,CAAC,IAAG,CAACC,KAAEC,GAAC,IAAEC,GAAE,GAAE,CAACC,IAAEC,GAAC,IAAE,EAAE,GAAEC,MAAEA,GAAE,GAAE,EAAC,UAASC,KAAED,OAAG,OAAG,GAAGE,IAAC,IAAEX,KAAEY,UAAE,eAAAC,SAAE,OAAK,EAAC,UAASH,GAAC,IAAG,CAACA,EAAC,CAAC;AAAE,SAAO,eAAAI,QAAE,cAAcZ,IAAE,EAAC,OAAMQ,GAAC,GAAE,eAAAI,QAAE,cAAcT,KAAE,EAAC,OAAMD,IAAC,GAAE,eAAAU,QAAE,cAAcN,KAAE,EAAC,OAAMD,GAAC,GAAE,eAAAO,QAAE,cAAcC,IAAE,EAAC,IAAGb,IAAC,GAAE,EAAE,EAAC,UAAS,EAAC,KAAID,KAAE,UAASS,IAAE,iBAAgBA,MAAG,OAAM,GAAE,YAAW,EAAC,GAAGC,KAAE,UAAS,eAAAG,QAAE,cAAc,GAAE,MAAKH,IAAE,QAAQ,EAAC,GAAE,MAAKC,KAAE,YAAWd,IAAE,MAAK,QAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AAAC;AAAC,IAAIkB,KAAE,EAAEjB,EAAC;;;ACAj3B,IAAAkB,iBAA2B;AAA0M,IAAIC,KAAE;AAAM,SAASC,GAAEC,KAAEC,KAAE;AAAC,MAAIC,MAAEC,GAAE,GAAE,EAAC,UAASC,KAAEF,OAAG,OAAG,GAAGG,IAAC,IAAEL,KAAE,CAACM,KAAEC,GAAC,IAAEC,GAAE,GAAEL,UAAE,eAAAM,SAAE,OAAK,EAAC,UAASL,GAAC,IAAG,CAACA,EAAC,CAAC;AAAE,SAAO,eAAAM,QAAE,cAAcR,IAAE,EAAC,OAAME,GAAC,GAAE,eAAAM,QAAE,cAAcH,KAAE,MAAK,EAAE,EAAC,UAAS,EAAC,KAAIN,KAAE,MAAK,SAAQ,mBAAkBK,KAAE,iBAAgBF,MAAG,OAAM,GAAE,YAAWC,KAAE,MAAKF,KAAE,YAAWL,IAAE,MAAK,WAAU,CAAC,CAAC,CAAC;AAAC;AAAC,IAAIa,KAAE,EAAEZ,EAAC;;;ACA7a,IAAAa,iBAAwB;AAA0W,IAAIC,KAAE;AAAQ,SAASC,GAAEC,KAAEC,KAAE;AAAC,MAAIC;AAAE,MAAIC,MAAEC,GAAE,GAAEC,KAAEC,GAAE,GAAEA,MAAEC,GAAE,GAAE,EAAC,IAAGC,MAAEH,MAAG,oBAAoBF,GAAC,IAAG,UAASM,KAAEH,OAAG,OAAG,SAAQI,MAAE,OAAG,GAAGC,IAAC,IAAEX,KAAEY,MAAER,GAAE,GAAES,MAAEC,GAAE,GAAE,EAAC,gBAAeC,KAAE,YAAWC,IAAC,IAAE,0CAAE,EAAC,QAAO,MAAG,aAAY,MAAG,YAAWd,MAAEF,IAAE,cAAY,OAAKE,MAAE,MAAE,CAAC,GAAE,EAAC,WAAUe,KAAE,YAAWC,IAAC,IAAE,0CAAE,EAAC,YAAWT,MAAG,OAAKA,KAAE,MAAE,CAAC,GAAEL,KAAE,EAAE,EAAC,KAAIH,KAAE,IAAGO,KAAE,mBAAkBI,KAAE,oBAAmBC,KAAE,gBAAeH,MAAE,KAAG,QAAO,UAASD,MAAG,OAAM,GAAEO,KAAEE,GAAC,GAAEC,UAAE,eAAAC,SAAE,MAAI;AAAC,QAAIb;AAAE,WAAM,EAAC,UAASE,IAAE,SAAQC,KAAE,OAAMO,KAAE,OAAMF,KAAE,YAAWR,MAAEP,IAAE,cAAY,OAAKO,MAAE,MAAE;AAAA,EAAC,GAAE,CAACE,IAAEC,KAAEO,KAAEF,KAAEf,IAAE,SAAS,CAAC;AAAE,SAAO,EAAE,EAAC,UAASI,IAAE,YAAWO,KAAE,MAAKQ,KAAE,YAAWrB,IAAE,MAAK,QAAO,CAAC;AAAC;AAAC,IAAIuB,KAAE,EAAEtB,EAAC;;;ACAnkC,IAAAuB,iBAAa;AAAmH,SAASC,IAAEC,KAAEC,KAAE;AAAC,SAAO,eAAAC,QAAE,cAAc,GAAE,EAAC,IAAG,OAAM,KAAID,KAAE,GAAGD,IAAC,CAAC;AAAC;AAAC,IAAIG,KAAE,EAAEJ,GAAC;;;ACAlG,IAAAK,iBAA0K;;;ACA9R,IAAAC,iBAAyB;AAAiI,SAASC,IAAEC,IAAEC,KAAE;AAAC,MAAG,CAACC,KAAEC,GAAC,QAAE,eAAAC,UAAEJ,EAAC,GAAEK,MAAED,GAAEJ,EAAC;AAAE,SAAOM,GAAE,MAAIH,IAAEE,IAAE,OAAO,GAAE,CAACA,KAAEF,KAAE,GAAGF,GAAC,CAAC,GAAEC;AAAC;;;ACAtO,IAAAK,iBAAyB;AAA0E,SAASC,IAAEC,IAAE;AAAC,MAAGA,OAAI;AAAK,WAAM,EAAC,OAAM,GAAE,QAAO,EAAC;AAAE,MAAG,EAAC,OAAMC,KAAE,QAAOC,IAAC,IAAEF,GAAE,sBAAsB;AAAE,SAAM,EAAC,OAAMC,KAAE,QAAOC,IAAC;AAAC;AAAC,SAASC,IAAEH,IAAEC,MAAE,OAAG;AAAC,MAAG,CAACC,KAAEE,GAAC,QAAE,eAAAC,UAAE,MAAIN,IAAEC,GAAE,OAAO,CAAC;AAAE,SAAOM,GAAE,MAAI;AAAC,QAAIC,MAAEP,GAAE;AAAQ,QAAG,CAACO;AAAE;AAAO,QAAID,MAAE,IAAI,eAAe,MAAI;AAAC,MAAAF,IAAEL,IAAEQ,GAAC,CAAC;AAAA,IAAC,CAAC;AAAE,WAAOD,IAAE,QAAQC,GAAC,GAAE,MAAI;AAAC,MAAAD,IAAE,WAAW;AAAA,IAAC;AAAA,EAAC,GAAE,CAACN,EAAC,CAAC,GAAEC,MAAE,EAAC,OAAM,GAAGC,IAAE,KAAK,MAAK,QAAO,GAAGA,IAAE,MAAM,KAAI,IAAEA;AAAC;;;ACAlc,IAAAM,iBAAuB;;;ACAvB,IAAIC,MAAE;AAAuH,SAASC,IAAEC,IAAE;AAAC,MAAIC,KAAEC;AAAE,MAAIC,OAAGF,MAAED,GAAE,cAAY,OAAKC,MAAE,IAAGG,MAAEJ,GAAE,UAAU,IAAE;AAAE,MAAG,EAAEI,eAAa;AAAa,WAAOD;AAAE,MAAIE,MAAE;AAAG,WAAQC,OAAKF,IAAE,iBAAiB,qCAAqC;AAAE,IAAAE,IAAE,OAAO,GAAED,MAAE;AAAG,MAAIE,MAAEF,OAAGH,MAAEE,IAAE,cAAY,OAAKF,MAAE,KAAGC;AAAE,SAAOL,IAAE,KAAKS,GAAC,MAAIA,MAAEA,IAAE,QAAQT,KAAE,EAAE,IAAGS;AAAC;AAAC,SAASC,GAAER,IAAE;AAAC,MAAIG,MAAEH,GAAE,aAAa,YAAY;AAAE,MAAG,OAAOG,OAAG;AAAS,WAAOA,IAAE,KAAK;AAAE,MAAIC,MAAEJ,GAAE,aAAa,iBAAiB;AAAE,MAAGI,KAAE;AAAC,QAAIC,MAAED,IAAE,MAAM,GAAG,EAAE,IAAI,CAAAG,QAAG;AAAC,UAAIN,MAAE,SAAS,eAAeM,GAAC;AAAE,UAAGN,KAAE;AAAC,YAAIC,MAAED,IAAE,aAAa,YAAY;AAAE,eAAO,OAAOC,OAAG,WAASA,IAAE,KAAK,IAAEH,IAAEE,GAAC,EAAE,KAAK;AAAA,MAAC;AAAC,aAAO;AAAA,IAAI,CAAC,EAAE,OAAO,OAAO;AAAE,QAAGI,IAAE,SAAO;AAAE,aAAOA,IAAE,KAAK,IAAI;AAAA,EAAC;AAAC,SAAON,IAAEC,EAAC,EAAE,KAAK;AAAC;;;ADAnoB,SAASS,IAAEC,KAAE;AAAC,MAAIC,UAAE,eAAAC,QAAE,EAAE,GAAEC,UAAE,eAAAD,QAAE,EAAE;AAAE,SAAOE,GAAE,MAAI;AAAC,QAAIC,KAAEL,IAAE;AAAQ,QAAG,CAACK;AAAE,aAAM;AAAG,QAAIC,MAAED,GAAE;AAAU,QAAGJ,IAAE,YAAUK;AAAE,aAAOH,IAAE;AAAQ,QAAII,MAAEC,GAAEH,EAAC,EAAE,KAAK,EAAE,YAAY;AAAE,WAAOJ,IAAE,UAAQK,KAAEH,IAAE,UAAQI,KAAEA;AAAA,EAAC,CAAC;AAAC;;;AEAxU,IAAAE,iBAAwD;AAAmvB,SAASC,GAAEC,KAAEC,KAAEC,MAAE,MAAI,CAAC,SAAS,IAAI,GAAE;AAAC,EAAAC,GAAEH,KAAEC,KAAE,CAAAG,QAAG;AAAC,QAAIC;AAAE,WAAM,EAAC,YAAW,CAAC,IAAIA,KAAED,IAAE,eAAa,OAAKC,KAAE,CAAC,GAAEH,GAAC,EAAC;AAAA,EAAC,CAAC;AAAC;AAAC,IAAI,KAAG,CAAAI,QAAIA,GAAEA,GAAE,OAAK,CAAC,IAAE,QAAOA,GAAEA,GAAE,QAAM,CAAC,IAAE,SAAQA,GAAEA,GAAE,aAAW,CAAC,IAAE,cAAaA,GAAEA,GAAE,YAAU,CAAC,IAAE,aAAYA,GAAEA,GAAE,MAAI,CAAC,IAAE,OAAMA,KAAI,KAAG,CAAC,CAAC;AAAE,IAAIC,KAAE;AAAN,IAAYC,KAAE,EAAE,iBAAe,EAAE;AAAO,SAASC,GAAET,KAAEC,KAAE;AAAC,MAAIC,MAAEQ,GAAE,GAAE,EAAC,IAAGN,MAAE,oBAAoBF,GAAC,IAAG,cAAaG,IAAE,MAAKC,KAAE,UAAS,UAASK,MAAE,GAAE,SAAQC,MAAE,MAAG,mBAAkBC,KAAEC,GAAE,KAAI,GAAGC,GAAC,IAAEf;AAAE,EAAAY,QAAID,MAAE;AAAG,MAAIK,UAAE,eAAAC,QAAE,KAAE;AAAE,EAAAX,KAAE,WAAU;AAAC,WAAOA,OAAI,YAAUA,OAAI,gBAAcA,MAAGU,IAAE,YAAUA,IAAE,UAAQ,MAAG,QAAQ,KAAK,iBAAiBV,EAAC,yGAAyG,IAAG;AAAA,EAAS,EAAE;AAAE,MAAIY,UAAE,eAAAD,QAAE,IAAI,GAAEE,KAAEC,GAAEF,KAAEjB,GAAC,GAAEoB,MAAEC,GAAEJ,GAAC,GAAE,CAACK,KAAEC,EAAC,IAAEC,GAAE,GAAEC,MAAE,EAAC,IAAI,UAAS;AAAC,WAAOR,IAAE;AAAA,EAAO,EAAC,GAAE,EAAC,mBAAkBS,IAAE,iBAAgBC,KAAE,cAAaC,GAAC,IAAEC,GAAE,EAAC,SAAQP,KAAE,mBAAkB,CAACG,GAAC,EAAC,CAAC,GAAEK,SAAE,eAAAX,aAAE,MAAI;AAAC,QAAIjB,KAAEmB;AAAE,YAAOA,MAAE,MAAM,MAAMnB,MAAEkB,OAAG,OAAK,SAAOA,IAAE,iBAAiB,UAAU,MAAI,OAAKlB,MAAE,CAAC,CAAC,EAAE,KAAK,CAAA6B,QAAGA,IAAE,OAAK,2BAAyB,QAAGA,IAAE,SAASJ,IAAE,OAAO,KAAGI,eAAa,WAAW,MAAI,OAAKV,MAAE;AAAA,EAAI,GAAE,CAACM,GAAC,CAAC;AAAE,EAAAL,GAAEQ,IAAE,CAAC,EAAEpB,MAAE,EAAE;AAAE,MAAIsB,SAAE,eAAAb,aAAE,MAAI;AAAC,QAAIjB,KAAEmB;AAAE,YAAOA,MAAE,MAAM,MAAMnB,MAAEkB,OAAG,OAAK,SAAOA,IAAE,iBAAiB,0BAA0B,MAAI,OAAKlB,MAAE,CAAC,CAAC,EAAE,KAAK,CAAA6B,QAAGA,IAAE,SAASJ,IAAE,OAAO,KAAGI,eAAa,WAAW,MAAI,OAAKV,MAAE;AAAA,EAAI,GAAE,CAACM,GAAC,CAAC;AAAE,EAAAL,GAAEU,IAAE,CAAC,EAAEtB,MAAE,EAAE,GAAEZ,GAAEsB,KAAE,CAAC,EAAEV,MAAE,IAAGgB,EAAC;AAAE,MAAIO,SAAE,eAAAC,SAAE,OAAK,CAAC,IAAG,CAAC,CAAC,GAAEC,KAAE,EAAC,KAAIjB,IAAE,IAAGf,KAAE,MAAKE,IAAE,cAAaM,OAAG,OAAM;AAAE,SAAO,eAAAyB,QAAE,cAAc,eAAAA,QAAE,UAAS,MAAK,eAAAA,QAAE,cAAc1B,IAAE,EAAC,OAAM,KAAE,GAAE,eAAA0B,QAAE,cAAcC,IAAE,MAAK,eAAAD,QAAE,cAAc,IAAE,EAAC,cAAahC,IAAE,YAAWsB,IAAE,UAAShB,MAAE,IAAEE,KAAEC,GAAE,KAAI,GAAE,eAAAuB,QAAE,cAAc1B,IAAE,EAAC,OAAM,MAAE,GAAE,eAAA0B,QAAE,cAAcb,IAAE,MAAK,EAAE,EAAC,UAASY,IAAE,YAAWrB,IAAE,MAAKmB,IAAE,YAAW3B,IAAE,UAASC,IAAE,MAAK,QAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAE,eAAA6B,QAAE,cAAcF,IAAE,MAAK,eAAAE,QAAE,cAAcR,IAAE,IAAI,CAAC,CAAC;AAAC;AAAC,IAAIU,KAAE,EAAE9B,EAAC;AAAT,IAAW+B,MAAG,OAAO,OAAOD,IAAE,CAAC,CAAC;;;ALAtC,IAAIE,OAAI,CAAAC,SAAIA,IAAEA,IAAE,OAAK,CAAC,IAAE,QAAOA,IAAEA,IAAE,SAAO,CAAC,IAAE,UAASA,MAAID,OAAI,CAAC,CAAC;AAAhE,IAAkEE,OAAI,CAAAD,SAAIA,IAAEA,IAAE,SAAO,CAAC,IAAE,UAASA,IAAEA,IAAE,QAAM,CAAC,IAAE,SAAQA,MAAIC,OAAI,CAAC,CAAC;AAAhI,IAAkIC,OAAI,CAAAF,SAAIA,IAAEA,IAAE,UAAQ,CAAC,IAAE,WAAUA,IAAEA,IAAE,QAAM,CAAC,IAAE,SAAQA,MAAIE,OAAI,CAAC,CAAC;AAAlM,IAAoM,MAAI,CAAAC,SAAIA,IAAEA,IAAE,cAAY,CAAC,IAAE,eAAcA,IAAEA,IAAE,eAAa,CAAC,IAAE,gBAAeA,IAAEA,IAAE,aAAW,CAAC,IAAE,cAAaA,IAAEA,IAAE,SAAO,CAAC,IAAE,UAASA,IAAEA,IAAE,cAAY,CAAC,IAAE,eAAcA,IAAEA,IAAE,iBAAe,CAAC,IAAE,kBAAiBA,IAAEA,IAAE,mBAAiB,CAAC,IAAE,oBAAmBA,MAAI,MAAI,CAAC,CAAC;AAAE,SAASC,IAAGC,IAAEC,MAAE,CAAAN,QAAGA,KAAE;AAAC,MAAIA,MAAEK,GAAE,sBAAoB,OAAKA,GAAE,QAAQA,GAAE,iBAAiB,IAAE,MAAKE,MAAE,EAAGD,IAAED,GAAE,QAAQ,MAAM,CAAC,GAAE,CAAAG,QAAGA,IAAE,QAAQ,QAAQ,OAAO,OAAO,GAAEC,MAAET,MAAEO,IAAE,QAAQP,GAAC,IAAE;AAAK,SAAOS,QAAI,OAAKA,MAAE,OAAM,EAAC,SAAQF,KAAE,mBAAkBE,IAAC;AAAC;AAAC,IAAIC,MAAG,EAAC,CAAC,CAAC,EAAEL,IAAE;AAAC,SAAOA,GAAE,QAAQ,QAAQ,YAAUA,GAAE,iBAAe,IAAEA,KAAE,EAAC,GAAGA,IAAE,mBAAkB,MAAK,cAAa,EAAC;AAAC,GAAE,CAAC,CAAC,EAAEA,IAAE;AAAC,MAAGA,GAAE,QAAQ,QAAQ,YAAUA,GAAE,iBAAe;AAAE,WAAOA;AAAE,MAAIC,MAAED,GAAE,mBAAkB,EAAC,YAAWL,IAAC,IAAEK,GAAE,QAAQ,SAAQE,MAAEF,GAAE,QAAQ,UAAU,CAAAI,QAAGT,IAAES,IAAE,QAAQ,QAAQ,KAAK,CAAC;AAAE,SAAOF,QAAI,OAAKD,MAAEC,MAAG,EAAC,GAAGF,IAAE,cAAa,GAAE,mBAAkBC,IAAC;AAAC,GAAE,CAAC,CAAC,EAAED,IAAEC,KAAE;AAAC,MAAIE,KAAEG,KAAER,KAAES,KAAEC;AAAE,MAAGR,GAAE,QAAQ,QAAQ,YAAUA,GAAE,iBAAe;AAAE,WAAOA;AAAE,MAAIL,MAAE,EAAC,GAAGK,IAAE,aAAY,IAAG,oBAAmBG,MAAEF,IAAE,YAAU,OAAKE,MAAE,EAAC;AAAE,MAAGF,IAAE,UAAQE,GAAE;AAAQ,WAAM,EAAC,GAAGR,KAAE,mBAAkB,KAAI;AAAE,MAAGM,IAAE,UAAQE,GAAE;AAAS,WAAM,EAAC,GAAGR,KAAE,mBAAkBK,GAAE,QAAQ,UAAU,CAAAS,OAAGA,GAAE,OAAKR,IAAE,EAAE,EAAC;AAAE,MAAGA,IAAE,UAAQE,GAAE,UAAS;AAAC,QAAIM,KAAET,GAAE;AAAkB,QAAGS,OAAI,MAAK;AAAC,UAAIC,MAAEV,GAAE,QAAQS,EAAC,EAAE,QAAQ,QAAQ,QAAOE,MAAEC,IAAGX,KAAE,EAAC,cAAa,MAAID,GAAE,SAAQ,oBAAmB,MAAIA,GAAE,mBAAkB,WAAU,CAAAa,QAAGA,IAAE,IAAG,iBAAgB,CAAAA,QAAGA,IAAE,QAAQ,QAAQ,SAAQ,CAAC;AAAE,UAAGF,QAAI,MAAK;AAAC,YAAIE,MAAEb,GAAE,QAAQW,GAAC,EAAE,QAAQ,QAAQ;AAAO,cAAKL,MAAEI,IAAE,YAAU,OAAK,SAAOJ,IAAE,4BAA0BO,IAAE,aAAWf,MAAEe,IAAE,YAAU,OAAK,SAAOf,IAAE,4BAA0B;AAAK,iBAAM,EAAC,GAAGH,KAAE,mBAAkBgB,IAAC;AAAA,MAAC;AAAA,IAAC;AAAA,EAAC,WAASV,IAAE,UAAQE,GAAE,MAAK;AAAC,QAAIM,KAAET,GAAE;AAAkB,QAAGS,OAAI,MAAK;AAAC,UAAIC,MAAEV,GAAE,QAAQS,EAAC,EAAE,QAAQ,QAAQ,QAAOE,MAAEC,IAAGX,KAAE,EAAC,cAAa,MAAID,GAAE,SAAQ,oBAAmB,MAAIA,GAAE,mBAAkB,WAAU,CAAAa,QAAGA,IAAE,IAAG,iBAAgB,CAAAA,QAAGA,IAAE,QAAQ,QAAQ,SAAQ,CAAC;AAAE,UAAGF,QAAI,MAAK;AAAC,YAAIE,MAAEb,GAAE,QAAQW,GAAC,EAAE,QAAQ,QAAQ;AAAO,cAAKJ,MAAEG,IAAE,YAAU,OAAK,SAAOH,IAAE,wBAAsBM,IAAE,aAAWL,MAAEK,IAAE,YAAU,OAAK,SAAOL,IAAE,wBAAsB;AAAK,iBAAM,EAAC,GAAGb,KAAE,mBAAkBgB,IAAC;AAAA,MAAC;AAAA,IAAC;AAAA,EAAC;AAAC,MAAIT,MAAEH,IAAGC,EAAC,GAAEI,MAAEQ,IAAGX,KAAE,EAAC,cAAa,MAAIC,IAAE,SAAQ,oBAAmB,MAAIA,IAAE,mBAAkB,WAAU,CAAAO,OAAGA,GAAE,IAAG,iBAAgB,CAAAA,OAAGA,GAAE,QAAQ,QAAQ,SAAQ,CAAC;AAAE,SAAM,EAAC,GAAGd,KAAE,GAAGO,KAAE,mBAAkBE,IAAC;AAAC,GAAE,CAAC,CAAC,GAAE,CAACJ,IAAEC,QAAI;AAAC,MAAGD,GAAE,QAAQ,QAAQ,YAAUA,GAAE,iBAAe;AAAE,WAAOA;AAAE,MAAIE,MAAEF,GAAE,gBAAc,KAAG,IAAE,GAAEI,MAAEJ,GAAE,cAAYC,IAAE,MAAM,YAAY,GAAEK,OAAGN,GAAE,sBAAoB,OAAKA,GAAE,QAAQ,MAAMA,GAAE,oBAAkBE,GAAC,EAAE,OAAOF,GAAE,QAAQ,MAAM,GAAEA,GAAE,oBAAkBE,GAAC,CAAC,IAAEF,GAAE,SAAS,KAAK,CAAAO,QAAG;AAAC,QAAIC;AAAE,WAAM,CAACD,IAAE,QAAQ,QAAQ,cAAYC,MAAED,IAAE,QAAQ,QAAQ,cAAY,OAAK,SAAOC,IAAE,WAAWJ,GAAC;AAAA,EAAE,CAAC,GAAEN,MAAEQ,MAAEN,GAAE,QAAQ,QAAQM,GAAC,IAAE;AAAG,SAAOR,QAAI,MAAIA,QAAIE,GAAE,oBAAkB,EAAC,GAAGA,IAAE,aAAYI,IAAC,IAAE,EAAC,GAAGJ,IAAE,aAAYI,KAAE,mBAAkBN,KAAE,mBAAkB,EAAC;AAAC,GAAE,CAAC,CAAC,EAAEE,IAAE;AAAC,SAAOA,GAAE,QAAQ,QAAQ,YAAUA,GAAE,iBAAe,KAAGA,GAAE,gBAAc,KAAGA,KAAE,EAAC,GAAGA,IAAE,aAAY,GAAE;AAAC,GAAE,CAAC,CAAC,GAAE,CAACA,IAAEC,QAAI;AAAC,MAAIN,MAAE,EAAC,IAAGM,IAAE,IAAG,SAAQA,IAAE,QAAO,GAAEC,MAAEH,IAAGC,IAAE,CAAAI,QAAG,CAAC,GAAGA,KAAET,GAAC,CAAC;AAAE,SAAOK,GAAE,sBAAoB,QAAMA,GAAE,QAAQ,QAAQ,WAAWC,IAAE,QAAQ,QAAQ,KAAK,MAAIC,IAAE,oBAAkBA,IAAE,QAAQ,QAAQP,GAAC,IAAG,EAAC,GAAGK,IAAE,GAAGE,IAAC;AAAC,GAAE,CAAC,CAAC,GAAE,CAACF,IAAEC,QAAI;AAAC,MAAIN,MAAEI,IAAGC,IAAE,CAAAE,QAAG;AAAC,QAAIE,MAAEF,IAAE,UAAU,CAAAC,QAAGA,IAAE,OAAKF,IAAE,EAAE;AAAE,WAAOG,QAAI,MAAIF,IAAE,OAAOE,KAAE,CAAC,GAAEF;AAAA,EAAC,CAAC;AAAE,SAAM,EAAC,GAAGF,IAAE,GAAGL,KAAE,mBAAkB,EAAC;AAAC,EAAC;AAArtF,IAAutFmB,UAAG,eAAAC,eAAE,IAAI;AAAED,IAAG,cAAY;AAAwB,SAASE,GAAEhB,IAAE;AAAC,MAAIC,UAAE,eAAAgB,YAAEH,GAAE;AAAE,MAAGb,QAAI,MAAK;AAAC,QAAIN,MAAE,IAAI,MAAM,IAAIK,EAAC,gDAAgD;AAAE,UAAM,MAAM,qBAAmB,MAAM,kBAAkBL,KAAEqB,EAAC,GAAErB;AAAA,EAAC;AAAC,SAAOM;AAAC;AAAC,IAAIiB,SAAE,eAAAH,eAAE,IAAI;AAAEG,GAAE,cAAY;AAAqB,SAASC,GAAEnB,IAAE;AAAC,MAAIC,UAAE,eAAAgB,YAAEC,EAAC;AAAE,MAAGjB,QAAI,MAAK;AAAC,QAAIN,MAAE,IAAI,MAAM,IAAIK,EAAC,gDAAgD;AAAE,UAAM,MAAM,qBAAmB,MAAM,kBAAkBL,KAAEwB,EAAC,GAAExB;AAAA,EAAC;AAAC,SAAOM;AAAC;AAAC,SAAS,GAAGD,IAAEC,KAAE;AAAC,SAAOmB,GAAEnB,IAAE,MAAKI,KAAGL,IAAEC,GAAC;AAAC;AAAC,IAAI,KAAG,eAAAoB;AAAE,SAAS,GAAGrB,IAAEC,KAAE;AAAC,MAAIqB;AAAG,MAAI3B,MAAE4B,GAAG,GAAE,EAAC,OAAMrB,KAAE,cAAaE,KAAE,MAAKD,KAAE,MAAKG,KAAE,UAASR,KAAE,IAAGS,KAAE,SAAQC,MAAE,OAAG,UAASC,KAAEd,OAAG,OAAG,YAAWe,MAAE,OAAG,UAASC,MAAE,OAAG,GAAGE,IAAC,IAAEb;AAAE,QAAMwB,KAAEd,MAAE,eAAa;AAAW,MAAIe,KAAEC,GAAEzB,GAAC,GAAE,CAAC0B,KAAEhB,MAAE,CAAC,IAAE,QAAOiB,EAAC,IAAEjB,GAAGT,KAAEJ,KAAEM,GAAC,GAAE,CAACyB,IAAEC,EAAC,QAAE,eAAAC,YAAG,IAAG,EAAC,aAAQ,eAAAC,WAAG,GAAE,cAAa,GAAE,SAAQ,CAAC,GAAE,aAAY,IAAG,mBAAkB,MAAK,mBAAkB,GAAE,gBAAe,MAAE,CAAC,GAAEC,SAAE,eAAAC,QAAE,EAAC,QAAO,OAAG,MAAK,MAAE,CAAC,GAAEC,SAAE,eAAAD,QAAE,IAAI,GAAEE,SAAE,eAAAF,QAAE,IAAI,GAAEG,UAAE,eAAAH,QAAE,oBAAI,KAAG,GAAEtB,MAAED,GAAGJ,GAAC,GAAE+B,SAAE,eAAAC,aAAG,CAAAC,OAAGpB,GAAEA,IAAE,MAAK,EAAC,CAAC,CAAC,GAAE,MAAIO,GAAE,KAAK,CAAAc,OAAG7B,IAAE6B,IAAED,EAAC,CAAC,GAAE,CAAC,CAAC,GAAE,MAAI5B,IAAEe,IAAEa,EAAC,EAAC,CAAC,GAAE,CAACb,EAAC,CAAC,GAAEP,UAAE,eAAAsB,SAAE,OAAK,EAAC,GAAGb,IAAE,OAAMF,IAAE,UAASlB,IAAE,SAAQD,KAAE,MAAKG,MAAE,IAAE,GAAE,aAAYa,IAAE,SAAQZ,KAAE,YAAW0B,IAAE,iBAAgBL,IAAE,WAAUE,IAAE,YAAWC,IAAE,SAAQC,IAAC,IAAG,CAACV,IAAElB,IAAED,KAAEG,KAAEkB,IAAEQ,GAAC,CAAC;AAAE,EAAAjC,GAAG,MAAI;AAAC,IAAAyB,GAAE,QAAQ,UAAQT;AAAA,EAAC,GAAE,CAACA,GAAC,CAAC,GAAEiB,GAAG,CAACjB,IAAE,WAAUA,IAAE,UAAU,GAAE,CAACoB,IAAEC,OAAI;AAAC,QAAIE;AAAE,IAAAb,GAAE,EAAC,MAAK,EAAC,CAAC,GAAE,EAAGW,IAAEZ,GAAG,KAAK,MAAIW,GAAE,eAAe,IAAGG,KAAEvB,IAAE,UAAU,YAAU,QAAMuB,GAAE,MAAM;AAAA,EAAE,GAAEvB,IAAE,iBAAe,CAAC;AAAE,MAAIwB,SAAE,eAAAF,SAAE,OAAK,EAAC,MAAKtB,IAAE,iBAAe,GAAE,UAASX,IAAE,SAAQD,KAAE,OAAMmB,GAAC,IAAG,CAACP,KAAEX,IAAEkB,IAAEnB,GAAC,CAAC,GAAEqC,KAAElD,GAAE,CAAA6C,OAAG;AAAC,QAAIC,KAAErB,IAAE,QAAQ,KAAK,CAAAuB,OAAGA,GAAE,OAAKH,EAAC;AAAE,IAAAC,MAAGK,GAAEL,GAAE,QAAQ,QAAQ,KAAK;AAAA,EAAC,CAAC,GAAElB,MAAE5B,GAAE,MAAI;AAAC,QAAGyB,IAAE,sBAAoB,MAAK;AAAC,UAAG,EAAC,SAAQoB,IAAE,IAAGC,GAAC,IAAErB,IAAE,QAAQA,IAAE,iBAAiB;AAAE,MAAA0B,GAAEN,GAAE,QAAQ,KAAK,GAAEV,GAAE,EAAC,MAAK,GAAE,OAAM3B,GAAE,UAAS,IAAGsC,GAAC,CAAC;AAAA,IAAC;AAAA,EAAC,CAAC,GAAEM,KAAEpD,GAAE,MAAImC,GAAE,EAAC,MAAK,EAAC,CAAC,CAAC,GAAEkB,MAAErD,GAAE,MAAImC,GAAE,EAAC,MAAK,EAAC,CAAC,CAAC,GAAEmB,MAAGxC,GAAE,GAAEyC,MAAGvD,GAAE,CAAC6C,IAAEC,IAAEE,OAAI;AAAC,IAAAM,IAAG,QAAQ,GAAEA,IAAG,UAAU,MAAIT,OAAIrC,GAAE,WAAS2B,GAAE,EAAC,MAAK,GAAE,OAAM3B,GAAE,UAAS,IAAGsC,IAAE,SAAQE,GAAC,CAAC,IAAEb,GAAE,EAAC,MAAK,GAAE,OAAMU,IAAE,SAAQG,GAAC,CAAC,CAAC;AAAA,EAAC,CAAC,GAAEQ,MAAGxD,GAAE,CAAC6C,IAAEC,QAAKX,GAAE,EAAC,MAAK,GAAE,IAAGU,IAAE,SAAQC,GAAC,CAAC,GAAE,MAAIX,GAAE,EAAC,MAAK,GAAE,IAAGU,GAAC,CAAC,EAAE,GAAEM,KAAEnD,GAAE,CAAA6C,OAAGpB,GAAEA,IAAE,MAAK,EAAC,CAAC,CAAC,IAAG;AAAC,WAAOQ,MAAG,OAAK,SAAOA,GAAEY,EAAC;AAAA,EAAC,GAAE,CAAC,CAAC,IAAG;AAAC,QAAIC,KAAErB,IAAE,MAAM,MAAM,GAAEuB,KAAEF,GAAE,UAAU,CAAAW,QAAIxC,IAAEwC,KAAGZ,EAAC,CAAC;AAAE,WAAOG,OAAI,KAAGF,GAAE,KAAKD,EAAC,IAAEC,GAAE,OAAOE,IAAE,CAAC,GAAEf,MAAG,OAAK,SAAOA,GAAEa,EAAC;AAAA,EAAC,EAAC,CAAC,CAAC,GAAEY,MAAG1D,GAAE,CAAA6C,OAAGV,GAAE,EAAC,MAAK,GAAE,OAAMU,GAAC,CAAC,CAAC,GAAEc,MAAG3D,GAAE,MAAImC,GAAE,EAAC,MAAK,EAAC,CAAC,CAAC,GAAEyB,UAAG,eAAAb,SAAE,OAAK,EAAC,UAASI,IAAE,gBAAeK,KAAG,YAAWD,KAAG,cAAaF,KAAE,aAAYD,IAAE,oBAAmBxB,KAAE,cAAasB,IAAE,QAAOQ,KAAG,aAAYC,IAAE,IAAG,CAAC,CAAC,GAAE,CAACE,KAAGC,GAAE,IAAEpB,GAAG,EAAC,SAAQ,KAAE,CAAC,GAAEqB,MAAG,EAAC,KAAIjC,GAAC,GAAEkC,UAAG,eAAApB,aAAG,MAAIX,MAAG,OAAK,SAAOA,GAAExB,GAAC,GAAE,CAACwB,EAAC,CAAC;AAAE,SAAO,eAAAgC,QAAE,cAAcH,KAAG,EAAC,OAAMD,KAAG,OAAM,EAAC,UAASlC,MAAGF,IAAE,UAAU,YAAU,OAAK,SAAOE,IAAG,GAAE,GAAE,MAAK,EAAC,MAAKF,IAAE,iBAAe,GAAE,UAASX,GAAC,EAAC,GAAE,eAAAmD,QAAE,cAAc,IAAG,EAAC,SAAQxC,IAAE,iBAAe,EAAC,GAAE,eAAAwC,QAAE,cAAc9C,IAAG,UAAS,EAAC,OAAMyC,IAAE,GAAE,eAAAK,QAAE,cAAc1C,GAAE,UAAS,EAAC,OAAME,IAAC,GAAE,eAAAwC,QAAE,cAActD,KAAG,EAAC,OAAMc,GAAEA,IAAE,cAAa,EAAC,CAAC,CAAC,GAAEZ,GAAE,MAAK,CAAC,CAAC,GAAEA,GAAE,OAAM,CAAC,EAAC,GAAEF,OAAG,QAAMqB,MAAG,QAAM,eAAAiC,QAAE,cAAcC,IAAG,EAAC,MAAK,EAAC,CAACvD,GAAC,GAAEqB,GAAC,GAAE,MAAKxB,KAAE,SAAQwD,IAAE,CAAC,GAAE,EAAE,EAAC,UAASD,KAAG,YAAW7C,KAAE,MAAK+B,IAAE,YAAW,IAAG,MAAK,UAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAAC;AAAC,IAAI,KAAG;AAAS,SAAS,GAAG5C,IAAEC,KAAE;AAAC,MAAIW,KAAE0B,IAAElB;AAAE,MAAIzB,MAAEgD,GAAG,GAAEzC,MAAEkB,GAAG,GAAE,EAAC,IAAGhB,MAAEF,OAAG,6BAA6BP,GAAC,IAAG,GAAGQ,IAAC,IAAEH,IAAEM,MAAEa,GAAE,gBAAgB,GAAErB,MAAEkB,GAAE,gBAAgB,GAAET,MAAEmB,GAAEpB,IAAE,WAAUL,KAAE,GAAG,CAAC,GAAEO,MAAE8C,IAAG,GAAE7C,KAAEA,GAAE,GAAEC,MAAEf,GAAE,CAAAiD,OAAG;AAAC,YAAOA,GAAE,KAAI;AAAA,MAAC,KAAKjD,IAAE;AAAA,MAAM,KAAKA,IAAE;AAAA,MAAM,KAAKA,IAAE;AAAU,QAAAiD,GAAE,eAAe,GAAE9C,IAAE,YAAY,GAAEW,GAAE,UAAU,MAAI;AAAC,UAAAH,IAAE,SAAOR,IAAE,WAAWK,GAAE,KAAK;AAAA,QAAC,CAAC;AAAE;AAAA,MAAM,KAAKR,IAAE;AAAQ,QAAAiD,GAAE,eAAe,GAAE9C,IAAE,YAAY,GAAEW,GAAE,UAAU,MAAI;AAAC,UAAAH,IAAE,SAAOR,IAAE,WAAWK,GAAE,IAAI;AAAA,QAAC,CAAC;AAAE;AAAA,IAAK;AAAA,EAAC,CAAC,GAAEQ,MAAEhB,GAAE,CAAAiD,OAAG;AAAC,YAAOA,GAAE,KAAI;AAAA,MAAC,KAAKjD,IAAE;AAAM,QAAAiD,GAAE,eAAe;AAAE;AAAA,IAAK;AAAA,EAAC,CAAC,GAAE/B,MAAElB,GAAE,CAAAiD,OAAG;AAAC,QAAG1C,GAAG0C,GAAE,aAAa;AAAE,aAAOA,GAAE,eAAe;AAAE,IAAAtC,IAAE,iBAAe,KAAGR,IAAE,aAAa,GAAEW,GAAE,UAAU,MAAI;AAAC,UAAIoC;AAAE,cAAOA,KAAEvC,IAAE,UAAU,YAAU,OAAK,SAAOuC,GAAE,MAAM,EAAC,eAAc,KAAE,CAAC;AAAA,IAAC,CAAC,MAAID,GAAE,eAAe,GAAE9C,IAAE,YAAY;AAAA,EAAE,CAAC,GAAE0B,KAAEmB,GAAG,CAACvC,GAAC,CAAC,GAAEqB,KAAEY,GAAG,GAAE,EAAC,gBAAeV,IAAE,YAAWC,GAAC,IAAE,0CAAG,EAAC,YAAWhB,MAAEZ,GAAE,cAAY,OAAKY,MAAE,MAAE,CAAC,GAAE,EAAC,WAAUiB,IAAE,YAAWC,GAAC,IAAE,0CAAG,EAAC,aAAYQ,KAAEhC,IAAE,aAAW,OAAKgC,KAAE,MAAE,CAAC,GAAE,EAAC,SAAQL,IAAE,YAAWE,GAAC,IAAE,EAAG,GAAEC,SAAE,eAAAM,SAAE,MAAI;AAAC,QAAIE;AAAE,WAAM,EAAC,MAAKtC,IAAE,iBAAe,GAAE,QAAO2B,MAAG3B,IAAE,iBAAe,GAAE,UAASA,IAAE,UAAS,SAAQA,IAAE,SAAQ,OAAMA,IAAE,OAAM,OAAMuB,IAAE,OAAMF,IAAE,YAAWiB,KAAE5C,GAAE,cAAY,OAAK4C,KAAE,MAAE;AAAA,EAAC,GAAE,CAACtC,IAAE,cAAaA,IAAE,UAASA,IAAE,OAAMuB,IAAEF,IAAEM,IAAE3B,IAAE,SAAQN,GAAE,SAAS,CAAC,GAAEqC,MAAE,EAAG7B,IAAE,GAAE,EAAC,KAAID,KAAE,IAAGH,KAAE,MAAKO,GAAGX,IAAEM,IAAE,SAAS,GAAE,iBAAgB,WAAU,kBAAiBc,MAAEd,IAAE,WAAW,YAAU,OAAK,SAAOc,IAAE,IAAG,iBAAgBd,IAAE,iBAAe,GAAE,mBAAkBkB,IAAE,oBAAmBC,IAAE,UAASnB,IAAE,UAAS,WAAUI,KAAE,SAAQC,KAAE,SAAQE,IAAC,GAAEe,IAAEE,IAAEK,EAAC;AAAE,SAAO,EAAE,EAAC,UAASE,KAAE,YAAWlC,KAAE,MAAKiC,IAAE,YAAW,IAAG,MAAK,iBAAgB,CAAC;AAAC;AAAC,IAAI0B,UAAG,eAAA/C,eAAE,KAAE;AAAX,IAAa,KAAG;AAAhB,IAAqB,KAAG,EAAG,iBAAe,EAAG;AAAO,SAAS,GAAGf,IAAEC,KAAE;AAAC,MAAI4C;AAAE,MAAIlD,MAAEgD,GAAG,GAAE,EAAC,IAAGzC,MAAE,8BAA8BP,GAAC,IAAG,QAAOS,KAAE,OAAMD,KAAE,GAAGG,IAAC,IAAEN;AAAE,EAAAI,OAAG,QAAMD,OAAG,OAAKA,MAAE,OAAGA,OAAG,SAAOA,MAAE;AAAI,MAAIL,MAAEqB,GAAE,iBAAiB,GAAEZ,MAAES,GAAE,iBAAiB,GAAER,MAAEY,GAAG,GAAEX,MAAG,MAAID,QAAI,QAAMA,MAAEA,GAAE,UAAQA,GAAE,OAAKV,IAAE,iBAAe,GAAG,GAAEY,UAAE,eAAAwB,QAAE,IAAI;AAAE,qBAAA6B,WAAG,MAAI;AAAC,QAAIhB;AAAE,QAAG,GAAGA,KAAE3C,OAAG,OAAK,SAAOA,IAAE,OAAK,QAAM2C,GAAE,SAAS,WAAW;AAAG;AAAO,QAAG,CAACtC,IAAE;AAAC,MAAAC,IAAE,UAAQ;AAAK;AAAA,IAAM;AAAC,QAAIa,MAAE,MAAM,KAAKzB,IAAE,QAAQ,QAAQ,OAAO,CAAC;AAAE,IAAAY,IAAE,UAAQa,IAAE,UAAU,CAAAyB,SAAIA,OAAG,OAAK,SAAOA,IAAE,QAAQ,cAAY,EAAE,GAAEtC,IAAE,YAAU,OAAKA,IAAE,UAAQa,IAAE,UAAU,CAAAyB,SAAIA,OAAG,OAAK,SAAOA,IAAE,QAAQ,cAAY,MAAM,GAAEzC,IAAE,WAAWJ,GAAE,KAAK;AAAA,EAAE,GAAE,CAACM,IAAEX,IAAE,OAAO,CAAC;AAAE,MAAIa,OAAG,MAAI;AAAC,QAAGP,OAAG;AAAK;AAAO,QAAGN,IAAE,QAAQ,QAAQ,QAAM;AAAE,aAAM,EAAC,GAAGM,KAAE,OAAM,OAAM;AAAE,QAAImB,MAAE,MAAM,KAAKzB,IAAE,QAAQ,QAAQ,OAAO,CAAC;AAAE,WAAM,EAAC,GAAGM,KAAE,OAAM,EAAC,SAAQ,EAAC,SAAQmB,IAAC,GAAE,OAAMb,IAAE,QAAO,EAAC;AAAA,EAAC,GAAG,GAAE,CAACG,KAAEW,EAAC,IAAE,GAAGb,GAAC,GAAEc,KAAE,GAAG,GAAEE,KAAED,GAAE5B,IAAE,YAAWG,KAAEY,GAAC,GAAEe,KAAEnB,GAAE,GAAEoB,KAAEpB,GAAE;AAAE,qBAAAsD,WAAG,MAAI;AAAC,QAAIhB;AAAE,QAAIxB,MAAEzB,IAAE,WAAW;AAAQ,IAAAyB,OAAGzB,IAAE,iBAAe,KAAGyB,UAAMwB,KAAEpD,GAAG4B,GAAC,MAAI,OAAK,SAAOwB,GAAE,kBAAgBnB,GAAE,UAAU,MAAIL,OAAG,OAAK,SAAOA,IAAE,MAAM,EAAC,eAAc,KAAE,CAAC,CAAC;AAAA,EAAC,GAAE,CAACzB,IAAE,cAAaA,IAAE,UAAU,CAAC;AAAE,MAAIgC,KAAEnC,GAAE,CAAA4B,QAAG;AAAC,YAAOM,GAAE,QAAQ,GAAEN,IAAE,KAAI;AAAA,MAAC,KAAK5B,IAAE;AAAM,YAAGG,IAAE,gBAAc;AAAG,iBAAOyB,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEhB,IAAE,OAAOgB,IAAE,GAAG;AAAA,MAAE,KAAK5B,IAAE;AAAM,YAAG4B,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEzB,IAAE,sBAAoB,MAAK;AAAC,cAAG,EAAC,SAAQiD,GAAC,IAAEjD,IAAE,QAAQA,IAAE,iBAAiB;AAAE,UAAAS,IAAE,SAASwC,GAAE,QAAQ,KAAK;AAAA,QAAC;AAAC,QAAAjD,IAAE,SAAO,MAAIS,IAAE,aAAa,GAAEZ,GAAG,EAAE,UAAU,MAAI;AAAC,cAAIoD;AAAE,kBAAOA,KAAEjD,IAAE,UAAU,YAAU,OAAK,SAAOiD,GAAE,MAAM,EAAC,eAAc,KAAE,CAAC;AAAA,QAAC,CAAC;AAAG;AAAA,MAAM,KAAK3B,GAAEtB,IAAE,aAAY,EAAC,UAASH,IAAE,WAAU,YAAWA,IAAE,WAAU,CAAC;AAAE,eAAO4B,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEhB,IAAE,WAAWJ,GAAE,IAAI;AAAA,MAAE,KAAKiB,GAAEtB,IAAE,aAAY,EAAC,UAASH,IAAE,SAAQ,YAAWA,IAAE,UAAS,CAAC;AAAE,eAAO4B,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEhB,IAAE,WAAWJ,GAAE,QAAQ;AAAA,MAAE,KAAKR,IAAE;AAAA,MAAK,KAAKA,IAAE;AAAO,eAAO4B,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEhB,IAAE,WAAWJ,GAAE,KAAK;AAAA,MAAE,KAAKR,IAAE;AAAA,MAAI,KAAKA,IAAE;AAAS,eAAO4B,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEhB,IAAE,WAAWJ,GAAE,IAAI;AAAA,MAAE,KAAKR,IAAE;AAAO,eAAO4B,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEhB,IAAE,aAAa,GAAEqB,GAAE,UAAU,MAAI;AAAC,cAAImB;AAAE,kBAAOA,KAAEjD,IAAE,UAAU,YAAU,OAAK,SAAOiD,GAAE,MAAM,EAAC,eAAc,KAAE,CAAC;AAAA,QAAC,CAAC;AAAA,MAAE,KAAKpD,IAAE;AAAI,QAAA4B,IAAE,eAAe,GAAEA,IAAE,gBAAgB;AAAE;AAAA,MAAM;AAAQ,QAAAA,IAAE,IAAI,WAAS,MAAIhB,IAAE,OAAOgB,IAAE,GAAG,GAAEM,GAAE,WAAW,MAAItB,IAAE,YAAY,GAAE,GAAG;AAAG;AAAA,IAAK;AAAA,EAAC,CAAC,GAAE0B,KAAEhC,IAAG,MAAI;AAAC,QAAIsB;AAAE,YAAOA,MAAEzB,IAAE,UAAU,YAAU,OAAK,SAAOyB,IAAE;AAAA,EAAE,GAAE,CAACzB,IAAE,UAAU,OAAO,CAAC,GAAEqC,SAAE,eAAAO,SAAE,OAAK,EAAC,MAAK5C,IAAE,iBAAe,EAAC,IAAG,CAACA,GAAC,CAAC,GAAEsC,KAAE,EAAGX,GAAE,GAAE,EAAC,IAAGvB,KAAE,KAAIyB,IAAE,yBAAwB7B,IAAE,sBAAoB,SAAO+C,KAAE/C,IAAE,QAAQA,IAAE,iBAAiB,MAAI,OAAK,SAAO+C,GAAE,IAAG,wBAAuB/C,IAAE,SAAO,IAAE,OAAG,QAAO,mBAAkBmC,IAAE,oBAAmBnC,IAAE,aAAY,WAAUgC,IAAE,MAAK,WAAU,UAAS,GAAE,OAAM,EAAC,GAAGN,IAAE,kBAAiBZ,IAAGd,IAAE,WAAU,IAAE,EAAE,MAAK,EAAC,CAAC,GAAEuC,MAAElC,MAAE4D,MAAG3D,MAAEiC,KAAG,eAAAhB,UAAET,MAAET,MAAE,EAAC,SAAQL,IAAE,iBAAe,EAAC,IAAE,CAAC,GAAE,CAACwC,IAAElB,GAAC,QAAE,eAAA4C,UAAGlE,IAAE,KAAK;AAAE,EAAAA,IAAE,UAAQwC,MAAGxC,IAAE,iBAAe,KAAGA,IAAE,SAAO,KAAGsB,IAAEtB,IAAE,KAAK;AAAE,MAAI8C,KAAEjD,GAAE,CAAA4B,QAAGzB,IAAE,QAAQwC,IAAEf,GAAC,CAAC;AAAE,SAAO,eAAAqC,QAAE,cAAcvB,KAAE,EAAC,GAAGzB,IAAC,GAAE,eAAAgD,QAAE,cAAc1C,GAAE,UAAS,EAAC,OAAMpB,IAAE,SAAO,IAAEA,MAAE,EAAC,GAAGA,KAAE,YAAW8C,GAAC,EAAC,GAAE,EAAE,EAAC,UAASR,IAAE,YAAW9B,KAAE,MAAK6B,IAAE,YAAW,IAAG,UAAS,IAAG,SAAQ1B,IAAE,MAAK,kBAAiB,CAAC,CAAC,CAAC;AAAC;AAAC,IAAI,KAAG;AAAK,SAAS,GAAGT,IAAEC,KAAE;AAAC,MAAIN,MAAEgD,GAAG,GAAE,EAAC,IAAGzC,MAAE,6BAA6BP,GAAC,IAAG,UAASS,MAAE,OAAG,OAAMD,KAAE,GAAGG,IAAC,IAAEN,IAAEF,UAAE,eAAAmB,YAAE6C,GAAE,MAAI,MAAGvD,MAAEY,GAAE,gBAAgB,GAAEX,MAAEQ,GAAE,gBAAgB,GAAEP,KAAEF,IAAE,sBAAoB,OAAKA,IAAE,QAAQA,IAAE,iBAAiB,EAAE,OAAKL,MAAE,OAAGQ,MAAEH,IAAE,WAAWJ,GAAC,GAAEQ,UAAE,eAAAuB,QAAE,IAAI,GAAErB,MAAEP,IAAGK,GAAC,GAAEa,KAAElB,GAAG,EAAC,UAASF,KAAE,OAAMD,KAAE,QAAOQ,KAAE,IAAI,YAAW;AAAC,WAAOE,IAAE;AAAA,EAAC,EAAC,CAAC,GAAEY,KAAEC,GAAEzB,KAAEU,KAAE,CAAAC,QAAG;AAAC,IAAAA,MAAEL,IAAE,QAAQ,QAAQ,IAAIL,KAAEU,GAAC,IAAEL,IAAE,QAAQ,QAAQ,OAAOL,GAAC;AAAA,EAAC,CAAC;AAAE,EAAAE,GAAG,MAAI;AAAC,QAAGG,IAAE,iBAAe,KAAG,CAACE,MAAGF,IAAE,sBAAoB;AAAE;AAAO,QAAIK,MAAEjB,GAAG;AAAE,WAAOiB,IAAE,sBAAsB,MAAI;AAAC,UAAI0B,IAAElB;AAAE,OAACA,OAAGkB,KAAE3B,IAAE,YAAU,OAAK,SAAO2B,GAAE,mBAAiB,QAAMlB,IAAE,KAAKkB,IAAE,EAAC,OAAM,UAAS,CAAC;AAAA,IAAC,CAAC,GAAE1B,IAAE;AAAA,EAAO,GAAE,CAACD,KAAEF,IAAEF,IAAE,cAAaA,IAAE,mBAAkBA,IAAE,iBAAiB,CAAC,GAAEH,GAAG,MAAI;AAAC,QAAG,CAACN;AAAE,aAAOU,IAAE,eAAeN,KAAEsB,EAAC;AAAA,EAAC,GAAE,CAACA,IAAEtB,KAAEJ,GAAC,CAAC;AAAE,MAAI6B,KAAEhC,GAAE,CAAAiB,QAAG;AAAC,QAAGR;AAAE,aAAOQ,IAAE,eAAe;AAAE,IAAAJ,IAAE,SAASL,GAAC,GAAEI,IAAE,SAAO,MAAIC,IAAE,aAAa,GAAEb,GAAG,EAAE,UAAU,MAAI;AAAC,UAAI2C;AAAE,cAAOA,KAAE/B,IAAE,UAAU,YAAU,OAAK,SAAO+B,GAAE,MAAM,EAAC,eAAc,KAAE,CAAC;AAAA,IAAC,CAAC;AAAA,EAAE,CAAC,GAAEV,KAAEjC,GAAE,MAAI;AAAC,QAAGS;AAAE,aAAOI,IAAE,WAAWL,GAAE,OAAO;AAAE,IAAAK,IAAE,WAAWL,GAAE,UAASD,GAAC;AAAA,EAAC,CAAC,GAAE2B,KAAET,GAAG,GAAEU,KAAEnC,GAAE,CAAAiB,QAAG;AAAC,IAAAiB,GAAE,OAAOjB,GAAC,GAAE,CAACR,QAAIK,MAAGD,IAAE,WAAWL,GAAE,UAASD,KAAE,CAAC;AAAA,EAAE,CAAC,GAAE+B,KAAEtC,GAAE,CAAAiB,QAAG;AAAC,IAAAiB,GAAE,SAASjB,GAAC,MAAIR,OAAGK,MAAGD,IAAE,WAAWL,GAAE,UAASD,KAAE,CAAC;AAAA,EAAE,CAAC,GAAEiC,KAAExC,GAAE,CAAAiB,QAAG;AAAC,IAAAiB,GAAE,SAASjB,GAAC,MAAIR,OAAGK,MAAGD,IAAE,WAAWL,GAAE,OAAO;AAAA,EAAE,CAAC,GAAEiC,SAAE,eAAAM,SAAE,OAAK,EAAC,QAAOjC,IAAE,OAAMA,IAAE,UAASC,KAAE,UAASN,KAAE,gBAAeM,OAAGZ,IAAC,IAAG,CAACW,IAAEC,KAAEN,KAAEN,GAAC,CAAC,GAAEuC,MAAEvC,MAAE,CAAC,IAAE,EAAC,IAAGI,KAAE,KAAIuB,IAAE,MAAK,UAAS,UAASrB,QAAI,OAAG,SAAO,IAAG,iBAAgBA,QAAI,OAAG,OAAG,QAAO,iBAAgBM,KAAE,UAAS,QAAO,SAAQiB,IAAE,SAAQC,IAAE,gBAAeE,IAAE,cAAaA,IAAE,eAAcG,IAAE,aAAYA,IAAE,gBAAeE,IAAE,cAAaA,GAAC;AAAE,SAAM,CAACzB,OAAGZ,MAAE,OAAK,EAAE,EAAC,UAASuC,KAAE,YAAW/B,KAAE,MAAK8B,IAAE,YAAW,IAAG,MAAK,iBAAgB,CAAC;AAAC;AAAC,IAAI,KAAG,eAAAf;AAAE,SAAS,GAAGrB,IAAEC,KAAE;AAAC,MAAG,EAAC,SAAQN,KAAE,aAAYO,KAAE,GAAGE,IAAC,IAAEJ,IAAEM,MAAE,EAAC,KAAIoB,GAAEzB,GAAC,EAAC,GAAEH,MAAEqB,GAAE,uBAAuB,GAAEZ,UAAE,eAAAmC,SAAE,OAAK,CAAC,IAAG,CAAC,CAAC,GAAElC,MAAEV,IAAE,UAAQ,UAAQA,IAAE,UAAQ,QAAMA,IAAE,SAAO,KAAG,MAAM,QAAQA,IAAE,KAAK,KAAGA,IAAE,MAAM,WAAS;AAAE,SAAO,eAAA8D,QAAE,cAAcE,IAAG,UAAS,EAAC,OAAM,KAAE,GAAE,EAAE,EAAC,UAASxD,KAAE,YAAW,EAAC,GAAGF,KAAE,UAAS,eAAAwD,QAAE,cAAc,eAAAA,QAAE,UAAS,MAAK1D,OAAGM,MAAEN,MAAEP,GAAC,EAAC,GAAE,MAAKY,KAAE,YAAW,IAAG,MAAK,wBAAuB,CAAC,CAAC;AAAC;AAAC,IAAI,KAAG,EAAE,EAAE;AAAX,IAAa0D,MAAG,EAAE,EAAE;AAApB,IAAsB,KAAG;AAAzB,IAA4B,KAAG,EAAE,EAAE;AAAnC,IAAqC,KAAG,EAAE,EAAE;AAA5C,IAA8CC,MAAG,EAAE,EAAE;AAArD,IAAuDC,MAAG,OAAO,OAAO,IAAG,EAAC,QAAOF,KAAG,OAAM,IAAG,SAAQ,IAAG,QAAO,GAAE,CAAC;;;AMA3ke,IAAAG,iBAA0I;;;ACA9P,IAAAC,iBAAuB;AAA0E,SAASC,GAAEC,IAAEC,MAAE,MAAG;AAAC,MAAIC,UAAE,eAAAC,QAAE,EAAC,MAAK,GAAE,KAAI,EAAC,CAAC;AAAE,MAAGC,GAAE,MAAI;AAAC,QAAIC,MAAEL,GAAE;AAAQ,QAAG,CAACK;AAAE;AAAO,QAAIC,MAAED,IAAE,sBAAsB;AAAE,IAAAC,QAAIJ,IAAE,UAAQI;AAAA,EAAE,GAAE,CAACL,GAAC,CAAC,GAAED,GAAE,WAAS,QAAM,CAACC,OAAGD,GAAE,YAAU,SAAS;AAAc,WAAM;AAAG,MAAII,MAAEJ,GAAE,QAAQ,sBAAsB;AAAE,SAAOI,IAAE,QAAMF,IAAE,QAAQ,OAAKE,IAAE,SAAOF,IAAE,QAAQ;AAAI;;;ADAw0D,IAAI,MAAI,CAAAK,SAAIA,IAAEA,IAAE,OAAK,CAAC,IAAE,QAAOA,IAAEA,IAAE,SAAO,CAAC,IAAE,UAASA,MAAI,MAAI,CAAC,CAAC;AAAhE,IAAkE,MAAI,CAAAA,SAAIA,IAAEA,IAAE,UAAQ,CAAC,IAAE,WAAUA,IAAEA,IAAE,QAAM,CAAC,IAAE,SAAQA,MAAI,MAAI,CAAC,CAAC;AAAlI,IAAoI,MAAI,CAAAC,SAAIA,IAAEA,IAAE,WAAS,CAAC,IAAE,YAAWA,IAAEA,IAAE,YAAU,CAAC,IAAE,aAAYA,IAAEA,IAAE,WAAS,CAAC,IAAE,YAAWA,IAAEA,IAAE,SAAO,CAAC,IAAE,UAASA,IAAEA,IAAE,cAAY,CAAC,IAAE,eAAcA,IAAEA,IAAE,eAAa,CAAC,IAAE,gBAAeA,IAAEA,IAAE,iBAAe,CAAC,IAAE,kBAAiBA,MAAI,MAAI,CAAC,CAAC;AAAE,SAASC,GAAEC,IAAEC,MAAE,CAAAJ,QAAGA,KAAE;AAAC,MAAIA,MAAEG,GAAE,oBAAkB,OAAKA,GAAE,MAAMA,GAAE,eAAe,IAAE,MAAKE,MAAE,EAAGD,IAAED,GAAE,MAAM,MAAM,CAAC,GAAE,CAAAG,QAAGA,IAAE,QAAQ,QAAQ,OAAO,OAAO,GAAEC,MAAEP,MAAEK,IAAE,QAAQL,GAAC,IAAE;AAAK,SAAOO,QAAI,OAAKA,MAAE,OAAM,EAAC,OAAMF,KAAE,iBAAgBE,IAAC;AAAC;AAAC,IAAI,KAAG,EAAC,CAAC,CAAC,EAAEJ,IAAE;AAAC,SAAOA,GAAE,cAAY,IAAEA,KAAE,EAAC,GAAGA,IAAE,iBAAgB,MAAK,WAAU,EAAC;AAAC,GAAE,CAAC,CAAC,EAAEA,IAAE;AAAC,SAAOA,GAAE,cAAY,IAAEA,KAAE,EAAC,GAAGA,IAAE,YAAW,OAAG,WAAU,EAAC;AAAC,GAAE,CAAC,CAAC,GAAE,CAACA,IAAEC,QAAI;AAAC,MAAIE,KAAEE,KAAEP,KAAEQ,KAAEC;AAAE,MAAGP,GAAE,cAAY;AAAE,WAAOA;AAAE,MAAIH,MAAE,EAAC,GAAGG,IAAE,aAAY,IAAG,oBAAmBG,MAAEF,IAAE,YAAU,OAAKE,MAAE,EAAC;AAAE,MAAGF,IAAE,UAAQO,GAAE;AAAQ,WAAM,EAAC,GAAGX,KAAE,iBAAgB,KAAI;AAAE,MAAGI,IAAE,UAAQO,GAAE;AAAS,WAAM,EAAC,GAAGX,KAAE,iBAAgBG,GAAE,MAAM,UAAU,CAAAS,QAAGA,IAAE,OAAKR,IAAE,EAAE,EAAC;AAAE,MAAGA,IAAE,UAAQO,GAAE,UAAS;AAAC,QAAIC,MAAET,GAAE;AAAgB,QAAGS,QAAI,MAAK;AAAC,UAAIC,KAAEV,GAAE,MAAMS,GAAC,EAAE,QAAQ,QAAQ,QAAOE,MAAEA,IAAEV,KAAE,EAAC,cAAa,MAAID,GAAE,OAAM,oBAAmB,MAAIA,GAAE,iBAAgB,WAAU,CAAAY,OAAGA,GAAE,IAAG,iBAAgB,CAAAA,OAAGA,GAAE,QAAQ,QAAQ,SAAQ,CAAC;AAAE,UAAGD,QAAI,MAAK;AAAC,YAAIC,KAAEZ,GAAE,MAAMW,GAAC,EAAE,QAAQ,QAAQ;AAAO,cAAKN,MAAEK,GAAE,YAAU,OAAK,SAAOL,IAAE,4BAA0BO,GAAE,aAAWd,MAAEc,GAAE,YAAU,OAAK,SAAOd,IAAE,4BAA0B;AAAK,iBAAM,EAAC,GAAGD,KAAE,iBAAgBc,IAAC;AAAA,MAAC;AAAA,IAAC;AAAA,EAAC,WAASV,IAAE,UAAQO,GAAE,MAAK;AAAC,QAAIC,MAAET,GAAE;AAAgB,QAAGS,QAAI,MAAK;AAAC,UAAIC,KAAEV,GAAE,MAAMS,GAAC,EAAE,QAAQ,QAAQ,QAAOE,MAAEA,IAAEV,KAAE,EAAC,cAAa,MAAID,GAAE,OAAM,oBAAmB,MAAIA,GAAE,iBAAgB,WAAU,CAAAY,OAAGA,GAAE,IAAG,iBAAgB,CAAAA,OAAGA,GAAE,QAAQ,QAAQ,SAAQ,CAAC;AAAE,UAAGD,QAAI,MAAK;AAAC,YAAIC,KAAEZ,GAAE,MAAMW,GAAC,EAAE,QAAQ,QAAQ;AAAO,cAAKL,MAAEI,GAAE,YAAU,OAAK,SAAOJ,IAAE,wBAAsBM,GAAE,aAAWL,MAAEK,GAAE,YAAU,OAAK,SAAOL,IAAE,wBAAsB;AAAK,iBAAM,EAAC,GAAGV,KAAE,iBAAgBc,IAAC;AAAA,MAAC;AAAA,IAAC;AAAA,EAAC;AAAC,MAAIT,MAAEH,GAAEC,EAAC,GAAEI,MAAEO,IAAEV,KAAE,EAAC,cAAa,MAAIC,IAAE,OAAM,oBAAmB,MAAIA,IAAE,iBAAgB,WAAU,CAAAO,QAAGA,IAAE,IAAG,iBAAgB,CAAAA,QAAGA,IAAE,QAAQ,QAAQ,SAAQ,CAAC;AAAE,SAAM,EAAC,GAAGZ,KAAE,GAAGK,KAAE,iBAAgBE,IAAC;AAAC,GAAE,CAAC,CAAC,GAAE,CAACJ,IAAEC,QAAI;AAAC,MAAIC,MAAEF,GAAE,gBAAc,KAAG,IAAE,GAAEI,MAAEJ,GAAE,cAAYC,IAAE,MAAM,YAAY,GAAEI,OAAGL,GAAE,oBAAkB,OAAKA,GAAE,MAAM,MAAMA,GAAE,kBAAgBE,GAAC,EAAE,OAAOF,GAAE,MAAM,MAAM,GAAEA,GAAE,kBAAgBE,GAAC,CAAC,IAAEF,GAAE,OAAO,KAAK,CAAAM,QAAG;AAAC,QAAIC;AAAE,aAAQA,MAAED,IAAE,QAAQ,QAAQ,cAAY,OAAK,SAAOC,IAAE,WAAWH,GAAC,MAAI,CAACE,IAAE,QAAQ,QAAQ;AAAA,EAAQ,CAAC,GAAER,MAAEO,MAAEL,GAAE,MAAM,QAAQK,GAAC,IAAE;AAAG,SAAOP,QAAI,MAAIA,QAAIE,GAAE,kBAAgB,EAAC,GAAGA,IAAE,aAAYI,IAAC,IAAE,EAAC,GAAGJ,IAAE,aAAYI,KAAE,iBAAgBN,KAAE,mBAAkB,EAAC;AAAC,GAAE,CAAC,CAAC,EAAEE,IAAE;AAAC,SAAOA,GAAE,gBAAc,KAAGA,KAAE,EAAC,GAAGA,IAAE,aAAY,IAAG,uBAAsB,KAAI;AAAC,GAAE,CAAC,CAAC,GAAE,CAACA,IAAEC,QAAI;AAAC,MAAIJ,MAAEE,GAAEC,IAAE,CAAAE,QAAG,CAAC,GAAGA,KAAE,EAAC,IAAGD,IAAE,IAAG,SAAQA,IAAE,QAAO,CAAC,CAAC;AAAE,SAAM,EAAC,GAAGD,IAAE,GAAGH,IAAC;AAAC,GAAE,CAAC,CAAC,GAAE,CAACG,IAAEC,QAAI;AAAC,MAAIJ,MAAEE,GAAEC,IAAE,CAAAE,QAAG;AAAC,QAAIE,MAAEF,IAAE,UAAU,CAAAC,QAAGA,IAAE,OAAKF,IAAE,EAAE;AAAE,WAAOG,QAAI,MAAIF,IAAE,OAAOE,KAAE,CAAC,GAAEF;AAAA,EAAC,CAAC;AAAE,SAAM,EAAC,GAAGF,IAAE,GAAGH,KAAE,mBAAkB,EAAC;AAAC,EAAC;AAAttE,IAAwtEgB,SAAE,eAAAC,eAAG,IAAI;AAAED,GAAE,cAAY;AAAc,SAAS,EAAEb,IAAE;AAAC,MAAIC,UAAE,eAAAc,YAAGF,EAAC;AAAE,MAAGZ,QAAI,MAAK;AAAC,QAAIJ,MAAE,IAAI,MAAM,IAAIG,EAAC,6CAA6C;AAAE,UAAM,MAAM,qBAAmB,MAAM,kBAAkBH,KAAE,CAAC,GAAEA;AAAA,EAAC;AAAC,SAAOI;AAAC;AAAC,SAASe,IAAGhB,IAAEC,KAAE;AAAC,SAAOK,GAAEL,IAAE,MAAK,IAAGD,IAAEC,GAAC;AAAC;AAAC,IAAI,KAAG,eAAAgB;AAAE,SAAS,GAAGjB,IAAEC,KAAE;AAAC,MAAG,EAAC,YAAWJ,MAAE,OAAG,GAAGK,IAAC,IAAEF,IAAEI,UAAE,eAAAc,YAAGF,KAAG,EAAC,YAAWnB,KAAE,WAAUA,MAAE,IAAE,GAAE,eAAU,eAAAsB,WAAE,GAAE,cAAS,eAAAA,WAAE,GAAE,OAAM,CAAC,GAAE,aAAY,IAAG,iBAAgB,MAAK,mBAAkB,EAAC,CAAC,GAAE,CAAC,EAAC,WAAUhB,KAAE,UAASE,KAAE,WAAUP,IAAC,GAAEQ,GAAC,IAAEF,KAAEG,MAAEa,GAAEnB,GAAC;AAAE,EAAAoB,GAAG,CAACvB,KAAEO,GAAC,GAAE,CAACO,IAAEU,OAAI;AAAC,QAAIC;AAAE,IAAAjB,IAAE,EAAC,MAAK,EAAC,CAAC,GAAE,EAAGgB,IAAEE,GAAG,KAAK,MAAIZ,GAAE,eAAe,IAAGW,KAAEzB,IAAE,YAAU,QAAMyB,GAAE,MAAM;AAAA,EAAE,GAAEpB,QAAI,CAAC;AAAE,MAAIM,MAAEgB,GAAE,MAAI;AAAC,IAAAnB,IAAE,EAAC,MAAK,EAAC,CAAC;AAAA,EAAC,CAAC,GAAEI,SAAE,eAAAgB,SAAE,OAAK,EAAC,MAAKvB,QAAI,GAAE,OAAMM,IAAC,IAAG,CAACN,KAAEM,GAAC,CAAC,GAAEE,MAAE,EAAC,KAAIJ,IAAC;AAAE,SAAO,eAAAoB,QAAE,cAAc,IAAG,MAAK,eAAAA,QAAE,cAAcd,GAAE,UAAS,EAAC,OAAMT,IAAC,GAAE,eAAAuB,QAAE,cAAcxB,KAAG,EAAC,OAAMG,GAAEH,KAAE,EAAC,CAAC,CAAC,GAAEM,GAAE,MAAK,CAAC,CAAC,GAAEA,GAAE,OAAM,CAAC,EAAC,GAAE,EAAE,EAAC,UAASE,KAAE,YAAWT,KAAE,MAAKQ,IAAE,YAAW,IAAG,MAAK,OAAM,CAAC,CAAC,CAAC,CAAC;AAAC;AAAC,IAAIkB,MAAG;AAAS,SAASC,IAAG7B,IAAEC,KAAE;AAAC,MAAI6B,KAAEC,KAAEP;AAAE,MAAI3B,MAAEmC,GAAE,GAAE,EAAC,IAAG9B,MAAE,0BAA0BL,GAAC,IAAG,GAAGO,IAAC,IAAEJ,IAAE,CAACG,KAAEE,GAAC,IAAE,EAAE,aAAa,GAAEP,MAAEmC,IAAG,GAAE3B,MAAEc,GAAEjB,IAAE,WAAUF,KAAE,GAAG,CAAC,GAAEM,MAAEK,GAAE,GAAEH,MAAEgB,GAAE,CAAAjB,QAAG;AAAC,YAAOA,IAAE,KAAI;AAAA,MAAC,KAAKiB,IAAE;AAAA,MAAM,KAAKA,IAAE;AAAA,MAAM,KAAKA,IAAE;AAAU,QAAAjB,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEH,IAAE,EAAC,MAAK,EAAC,CAAC,GAAEE,IAAE,UAAU,MAAIF,IAAE,EAAC,MAAK,GAAE,OAAMG,GAAE,MAAK,CAAC,CAAC;AAAE;AAAA,MAAM,KAAKiB,IAAE;AAAQ,QAAAjB,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEH,IAAE,EAAC,MAAK,EAAC,CAAC,GAAEE,IAAE,UAAU,MAAIF,IAAE,EAAC,MAAK,GAAE,OAAMG,GAAE,KAAI,CAAC,CAAC;AAAE;AAAA,IAAK;AAAA,EAAC,CAAC,GAAEE,KAAEe,GAAE,CAAAjB,QAAG;AAAC,YAAOA,IAAE,KAAI;AAAA,MAAC,KAAKiB,IAAE;AAAM,QAAAjB,IAAE,eAAe;AAAE;AAAA,IAAK;AAAA,EAAC,CAAC,GAAEG,MAAEc,GAAE,CAAAjB,QAAG;AAAC,QAAGP,GAAGO,IAAE,aAAa;AAAE,aAAOA,IAAE,eAAe;AAAE,IAAAR,GAAE,aAAWG,IAAE,cAAY,KAAGE,IAAE,EAAC,MAAK,EAAC,CAAC,GAAEE,IAAE,UAAU,MAAI;AAAC,UAAI2B;AAAE,cAAOA,KAAE/B,IAAE,UAAU,YAAU,OAAK,SAAO+B,GAAE,MAAM,EAAC,eAAc,KAAE,CAAC;AAAA,IAAC,CAAC,MAAI1B,IAAE,eAAe,GAAEH,IAAE,EAAC,MAAK,EAAC,CAAC;AAAA,EAAG,CAAC,GAAE,EAAC,gBAAeO,IAAE,YAAWU,GAAC,IAAE,0CAAG,EAAC,YAAWQ,MAAE9B,GAAE,cAAY,OAAK8B,MAAE,MAAE,CAAC,GAAE,EAAC,WAAUP,IAAE,YAAWY,GAAC,IAAE,0CAAG,EAAC,aAAYJ,MAAE/B,GAAE,aAAW,OAAK+B,MAAE,MAAE,CAAC,GAAE,EAAC,SAAQK,IAAE,YAAWC,GAAC,IAAE,EAAG,GAAEC,SAAE,eAAAZ,SAAE,MAAI;AAAC,QAAIlB;AAAE,WAAM,EAAC,MAAKL,IAAE,cAAY,GAAE,QAAOiC,MAAGjC,IAAE,cAAY,GAAE,OAAMoB,IAAE,OAAMX,IAAE,YAAWJ,MAAER,GAAE,cAAY,OAAKQ,MAAE,MAAE;AAAA,EAAC,GAAE,CAACL,KAAEoB,IAAEX,IAAEwB,IAAEpC,GAAE,SAAS,CAAC,GAAEuC,KAAE,EAAGzC,IAAE,GAAE,EAAC,KAAIQ,KAAE,IAAGJ,KAAE,MAAKsC,GAAGxC,IAAEG,IAAE,SAAS,GAAE,iBAAgB,QAAO,kBAAiBqB,KAAErB,IAAE,SAAS,YAAU,OAAK,SAAOqB,GAAE,IAAG,iBAAgBrB,IAAE,cAAY,GAAE,WAAUM,KAAE,SAAQC,IAAE,SAAQC,IAAC,GAAEW,IAAEa,IAAEE,EAAC;AAAE,SAAO,EAAE,EAAC,UAASE,IAAE,YAAWnC,KAAE,MAAKkC,IAAE,YAAWV,KAAG,MAAK,cAAa,CAAC;AAAC;AAAC,IAAIa,MAAG;AAAP,IAAaC,MAAG,EAAG,iBAAe,EAAG;AAAO,SAASC,IAAG3C,IAAEC,KAAE;AAAC,MAAIiC,IAAEU;AAAE,MAAI/C,MAAEmC,GAAE,GAAE,EAAC,IAAG9B,MAAE,yBAAyBL,GAAC,IAAG,QAAOO,KAAE,OAAMD,KAAE,GAAGE,IAAC,IAAEL,IAAE,CAACF,KAAEQ,GAAC,IAAE,EAAE,YAAY,GAAE,CAACC,KAAEE,GAAC,IAAE,GAAGL,GAAC,GAAEM,KAAE,GAAG,GAAEC,MAAES,GAAEtB,IAAE,UAASG,KAAEM,GAAC,GAAEK,KAAEf,GAAGC,IAAE,QAAQ;AAAE,EAAAM,OAAG,QAAMD,OAAG,OAAKA,MAAE,OAAGA,OAAG,SAAOA,MAAE;AAAI,MAAImB,KAAEV,GAAE,GAAEW,KAAEjB,GAAG,GAAE6B,MAAG,MAAIZ,OAAI,QAAMA,KAAEd,GAAE,UAAQA,GAAE,OAAKX,IAAE,cAAY,GAAG,GAAEuC,KAAEzB,GAAGd,IAAE,WAAUA,IAAE,cAAY,CAAC,IAAE,QAAGqC;AAAE,qBAAAU,WAAG,MAAI;AAAC,QAAIpB,MAAE3B,IAAE,SAAS;AAAQ,IAAA2B,OAAG3B,IAAE,cAAY,KAAG2B,SAAKb,MAAG,OAAK,SAAOA,GAAE,kBAAgBa,IAAE,MAAM,EAAC,eAAc,KAAE,CAAC;AAAA,EAAC,GAAE,CAAC3B,IAAE,WAAUA,IAAE,UAASc,EAAC,CAAC,GAAEmB,GAAG,EAAC,WAAUjC,IAAE,SAAS,SAAQ,SAAQA,IAAE,cAAY,GAAE,OAAO2B,KAAE;AAAC,WAAOA,IAAE,aAAa,MAAM,MAAI,aAAW,WAAW,gBAAcA,IAAE,aAAa,MAAM,IAAE,WAAW,cAAY,WAAW;AAAA,EAAa,GAAE,KAAKA,KAAE;AAAC,IAAAA,IAAE,aAAa,QAAO,MAAM;AAAA,EAAC,EAAC,CAAC;AAAE,MAAIa,KAAEb,GAAE,CAAAA,QAAG;AAAC,QAAIqB,IAAEC;AAAE,YAAOzB,GAAE,QAAQ,GAAEG,IAAE,KAAI;AAAA,MAAC,KAAKA,IAAE;AAAM,YAAG3B,IAAE,gBAAc;AAAG,iBAAO2B,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEnB,IAAE,EAAC,MAAK,GAAE,OAAMmB,IAAE,IAAG,CAAC;AAAA,MAAE,KAAKA,IAAE;AAAM,YAAGA,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEnB,IAAE,EAAC,MAAK,EAAC,CAAC,GAAER,IAAE,oBAAkB,MAAK;AAAC,cAAG,EAAC,SAAQkD,GAAC,IAAElD,IAAE,MAAMA,IAAE,eAAe;AAAE,WAACiD,MAAGD,KAAEE,GAAE,YAAU,OAAK,SAAOF,GAAE,OAAO,YAAU,QAAMC,GAAE,MAAM;AAAA,QAAC;AAAC,QAAAE,GAAEnD,IAAE,UAAU,OAAO;AAAE;AAAA,MAAM,KAAK2B,IAAE;AAAU,eAAOA,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEnB,IAAE,EAAC,MAAK,GAAE,OAAME,GAAE,KAAI,CAAC;AAAA,MAAE,KAAKiB,IAAE;AAAQ,eAAOA,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEnB,IAAE,EAAC,MAAK,GAAE,OAAME,GAAE,SAAQ,CAAC;AAAA,MAAE,KAAKiB,IAAE;AAAA,MAAK,KAAKA,IAAE;AAAO,eAAOA,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEnB,IAAE,EAAC,MAAK,GAAE,OAAME,GAAE,MAAK,CAAC;AAAA,MAAE,KAAKiB,IAAE;AAAA,MAAI,KAAKA,IAAE;AAAS,eAAOA,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEnB,IAAE,EAAC,MAAK,GAAE,OAAME,GAAE,KAAI,CAAC;AAAA,MAAE,KAAKiB,IAAE;AAAO,QAAAA,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEnB,IAAE,EAAC,MAAK,EAAC,CAAC,GAAEmB,GAAE,EAAE,UAAU,MAAI;AAAC,cAAIuB;AAAE,kBAAOA,KAAElD,IAAE,UAAU,YAAU,OAAK,SAAOkD,GAAE,MAAM,EAAC,eAAc,KAAE,CAAC;AAAA,QAAC,CAAC;AAAE;AAAA,MAAM,KAAKvB,IAAE;AAAI,QAAAA,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEnB,IAAE,EAAC,MAAK,EAAC,CAAC,GAAEmB,GAAE,EAAE,UAAU,MAAI;AAAC,YAAG3B,IAAE,UAAU,SAAQ2B,IAAE,WAASM,GAAE,WAASA,GAAE,IAAI;AAAA,QAAC,CAAC;AAAE;AAAA,MAAM;AAAQ,QAAAN,IAAE,IAAI,WAAS,MAAInB,IAAE,EAAC,MAAK,GAAE,OAAMmB,IAAE,IAAG,CAAC,GAAEH,GAAE,WAAW,MAAIhB,IAAE,EAAC,MAAK,EAAC,CAAC,GAAE,GAAG;AAAG;AAAA,IAAK;AAAA,EAAC,CAAC,GAAEiC,KAAEd,GAAE,CAAAA,QAAG;AAAC,YAAOA,IAAE,KAAI;AAAA,MAAC,KAAKA,IAAE;AAAM,QAAAA,IAAE,eAAe;AAAE;AAAA,IAAK;AAAA,EAAC,CAAC,GAAEK,UAAE,eAAAJ,SAAE,OAAK,EAAC,MAAK5B,IAAE,cAAY,EAAC,IAAG,CAACA,GAAC,CAAC,GAAEiC,MAAE,EAAGrB,GAAE,GAAE,EAAC,yBAAwBZ,IAAE,oBAAkB,SAAOoC,KAAEpC,IAAE,MAAMA,IAAE,eAAe,MAAI,OAAK,SAAOoC,GAAE,IAAG,oBAAmBU,KAAE9C,IAAE,UAAU,YAAU,OAAK,SAAO8C,GAAE,IAAG,IAAG1C,KAAE,WAAUoC,IAAE,SAAQC,IAAE,MAAK,QAAO,UAAS,GAAE,KAAI5B,KAAE,OAAM,EAAC,GAAGF,KAAE,kBAAiBE,IAAGb,IAAE,WAAU,IAAE,EAAE,MAAK,EAAC,CAAC,GAAE0B,KAAErB,MAAE+C,MAAG9C,MAAEiB,KAAG,eAAAJ,UAAET,MAAEL,MAAE,EAAC,UAAS,EAAG,YAAW,SAAQL,IAAE,cAAY,EAAC,IAAE,CAAC;AAAE,SAAO,eAAA6B,QAAE,cAAcH,IAAE,EAAC,GAAGhB,IAAC,GAAE,EAAE,EAAC,UAASuB,KAAE,YAAW1B,KAAE,MAAKyB,KAAE,YAAWW,KAAG,UAASC,KAAG,SAAQL,IAAE,MAAK,aAAY,CAAC,CAAC;AAAC;AAAC,IAAIc,MAAG,eAAAlC;AAAE,SAASmC,IAAGpD,IAAEC,KAAE;AAAC,MAAIJ,MAAEmC,GAAE,GAAE,EAAC,IAAG9B,MAAE,wBAAwBL,GAAC,IAAG,UAASO,MAAE,OAAG,GAAGD,IAAC,IAAEH,IAAE,CAACK,KAAEP,GAAC,IAAE,EAAE,WAAW,GAAEQ,MAAED,IAAE,oBAAkB,OAAKA,IAAE,MAAMA,IAAE,eAAe,EAAE,OAAKH,MAAE,OAAGK,UAAE,eAAA8C,QAAE,IAAI,GAAE5C,MAAEW,GAAEnB,KAAEM,GAAC;AAAE,EAAAV,GAAE,MAAI;AAAC,QAAGQ,IAAE,cAAYA,IAAE,cAAY,KAAG,CAACC,OAAGD,IAAE,sBAAoB;AAAE;AAAO,QAAIuC,KAAEnB,GAAE;AAAE,WAAOmB,GAAE,sBAAsB,MAAI;AAAC,UAAInB,KAAEqB;AAAE,OAACA,MAAGrB,MAAElB,IAAE,YAAU,OAAK,SAAOkB,IAAE,mBAAiB,QAAMqB,GAAE,KAAKrB,KAAE,EAAC,OAAM,UAAS,CAAC;AAAA,IAAC,CAAC,GAAEmB,GAAE;AAAA,EAAO,GAAE,CAACvC,IAAE,YAAWE,KAAED,KAAED,IAAE,WAAUA,IAAE,mBAAkBA,IAAE,eAAe,CAAC;AAAE,MAAIK,KAAEP,IAAGI,GAAC,GAAEI,UAAE,eAAA0C,QAAE,EAAC,UAASjD,KAAE,QAAOG,KAAE,IAAI,YAAW;AAAC,WAAOG,GAAE;AAAA,EAAC,EAAC,CAAC;AAAE,EAAAb,GAAE,MAAI;AAAC,IAAAc,IAAE,QAAQ,WAASP;AAAA,EAAC,GAAE,CAACO,KAAEP,GAAC,CAAC,GAAEP,GAAE,OAAKC,IAAE,EAAC,MAAK,GAAE,IAAGI,KAAE,SAAQS,IAAC,CAAC,GAAE,MAAIb,IAAE,EAAC,MAAK,GAAE,IAAGI,IAAC,CAAC,IAAG,CAACS,KAAET,GAAC,CAAC;AAAE,MAAIU,KAAEa,GAAE,MAAI;AAAC,IAAA3B,IAAE,EAAC,MAAK,EAAC,CAAC;AAAA,EAAC,CAAC,GAAEwB,KAAEG,GAAE,CAAAmB,OAAG;AAAC,QAAGxC;AAAE,aAAOwC,GAAE,eAAe;AAAE,IAAA9C,IAAE,EAAC,MAAK,EAAC,CAAC,GAAEmD,GAAE5C,IAAE,UAAU,OAAO;AAAA,EAAC,CAAC,GAAEkB,KAAEE,GAAE,MAAI;AAAC,QAAGrB;AAAE,aAAON,IAAE,EAAC,MAAK,GAAE,OAAMU,GAAE,QAAO,CAAC;AAAE,IAAAV,IAAE,EAAC,MAAK,GAAE,OAAMU,GAAE,UAAS,IAAGN,IAAC,CAAC;AAAA,EAAC,CAAC,GAAEiC,KAAE7B,GAAG,GAAE8B,KAAEX,GAAE,CAAAmB,OAAG;AAAC,IAAAT,GAAE,OAAOS,EAAC,GAAE,CAACxC,QAAIE,OAAGR,IAAE,EAAC,MAAK,GAAE,OAAMU,GAAE,UAAS,IAAGN,KAAE,SAAQ,EAAC,CAAC;AAAA,EAAE,CAAC,GAAEmC,KAAEZ,GAAE,CAAAmB,OAAG;AAAC,IAAAT,GAAE,SAASS,EAAC,MAAIxC,OAAGE,OAAGR,IAAE,EAAC,MAAK,GAAE,OAAMU,GAAE,UAAS,IAAGN,KAAE,SAAQ,EAAC,CAAC;AAAA,EAAE,CAAC,GAAEoC,KAAEb,GAAE,CAAAmB,OAAG;AAAC,IAAAT,GAAE,SAASS,EAAC,MAAIxC,OAAGE,OAAGR,IAAE,EAAC,MAAK,GAAE,OAAMU,GAAE,QAAO,CAAC;AAAA,EAAE,CAAC,GAAE,CAAC+B,IAAET,GAAC,IAAET,GAAG,GAAE,CAACU,KAAEP,EAAC,IAAE,EAAG,GAAEhB,UAAE,eAAAkB,SAAE,OAAK,EAAC,QAAOpB,KAAE,OAAMA,KAAE,UAASF,KAAE,OAAMQ,GAAC,IAAG,CAACN,KAAEF,KAAEQ,EAAC,CAAC;AAAE,SAAO,eAAAe,QAAE,cAAcG,KAAE,MAAK,eAAAH,QAAE,cAAcH,IAAE,MAAK,EAAE,EAAC,UAAS,EAAC,IAAGtB,KAAE,KAAIO,KAAE,MAAK,YAAW,UAASL,QAAI,OAAG,SAAO,IAAG,iBAAgBA,QAAI,OAAG,OAAG,QAAO,mBAAkBmC,IAAE,oBAAmBR,KAAE,UAAS,QAAO,SAAQT,IAAE,SAAQC,IAAE,gBAAea,IAAE,cAAaA,IAAE,eAAcC,IAAE,aAAYA,IAAE,gBAAeC,IAAE,cAAaA,GAAC,GAAE,YAAWnC,KAAE,MAAKK,KAAE,YAAW2C,KAAG,MAAK,YAAW,CAAC,CAAC,CAAC;AAAC;AAAC,IAAIG,MAAG;AAAM,SAASC,IAAGvD,IAAEC,KAAE;AAAC,MAAG,CAACJ,KAAEK,GAAC,IAAEmB,GAAG;AAAE,SAAO,eAAAM,QAAE,cAAczB,KAAE,MAAK,EAAE,EAAC,UAAS,EAAC,KAAID,KAAE,mBAAkBJ,KAAE,MAAK,QAAO,GAAE,YAAWG,IAAE,MAAK,CAAC,GAAE,YAAWsD,KAAG,MAAK,eAAc,CAAC,CAAC;AAAC;AAAC,IAAIE,MAAG;AAAS,SAASC,IAAGzD,IAAEC,KAAE;AAAC,MAAIJ,MAAEmC,GAAE,GAAE,EAAC,IAAG9B,MAAE,2BAA2BL,GAAC,IAAG,GAAGO,IAAC,IAAEJ,IAAEG,MAAEoB,GAAG;AAAE,EAAA1B,GAAE,MAAIM,IAAE,SAASD,GAAC,GAAE,CAACA,KAAEC,IAAE,QAAQ,CAAC;AAAE,MAAIE,MAAE,EAAC,IAAGH,KAAE,KAAID,KAAE,MAAK,gBAAe,GAAGE,IAAE,MAAK;AAAE,SAAO,EAAE,EAAC,UAASE,KAAE,YAAWD,KAAE,MAAK,CAAC,GAAE,YAAWoD,KAAG,MAAK,eAAc,CAAC;AAAC;AAAC,IAAIE,MAAG;AAAM,SAASC,IAAG3D,IAAEC,KAAE;AAAC,SAAO,EAAE,EAAC,UAAS,EAAC,KAAIA,KAAE,MAAK,YAAW,GAAE,YAAWD,IAAE,MAAK,CAAC,GAAE,YAAW0D,KAAG,MAAK,iBAAgB,CAAC;AAAC;AAAC,IAAIE,MAAG,EAAE,EAAE;AAAX,IAAaC,MAAG,EAAEhC,GAAE;AAApB,IAAsBiC,MAAG,EAAEnB,GAAE;AAA7B,IAA+BoB,MAAG,EAAEX,GAAE;AAAtC,IAAwCY,MAAG,EAAET,GAAE;AAA/C,IAAiDU,MAAG,EAAER,GAAE;AAAxD,IAA0DS,MAAG,EAAEP,GAAE;AAAjE,IAAmEQ,MAAG,OAAO,OAAOP,KAAG,EAAC,QAAOC,KAAG,OAAMC,KAAG,MAAKC,KAAG,SAAQC,KAAG,SAAQC,KAAG,WAAUC,IAAE,CAAC;;;AEAhqX,IAAAE,iBAA0J;AAAg2D,IAAIC,OAAI,CAAAC,SAAIA,IAAEA,IAAE,OAAK,CAAC,IAAE,QAAOA,IAAEA,IAAE,SAAO,CAAC,IAAE,UAASA,MAAID,OAAI,CAAC,CAAC;AAAhE,IAAkEE,OAAI,CAAAC,SAAIA,IAAEA,IAAE,gBAAc,CAAC,IAAE,iBAAgBA,IAAEA,IAAE,eAAa,CAAC,IAAE,gBAAeA,IAAEA,IAAE,YAAU,CAAC,IAAE,aAAYA,IAAEA,IAAE,cAAY,CAAC,IAAE,eAAcA,IAAEA,IAAE,WAAS,CAAC,IAAE,YAAWA,IAAEA,IAAE,aAAW,CAAC,IAAE,cAAaA,MAAID,OAAI,CAAC,CAAC;AAAE,IAAIE,MAAG,EAAC,CAAC,CAAC,GAAE,CAAAC,OAAG;AAAC,MAAIC,MAAE,EAAC,GAAGD,IAAE,cAAaE,GAAEF,GAAE,cAAa,EAAC,CAAC,CAAC,GAAE,GAAE,CAAC,CAAC,GAAE,EAAC,CAAC,EAAC;AAAE,SAAOC,IAAE,iBAAe,MAAIA,IAAE,aAAW,QAAIA;AAAC,GAAE,CAAC,CAAC,EAAED,IAAE;AAAC,SAAOA,GAAE,iBAAe,IAAEA,KAAE,EAAC,GAAGA,IAAE,cAAa,EAAC;AAAC,GAAE,CAAC,CAAC,EAAEA,IAAEC,KAAE;AAAC,SAAOD,GAAE,WAASC,IAAE,SAAOD,KAAE,EAAC,GAAGA,IAAE,QAAOC,IAAE,OAAM;AAAC,GAAE,CAAC,CAAC,EAAED,IAAEC,KAAE;AAAC,SAAOD,GAAE,aAAWC,IAAE,WAASD,KAAE,EAAC,GAAGA,IAAE,UAASC,IAAE,SAAQ;AAAC,GAAE,CAAC,CAAC,EAAED,IAAEC,KAAE;AAAC,SAAOD,GAAE,UAAQC,IAAE,QAAMD,KAAE,EAAC,GAAGA,IAAE,OAAMC,IAAE,MAAK;AAAC,GAAE,CAAC,CAAC,EAAED,IAAEC,KAAE;AAAC,SAAOD,GAAE,YAAUC,IAAE,UAAQD,KAAE,EAAC,GAAGA,IAAE,SAAQC,IAAE,QAAO;AAAC,EAAC;AAAnb,IAAqbE,UAAG,eAAAC,eAAE,IAAI;AAAED,IAAG,cAAY;AAAiB,SAAS,GAAGH,IAAE;AAAC,MAAIC,UAAE,eAAAI,YAAGF,GAAE;AAAE,MAAGF,QAAI,MAAK;AAAC,QAAIL,MAAE,IAAI,MAAM,IAAII,EAAC,gDAAgD;AAAE,UAAM,MAAM,qBAAmB,MAAM,kBAAkBJ,KAAE,EAAE,GAAEA;AAAA,EAAC;AAAC,SAAOK;AAAC;AAAC,IAAIK,UAAG,eAAAF,eAAE,IAAI;AAAEE,IAAG,cAAY;AAAoB,SAASC,IAAGP,IAAE;AAAC,MAAIC,UAAE,eAAAI,YAAGC,GAAE;AAAE,MAAGL,QAAI,MAAK;AAAC,QAAIL,MAAE,IAAI,MAAM,IAAII,EAAC,gDAAgD;AAAE,UAAM,MAAM,qBAAmB,MAAM,kBAAkBJ,KAAEW,GAAE,GAAEX;AAAA,EAAC;AAAC,SAAOK;AAAC;AAAC,IAAIO,UAAG,eAAAJ,eAAE,IAAI;AAAEI,IAAG,cAAY;AAAsB,SAASC,MAAI;AAAC,aAAO,eAAAJ,YAAGG,GAAE;AAAC;AAAC,IAAIE,UAAG,eAAAN,eAAE,IAAI;AAAEM,IAAG,cAAY;AAAsB,SAASC,MAAI;AAAC,aAAO,eAAAN,YAAGK,GAAE;AAAC;AAAC,SAASE,IAAGZ,IAAEC,KAAE;AAAC,SAAOC,GAAED,IAAE,MAAKF,KAAGC,IAAEC,GAAC;AAAC;AAAC,IAAIY,MAAG;AAAM,SAASC,IAAGd,IAAEC,KAAE;AAAC,MAAIc;AAAE,MAAG,EAAC,YAAWnB,MAAE,OAAG,GAAGoB,GAAC,IAAEhB,IAAEiB,SAAE,eAAAC,QAAE,IAAI,GAAEC,MAAEC,GAAEnB,KAAEoB,GAAG,CAAAC,QAAG;AAAC,IAAAL,GAAE,UAAQK;AAAA,EAAC,CAAC,CAAC,GAAExB,UAAE,eAAAoB,QAAE,CAAC,CAAC,GAAEK,SAAE,eAAAC,YAAGZ,KAAG,EAAC,YAAWhB,KAAE,cAAaA,MAAE,IAAE,GAAE,SAAQE,KAAE,QAAO,MAAK,UAAS,MAAK,OAAM,MAAK,SAAQ,MAAK,yBAAoB,eAAA2B,WAAG,GAAE,wBAAmB,eAAAA,WAAG,EAAC,CAAC,GAAE,CAAC,EAAC,cAAaC,KAAE,QAAOC,IAAE,UAASC,IAAE,OAAMC,KAAE,SAAQC,IAAE,qBAAoBC,KAAE,oBAAmBV,IAAC,GAAEW,GAAC,IAAET,IAAEU,MAAEnC,IAAIiB,KAAEE,GAAE,YAAU,OAAKF,KAAEY,EAAC,GAAEO,UAAE,eAAAC,SAAE,MAAI;AAAC,QAAG,CAACR,MAAG,CAACE;AAAE,aAAM;AAAG,aAAQO,MAAK,SAAS,iBAAiB,UAAU;AAAE,UAAG,OAAOA,MAAG,OAAK,SAAOA,GAAE,SAAST,EAAC,CAAC,IAAE,OAAOS,MAAG,OAAK,SAAOA,GAAE,SAASP,GAAC,CAAC;AAAE,eAAM;AAAG,QAAIP,MAAEY,GAAG,GAAEhC,MAAEoB,IAAE,QAAQK,EAAC,GAAEU,OAAGnC,MAAEoB,IAAE,SAAO,KAAGA,IAAE,QAAOgB,OAAGpC,MAAE,KAAGoB,IAAE,QAAOiB,MAAEjB,IAAEe,GAAC,GAAEG,KAAElB,IAAEgB,GAAC;AAAE,WAAM,CAACT,IAAE,SAASU,GAAC,KAAG,CAACV,IAAE,SAASW,EAAC;AAAA,EAAC,GAAE,CAACb,IAAEE,GAAC,CAAC,GAAEY,KAAEZ,GAAGD,EAAC,GAAEc,KAAEb,GAAGC,EAAC,GAAEa,SAAE,eAAAR,SAAE,OAAK,EAAC,UAASM,IAAE,SAAQC,IAAE,OAAM,MAAIV,IAAE,EAAC,MAAK,EAAC,CAAC,EAAC,IAAG,CAACS,IAAEC,IAAEV,GAAC,CAAC,GAAEY,KAAEnC,IAAG,GAAEoC,KAAED,MAAG,OAAK,SAAOA,GAAE,iBAAgBE,KAAExB,GAAE,MAAI;AAAC,QAAIA;AAAE,YAAOA,MAAEsB,MAAG,OAAK,SAAOA,GAAE,0BAA0B,MAAI,OAAKtB,OAAGW,OAAG,OAAK,SAAOA,IAAE,oBAAkBN,MAAG,OAAK,SAAOA,GAAE,SAASM,IAAE,aAAa,OAAKJ,OAAG,OAAK,SAAOA,IAAE,SAASI,IAAE,aAAa;AAAA,EAAG,CAAC;AAAE,qBAAAc,WAAG,MAAIF,MAAG,OAAK,SAAOA,GAAEF,EAAC,GAAE,CAACE,IAAEF,EAAC,CAAC;AAAE,MAAG,CAACK,KAAEC,EAAC,IAAEA,GAAG,GAAEC,KAAEF,GAAG,EAAC,iBAAgBJ,MAAG,OAAK,SAAOA,GAAE,iBAAgB,SAAQI,KAAE,mBAAkB,CAACrB,IAAEE,GAAC,EAAC,CAAC;AAAE,EAAAO,GAAGH,OAAG,OAAK,SAAOA,IAAE,aAAY,SAAQ,CAAAX,QAAG;AAAC,QAAIpB,KAAEmC,KAAEC,KAAEC;AAAE,IAAAjB,IAAE,WAAS,UAAQA,IAAE,kBAAkB,eAAaI,QAAI,MAAIoB,GAAE,KAAGnB,MAAGE,QAAIqB,GAAE,SAAS5B,IAAE,MAAM,MAAIe,OAAGnC,MAAE6B,IAAE,YAAU,OAAK,SAAO7B,IAAE,aAAW,QAAMmC,IAAE,KAAKnC,KAAEoB,IAAE,MAAM,MAAIiB,OAAGD,MAAEjB,IAAE,YAAU,OAAK,SAAOiB,IAAE,aAAW,QAAMC,IAAE,KAAKD,KAAEhB,IAAE,MAAM,KAAGU,IAAE,EAAC,MAAK,EAAC,CAAC;AAAA,EAAG,GAAE,IAAE,GAAEmB,GAAGD,GAAE,mBAAkB,CAAC5B,KAAEpB,QAAI;AAAC,IAAA8B,IAAE,EAAC,MAAK,EAAC,CAAC,GAAE,EAAG9B,KAAEiC,GAAG,KAAK,MAAIb,IAAE,eAAe,GAAEK,MAAG,QAAMA,GAAE,MAAM;AAAA,EAAE,GAAED,QAAI,CAAC;AAAE,MAAI0B,KAAE9B,GAAE,CAAAA,QAAG;AAAC,IAAAU,IAAE,EAAC,MAAK,EAAC,CAAC;AAAE,QAAI9B,OAAG,MAAIoB,MAAEA,eAAa,cAAYA,MAAE,aAAYA,OAAGA,IAAE,mBAAmB,cAAYA,IAAE,UAAQK,KAAEA,IAAG;AAAE,IAAAzB,OAAG,QAAMA,IAAE,MAAM;AAAA,EAAC,CAAC,GAAEmD,UAAE,eAAAlB,SAAE,OAAK,EAAC,OAAMiB,IAAE,aAAYlB,IAAC,IAAG,CAACkB,IAAElB,GAAC,CAAC,GAAEiB,UAAE,eAAAhB,SAAE,OAAK,EAAC,MAAKT,QAAI,GAAE,OAAM0B,GAAC,IAAG,CAAC1B,KAAE0B,EAAC,CAAC,GAAEE,KAAE,EAAC,KAAInC,IAAC;AAAE,SAAO,eAAAC,QAAE,cAAc,IAAG,MAAK,eAAAA,QAAE,cAAcV,IAAG,UAAS,EAAC,OAAM,KAAI,GAAE,eAAAU,QAAE,cAAcjB,IAAG,UAAS,EAAC,OAAMoB,GAAC,GAAE,eAAAH,QAAE,cAAcd,IAAG,UAAS,EAAC,OAAM+C,IAAC,GAAE,eAAAjC,QAAE,cAAcS,KAAG,EAAC,OAAM3B,GAAEwB,KAAE,EAAC,CAAC,CAAC,GAAEM,GAAE,MAAK,CAAC,CAAC,GAAEA,GAAE,OAAM,CAAC,EAAC,GAAE,eAAAZ,QAAE,cAAc6B,IAAE,MAAK,EAAE,EAAC,UAASK,IAAE,YAAWtC,IAAE,MAAKmC,KAAE,YAAWtC,KAAG,MAAK,UAAS,CAAC,GAAE,eAAAO,QAAE,cAAc8B,GAAE,cAAa,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAAC;AAAC,IAAIK,MAAG;AAAS,SAASC,IAAGxD,IAAEC,KAAE;AAAC,MAAIoC,KAAEC;AAAE,MAAI1C,MAAEsD,GAAG,GAAE,EAAC,IAAGlC,KAAE,6BAA6BpB,GAAC,IAAG,GAAGqB,GAAC,IAAEjB,IAAE,CAACmB,KAAErB,GAAC,IAAE,GAAG,gBAAgB,GAAE,EAAC,aAAYyB,GAAC,IAAEhB,IAAG,gBAAgB,GAAEmB,UAAE,eAAAR,QAAE,IAAI,GAAES,KAAE,6BAA6BuB,GAAG,CAAC,IAAGtB,KAAEnB,IAAG,GAAEoB,MAAED,MAAG,OAAK,SAAOA,GAAE,aAAYG,MAAEpB,IAAG,MAAI;AAAK,qBAAAoC,WAAG,MAAI;AAAC,QAAG,CAAChB;AAAE,aAAOjC,IAAE,EAAC,MAAK,GAAE,UAASkB,GAAC,CAAC,GAAE,MAAI;AAAC,QAAAlB,IAAE,EAAC,MAAK,GAAE,UAAS,KAAI,CAAC;AAAA,MAAC;AAAA,EAAC,GAAE,CAACiC,KAAEf,IAAElB,GAAC,CAAC;AAAE,MAAG,CAACuB,GAAC,QAAE,eAAAoC,UAAG,MAAI,OAAO,CAAC,GAAEzB,MAAEZ,GAAEM,KAAEzB,KAAE,GAAG,GAAE8B,MAAE,OAAK,CAAAQ,QAAG;AAAC,QAAGA;AAAE,MAAApB,IAAE,QAAQ,QAAQ,KAAKE,GAAC;AAAA,SAAM;AAAC,UAAImB,KAAErB,IAAE,QAAQ,QAAQ,QAAQE,GAAC;AAAE,MAAAmB,OAAI,MAAIrB,IAAE,QAAQ,QAAQ,OAAOqB,IAAE,CAAC;AAAA,IAAC;AAAC,IAAArB,IAAE,QAAQ,QAAQ,SAAO,KAAG,QAAQ,KAAK,wFAAwF,GAAEoB,OAAGzC,IAAE,EAAC,MAAK,GAAE,QAAOyC,IAAC,CAAC;AAAA,EAAC,CAAC,GAAEN,MAAEb,GAAEM,KAAEzB,GAAC,GAAEiC,MAAEpC,GAAG4B,GAAC,GAAEe,KAAEnB,GAAE,CAAAiB,QAAG;AAAC,QAAIC,IAAEJ,IAAEsB;AAAE,QAAG3B,KAAE;AAAC,UAAGZ,IAAE,iBAAe;AAAE;AAAO,cAAOoB,IAAE,KAAI;AAAA,QAAC,KAAKjB,IAAE;AAAA,QAAM,KAAKA,IAAE;AAAM,UAAAiB,IAAE,eAAe,IAAGH,MAAGI,KAAED,IAAE,QAAQ,UAAQ,QAAMH,GAAE,KAAKI,EAAC,GAAE1C,IAAE,EAAC,MAAK,EAAC,CAAC,IAAG4D,KAAEvC,IAAE,WAAS,QAAMuC,GAAE,MAAM;AAAE;AAAA,MAAK;AAAA,IAAC;AAAM,cAAOnB,IAAE,KAAI;AAAA,QAAC,KAAKjB,IAAE;AAAA,QAAM,KAAKA,IAAE;AAAM,UAAAiB,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEpB,IAAE,iBAAe,MAAIU,OAAG,QAAMA,IAAEV,IAAE,QAAQ,IAAGrB,IAAE,EAAC,MAAK,EAAC,CAAC;AAAE;AAAA,QAAM,KAAKwB,IAAE;AAAO,cAAGH,IAAE,iBAAe;AAAE,mBAAOU,OAAG,OAAK,SAAOA,IAAEV,IAAE,QAAQ;AAAE,cAAG,CAACO,IAAE,WAASQ,OAAG,QAAMA,IAAE,iBAAe,CAACR,IAAE,QAAQ,SAASQ,IAAE,aAAa;AAAE;AAAO,UAAAK,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEzC,IAAE,EAAC,MAAK,EAAC,CAAC;AAAE;AAAA,MAAK;AAAA,EAAC,CAAC,GAAE4C,KAAEpB,GAAE,CAAAiB,QAAG;AAAC,IAAAR,OAAGQ,IAAE,QAAMjB,IAAE,SAAOiB,IAAE,eAAe;AAAA,EAAC,CAAC,GAAEI,KAAErB,GAAE,CAAAiB,QAAG;AAAC,QAAIC,IAAEJ;AAAE,IAAAG,GAAGA,IAAE,aAAa,KAAGvC,GAAE,aAAW+B,OAAGjC,IAAE,EAAC,MAAK,EAAC,CAAC,IAAG0C,KAAErB,IAAE,WAAS,QAAMqB,GAAE,MAAM,MAAID,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEpB,IAAE,iBAAe,MAAIU,OAAG,QAAMA,IAAEV,IAAE,QAAQ,IAAGrB,IAAE,EAAC,MAAK,EAAC,CAAC,IAAGsC,KAAEjB,IAAE,WAAS,QAAMiB,GAAE,MAAM;AAAA,EAAG,CAAC,GAAEQ,KAAEtB,GAAE,CAAAiB,QAAG;AAAC,IAAAA,IAAE,eAAe,GAAEA,IAAE,gBAAgB;AAAA,EAAC,CAAC,GAAE,EAAC,gBAAeM,IAAE,YAAWC,GAAC,IAAE,0CAAG,EAAC,YAAWT,MAAErC,GAAE,cAAY,OAAKqC,MAAE,MAAE,CAAC,GAAE,EAAC,WAAUW,KAAE,YAAWC,GAAC,IAAE,0CAAG,EAAC,aAAYX,MAAEtC,GAAE,aAAW,OAAKsC,MAAE,MAAE,CAAC,GAAE,EAAC,SAAQY,IAAE,YAAWE,GAAC,IAAE,EAAG,GAAEC,MAAElC,IAAE,iBAAe,GAAEgC,UAAE,eAAAhB,SAAE,MAAI;AAAC,QAAII;AAAE,WAAM,EAAC,MAAKc,KAAE,QAAOH,MAAGG,KAAE,OAAML,KAAE,OAAMH,IAAE,YAAWN,MAAEvC,GAAE,cAAY,OAAKuC,MAAE,MAAE;AAAA,EAAC,GAAE,CAACc,KAAEL,KAAEH,IAAEK,IAAElD,GAAE,SAAS,CAAC,GAAEsD,KAAEjC,GAAGrB,IAAE0B,GAAC,GAAEX,KAAEgB,MAAE,EAAG,EAAC,KAAIE,KAAE,MAAKqB,IAAE,WAAUb,IAAE,SAAQE,GAAC,GAAEG,IAAEG,IAAEG,EAAC,IAAE,EAAG,EAAC,KAAIpB,KAAE,IAAGb,IAAE,UAAS,MAAKmC,IAAE,iBAAgBnC,IAAE,iBAAe,GAAE,iBAAgBA,IAAE,QAAMA,IAAE,UAAQ,QAAO,WAAUsB,IAAE,SAAQC,IAAE,SAAQC,IAAE,aAAYC,GAAC,GAAEE,IAAEG,IAAEG,EAAC,GAAE9B,MAAExB,IAAG,GAAEI,MAAEoB,GAAE,MAAI;AAAC,QAAIiB,MAAEpB,IAAE;AAAM,QAAG,CAACoB;AAAE;AAAO,aAASC,KAAG;AAAC,MAAAtC,GAAEoB,IAAE,SAAQ,EAAC,CAACO,IAAE,QAAQ,GAAE,MAAId,GAAEwB,KAAED,GAAE,KAAK,GAAE,CAACT,IAAE,SAAS,GAAE,MAAId,GAAEwB,KAAED,GAAE,IAAI,EAAC,CAAC,MAAIjB,GAAG,SAAON,GAAEmB,GAAG,EAAE,OAAO,CAAAwB,OAAGA,GAAE,QAAQ,yBAAuB,MAAM,GAAExD,GAAEoB,IAAE,SAAQ,EAAC,CAACO,IAAE,QAAQ,GAAES,GAAE,MAAK,CAACT,IAAE,SAAS,GAAES,GAAE,SAAQ,CAAC,GAAE,EAAC,YAAWnB,IAAE,OAAM,CAAC;AAAA,IAAC;AAAC,IAAAqB,GAAE;AAAA,EAAC,CAAC;AAAE,SAAO,eAAApB,QAAE,cAAc,eAAAA,QAAE,UAAS,MAAK,EAAE,EAAC,UAASL,IAAE,YAAWE,IAAE,MAAKkC,KAAE,YAAWI,KAAG,MAAK,iBAAgB,CAAC,GAAEF,OAAG,CAACtB,OAAGR,MAAG,eAAAH,QAAE,cAAcuC,IAAG,EAAC,IAAGhC,IAAE,UAASE,GAAG,WAAU,+BAA8B,MAAG,IAAG,UAAS,MAAK,UAAS,SAAQ3B,IAAC,CAAC,CAAC;AAAC;AAAC,IAAI0D,MAAG;AAAP,IAAaC,MAAG,EAAG,iBAAe,EAAG;AAAO,SAASC,IAAG9D,IAAEC,KAAE;AAAC,MAAIL,MAAEsD,GAAG,GAAE,EAAC,IAAGlC,KAAE,8BAA8BpB,GAAC,IAAG,GAAGqB,GAAC,IAAEjB,IAAE,CAAC,EAAC,cAAamB,IAAC,GAAErB,GAAC,IAAE,GAAG,iBAAiB,GAAEyB,KAAEH,GAAEnB,GAAC,GAAEyB,MAAExB,GAAG,GAAEyB,MAAG,MAAID,QAAI,QAAMA,MAAEM,GAAE,UAAQA,GAAE,OAAKb,QAAI,GAAG,GAAES,KAAEN,GAAE,CAAAS,QAAG;AAAC,QAAGQ,GAAGR,IAAE,aAAa;AAAE,aAAOA,IAAE,eAAe;AAAE,IAAAjC,IAAE,EAAC,MAAK,EAAC,CAAC;AAAA,EAAC,CAAC,GAAE+B,UAAE,eAAAM,SAAE,OAAK,EAAC,MAAKhB,QAAI,EAAC,IAAG,CAACA,GAAC,CAAC;AAAE,SAAO,EAAE,EAAC,UAAS,EAAC,KAAII,IAAE,IAAGP,IAAE,eAAc,MAAG,SAAQY,GAAC,GAAE,YAAWX,IAAE,MAAKY,KAAE,YAAW+B,KAAG,UAASC,KAAG,SAAQlC,IAAE,MAAK,kBAAiB,CAAC;AAAC;AAAC,IAAIoC,MAAG;AAAP,IAAaC,MAAG,EAAG,iBAAe,EAAG;AAAO,SAASC,IAAGjE,IAAEC,KAAE;AAAC,MAAIL,MAAEsD,GAAG,GAAE,EAAC,IAAGlC,KAAE,4BAA4BpB,GAAC,IAAG,OAAMqB,KAAE,OAAG,QAAOE,KAAE,OAAMrB,KAAE,GAAGyB,GAAC,IAAEvB,IAAE,CAAC0B,KAAEC,EAAC,IAAE,GAAG,eAAe,GAAE,EAAC,OAAMC,IAAE,aAAYC,IAAC,IAAEtB,IAAG,eAAe,GAAEuB,KAAE,oCAAoClC,GAAC,IAAGmC,MAAE,mCAAmCnC,GAAC,IAAGyB,UAAE,eAAAH,QAAE,IAAI,GAAE,CAACc,KAAEC,GAAC,IAAE,GAAGd,GAAC,GAAEe,MAAE,GAAG;AAAE,EAAAf,OAAG,QAAMrB,OAAG,OAAKA,MAAE,OAAGA,OAAG,SAAOA,MAAE;AAAI,MAAI2C,KAAErB,GAAEC,KAAEpB,KAAE+B,KAAE,CAAAjB,OAAG;AAAC,IAAAY,GAAE,EAAC,MAAK,GAAE,OAAMZ,GAAC,CAAC;AAAA,EAAC,CAAC,GAAE2B,KAAE5C,GAAGuB,GAAC,GAAEsB,KAAE,EAAG;AAAE,EAAA7C,GAAG,OAAK6B,GAAE,EAAC,MAAK,GAAE,SAAQX,GAAC,CAAC,GAAE,MAAI;AAAC,IAAAW,GAAE,EAAC,MAAK,GAAE,SAAQ,KAAI,CAAC;AAAA,EAAC,IAAG,CAACX,IAAEW,EAAC,CAAC;AAAE,MAAIiB,KAAE1C,GAAG,GAAE2C,MAAG,MAAID,OAAI,QAAMA,KAAEZ,GAAE,UAAQA,GAAE,OAAKN,IAAE,iBAAe,GAAG,GAAEoB,KAAExB,GAAE,CAAAP,OAAG;AAAC,QAAIO;AAAE,YAAOP,GAAE,KAAI;AAAA,MAAC,KAAKO,IAAE;AAAO,YAAGI,IAAE,iBAAe,KAAG,CAACL,IAAE,WAASqB,MAAG,QAAMA,GAAE,iBAAe,CAACrB,IAAE,QAAQ,SAASqB,GAAE,aAAa;AAAE;AAAO,QAAA3B,GAAE,eAAe,GAAEA,GAAE,gBAAgB,GAAEY,GAAE,EAAC,MAAK,EAAC,CAAC,IAAGL,MAAEI,IAAE,WAAS,QAAMJ,IAAE,MAAM;AAAE;AAAA,IAAK;AAAA,EAAC,CAAC;AAAE,qBAAAyB,WAAG,MAAI;AAAC,QAAIhC;AAAE,IAAAf,GAAE,UAAQ0B,IAAE,iBAAe,OAAKX,KAAEf,GAAE,YAAU,QAAMe,OAAIY,GAAE,EAAC,MAAK,GAAE,OAAM,KAAI,CAAC;AAAA,EAAC,GAAE,CAACD,IAAE,cAAa1B,GAAE,SAAQA,GAAE,QAAO2B,EAAC,CAAC,OAAE,eAAAoB,WAAG,MAAI;AAAC,QAAGrB,IAAE,cAAY,CAACT,MAAGS,IAAE,iBAAe,KAAG,CAACL,IAAE;AAAQ;AAAO,QAAIN,KAAE2B,MAAG,OAAK,SAAOA,GAAE;AAAc,IAAArB,IAAE,QAAQ,SAASN,EAAC,KAAGA,GAAEM,IAAE,SAAQiB,GAAE,KAAK;AAAA,EAAC,GAAE,CAACZ,IAAE,YAAWT,IAAEI,KAAEK,IAAE,YAAY,CAAC;AAAE,MAAIsB,UAAE,eAAAb,SAAE,OAAK,EAAC,MAAKT,IAAE,iBAAe,GAAE,OAAME,GAAC,IAAG,CAACF,KAAEE,EAAC,CAAC,GAAEqB,KAAE,EAAGf,IAAE,GAAE,EAAC,KAAIO,IAAE,IAAGzB,IAAE,WAAU8B,IAAE,QAAO7B,MAAGS,IAAE,iBAAe,IAAE,CAAAX,OAAG;AAAC,QAAIb,KAAEmC,KAAEC,KAAEC,KAAEC;AAAE,QAAIlB,MAAEP,GAAE;AAAc,IAAAO,OAAGD,IAAE,aAAWnB,MAAEmB,IAAE,YAAU,QAAMnB,IAAE,SAASoB,GAAC,MAAIK,GAAE,EAAC,MAAK,EAAC,CAAC,KAAIW,OAAGD,MAAEX,IAAE,oBAAoB,YAAU,OAAK,SAAOW,IAAE,aAAW,QAAMC,IAAE,KAAKD,KAAEf,GAAC,MAAIkB,MAAGD,MAAEb,IAAE,mBAAmB,YAAU,OAAK,SAAOa,IAAE,aAAW,QAAMC,GAAE,KAAKD,KAAEjB,GAAC,MAAIA,IAAE,MAAM,EAAC,eAAc,KAAE,CAAC;AAAA,EAAG,IAAE,QAAO,UAAS,IAAG,GAAGW,MAAE,EAAC,OAAMA,IAAC,IAAE,CAAC,EAAC,CAAC,GAAEiB,KAAEpD,IAAG,GAAEsD,KAAE9B,GAAE,MAAI;AAAC,QAAIP,KAAEM,IAAE;AAAQ,QAAG,CAACN;AAAE;AAAO,aAASO,MAAG;AAAC,MAAApB,GAAEgD,GAAE,SAAQ,EAAC,CAACrB,IAAE,QAAQ,GAAE,MAAI;AAAC,YAAIQ;AAAE,QAAAtB,GAAEA,IAAEuB,GAAE,KAAK,MAAIjB,GAAG,WAASgB,MAAEX,IAAE,mBAAmB,YAAU,QAAMW,IAAE,MAAM;AAAA,MAAE,GAAE,CAACR,IAAE,SAAS,GAAE,MAAI;AAAC,YAAI3B;AAAE,SAACA,MAAEwB,IAAE,WAAS,QAAMxB,IAAE,MAAM,EAAC,eAAc,KAAE,CAAC;AAAA,MAAC,EAAC,CAAC;AAAA,IAAC;AAAC,IAAAoB,IAAE;AAAA,EAAC,CAAC,GAAE+B,MAAE/B,GAAE,MAAI;AAAC,QAAIP,KAAEM,IAAE;AAAQ,QAAG,CAACN;AAAE;AAAO,aAASO,MAAG;AAAC,MAAApB,GAAEgD,GAAE,SAAQ,EAAC,CAACrB,IAAE,QAAQ,GAAE,MAAI;AAAC,YAAIO;AAAE,YAAG,CAACV,IAAE;AAAO;AAAO,YAAIxB,MAAEgC,GAAG,GAAEG,MAAEnC,IAAE,QAAQwB,IAAE,MAAM,GAAEY,MAAEpC,IAAE,MAAM,GAAEmC,MAAE,CAAC,GAAEG,KAAE,CAAC,GAAGtC,IAAE,MAAMmC,MAAE,CAAC,GAAE,GAAGC,GAAC;AAAE,iBAAQoB,MAAKlB,GAAE,MAAM;AAAE,cAAGkB,GAAE,QAAQ,yBAAuB,WAAStB,KAAEV,IAAE,UAAQ,QAAMU,GAAE,SAASsB,EAAC,GAAE;AAAC,gBAAIQ,MAAG1B,GAAE,QAAQkB,EAAC;AAAE,YAAAQ,QAAK,MAAI1B,GAAE,OAAO0B,KAAG,CAAC;AAAA,UAAC;AAAC,QAAAnD,GAAEyB,IAAEF,GAAE,OAAM,EAAC,QAAO,MAAE,CAAC;AAAA,MAAC,GAAE,CAACT,IAAE,SAAS,GAAE,MAAI;AAAC,YAAIQ;AAAE,QAAAtB,GAAEA,IAAEuB,GAAE,QAAQ,MAAIjB,GAAG,WAASgB,MAAEX,IAAE,WAAS,QAAMW,IAAE,MAAM;AAAA,MAAE,EAAC,CAAC;AAAA,IAAC;AAAC,IAAAf,IAAE;AAAA,EAAC,CAAC,GAAE6B,MAAErD,MAAEqE,MAAGhD,MAAEgC,KAAG,eAAAiB,UAAGd,KAAExD,MAAE,EAAC,mBAAkBqC,GAAG,MAAK,UAAS,EAAG,YAAW,SAAQT,IAAE,iBAAe,EAAC,IAAE,CAAC;AAAE,UAAOyB,QAAIA,MAAIA,QAAIgB,SAAMtC,MAAE,OAAI,eAAAT,QAAE,cAAcV,IAAG,UAAS,EAAC,OAAMM,GAAC,GAAE,eAAAI,QAAE,cAAcd,IAAG,UAAS,EAAC,OAAM,EAAC,OAAMsB,IAAE,aAAYC,IAAC,EAAC,GAAE,eAAAT,QAAE,cAAc+B,KAAE,EAAC,GAAGG,GAAC,GAAET,MAAGhB,OAAG,eAAAT,QAAE,cAAcuC,IAAG,EAAC,IAAG7B,IAAE,KAAIJ,IAAE,qBAAoB,UAASG,GAAG,WAAU,+BAA8B,MAAG,IAAG,UAAS,MAAK,UAAS,SAAQuB,GAAC,CAAC,GAAE,EAAE,EAAC,WAAUT,IAAE,UAASM,IAAE,YAAW1B,IAAE,MAAKyB,KAAE,YAAWe,KAAG,UAASC,KAAG,SAAQnB,IAAE,MAAK,gBAAe,CAAC,GAAEA,MAAGhB,OAAG,eAAAT,QAAE,cAAcuC,IAAG,EAAC,IAAG5B,KAAE,KAAIL,IAAE,oBAAmB,UAASG,GAAG,WAAU,+BAA8B,MAAG,IAAG,UAAS,MAAK,UAAS,SAAQwB,IAAC,CAAC,CAAC,CAAC,CAAC;AAAC;AAAC,IAAIgB,MAAG;AAAM,SAASC,IAAGtE,IAAEC,KAAE;AAAC,MAAIL,UAAE,eAAAsB,QAAE,IAAI,GAAEF,KAAEI,GAAExB,KAAEK,GAAC,GAAE,CAACgB,IAAEE,GAAC,QAAE,eAAAsC,UAAG,CAAC,CAAC,GAAE3D,MAAEsB,GAAG,GAAEG,KAAED,GAAE,CAAAU,QAAG;AAAC,IAAAb,IAAE,CAAAc,QAAG;AAAC,UAAIC,MAAED,IAAE,QAAQD,GAAC;AAAE,UAAGE,QAAI,IAAG;AAAC,YAAIO,KAAER,IAAE,MAAM;AAAE,eAAOQ,GAAE,OAAOP,KAAE,CAAC,GAAEO;AAAA,MAAC;AAAC,aAAOR;AAAA,IAAC,CAAC;AAAA,EAAC,CAAC,GAAEP,MAAEJ,GAAE,CAAAU,SAAIb,IAAE,CAAAc,QAAG,CAAC,GAAGA,KAAED,GAAC,CAAC,GAAE,MAAIT,GAAES,GAAC,EAAE,GAAEL,KAAEL,GAAE,MAAI;AAAC,QAAIY;AAAE,QAAIF,MAAEV,GAAG1B,GAAC;AAAE,QAAG,CAACoC;AAAE,aAAM;AAAG,QAAIC,MAAED,IAAE;AAAc,YAAOE,MAAEtC,IAAE,YAAU,QAAMsC,IAAE,SAASD,GAAC,IAAE,OAAGhB,GAAE,KAAK,CAAAwB,OAAG;AAAC,UAAIC,IAAEC;AAAE,eAAQD,KAAEV,IAAE,eAAeS,GAAE,SAAS,OAAO,MAAI,OAAK,SAAOC,GAAE,SAAST,GAAC,QAAMU,KAAEX,IAAE,eAAeS,GAAE,QAAQ,OAAO,MAAI,OAAK,SAAOE,GAAE,SAASV,GAAC;AAAA,IAAE,CAAC;AAAA,EAAC,CAAC,GAAEL,KAAEN,GAAE,CAAAU,QAAG;AAAC,aAAQC,OAAKhB;AAAE,MAAAgB,IAAE,SAAS,YAAUD,OAAGC,IAAE,MAAM;AAAA,EAAC,CAAC,GAAEJ,UAAE,eAAAM,SAAE,OAAK,EAAC,iBAAgBT,KAAE,mBAAkBH,IAAE,2BAA0BI,IAAE,aAAYC,IAAE,iBAAgB9B,IAAE,gBAAe,IAAG,CAAC4B,KAAEH,IAAEI,IAAEC,IAAE9B,IAAE,eAAe,CAAC,GAAEgC,SAAE,eAAAK,SAAE,OAAK,CAAC,IAAG,CAAC,CAAC,GAAEJ,MAAE/B,IAAEqB,MAAE,EAAC,KAAIL,GAAC;AAAE,SAAO,eAAAI,QAAE,cAAcZ,IAAG,UAAS,EAAC,OAAMqB,IAAC,GAAE,EAAE,EAAC,UAASR,KAAE,YAAWU,KAAE,MAAKD,IAAE,YAAWuC,KAAG,MAAK,gBAAe,CAAC,GAAE,eAAAjD,QAAE,cAActB,IAAE,cAAa,IAAI,CAAC;AAAC;AAAC,IAAIyE,MAAG,EAAEzD,GAAE;AAAX,IAAa0D,MAAG,EAAEhB,GAAE;AAApB,IAAsBiB,MAAG,EAAEX,GAAE;AAA7B,IAA+BY,MAAG,EAAET,GAAE;AAAtC,IAAwCU,MAAG,EAAEL,GAAE;AAA/C,IAAiD,KAAG,OAAO,OAAOC,KAAG,EAAC,QAAOC,KAAG,SAAQC,KAAG,OAAMC,KAAG,OAAMC,IAAE,CAAC;;;ACA3yY,IAAAC,iBAA8G;AAAkuC,IAAIC,OAAI,CAAAC,SAAIA,IAAEA,IAAE,iBAAe,CAAC,IAAE,kBAAiBA,IAAEA,IAAE,mBAAiB,CAAC,IAAE,oBAAmBA,MAAID,OAAI,CAAC,CAAC;AAAE,IAAIE,MAAG,EAAC,CAAC,CAAC,EAAEC,IAAEC,KAAE;AAAC,MAAIH,MAAE,CAAC,GAAGE,GAAE,SAAQ,EAAC,IAAGC,IAAE,IAAG,SAAQA,IAAE,SAAQ,UAASA,IAAE,SAAQ,CAAC;AAAE,SAAM,EAAC,GAAGD,IAAE,SAAQ,EAAGF,KAAE,CAAAI,QAAGA,IAAE,QAAQ,OAAO,EAAC;AAAC,GAAE,CAAC,CAAC,EAAEF,IAAEC,KAAE;AAAC,MAAIH,MAAEE,GAAE,QAAQ,MAAM,GAAEE,MAAEF,GAAE,QAAQ,UAAU,CAAAG,QAAGA,IAAE,OAAKF,IAAE,EAAE;AAAE,SAAOC,QAAI,KAAGF,MAAGF,IAAE,OAAOI,KAAE,CAAC,GAAE,EAAC,GAAGF,IAAE,SAAQF,IAAC;AAAE,EAAC;AAA/P,IAAiQM,SAAE,eAAAC,eAAE,IAAI;AAAED,GAAE,cAAY;AAAwB,SAASE,GAAEN,IAAE;AAAC,MAAIC,UAAE,eAAAM,YAAGH,EAAC;AAAE,MAAGH,QAAI,MAAK;AAAC,QAAIH,MAAE,IAAI,MAAM,IAAIE,EAAC,mDAAmD;AAAE,UAAM,MAAM,qBAAmB,MAAM,kBAAkBF,KAAEQ,EAAC,GAAER;AAAA,EAAC;AAAC,SAAOG;AAAC;AAAC,IAAIO,SAAE,eAAAH,eAAE,IAAI;AAAEG,GAAE,cAAY;AAA2B,SAASC,GAAET,IAAE;AAAC,MAAIC,UAAE,eAAAM,YAAGC,EAAC;AAAE,MAAGP,QAAI,MAAK;AAAC,QAAIH,MAAE,IAAI,MAAM,IAAIE,EAAC,mDAAmD;AAAE,UAAM,MAAM,qBAAmB,MAAM,kBAAkBF,KAAEW,EAAC,GAAEX;AAAA,EAAC;AAAC,SAAOG;AAAC;AAAC,SAASS,IAAGV,IAAEC,KAAE;AAAC,SAAOU,GAAGV,IAAE,MAAKF,KAAGC,IAAEC,GAAC;AAAC;AAAC,IAAIW,MAAG;AAAM,SAASC,IAAGb,IAAEC,KAAE;AAAC,MAAIH,MAAEgB,GAAE,GAAEZ,MAAEA,GAAG,GAAE,EAAC,IAAGC,MAAE,yBAAyBL,GAAC,IAAG,OAAMiB,IAAE,cAAaC,IAAE,MAAKL,KAAE,MAAKM,KAAE,UAASC,IAAE,IAAGJ,IAAE,UAASK,MAAEjB,OAAG,OAAG,GAAGkB,IAAC,IAAEpB,IAAEqB,MAAEA,GAAGP,EAAC,GAAE,CAACQ,KAAEC,EAAC,QAAE,eAAAC,YAAGd,KAAG,EAAC,SAAQ,CAAC,EAAC,CAAC,GAAEe,MAAEH,IAAE,SAAQ,CAACI,IAAEC,GAAC,IAAEP,GAAG,GAAE,CAACQ,IAAEC,EAAC,IAAE,EAAG,GAAEC,UAAE,eAAAC,QAAE,IAAI,GAAEC,KAAE7B,GAAE2B,KAAE7B,GAAC,GAAE,CAACgC,KAAEC,EAAC,IAAEb,GAAGN,IAAEG,IAAEF,EAAC,GAAEmB,SAAE,eAAAC,SAAE,MAAIX,IAAE,KAAK,CAAAY,QAAG,CAACA,IAAE,SAAS,QAAQ,QAAQ,GAAE,CAACZ,GAAC,CAAC,GAAEa,SAAE,eAAAF,SAAE,MAAIX,IAAE,KAAK,CAAAY,QAAGhB,IAAEgB,IAAE,SAAS,QAAQ,OAAMJ,GAAC,CAAC,GAAE,CAACR,KAAEQ,GAAC,CAAC,GAAEM,MAAEtC,GAAE,CAAAoC,QAAG;AAAC,QAAIG;AAAE,QAAGrB,OAAGE,IAAEgB,KAAEJ,GAAC;AAAE,aAAM;AAAG,QAAIQ,MAAGD,MAAEf,IAAE,KAAK,CAAAiB,OAAGrB,IAAEqB,GAAE,SAAS,QAAQ,OAAML,GAAC,CAAC,MAAI,OAAK,SAAOG,IAAE,SAAS;AAAQ,WAAOC,MAAG,QAAMA,GAAE,WAAS,SAAIP,MAAG,QAAMA,GAAEG,GAAC,GAAE;AAAA,EAAG,CAAC,GAAEM,MAAE1C,GAAE,CAAAoC,QAAG;AAAC,QAAII,KAAEX,IAAE;AAAQ,QAAG,CAACW;AAAE;AAAO,QAAID,MAAEvC,GAAGwC,EAAC,GAAEC,KAAEjB,IAAE,OAAO,CAAAmB,OAAGA,GAAE,SAAS,QAAQ,aAAW,KAAE,EAAE,IAAI,CAAAA,OAAGA,GAAE,QAAQ,OAAO;AAAE,YAAOP,IAAE,KAAI;AAAA,MAAC,KAAKpC,IAAE;AAAM,QAAAiB,GAAGmB,IAAE,aAAa;AAAE;AAAA,MAAM,KAAKpC,IAAE;AAAA,MAAU,KAAKA,IAAE;AAAQ,YAAGoC,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEC,GAAGI,IAAEG,GAAE,WAASA,GAAE,UAAU,MAAIxB,GAAG,SAAQ;AAAC,cAAIyB,KAAErB,IAAE,KAAK,CAAAsB,OAAGA,GAAE,QAAQ,aAAWP,OAAG,OAAK,SAAOA,IAAE,cAAc;AAAE,UAAAM,MAAGP,IAAEO,GAAE,SAAS,QAAQ,KAAK;AAAA,QAAC;AAAC;AAAA,MAAM,KAAK7C,IAAE;AAAA,MAAW,KAAKA,IAAE;AAAU,YAAGoC,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEC,GAAGI,IAAEG,GAAE,OAAKA,GAAE,UAAU,MAAIxB,GAAG,SAAQ;AAAC,cAAIyB,KAAErB,IAAE,KAAK,CAAAsB,OAAGA,GAAE,QAAQ,aAAWP,OAAG,OAAK,SAAOA,IAAE,cAAc;AAAE,UAAAM,MAAGP,IAAEO,GAAE,SAAS,QAAQ,KAAK;AAAA,QAAC;AAAC;AAAA,MAAM,KAAK7C,IAAE;AAAM;AAAC,UAAAoC,IAAE,eAAe,GAAEA,IAAE,gBAAgB;AAAE,cAAIO,KAAEnB,IAAE,KAAK,CAAAqB,OAAGA,GAAE,QAAQ,aAAWN,OAAG,OAAK,SAAOA,IAAE,cAAc;AAAE,UAAAI,MAAGL,IAAEK,GAAE,SAAS,QAAQ,KAAK;AAAA,QAAC;AAAC;AAAA,IAAK;AAAA,EAAC,CAAC,GAAEI,KAAE/C,GAAE,CAAAoC,SAAId,GAAE,EAAC,MAAK,GAAE,GAAGc,IAAC,CAAC,GAAE,MAAId,GAAE,EAAC,MAAK,GAAE,IAAGc,IAAE,GAAE,CAAC,EAAE,GAAEY,UAAG,eAAAb,SAAE,OAAK,EAAC,OAAMH,KAAE,aAAYE,IAAE,uBAAsBG,IAAE,UAASnB,KAAE,SAAQE,KAAE,GAAGC,IAAC,IAAG,CAACW,KAAEE,IAAEG,IAAEnB,KAAEE,KAAEC,GAAC,CAAC,GAAE4B,UAAG,eAAAd,SAAE,OAAK,EAAC,gBAAeY,IAAE,QAAOT,IAAC,IAAG,CAACS,IAAET,GAAC,CAAC,GAAEY,MAAG,EAAC,KAAInB,IAAE,IAAG7B,KAAE,MAAK,cAAa,mBAAkBuB,IAAE,oBAAmBE,IAAE,WAAUe,IAAC,GAAES,UAAG,eAAAhB,SAAE,OAAK,EAAC,OAAMH,IAAC,IAAG,CAACA,GAAC,CAAC,GAAEoB,UAAG,eAAAC,aAAG,MAAIf,IAAEvB,EAAC,GAAE,CAACuB,GAAC,CAAC;AAAE,SAAO,eAAAgB,QAAE,cAAc1B,IAAE,EAAC,MAAK,yBAAwB,GAAE,eAAA0B,QAAE,cAAc5B,KAAE,EAAC,MAAK,mBAAkB,GAAE,eAAA4B,QAAE,cAAc/C,GAAE,UAAS,EAAC,OAAM0C,IAAE,GAAE,eAAAK,QAAE,cAAcnD,GAAE,UAAS,EAAC,OAAM6C,IAAE,GAAEhC,OAAG,QAAM,eAAAsC,QAAE,cAAcvB,IAAG,EAAC,MAAKC,OAAG,OAAK,EAAC,CAAChB,GAAC,GAAEgB,OAAG,KAAI,IAAE,CAAC,GAAE,MAAKtB,KAAE,SAAQ0C,IAAE,CAAC,GAAE,EAAE,EAAC,UAASF,KAAG,YAAW/B,KAAE,MAAKgC,KAAG,YAAWxC,KAAG,MAAK,aAAY,CAAC,CAAC,CAAC,CAAC,CAAC;AAAC;AAAC,IAAI4C,MAAG;AAAM,SAASC,IAAGzD,IAAEC,KAAE;AAAC,MAAIqC,IAAEC;AAAE,MAAIzC,MAAEgB,GAAE,GAAE,EAAC,IAAGZ,MAAE,gCAAgCJ,GAAC,IAAG,OAAMK,KAAE,UAASY,KAAE,OAAG,GAAGC,GAAC,IAAEhB,IAAEW,UAAE,eAAAoB,QAAE,IAAI,GAAEd,MAAEd,GAAEQ,KAAEV,GAAC,GAAE,CAACiB,IAAEJ,EAAC,IAAEM,GAAG,GAAE,CAACD,KAAEC,GAAC,IAAE,EAAG,GAAEC,MAAEM,GAAG,EAAC,OAAMxB,KAAE,UAASY,GAAC,CAAC,GAAEO,MAAEhB,GAAE,mBAAmB,GAAEiB,KAAEd,GAAE,mBAAmB;AAAE,EAAAwB,GAAG,MAAIV,GAAE,eAAe,EAAC,IAAGrB,KAAE,SAAQS,KAAE,UAASU,IAAC,CAAC,GAAE,CAACnB,KAAEqB,IAAEZ,KAAEU,GAAC,CAAC;AAAE,MAAII,MAAExB,GAAE,CAAA0C,QAAG;AAAC,QAAIK;AAAE,QAAGX,GAAGM,IAAE,aAAa;AAAE,aAAOA,IAAE,eAAe;AAAE,IAAApB,GAAE,OAAOpB,GAAC,OAAK6C,KAAErC,IAAE,YAAU,QAAMqC,GAAE,MAAM;AAAA,EAAE,CAAC,GAAEtB,OAAIY,KAAEhB,IAAE,gBAAc,OAAK,SAAOgB,GAAE,QAAMpC,KAAEyB,MAAEL,IAAE,YAAUP,IAAE,EAAC,gBAAea,IAAE,YAAWC,GAAC,IAAE,0CAAE,EAAC,QAAO,MAAG,YAAWU,MAAEvC,GAAE,cAAY,OAAKuC,MAAE,MAAE,CAAC,GAAE,EAAC,WAAUT,KAAE,YAAWE,GAAC,IAAE,0CAAE,EAAC,YAAWL,OAAG,OAAKA,MAAE,MAAE,CAAC,GAAEM,MAAEX,IAAE,QAAQA,IAAE,OAAMnB,GAAC,GAAE+B,KAAE,EAAG,EAAC,KAAIjB,KAAE,IAAGf,KAAE,MAAK,SAAQ,gBAAe+B,MAAE,SAAO,SAAQ,mBAAkBf,IAAE,oBAAmBC,KAAE,iBAAgBQ,MAAE,OAAG,QAAO,WAAU,MAAIA,MAAE,KAAGM,OAAG,CAACX,IAAE,yBAAuBI,KAAE,IAAE,IAAI,GAAE,SAAQC,MAAE,SAAOF,IAAC,GAAEI,IAAEG,EAAC,GAAEG,SAAE,eAAAC,SAAE,MAAI;AAAC,QAAIO;AAAE,WAAM,EAAC,SAAQV,KAAE,UAASN,KAAE,QAAOC,IAAE,OAAME,KAAE,OAAMF,IAAE,YAAWe,MAAE3C,GAAE,cAAY,OAAK2C,MAAE,MAAE;AAAA,EAAC,GAAE,CAACV,KAAEN,KAAEG,KAAEF,IAAE5B,GAAE,SAAS,CAAC;AAAE,SAAO,eAAAuD,QAAE,cAAcnC,KAAE,EAAC,MAAK,yBAAwB,GAAE,eAAAmC,QAAE,cAAczC,IAAE,EAAC,MAAK,mBAAkB,GAAE,EAAE,EAAC,UAASoB,IAAE,YAAWlB,IAAE,MAAKmB,IAAE,YAAWqB,KAAG,MAAK,oBAAmB,CAAC,CAAC,CAAC;AAAC;AAAC,IAAIE,MAAG;AAAO,SAASC,IAAG3D,IAAEC,KAAE;AAAC,MAAIkC,IAAEG;AAAE,MAAIxC,MAAEQ,GAAE,OAAO,GAAEJ,MAAEO,GAAE,OAAO,GAAEN,MAAEW,GAAE,GAAEC,KAAEJ,GAAG,GAAEK,KAAEd,GAAG,GAAE,EAAC,IAAGS,MAAEI,MAAG,oBAAoBZ,GAAC,IAAG,OAAMc,KAAE,UAASC,KAAEpB,IAAE,YAAUkB,MAAG,OAAG,GAAGF,GAAC,IAAEd,IAAEmB,UAAE,eAAAY,QAAE,IAAI,GAAEX,MAAEjB,GAAEgB,KAAElB,GAAC,GAAEoB,MAAEP,GAAG,GAAEQ,MAAEF,GAAG,GAAEG,KAAEI,GAAG,EAAC,OAAMV,KAAE,UAASC,GAAC,CAAC;AAAE,EAAAe,GAAG,MAAI/B,IAAE,eAAe,EAAC,IAAGS,KAAE,SAAQQ,KAAE,UAASI,GAAC,CAAC,GAAE,CAACZ,KAAET,KAAEiB,KAAEI,EAAC,CAAC;AAAE,MAAIE,MAAExB,GAAE,CAAAsC,QAAG;AAAC,QAAII;AAAE,QAAGN,GAAGE,IAAE,aAAa;AAAE,aAAOA,IAAE,eAAe;AAAE,IAAArC,IAAE,OAAOe,GAAC,OAAK0B,MAAExB,IAAE,YAAU,QAAMwB,IAAE,MAAM;AAAA,EAAE,CAAC,GAAE,EAAC,gBAAejB,IAAE,YAAWC,IAAC,IAAE,0CAAE,EAAC,YAAWQ,KAAEnC,GAAE,cAAY,OAAKmC,KAAE,MAAE,CAAC,GAAE,EAAC,WAAUP,IAAE,YAAWC,GAAC,IAAE,0CAAE,EAAC,YAAWX,MAAG,OAAKA,KAAE,MAAE,CAAC,GAAEY,QAAIQ,KAAExC,IAAE,gBAAc,OAAK,SAAOwC,GAAE,QAAM3B,KAAEqB,KAAElC,IAAE,QAAQA,IAAE,OAAMmB,GAAC,GAAEgB,MAAE,EAAG,EAAC,KAAIb,KAAE,IAAGT,KAAE,MAAK,SAAQ,gBAAeqB,KAAE,SAAO,SAAQ,mBAAkBX,KAAE,oBAAmBC,KAAE,iBAAgBJ,KAAE,OAAG,QAAO,WAAU,MAAIA,KAAE,KAAGc,MAAG,CAAClC,IAAE,yBAAuBgC,MAAE,IAAE,IAAI,GAAE,SAAQZ,KAAE,SAAOO,IAAC,GAAEE,KAAEE,EAAC,GAAEK,SAAE,eAAAE,SAAE,MAAI;AAAC,QAAIG;AAAE,WAAM,EAAC,SAAQP,IAAE,UAASd,IAAE,OAAMU,IAAE,OAAMF,IAAE,YAAWa,MAAEvC,GAAE,cAAY,OAAKuC,MAAE,MAAE;AAAA,EAAC,GAAE,CAACP,IAAEd,IAAEU,IAAEF,IAAE1B,GAAE,SAAS,CAAC;AAAE,SAAO,EAAE,EAAC,UAASiC,KAAE,YAAWnB,IAAE,MAAKoB,IAAE,YAAWwB,KAAG,MAAK,QAAO,CAAC;AAAC;AAAC,IAAIE,MAAG,EAAE/C,GAAE;AAAX,IAAagD,MAAG,EAAEJ,GAAE;AAApB,IAAsBK,MAAG,EAAEH,GAAE;AAA7B,IAA+BI,MAAG;AAAlC,IAAqCC,MAAGnC;AAAxC,IAA2CoC,MAAG,OAAO,OAAOL,KAAG,EAAC,QAAOC,KAAG,OAAME,KAAG,aAAYC,IAAE,CAAC;;;ACA91M,IAAAE,iBAAwB;AAA2a,IAAIC,KAAE;AAAS,SAASC,GAAEC,KAAEC,KAAE;AAAC,MAAIC;AAAE,MAAIC,MAAEC,GAAE,GAAEC,KAAEC,GAAE,GAAEC,MAAEL,GAAE,GAAE,EAAC,IAAGI,MAAED,MAAG,qBAAqBF,GAAC,IAAG,UAASK,KAAED,OAAG,OAAG,SAAQE,MAAE,OAAG,GAAGC,IAAC,IAAEV,KAAEW,MAAEP,GAAE,GAAEQ,MAAEC,GAAE,GAAE,EAAC,gBAAeC,KAAE,YAAWC,IAAC,IAAE,0CAAE,EAAC,QAAO,MAAG,YAAWb,MAAEF,IAAE,cAAY,OAAKE,MAAE,MAAE,CAAC,GAAE,EAAC,WAAUc,KAAE,YAAWC,IAAC,IAAE,0CAAE,EAAC,YAAWT,MAAG,OAAKA,KAAE,MAAE,CAAC,GAAE,EAAC,SAAQU,KAAE,YAAWC,GAAC,IAAE,EAAE,GAAEC,KAAE,EAAE,EAAC,KAAInB,KAAE,IAAGK,KAAE,mBAAkBK,KAAE,oBAAmBC,KAAE,gBAAeH,MAAE,KAAG,QAAO,UAASD,MAAG,OAAM,GAAEO,KAAEE,KAAEE,EAAC,GAAEE,SAAE,eAAAC,SAAE,MAAI;AAAC,QAAIC;AAAE,WAAM,EAAC,UAASf,IAAE,SAAQC,KAAE,OAAMO,KAAE,OAAMF,KAAE,QAAOI,KAAE,YAAWK,MAAEvB,IAAE,cAAY,OAAKuB,MAAE,MAAE;AAAA,EAAC,GAAE,CAACf,IAAEC,KAAEO,KAAEF,KAAEI,KAAElB,IAAE,SAAS,CAAC;AAAE,SAAO,EAAE,EAAC,UAASoB,IAAE,YAAWV,KAAE,MAAKW,IAAE,YAAWvB,IAAE,MAAK,SAAQ,CAAC;AAAC;AAAC,IAAI0B,KAAE,EAAEzB,EAAC;;;ACA7jC,IAAA0B,iBAAuH;AAAghC,IAAIC,SAAE,eAAAC,eAAE,IAAI;AAAED,GAAE,cAAY;AAAe,IAAIE,MAAG,eAAAC;AAAE,SAASC,IAAGC,KAAE;AAAC,MAAIC;AAAE,MAAG,CAACC,KAAEC,GAAC,QAAE,eAAAC,UAAE,IAAI,GAAE,CAACC,KAAEC,GAAC,IAAEC,GAAG,GAAE,CAACC,IAAEC,GAAC,IAAE,EAAG,GAAEC,SAAE,eAAAC,SAAE,OAAK,EAAC,QAAOT,KAAE,WAAUC,IAAC,IAAG,CAACD,KAAEC,GAAC,CAAC,GAAES,MAAE,CAAC,GAAEC,MAAEb;AAAE,SAAO,eAAAc,QAAE,cAAcL,KAAE,EAAC,MAAK,sBAAqB,OAAMD,GAAC,GAAE,eAAAM,QAAE,cAAcR,KAAE,EAAC,MAAK,gBAAe,OAAMD,KAAE,OAAM,EAAC,UAASJ,MAAES,GAAE,WAAS,OAAK,SAAOT,IAAE,IAAG,QAAQc,KAAE;AAAC,IAAAb,QAAIa,IAAE,yBAAyB,oBAAkBA,IAAE,eAAe,GAAEb,IAAE,MAAM,GAAEA,IAAE,MAAM,EAAC,eAAc,KAAE,CAAC;AAAA,EAAE,EAAC,EAAC,GAAE,eAAAY,QAAE,cAAcnB,GAAE,UAAS,EAAC,OAAMe,GAAC,GAAE,EAAE,EAAC,UAASE,KAAE,YAAWC,KAAE,MAAK,CAAC,GAAE,YAAWhB,KAAG,MAAK,eAAc,CAAC,CAAC,CAAC,CAAC;AAAC;AAAC,IAAImB,MAAG;AAAS,SAASC,IAAGjB,KAAEE,KAAE;AAAC,MAAIgB;AAAE,MAAIf,MAAEgB,GAAG,GAAEd,MAAEU,GAAG,GAAET,MAAEc,GAAG,GAAE,EAAC,IAAGZ,KAAEH,OAAG,qBAAqBF,GAAC,IAAG,UAASM,MAAEH,OAAG,OAAG,SAAQI,IAAE,gBAAeE,MAAE,OAAG,UAASC,KAAE,MAAKZ,KAAE,OAAMc,KAAE,MAAKM,KAAE,GAAGC,GAAC,IAAEtB,KAAEuB,UAAE,eAAAC,YAAE7B,EAAC,GAAE8B,SAAE,eAAAC,QAAE,IAAI,GAAEC,KAAEJ,GAAGE,IAAEvB,KAAEqB,QAAI,OAAK,OAAKA,IAAE,SAAS,GAAE,CAACH,KAAEQ,GAAC,IAAEf,GAAGH,IAAEG,KAAED,GAAC,GAAEiB,KAAEnB,GAAG,GAAE,CAACH,KAAEuB,EAAC,QAAE,eAAA1B,UAAE,KAAE,GAAE2B,KAAE/B,GAAE,MAAI;AAAC,IAAA8B,GAAE,IAAE,GAAEF,OAAG,QAAMA,IAAE,CAACR,GAAC,GAAES,GAAE,UAAU,MAAI;AAAC,MAAAC,GAAE,KAAE;AAAA,IAAC,CAAC;AAAA,EAAC,CAAC,GAAEE,KAAEhC,GAAE,CAAAiC,OAAG;AAAC,QAAG/B,GAAG+B,GAAE,aAAa;AAAE,aAAOA,GAAE,eAAe;AAAE,IAAAA,GAAE,eAAe,GAAEF,GAAE;AAAA,EAAC,CAAC,GAAEG,KAAElC,GAAE,CAAAiC,OAAG;AAAC,IAAAA,GAAE,QAAMjC,IAAE,SAAOiC,GAAE,eAAe,GAAEF,GAAE,KAAGE,GAAE,QAAMjC,IAAE,SAAOU,GAAGuB,GAAE,aAAa;AAAA,EAAC,CAAC,GAAEE,KAAEnC,GAAE,CAAAiC,OAAGA,GAAE,eAAe,CAAC,GAAEG,KAAEjB,GAAG,GAAEA,KAAEZ,GAAG,GAAE,EAAC,gBAAe8B,IAAE,YAAWC,GAAC,IAAE,0CAAE,EAAC,YAAWpB,KAAElB,IAAE,cAAY,OAAKkB,KAAE,MAAE,CAAC,GAAE,EAAC,WAAUqB,IAAE,YAAWC,GAAC,IAAE,0CAAE,EAAC,YAAW/B,OAAG,OAAKA,MAAE,MAAE,CAAC,GAAE,EAAC,SAAQgC,KAAE,YAAWC,GAAC,IAAE,EAAE,GAAEC,SAAE,eAAAhC,SAAE,MAAI;AAAC,QAAIsB;AAAE,WAAM,EAAC,SAAQb,KAAE,UAASX,KAAE,OAAM8B,IAAE,OAAMF,IAAE,QAAOI,KAAE,YAAWR,KAAEjC,IAAE,cAAY,OAAKiC,KAAE,OAAG,UAAS1B,IAAC;AAAA,EAAC,GAAE,CAACa,KAAEmB,IAAEF,IAAEI,KAAEhC,KAAEF,KAAEP,IAAE,SAAS,CAAC,GAAE4C,KAAE,EAAG,EAAC,IAAGpC,IAAE,KAAImB,IAAE,MAAK,UAAS,MAAKd,GAAGb,KAAEyB,EAAC,GAAE,UAAS,GAAE,gBAAeL,KAAE,mBAAkBgB,IAAE,oBAAmBjB,IAAE,UAASV,KAAE,SAAQuB,IAAE,SAAQE,IAAE,YAAWC,GAAC,GAAEG,IAAEE,IAAEE,EAAC,GAAEG,SAAE,eAAAC,aAAE,MAAIlB,OAAG,OAAK,SAAOA,IAAEhB,GAAC,GAAE,CAACgB,GAAC,CAAC;AAAE,SAAO,eAAAd,QAAE,cAAc,eAAAA,QAAE,UAAS,MAAKb,OAAG,QAAM,eAAAa,QAAE,cAAc4B,IAAG,EAAC,MAAKtB,MAAE,EAAC,CAACnB,GAAC,GAAEc,OAAG,KAAI,IAAE,CAAC,GAAE,MAAKM,KAAE,SAAQwB,GAAC,CAAC,GAAE,EAAE,EAAC,UAASD,IAAE,YAAWtB,IAAE,MAAKqB,IAAE,YAAW3B,KAAG,MAAK,SAAQ,CAAC,CAAC;AAAC;AAAC,IAAI+B,MAAG,EAAG9B,GAAE;AAAZ,IAAc+B,MAAGjD;AAAjB,IAAoBkD,MAAG;AAAvB,IAA0BC,MAAGf;AAA7B,IAAgCgB,MAAG,OAAO,OAAOJ,KAAG,EAAC,OAAMC,KAAG,OAAMC,KAAG,aAAYC,IAAE,CAAC;;;ACAl8F,IAAAE,iBAA4G;;;ACAhO,IAAAC,iBAA4B;AAA2H,SAASC,GAAE,EAAC,SAAQC,IAAC,GAAE;AAAC,MAAG,CAACC,KAAEC,GAAC,QAAE,eAAAC,UAAE,IAAE,GAAEC,MAAEC,IAAE;AAAE,SAAOJ,MAAE,eAAAK,QAAE,cAAcC,IAAE,EAAC,IAAG,UAAS,MAAK,UAAS,UAASD,GAAE,WAAU,SAAQ,CAAAE,QAAG;AAAC,IAAAA,IAAE,eAAe;AAAE,QAAIC,IAAEC,MAAE;AAAG,aAASC,MAAG;AAAC,UAAGD,SAAK,GAAE;AAAC,QAAAD,MAAG,qBAAqBA,EAAC;AAAE;AAAA,MAAM;AAAC,UAAGT,IAAE,GAAE;AAAC,YAAG,qBAAqBS,EAAC,GAAE,CAACL,IAAE;AAAQ;AAAO,QAAAF,IAAE,KAAE;AAAE;AAAA,MAAM;AAAC,MAAAO,KAAE,sBAAsBE,GAAC;AAAA,IAAC;AAAC,IAAAF,KAAE,sBAAsBE,GAAC;AAAA,EAAC,EAAC,CAAC,IAAE;AAAI;;;ACAlf,IAAAC,MAAgB;AAAQ,IAAMC,MAAI,kBAAc,IAAI;AAAE,SAASC,MAAG;AAAC,SAAM,EAAC,QAAO,oBAAI,OAAI,IAAIC,KAAEC,KAAE;AAAC,QAAIC;AAAE,QAAIC,KAAE,KAAK,OAAO,IAAIH,GAAC;AAAE,IAAAG,OAAIA,KAAE,oBAAI,OAAI,KAAK,OAAO,IAAIH,KAAEG,EAAC;AAAG,QAAIC,OAAGF,MAAEC,GAAE,IAAIF,GAAC,MAAI,OAAKC,MAAE;AAAE,IAAAC,GAAE,IAAIF,KAAEG,MAAE,CAAC;AAAE,QAAIC,MAAE,MAAM,KAAKF,GAAE,KAAK,CAAC,EAAE,QAAQF,GAAC;AAAE,aAASK,MAAG;AAAC,UAAIC,MAAEJ,GAAE,IAAIF,GAAC;AAAE,MAAAM,MAAE,IAAEJ,GAAE,IAAIF,KAAEM,MAAE,CAAC,IAAEJ,GAAE,OAAOF,GAAC;AAAA,IAAC;AAAC,WAAM,CAACI,KAAEC,GAAC;AAAA,EAAC,EAAC;AAAC;AAAC,SAASE,GAAE,EAAC,UAASR,IAAC,GAAE;AAAC,MAAIC,MAAI,WAAOF,IAAE,CAAC;AAAE,SAAS,kBAAcD,IAAE,UAAS,EAAC,OAAMG,IAAC,GAAED,GAAC;AAAC;AAAC,SAASS,IAAET,KAAE;AAAC,MAAIC,MAAI,eAAWH,GAAC;AAAE,MAAG,CAACG;AAAE,UAAM,IAAI,MAAM,sDAAsD;AAAE,MAAIE,KAAEO,IAAE,GAAE,CAACN,KAAEC,GAAC,IAAEJ,IAAE,QAAQ,IAAID,KAAEG,EAAC;AAAE,SAAS,cAAU,MAAIE,KAAE,CAAC,CAAC,GAAED;AAAC;AAAC,SAASM,MAAG;AAAC,MAAIN,KAAEC,KAAEC;AAAE,MAAIN,OAAGM,OAAGD,OAAGD,MAAI,2DAAqD,OAAK,SAAOA,IAAE,sBAAoB,OAAK,SAAOC,IAAE,YAAU,OAAKC,MAAE;AAAK,MAAG,CAACN;AAAE,WAAO,OAAO;AAAE,MAAIC,MAAE,CAAC,GAAEE,KAAEH;AAAE,SAAKG;AAAG,IAAAF,IAAE,KAAKE,GAAE,KAAK,GAAEA,KAAEA,GAAE;AAAO,SAAM,OAAKF,IAAE,KAAK,GAAG;AAAC;;;AFAyc,IAAIU,OAAI,CAAAC,SAAIA,IAAEA,IAAE,WAAS,CAAC,IAAE,YAAWA,IAAEA,IAAE,YAAU,CAAC,IAAE,aAAYA,MAAID,OAAI,CAAC,CAAC;AAA9E,IAAgFE,OAAI,CAAAC,SAAIA,IAAEA,IAAE,OAAK,EAAE,IAAE,QAAOA,IAAEA,IAAE,QAAM,CAAC,IAAE,SAAQA,IAAEA,IAAE,UAAQ,CAAC,IAAE,WAAUA,MAAID,OAAI,CAAC,CAAC;AAApK,IAAsKE,OAAI,CAAAC,SAAIA,IAAEA,IAAE,mBAAiB,CAAC,IAAE,oBAAmBA,IAAEA,IAAE,cAAY,CAAC,IAAE,eAAcA,IAAEA,IAAE,gBAAc,CAAC,IAAE,iBAAgBA,IAAEA,IAAE,gBAAc,CAAC,IAAE,iBAAgBA,IAAEA,IAAE,kBAAgB,CAAC,IAAE,mBAAkBA,MAAID,OAAI,CAAC,CAAC;AAAE,IAAIE,MAAG,EAAC,CAAC,CAAC,EAAEC,IAAEC,KAAE;AAAC,MAAIC;AAAE,MAAIR,MAAE,EAAEM,GAAE,MAAK,CAAAG,QAAGA,IAAE,OAAO,GAAEP,MAAE,EAAEI,GAAE,QAAO,CAAAG,QAAGA,IAAE,OAAO,GAAEC,MAAEV,IAAE,OAAO,CAAAS,QAAG;AAAC,QAAIE;AAAE,WAAM,GAAGA,MAAEF,IAAE,YAAU,QAAME,IAAE,aAAa,UAAU;AAAA,EAAE,CAAC,GAAEP,MAAE,EAAC,GAAGE,IAAE,MAAKN,KAAE,QAAOE,IAAC;AAAE,MAAGK,IAAE,QAAM,KAAGA,IAAE,QAAMP,IAAE,SAAO,GAAE;AAAC,QAAIS,MAAED,GAAE,KAAK,KAAKD,IAAE,QAAMD,GAAE,aAAa,GAAE,EAAC,CAAC,EAAE,GAAE,MAAI,GAAE,CAAC,CAAC,GAAE,MAAIE,GAAE,KAAK,KAAKD,IAAE,KAAK,GAAE,EAAC,CAAC,EAAE,GAAE,MAAI,GAAE,CAAC,CAAC,GAAE,MAAI,GAAE,CAAC,CAAC,GAAE,MAAI,EAAC,CAAC,GAAE,CAAC,CAAC,GAAE,MAAI,EAAC,CAAC;AAAE,QAAGG,IAAE,WAAS;AAAE,aAAON;AAAE,QAAIO,MAAEH,GAAEC,KAAE,EAAC,CAAC,CAAC,GAAE,MAAIT,IAAE,QAAQU,IAAE,CAAC,CAAC,GAAE,CAAC,CAAC,GAAE,MAAIV,IAAE,QAAQU,IAAEA,IAAE,SAAO,CAAC,CAAC,EAAC,CAAC;AAAE,WAAM,EAAC,GAAGN,KAAE,eAAcO,QAAI,KAAGL,GAAE,gBAAcK,IAAC;AAAA,EAAC;AAAC,MAAIC,MAAEZ,IAAE,MAAM,GAAEO,IAAE,KAAK,GAAEM,MAAE,CAAC,GAAGb,IAAE,MAAMO,IAAE,KAAK,GAAE,GAAGK,GAAC,EAAE,KAAK,CAAAH,QAAGC,IAAE,SAASD,GAAC,CAAC;AAAE,MAAG,CAACI;AAAE,WAAOT;AAAE,MAAIU,OAAGN,MAAER,IAAE,QAAQa,GAAC,MAAI,OAAKL,MAAEF,GAAE;AAAc,SAAOQ,QAAI,OAAKA,MAAER,GAAE,gBAAe,EAAC,GAAGF,KAAE,eAAcU,IAAC;AAAC,GAAE,CAAC,CAAC,EAAER,IAAEC,KAAE;AAAC,MAAIH;AAAE,MAAGE,GAAE,KAAK,SAASC,IAAE,GAAG;AAAE,WAAOD;AAAE,MAAIN,MAAEM,GAAE,KAAKA,GAAE,aAAa,GAAEJ,MAAE,EAAE,CAAC,GAAGI,GAAE,MAAKC,IAAE,GAAG,GAAE,CAAAK,QAAGA,IAAE,OAAO,GAAEF,OAAGN,MAAEF,IAAE,QAAQF,GAAC,MAAI,OAAKI,MAAEE,GAAE;AAAc,SAAOI,QAAI,OAAKA,MAAEJ,GAAE,gBAAe,EAAC,GAAGA,IAAE,MAAKJ,KAAE,eAAcQ,IAAC;AAAC,GAAE,CAAC,CAAC,EAAEJ,IAAEC,KAAE;AAAC,SAAM,EAAC,GAAGD,IAAE,MAAKA,GAAE,KAAK,OAAO,CAAAN,QAAGA,QAAIO,IAAE,GAAG,EAAC;AAAC,GAAE,CAAC,CAAC,EAAED,IAAEC,KAAE;AAAC,SAAOD,GAAE,OAAO,SAASC,IAAE,KAAK,IAAED,KAAE,EAAC,GAAGA,IAAE,QAAO,EAAE,CAAC,GAAGA,GAAE,QAAOC,IAAE,KAAK,GAAE,CAAAP,QAAGA,IAAE,OAAO,EAAC;AAAC,GAAE,CAAC,CAAC,EAAEM,IAAEC,KAAE;AAAC,SAAM,EAAC,GAAGD,IAAE,QAAOA,GAAE,OAAO,OAAO,CAAAN,QAAGA,QAAIO,IAAE,KAAK,EAAC;AAAC,EAAC;AAA7mC,IAA+mCQ,SAAE,eAAAC,eAAG,IAAI;AAAED,GAAE,cAAY;AAAkB,SAASE,GAAEX,IAAE;AAAC,MAAIC,UAAE,eAAAW,YAAGH,EAAC;AAAE,MAAGR,QAAI,MAAK;AAAC,QAAIP,MAAE,IAAI,MAAM,IAAIM,EAAC,kDAAkD;AAAE,UAAM,MAAM,qBAAmB,MAAM,kBAAkBN,KAAEiB,EAAC,GAAEjB;AAAA,EAAC;AAAC,SAAOO;AAAC;AAAC,IAAIY,SAAE,eAAAH,eAAG,IAAI;AAAEG,GAAE,cAAY;AAAqB,SAASC,GAAEd,IAAE;AAAC,MAAIC,UAAE,eAAAW,YAAGC,EAAC;AAAE,MAAGZ,QAAI,MAAK;AAAC,QAAIP,MAAE,IAAI,MAAM,IAAIM,EAAC,kDAAkD;AAAE,UAAM,MAAM,qBAAmB,MAAM,kBAAkBN,KAAEoB,EAAC,GAAEpB;AAAA,EAAC;AAAC,SAAOO;AAAC;AAAC,SAASc,IAAGf,IAAEC,KAAE;AAAC,SAAOC,GAAED,IAAE,MAAKF,KAAGC,IAAEC,GAAC;AAAC;AAAC,IAAIe,MAAG,eAAAC;AAAG,SAASC,IAAGlB,IAAEC,KAAE;AAAC,MAAG,EAAC,cAAaP,MAAE,GAAE,UAASE,MAAE,OAAG,QAAOQ,MAAE,OAAG,UAASN,KAAE,eAAcQ,MAAE,MAAK,GAAGa,GAAC,IAAEnB;AAAE,QAAMO,MAAEX,MAAE,aAAW,cAAaY,MAAEJ,MAAE,WAAS;AAAO,MAAIF,MAAEI,QAAI,MAAKH,MAAEiB,GAAEnB,GAAC,GAAE,CAACI,KAAEgB,GAAC,QAAE,eAAAC,YAAGP,KAAG,EAAC,eAAcT,OAAG,OAAKA,MAAEZ,KAAE,MAAK,CAAC,GAAE,QAAO,CAAC,EAAC,CAAC,GAAE0B,UAAE,eAAAG,SAAE,OAAK,EAAC,eAAclB,IAAE,cAAa,IAAG,CAACA,IAAE,aAAa,CAAC,GAAEmB,MAAEpB,GAAEN,QAAI,MAAI;AAAA,EAAC,EAAE,GAAE2B,KAAErB,GAAEC,IAAE,IAAI,GAAEqB,SAAE,eAAAH,SAAE,OAAK,EAAC,aAAYhB,KAAE,YAAWC,KAAE,GAAGH,IAAC,IAAG,CAACE,KAAEC,KAAEH,GAAC,CAAC,GAAEsB,KAAEC,GAAE,CAAAC,QAAIR,IAAE,EAAC,MAAK,GAAE,KAAIQ,GAAC,CAAC,GAAE,MAAIR,IAAE,EAAC,MAAK,GAAE,KAAIQ,GAAC,CAAC,EAAE,GAAEC,KAAEF,GAAE,CAAAC,QAAIR,IAAE,EAAC,MAAK,GAAE,OAAMQ,GAAC,CAAC,GAAE,MAAIR,IAAE,EAAC,MAAK,GAAE,OAAMQ,GAAC,CAAC,EAAE,GAAEE,KAAEH,GAAE,CAAAC,OAAG;AAAC,IAAAG,GAAE,YAAUH,MAAGL,IAAE,QAAQK,EAAC,GAAE3B,OAAGmB,IAAE,EAAC,MAAK,GAAE,OAAMQ,GAAC,CAAC;AAAA,EAAC,CAAC,GAAEG,KAAE5B,GAAEF,MAAEF,GAAE,gBAAcK,IAAE,aAAa,GAAE4B,SAAE,eAAAV,SAAE,OAAK,EAAC,aAAYI,IAAE,eAAcG,IAAE,QAAOC,GAAC,IAAG,CAAC,CAAC;AAAE,EAAA9B,GAAE,MAAI;AAAC,IAAAoB,IAAE,EAAC,MAAK,GAAE,OAAMf,OAAG,OAAKA,MAAEZ,IAAC,CAAC;AAAA,EAAC,GAAE,CAACY,GAAC,CAAC,GAAEL,GAAE,MAAI;AAAC,QAAG+B,GAAE,YAAU,UAAQ3B,IAAE,KAAK,UAAQ;AAAE;AAAO,QAAIwB,KAAE,EAAExB,IAAE,MAAK,CAAA6B,OAAGA,GAAE,OAAO;AAAE,IAAAL,GAAE,KAAK,CAACK,IAAEC,QAAI9B,IAAE,KAAK8B,GAAC,MAAID,EAAC,KAAGH,GAAEF,GAAE,QAAQxB,IAAE,KAAK2B,GAAE,OAAO,CAAC,CAAC;AAAA,EAAC,CAAC;AAAE,MAAII,KAAE,EAAC,KAAIjC,IAAC;AAAE,SAAO,eAAAkC,QAAE,cAAcC,IAAG,MAAK,eAAAD,QAAE,cAAcxB,GAAE,UAAS,EAAC,OAAMoB,GAAC,GAAE,eAAAI,QAAE,cAAc5B,GAAE,UAAS,EAAC,OAAMiB,GAAC,GAAEA,GAAE,KAAK,UAAQ,KAAG,eAAAW,QAAE,cAAcb,IAAG,EAAC,SAAQ,MAAI;AAAC,QAAIK,IAAES;AAAE,aAAQJ,MAAKT,GAAE;AAAQ,YAAKI,KAAEK,GAAE,YAAU,OAAK,SAAOL,GAAE,cAAY;AAAE,gBAAOS,KAAEJ,GAAE,YAAU,QAAMI,GAAE,MAAM,GAAE;AAAG,WAAM;AAAA,EAAE,EAAC,CAAC,GAAE,EAAE,EAAC,UAASF,IAAE,YAAWjB,IAAE,MAAKC,KAAE,YAAWJ,KAAG,MAAK,OAAM,CAAC,CAAC,CAAC,CAAC;AAAC;AAAC,IAAIuB,MAAG;AAAM,SAASC,IAAGxC,IAAEC,KAAE;AAAC,MAAG,EAAC,aAAYP,KAAE,eAAcE,IAAC,IAAEe,GAAE,UAAU,GAAEP,MAAEgB,GAAEnB,GAAC,GAAEH,UAAE,eAAAyB,SAAE,OAAK,EAAC,eAAc3B,IAAC,IAAG,CAACA,GAAC,CAAC;AAAE,SAAO,EAAE,EAAC,UAAS,EAAC,KAAIQ,KAAE,MAAK,WAAU,oBAAmBV,IAAC,GAAE,YAAWM,IAAE,MAAKF,KAAE,YAAWyC,KAAG,MAAK,YAAW,CAAC;AAAC;AAAC,IAAIE,MAAG;AAAS,SAASC,IAAG1C,IAAEC,KAAE;AAAC,MAAI0C,IAAEC,IAAEC,IAAEC;AAAG,MAAIpD,MAAEqD,GAAG,GAAE,EAAC,IAAGnD,MAAE,uBAAuBF,GAAC,IAAG,GAAGU,IAAC,IAAEJ,IAAE,EAAC,aAAYF,KAAE,YAAWQ,KAAE,eAAca,IAAE,MAAKZ,KAAE,QAAOC,IAAC,IAAEG,GAAE,KAAK,GAAET,MAAEY,GAAE,KAAK,GAAEX,MAAEQ,GAAE,KAAK,GAAEN,UAAE,eAAA2C,QAAE,IAAI,GAAE3B,MAAED,GAAEf,KAAEJ,GAAC;AAAE,EAAAA,GAAE,MAAIC,IAAE,YAAYG,GAAC,GAAE,CAACH,KAAEG,GAAC,CAAC;AAAE,MAAIe,MAAEC,IAAG,MAAM,GAAEG,MAAEjB,IAAE,QAAQF,GAAC;AAAE,EAAAmB,QAAI,OAAKA,MAAEJ;AAAG,MAAIK,KAAED,QAAIL,IAAEO,KAAEE,GAAE,CAAAA,QAAG;AAAC,QAAIqB;AAAE,QAAIC,KAAEtB,IAAE;AAAE,QAAGsB,OAAI/C,GAAE,WAASG,QAAI,QAAO;AAAC,UAAI6C,MAAGF,KAAErB,GAAGvB,GAAC,MAAI,OAAK,SAAO4C,GAAE,eAAcG,MAAGjD,IAAE,KAAK,UAAU,CAAAkD,QAAIA,IAAG,YAAUF,EAAC;AAAE,MAAAC,QAAK,MAAIlD,IAAE,OAAOkD,GAAE;AAAA,IAAC;AAAC,WAAOF;AAAA,EAAC,CAAC,GAAEvB,KAAEC,GAAE,CAAAA,QAAG;AAAC,QAAIsB,KAAE3C,IAAE,IAAI,CAAA4C,OAAGA,GAAE,OAAO,EAAE,OAAO,OAAO;AAAE,QAAGvB,IAAE,QAAMA,IAAE,SAAOA,IAAE,QAAMA,IAAE,OAAM;AAAC,MAAAA,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAE1B,IAAE,OAAOsB,GAAC;AAAE;AAAA,IAAM;AAAC,YAAOI,IAAE,KAAI;AAAA,MAAC,KAAKA,IAAE;AAAA,MAAK,KAAKA,IAAE;AAAO,eAAOA,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEF,GAAE,MAAI4B,GAAEJ,IAAEK,GAAE,KAAK,CAAC;AAAA,MAAE,KAAK3B,IAAE;AAAA,MAAI,KAAKA,IAAE;AAAS,eAAOA,IAAE,eAAe,GAAEA,IAAE,gBAAgB,GAAEF,GAAE,MAAI4B,GAAEJ,IAAEK,GAAE,IAAI,CAAC;AAAA,IAAC;AAAC,QAAG7B,GAAE,MAAIxB,GAAEJ,KAAE,EAAC,WAAU;AAAC,aAAO8B,IAAE,QAAMA,IAAE,UAAQ0B,GAAEJ,IAAEK,GAAE,WAASA,GAAE,UAAU,IAAE3B,IAAE,QAAMA,IAAE,YAAU0B,GAAEJ,IAAEK,GAAE,OAAKA,GAAE,UAAU,IAAEpD,GAAE;AAAA,IAAK,GAAE,aAAY;AAAC,aAAOyB,IAAE,QAAMA,IAAE,YAAU0B,GAAEJ,IAAEK,GAAE,WAASA,GAAE,UAAU,IAAE3B,IAAE,QAAMA,IAAE,aAAW0B,GAAEJ,IAAEK,GAAE,OAAKA,GAAE,UAAU,IAAEpD,GAAE;AAAA,IAAK,EAAC,CAAC,CAAC,MAAIA,GAAE;AAAQ,aAAOyB,IAAE,eAAe;AAAA,EAAC,CAAC,GAAEE,SAAE,eAAAkB,QAAE,KAAE,GAAEjB,KAAEH,GAAE,MAAI;AAAC,QAAIA;AAAE,IAAAE,GAAE,YAAUA,GAAE,UAAQ,OAAIF,MAAEvB,IAAE,YAAU,QAAMuB,IAAE,MAAM,EAAC,eAAc,KAAE,CAAC,GAAE1B,IAAE,OAAOsB,GAAC,GAAE9B,GAAG,MAAI;AAAC,MAAAoC,GAAE,UAAQ;AAAA,IAAE,CAAC;AAAA,EAAE,CAAC,GAAEE,KAAEJ,GAAE,CAAAA,QAAG;AAAC,IAAAA,IAAE,eAAe;AAAA,EAAC,CAAC,GAAE,EAAC,gBAAeK,IAAE,YAAWG,GAAC,IAAE,0CAAG,EAAC,YAAWO,KAAE3C,GAAE,cAAY,OAAK2C,KAAE,MAAE,CAAC,GAAE,EAAC,WAAUd,IAAE,YAAWS,GAAC,IAAE,0CAAG,EAAC,aAAYM,KAAE5C,GAAE,aAAW,OAAK4C,KAAE,MAAE,CAAC,GAAE,EAAC,SAAQV,IAAE,YAAWC,IAAC,IAAE,EAAG,GAAEqB,UAAG,eAAAjC,SAAE,MAAI;AAAC,QAAIK;AAAE,WAAM,EAAC,UAASH,IAAE,OAAMI,IAAE,QAAOK,IAAE,OAAMD,IAAE,YAAWL,MAAE5B,GAAE,cAAY,OAAK4B,MAAE,MAAE;AAAA,EAAC,GAAE,CAACH,IAAEI,IAAEI,IAAEC,IAAElC,GAAE,SAAS,CAAC,GAAEyD,MAAG,EAAG,EAAC,KAAIpC,KAAE,WAAUM,IAAE,aAAYK,IAAE,SAAQD,IAAE,IAAGnC,KAAE,MAAK,OAAM,MAAKO,GAAGH,IAAEK,GAAC,GAAE,kBAAiByC,OAAID,KAAErC,IAAEgB,GAAC,MAAI,OAAK,SAAOqB,GAAE,YAAU,OAAK,SAAOC,IAAG,IAAG,iBAAgBrB,IAAE,UAASA,KAAE,IAAE,GAAE,GAAEW,IAAEE,IAAEH,GAAC;AAAE,SAAO,EAAE,EAAC,UAASsB,KAAG,YAAWrD,KAAE,MAAKoD,KAAG,YAAWf,KAAG,MAAK,WAAU,CAAC;AAAC;AAAC,IAAIiB,MAAG;AAAM,SAASC,IAAG3D,IAAEC,KAAE;AAAC,MAAG,EAAC,eAAcP,IAAC,IAAEiB,GAAE,YAAY,GAAEf,MAAEwB,GAAEnB,GAAC,GAAEG,UAAE,eAAAmB,SAAE,OAAK,EAAC,eAAc7B,IAAC,IAAG,CAACA,GAAC,CAAC;AAAE,SAAO,EAAE,EAAC,UAAS,EAAC,KAAIE,IAAC,GAAE,YAAWI,IAAE,MAAKI,KAAE,YAAWsD,KAAG,MAAK,cAAa,CAAC;AAAC;AAAC,IAAIE,MAAG;AAAP,IAAaC,MAAG,EAAG,iBAAe,EAAG;AAAO,SAASC,IAAG9D,IAAEC,KAAE;AAAC,MAAIyB,IAAEC,IAAEG,IAAEC;AAAE,MAAIrC,MAAEqD,GAAG,GAAE,EAAC,IAAGnD,MAAE,yBAAyBF,GAAC,IAAG,UAASU,MAAE,GAAE,GAAGN,IAAC,IAAEE,IAAE,EAAC,eAAcM,KAAE,MAAKa,IAAE,QAAOZ,IAAC,IAAEI,GAAE,WAAW,GAAEH,MAAEM,GAAE,WAAW,GAAEZ,UAAE,eAAA8C,QAAE,IAAI,GAAE7C,MAAEiB,GAAElB,KAAED,GAAC;AAAE,EAAAA,GAAE,MAAIO,IAAE,cAAcN,GAAC,GAAE,CAACM,KAAEN,GAAC,CAAC;AAAE,MAAIG,MAAEgB,IAAG,QAAQ,GAAEA,MAAEd,IAAE,QAAQL,GAAC;AAAE,EAAAmB,QAAI,OAAKA,MAAEhB;AAAG,MAAIe,MAAEC,QAAIf,KAAEkB,UAAE,eAAAD,SAAE,OAAK,EAAC,UAASH,IAAC,IAAG,CAACA,GAAC,CAAC,GAAEK,KAAE,EAAC,KAAItB,KAAE,IAAGP,KAAE,MAAK,YAAW,oBAAmB+B,MAAGD,KAAEP,GAAEE,GAAC,MAAI,OAAK,SAAOK,GAAE,YAAU,OAAK,SAAOC,GAAE,IAAG,UAASP,MAAEhB,MAAE,GAAE;AAAE,SAAM,CAACgB,SAAKU,KAAEhC,IAAE,YAAU,QAAMgC,OAAI,GAAGC,KAAEjC,IAAE,WAAS,QAAMiC,MAAG,eAAAM,QAAE,cAAc0B,IAAG,EAAC,IAAG,QAAO,eAAc,QAAO,GAAGtC,GAAC,CAAC,IAAE,EAAE,EAAC,UAASA,IAAE,YAAW3B,KAAE,MAAK0B,KAAE,YAAWoC,KAAG,UAASC,KAAG,SAAQzC,KAAE,MAAK,aAAY,CAAC;AAAC;AAAC,IAAI4C,MAAG,EAAEtB,GAAE;AAAX,IAAauB,MAAG,EAAE/C,GAAE;AAApB,IAAsBgD,MAAG,EAAE1B,GAAE;AAA7B,IAA+B2B,MAAG,EAAER,GAAE;AAAtC,IAAwCS,MAAG,EAAEN,GAAE;AAA/C,IAAiDO,MAAG,OAAO,OAAOL,KAAG,EAAC,OAAMC,KAAG,MAAKC,KAAG,QAAOC,KAAG,OAAMC,IAAE,CAAC;;;AGAtxO,IAAAE,iBAAwB;AAA0W,IAAIC,KAAE;AAAW,SAASC,GAAEC,KAAEC,KAAE;AAAC,MAAIC;AAAE,MAAIC,MAAEC,GAAE,GAAEC,MAAEC,GAAE,GAAEC,MAAEP,GAAE,GAAE,EAAC,IAAGQ,KAAEH,OAAG,uBAAuBF,GAAC,IAAG,UAASM,KAAEF,OAAG,OAAG,SAAQG,MAAE,OAAG,GAAGJ,IAAC,IAAEN,KAAEW,MAAEP,GAAE,GAAEQ,MAAEC,GAAE,GAAE,EAAC,gBAAeC,KAAE,YAAWC,IAAC,IAAE,0CAAE,EAAC,QAAO,MAAG,YAAWb,MAAEF,IAAE,cAAY,OAAKE,MAAE,MAAE,CAAC,GAAE,EAAC,WAAUc,KAAE,YAAWC,IAAC,IAAE,0CAAE,EAAC,YAAWR,MAAG,OAAKA,KAAE,MAAE,CAAC,GAAES,KAAE,EAAE,EAAC,KAAIjB,KAAE,IAAGO,IAAE,mBAAkBG,KAAE,oBAAmBC,KAAE,gBAAeF,MAAE,KAAG,QAAO,UAASD,MAAG,OAAM,GAAEM,KAAEE,GAAC,GAAEE,UAAE,eAAAC,SAAE,MAAI;AAAC,QAAIC;AAAE,WAAM,EAAC,UAASZ,IAAE,SAAQC,KAAE,OAAMM,KAAE,OAAMF,KAAE,YAAWO,MAAErB,IAAE,cAAY,OAAKqB,MAAE,MAAE;AAAA,EAAC,GAAE,CAACZ,IAAEC,KAAEM,KAAEF,KAAEd,IAAE,SAAS,CAAC;AAAE,SAAO,EAAE,EAAC,UAASkB,IAAE,YAAWZ,KAAE,MAAKa,KAAE,YAAWrB,IAAE,MAAK,WAAU,CAAC;AAAC;AAAC,IAAIwB,KAAE,EAAEvB,EAAC;;;ACA7jC,IAAAwB,iBAAuH;;;ACApI,IAAAC,iBAA0C;AAA2D,SAASC,IAAEC,MAAE,GAAE;AAAC,MAAG,CAACC,KAAEC,GAAC,QAAE,eAAAC,UAAEH,GAAC,GAAEI,MAAED,IAAE,GAAEE,UAAE,eAAAC,aAAE,CAAAC,OAAG;AAAC,IAAAH,IAAE,WAASF,IAAE,CAAAM,QAAGA,MAAED,EAAC;AAAA,EAAC,GAAE,CAACN,KAAEG,GAAC,CAAC,GAAEK,UAAE,eAAAH,aAAE,CAAAC,OAAG,CAAC,EAAEN,MAAEM,KAAG,CAACN,GAAC,CAAC,GAAES,UAAE,eAAAJ,aAAE,CAAAC,OAAG;AAAC,IAAAH,IAAE,WAASF,IAAE,CAAAM,QAAGA,MAAE,CAACD,EAAC;AAAA,EAAC,GAAE,CAACL,KAAEE,GAAC,CAAC,GAAEO,SAAE,eAAAL,aAAE,CAAAC,OAAG;AAAC,IAAAH,IAAE,WAASF,IAAE,CAAAM,QAAGA,MAAED,EAAC;AAAA,EAAC,GAAE,CAACL,GAAC,CAAC;AAAE,SAAM,EAAC,OAAMD,KAAE,SAAQI,KAAE,SAAQI,KAAE,YAAWC,KAAE,YAAWC,GAAC;AAAC;;;ACAxU,SAASC,IAAEC,KAAE;AAAC,MAAIC,KAAE,EAAC,QAAO,MAAE;AAAE,SAAM,IAAIC,QAAI;AAAC,QAAG,CAACD,GAAE;AAAO,aAAOA,GAAE,SAAO,MAAGD,IAAE,GAAGE,GAAC;AAAA,EAAC;AAAC;;;ACAmE,SAASC,GAAEC,QAAKC,IAAE;AAAC,EAAAD,OAAGC,GAAE,SAAO,KAAGD,IAAE,UAAU,IAAI,GAAGC,EAAC;AAAC;AAAC,SAASC,IAAEF,QAAKC,IAAE;AAAC,EAAAD,OAAGC,GAAE,SAAO,KAAGD,IAAE,UAAU,OAAO,GAAGC,EAAC;AAAC;AAAC,SAASE,GAAEH,KAAEC,IAAE;AAAC,MAAIG,MAAEC,GAAE;AAAE,MAAG,CAACL;AAAE,WAAOI,IAAE;AAAQ,MAAG,EAAC,oBAAmBE,KAAE,iBAAgBC,IAAC,IAAE,iBAAiBP,GAAC,GAAE,CAACQ,KAAEC,GAAC,IAAE,CAACH,KAAEC,GAAC,EAAE,IAAI,CAAAG,QAAG;AAAC,QAAG,CAACC,MAAE,CAAC,IAAED,IAAE,MAAM,GAAG,EAAE,OAAO,OAAO,EAAE,IAAI,CAAAL,QAAGA,IAAE,SAAS,IAAI,IAAE,WAAWA,GAAC,IAAE,WAAWA,GAAC,IAAE,GAAG,EAAE,KAAK,CAACA,KAAEO,OAAIA,KAAEP,GAAC;AAAE,WAAOM;AAAA,EAAC,CAAC,GAAEE,MAAEL,MAAEC;AAAE,MAAGI,QAAI,GAAE;AAAC,QAAIH,MAAEN,IAAE,MAAM,CAAAO,QAAG;AAAC,UAAIN,MAAEM,IAAE,WAAW,MAAI;AAAC,QAAAV,GAAE,GAAEU,IAAE,QAAQ;AAAA,MAAC,GAAEE,GAAC;AAAE,MAAAF,IAAE,iBAAiBX,KAAE,iBAAgB,CAAAY,OAAG;AAAC,QAAAA,GAAE,WAASA,GAAE,kBAAgBP,IAAE,GAAEM,IAAE,iBAAiBX,KAAE,oBAAmB,CAAAc,QAAG;AAAC,UAAAA,IAAE,WAASA,IAAE,kBAAgBb,GAAE,GAAES,IAAE;AAAA,QAAE,CAAC;AAAA,MAAE,CAAC;AAAA,IAAC,CAAC;AAAE,IAAAN,IAAE,iBAAiBJ,KAAE,iBAAgB,CAAAW,QAAG;AAAC,MAAAA,IAAE,WAASA,IAAE,kBAAgBV,GAAE,GAAEG,IAAE,QAAQ;AAAA,IAAE,CAAC;AAAA,EAAC;AAAM,IAAAH,GAAE;AAAE,SAAOG,IAAE,IAAI,MAAIH,GAAE,CAAC,GAAEG,IAAE;AAAO;AAAC,SAASW,IAAEf,KAAEC,IAAEG,KAAEE,KAAE;AAAC,MAAIC,MAAEH,MAAE,UAAQ,SAAQI,MAAEH,GAAE,GAAEI,MAAEH,QAAI,SAAOI,IAAEJ,GAAC,IAAE,MAAI;AAAA,EAAC;AAAE,EAAAC,QAAI,YAAUP,IAAE,gBAAgB,QAAQ,GAAEA,IAAE,MAAM,UAAQ;AAAI,MAAIa,MAAEP,GAAEC,KAAE,EAAC,OAAM,MAAIN,GAAE,OAAM,OAAM,MAAIA,GAAE,MAAK,CAAC,GAAES,MAAEJ,GAAEC,KAAE,EAAC,OAAM,MAAIN,GAAE,SAAQ,OAAM,MAAIA,GAAE,QAAO,CAAC,GAAEU,MAAEL,GAAEC,KAAE,EAAC,OAAM,MAAIN,GAAE,WAAU,OAAM,MAAIA,GAAE,UAAS,CAAC;AAAE,SAAOC,IAAEF,KAAE,GAAGC,GAAE,MAAK,GAAGA,GAAE,OAAM,GAAGA,GAAE,SAAQ,GAAGA,GAAE,WAAU,GAAGA,GAAE,OAAM,GAAGA,GAAE,WAAU,GAAGA,GAAE,SAAQ,GAAGA,GAAE,OAAO,GAAEF,GAAEC,KAAE,GAAGC,GAAE,MAAK,GAAGY,KAAE,GAAGF,GAAC,GAAEH,IAAE,UAAU,MAAI;AAAC,IAAAN,IAAEF,KAAE,GAAGC,GAAE,MAAK,GAAGY,KAAE,GAAGF,GAAC,GAAEZ,GAAEC,KAAE,GAAGC,GAAE,MAAK,GAAGY,KAAE,GAAGH,GAAC,GAAEP,GAAEH,KAAE,OAAKE,IAAEF,KAAE,GAAGC,GAAE,MAAK,GAAGY,GAAC,GAAEd,GAAEC,KAAE,GAAGC,GAAE,MAAK,GAAGA,GAAE,OAAO,GAAEQ,IAAE,EAAE;AAAA,EAAC,CAAC,GAAED,IAAE;AAAO;;;ACArlC,SAASQ,GAAE,EAAC,WAAUC,KAAE,WAAUC,KAAE,WAAUC,KAAE,SAAQC,KAAE,SAAQC,KAAE,QAAOC,IAAC,GAAE;AAAC,MAAIC,MAAEC,IAAE,GAAEC,MAAEC,GAAE,GAAEC,KAAET,GAAEC,GAAC;AAAE,EAAAA,GAAE,MAAI;AAAC,IAAAF,QAAIU,GAAE,UAAQ;AAAA,EAAQ,GAAE,CAACV,GAAC,CAAC,GAAEE,GAAE,MAAI;AAAC,QAAIS,MAAEC,GAAE;AAAE,IAAAJ,IAAE,IAAIG,IAAE,OAAO;AAAE,QAAIE,MAAEZ,IAAE;AAAQ,QAAGY,OAAGH,GAAE,YAAU,UAAQJ,IAAE;AAAQ,aAAOK,IAAE,QAAQ,GAAEP,IAAE,QAAQM,GAAE,OAAO,GAAEC,IAAE,IAAIG,IAAED,KAAEV,IAAE,SAAQO,GAAE,YAAU,SAAQ,MAAI;AAAC,QAAAC,IAAE,QAAQ,GAAEN,IAAE,QAAQK,GAAE,OAAO;AAAA,MAAC,CAAC,CAAC,GAAEC,IAAE;AAAA,EAAO,GAAE,CAACT,GAAC,CAAC;AAAC;;;AJAiU,SAASa,GAAEC,MAAE,IAAG;AAAC,SAAOA,IAAE,MAAM,KAAK,EAAE,OAAO,CAAAC,QAAGA,IAAE,SAAO,CAAC;AAAC;AAAC,IAAIC,SAAE,eAAAC,eAAE,IAAI;AAAED,GAAE,cAAY;AAAoB,IAAIE,OAAI,CAAAC,SAAIA,IAAE,UAAQ,WAAUA,IAAE,SAAO,UAASA,MAAID,OAAI,CAAC,CAAC;AAAE,SAASE,MAAI;AAAC,MAAIN,UAAE,eAAAO,YAAEL,EAAC;AAAE,MAAGF,QAAI;AAAK,UAAM,IAAI,MAAM,kGAAkG;AAAE,SAAOA;AAAC;AAAC,SAASQ,MAAI;AAAC,MAAIR,UAAE,eAAAO,YAAEE,EAAC;AAAE,MAAGT,QAAI;AAAK,UAAM,IAAI,MAAM,kGAAkG;AAAE,SAAOA;AAAC;AAAC,IAAIS,SAAE,eAAAN,eAAE,IAAI;AAAEM,GAAE,cAAY;AAAiB,SAASC,GAAEV,KAAE;AAAC,SAAM,cAAaA,MAAEU,GAAEV,IAAE,QAAQ,IAAEA,IAAE,QAAQ,OAAO,CAAC,EAAC,IAAGC,IAAC,MAAIA,IAAE,YAAU,IAAI,EAAE,OAAO,CAAC,EAAC,OAAMA,IAAC,MAAIA,QAAI,SAAS,EAAE,SAAO;AAAC;AAAC,SAASU,IAAGX,KAAEC,KAAE;AAAC,MAAII,MAAEO,GAAEZ,GAAC,GAAEY,UAAE,eAAAC,QAAE,CAAC,CAAC,GAAEC,KAAEC,IAAG,GAAEC,MAAEC,GAAG,GAAEA,KAAEC,GAAE,CAACC,KAAEC,KAAEC,GAAE,WAAS;AAAC,QAAIC,MAAEV,IAAE,QAAQ,UAAU,CAAC,EAAC,IAAGM,IAAC,MAAIA,QAAIC,GAAC;AAAE,IAAAG,QAAI,OAAKC,GAAEH,IAAE,EAAC,CAACC,GAAE,OAAO,IAAG;AAAC,MAAAT,IAAE,QAAQ,OAAOU,KAAE,CAAC;AAAA,IAAC,GAAE,CAACD,GAAE,MAAM,IAAG;AAAC,MAAAT,IAAE,QAAQU,GAAC,EAAE,QAAM;AAAA,IAAQ,EAAC,CAAC,GAAEN,IAAE,UAAU,MAAI;AAAC,UAAIE;AAAE,OAACR,GAAEE,GAAC,KAAGE,GAAE,aAAWI,MAAEb,IAAE,YAAU,QAAMa,IAAE,KAAKb,GAAC;AAAA,IAAE,CAAC;AAAA,EAAE,CAAC,GAAEmB,KAAEN,GAAE,CAAAC,QAAG;AAAC,QAAIC,KAAER,IAAE,QAAQ,KAAK,CAAC,EAAC,IAAGU,IAAC,MAAIA,QAAIH,GAAC;AAAE,WAAOC,KAAEA,GAAE,UAAQ,cAAYA,GAAE,QAAM,aAAWR,IAAE,QAAQ,KAAK,EAAC,IAAGO,KAAE,OAAM,UAAS,CAAC,GAAE,MAAIF,GAAEE,KAAEE,GAAE,OAAO;AAAA,EAAC,CAAC,GAAEI,SAAE,eAAAZ,QAAE,CAAC,CAAC,GAAEa,SAAE,eAAAb,QAAE,QAAQ,QAAQ,CAAC,GAAEU,UAAE,eAAAV,QAAE,EAAC,OAAM,CAAC,GAAE,OAAM,CAAC,GAAE,MAAK,CAAC,EAAC,CAAC,GAAEc,KAAET,GAAE,CAACC,KAAEC,IAAEE,QAAI;AAAC,IAAAG,GAAE,QAAQ,OAAO,CAAC,GAAExB,QAAIA,IAAE,OAAO,QAAQmB,EAAC,IAAEnB,IAAE,OAAO,QAAQmB,EAAC,EAAE,OAAO,CAAC,CAACF,GAAC,MAAIA,QAAIC,GAAC,IAAGlB,OAAG,QAAMA,IAAE,OAAO,QAAQmB,EAAC,EAAE,KAAK,CAACD,KAAE,IAAI,QAAQ,CAAAD,QAAG;AAAC,MAAAO,GAAE,QAAQ,KAAKP,GAAC;AAAA,IAAC,CAAC,CAAC,CAAC,GAAEjB,OAAG,QAAMA,IAAE,OAAO,QAAQmB,EAAC,EAAE,KAAK,CAACD,KAAE,IAAI,QAAQ,CAAAD,QAAG;AAAC,cAAQ,IAAIK,IAAE,QAAQH,EAAC,EAAE,IAAI,CAAC,CAACL,KAAEa,EAAC,MAAIA,EAAC,CAAC,EAAE,KAAK,MAAIV,IAAE,CAAC;AAAA,IAAC,CAAC,CAAC,CAAC,GAAEE,OAAI,UAAQM,GAAE,UAAQA,GAAE,QAAQ,KAAK,MAAIzB,OAAG,OAAK,SAAOA,IAAE,KAAK,OAAO,EAAE,KAAK,MAAIqB,IAAEF,EAAC,CAAC,IAAEE,IAAEF,EAAC;AAAA,EAAC,CAAC,GAAES,MAAEX,GAAE,CAACC,KAAEC,IAAEE,QAAI;AAAC,YAAQ,IAAIC,IAAE,QAAQH,EAAC,EAAE,OAAO,CAAC,EAAE,IAAI,CAAC,CAACF,KAAEH,GAAC,MAAIA,GAAC,CAAC,EAAE,KAAK,MAAI;AAAC,UAAIG;AAAE,OAACA,MAAEO,GAAE,QAAQ,MAAM,MAAI,QAAMP,IAAE;AAAA,IAAC,CAAC,EAAE,KAAK,MAAII,IAAEF,EAAC,CAAC;AAAA,EAAC,CAAC;AAAE,aAAO,eAAAU,SAAG,OAAK,EAAC,UAASlB,KAAE,UAASY,IAAE,YAAWP,IAAE,SAAQU,IAAE,QAAOE,KAAE,MAAKH,IAAE,QAAOH,IAAC,IAAG,CAACC,IAAEP,IAAEL,KAAEe,IAAEE,KAAEN,KAAEG,EAAC,CAAC;AAAC;AAAC,SAASK,MAAI;AAAC;AAAC,IAAIC,MAAG,CAAC,eAAc,cAAa,eAAc,YAAY;AAAE,SAASC,IAAGjC,KAAE;AAAC,MAAIK;AAAE,MAAIJ,MAAE,CAAC;AAAE,WAAQW,OAAKoB;AAAG,IAAA/B,IAAEW,GAAC,KAAGP,MAAEL,IAAEY,GAAC,MAAI,OAAKP,MAAE0B;AAAG,SAAO9B;AAAC;AAAC,SAASiC,IAAGlC,KAAE;AAAC,MAAIC,UAAE,eAAAY,QAAEoB,IAAGjC,GAAC,CAAC;AAAE,aAAO,eAAAmC,WAAG,MAAI;AAAC,IAAAlC,IAAE,UAAQgC,IAAGjC,GAAC;AAAA,EAAC,GAAE,CAACA,GAAC,CAAC,GAAEC;AAAC;AAAC,IAAImC,MAAG;AAAP,IAAaC,MAAG,EAAG;AAAe,SAASC,IAAGtC,KAAEC,KAAE;AAAC,MAAIsC,IAAEC;AAAE,MAAG,EAAC,aAAYnC,KAAE,YAAWO,KAAE,aAAYE,IAAE,YAAWE,KAAE,OAAMC,IAAE,WAAUO,IAAE,SAAQC,IAAE,SAAQC,IAAE,OAAMH,KAAE,WAAUI,IAAE,SAAQE,KAAE,GAAGV,IAAC,IAAEnB,KAAEoB,SAAE,eAAAP,QAAE,IAAI,GAAES,MAAEmB,GAAGrB,IAAEnB,GAAC,GAAEiB,OAAGqB,KAAEpB,IAAE,YAAU,QAAMoB,KAAElB,GAAE,UAAQA,GAAE,QAAO,EAAC,MAAKN,KAAE,QAAOa,IAAE,SAAQc,IAAC,IAAEpC,IAAG,GAAE,CAACqC,KAAEC,GAAC,QAAE,eAAAC,UAAE9B,MAAE,YAAU,QAAQ,GAAE+B,MAAEtC,IAAG,GAAE,EAAC,UAASuC,IAAE,YAAWC,GAAC,IAAEF;AAAE,EAAA7C,GAAE,MAAI8C,GAAE3B,EAAC,GAAE,CAAC2B,IAAE3B,EAAC,CAAC,GAAEnB,GAAE,MAAI;AAAC,QAAGiB,QAAIG,GAAE,UAAQD,GAAE,SAAQ;AAAC,UAAGL,OAAG4B,QAAI,WAAU;AAAC,QAAAC,IAAE,SAAS;AAAE;AAAA,MAAM;AAAC,aAAOrB,GAAEoB,KAAE,EAAC,CAAC,QAAQ,GAAE,MAAIK,GAAE5B,EAAC,GAAE,CAAC,SAAS,GAAE,MAAI2B,GAAE3B,EAAC,EAAC,CAAC;AAAA,IAAC;AAAA,EAAC,GAAE,CAACuB,KAAEvB,IAAE2B,IAAEC,IAAEjC,KAAEG,GAAC,CAAC;AAAE,MAAIG,KAAET,GAAE,EAAC,MAAKb,GAAEoB,IAAE,SAAS,GAAE,OAAMpB,GAAEkB,EAAC,GAAE,WAAUlB,GAAEyB,EAAC,GAAE,SAAQzB,GAAE0B,EAAC,GAAE,SAAQ1B,GAAE2B,EAAC,GAAE,OAAM3B,GAAEwB,GAAC,GAAE,WAAUxB,GAAE4B,EAAC,GAAE,SAAQ5B,GAAE8B,GAAC,EAAC,CAAC,GAAEoB,KAAEf,IAAG,EAAC,aAAY7B,KAAE,YAAWO,KAAE,aAAYE,IAAE,YAAWE,IAAC,CAAC,GAAEkC,KAAEP,GAAG;AAAE,EAAA1C,GAAE,MAAI;AAAC,QAAGiD,MAAGP,QAAI,aAAWvB,GAAE,YAAU;AAAK,YAAM,IAAI,MAAM,iEAAiE;AAAA,EAAC,GAAE,CAACA,IAAEuB,KAAEO,EAAC,CAAC;AAAE,MAAIC,MAAGT,OAAG,CAACd,IAAEwB,KAAExB,MAAGb,OAAG2B,KAAEW,MAAI,uBAAI,CAACH,MAAGC,MAAG,SAAOpC,MAAE,UAAQ,SAAS,GAAEuC,KAAEzC,IAAG,CAAC,GAAE0C,MAAGrC,GAAE,CAAAsC,OAAGjC,GAAEiC,IAAE,EAAC,OAAM,MAAI;AAAC,IAAAF,GAAE,QAAQzB,GAAE,OAAO,GAAEoB,GAAE,QAAQ,YAAY;AAAA,EAAC,GAAE,OAAM,MAAI;AAAC,IAAAK,GAAE,QAAQzB,GAAE,OAAO,GAAEoB,GAAE,QAAQ,YAAY;AAAA,EAAC,GAAE,MAAK,MAAI;AAAA,EAAC,EAAC,CAAC,CAAC,GAAEQ,MAAGvC,GAAE,CAAAsC,OAAGjC,GAAEiC,IAAE,EAAC,OAAM,MAAI;AAAC,IAAAF,GAAE,WAAWzB,GAAE,OAAO,GAAEoB,GAAE,QAAQ,WAAW;AAAA,EAAC,GAAE,OAAM,MAAI;AAAC,IAAAK,GAAE,WAAWzB,GAAE,OAAO,GAAEoB,GAAE,QAAQ,WAAW;AAAA,EAAC,GAAE,MAAK,MAAI;AAAA,EAAC,EAAC,CAAC,CAAC,GAAES,KAAE/C,IAAG,MAAI;AAAC,IAAAiC,IAAE,QAAQ,GAAEI,GAAE5B,EAAC;AAAA,EAAC,GAAE0B,GAAC,GAAEa,SAAE,eAAA9C,QAAE,KAAE;AAAE,EAAAG,GAAG,EAAC,WAAUoC,IAAE,WAAUhC,IAAE,SAAQC,IAAE,WAAUgC,KAAG,SAAQzC,GAAE,CAAA4C,OAAG;AAAC,IAAAG,GAAE,UAAQ,MAAGD,GAAE,QAAQtC,IAAEoC,IAAED,GAAE;AAAA,EAAC,CAAC,GAAE,QAAO3C,GAAE,CAAA4C,OAAG;AAAC,IAAAG,GAAE,UAAQ,OAAGD,GAAE,OAAOtC,IAAEoC,IAAEC,GAAE,GAAED,OAAI,WAAS,CAAC9C,GAAEgD,EAAC,MAAId,IAAE,QAAQ,GAAEI,GAAE5B,EAAC;AAAA,EAAE,CAAC,EAAC,CAAC;AAAE,MAAIwC,KAAEzC,KAAE0C,MAAG,EAAC,KAAIvC,IAAC;AAAE,SAAO8B,KAAEQ,KAAE,EAAC,GAAGA,IAAE,WAAU5D,GAAGmB,IAAE,WAAU,GAAGE,GAAE,QAAQ,OAAM,GAAGA,GAAE,QAAQ,SAAS,EAAC,IAAEsC,GAAE,YAAUC,GAAE,YAAU5D,GAAGmB,IAAE,YAAWqB,KAAEpB,GAAE,YAAU,OAAK,SAAOoB,GAAE,SAAS,GAAEoB,GAAE,cAAY,MAAI,OAAOA,GAAE,YAAW,eAAAE,QAAE,cAAcrD,GAAE,UAAS,EAAC,OAAMiD,GAAC,GAAE,eAAAI,QAAE,cAAclD,KAAG,EAAC,OAAMW,GAAEoB,KAAE,EAAC,CAAC,SAAS,GAAEd,GAAE,MAAK,CAAC,QAAQ,GAAEA,GAAE,OAAM,CAAC,IAAEyB,GAAE,MAAK,GAAE,EAAG,EAAC,UAASO,KAAG,YAAWD,IAAE,YAAWxB,KAAG,UAASC,KAAG,SAAQM,QAAI,WAAU,MAAK,mBAAkB,CAAC,CAAC,CAAC;AAAC;AAAC,SAASoB,IAAG/D,KAAEC,KAAE;AAAC,MAAG,EAAC,MAAKI,KAAE,QAAOO,MAAE,OAAG,SAAQE,KAAE,MAAG,GAAGE,IAAC,IAAEhB,KAAEiB,SAAE,eAAAJ,QAAE,IAAI,GAAEW,KAAEiB,GAAGxB,IAAEhB,GAAC;AAAE,EAAA0C,GAAG;AAAE,MAAIlB,KAAEF,GAAG;AAAE,MAAGlB,QAAI,UAAQoB,OAAI,SAAOpB,OAAGoB,KAAEI,GAAE,UAAQA,GAAE,OAAM,CAAC,CAAC,MAAG,KAAE,EAAE,SAASxB,GAAC;AAAE,UAAM,IAAI,MAAM,0EAA0E;AAAE,MAAG,CAACqB,IAAEH,GAAC,QAAE,eAAAsB,UAAExC,MAAE,YAAU,QAAQ,GAAEsB,KAAEhB,IAAG,MAAI;AAAC,IAAAY,IAAE,QAAQ;AAAA,EAAC,CAAC,GAAE,CAACM,KAAEV,GAAC,QAAE,eAAA0B,UAAE,IAAE,GAAEzB,SAAE,eAAAP,QAAE,CAACR,GAAC,CAAC;AAAE,EAAAJ,GAAE,MAAI;AAAC,IAAA4B,QAAI,SAAIT,GAAE,QAAQA,GAAE,QAAQ,SAAO,CAAC,MAAIf,QAAIe,GAAE,QAAQ,KAAKf,GAAC,GAAEc,IAAE,KAAE;AAAA,EAAE,GAAE,CAACC,IAAEf,GAAC,CAAC;AAAE,MAAIiB,UAAE,eAAAQ,SAAG,OAAK,EAAC,MAAKzB,KAAE,QAAOO,KAAE,SAAQiB,IAAC,IAAG,CAACxB,KAAEO,KAAEiB,GAAC,CAAC;AAAE,EAAA5B,GAAE,MAAI;AAAC,QAAGI;AAAE,MAAAkB,IAAE,SAAS;AAAA,aAAU,CAACb,GAAEiB,EAAC;AAAE,MAAAJ,IAAE,QAAQ;AAAA,SAAM;AAAC,UAAImB,MAAEzB,GAAE;AAAQ,UAAG,CAACyB;AAAE;AAAO,UAAIC,MAAED,IAAE,sBAAsB;AAAE,MAAAC,IAAE,MAAI,KAAGA,IAAE,MAAI,KAAGA,IAAE,UAAQ,KAAGA,IAAE,WAAS,KAAGpB,IAAE,QAAQ;AAAA,IAAC;AAAA,EAAC,GAAE,CAAClB,KAAEsB,EAAC,CAAC;AAAE,MAAIT,MAAE,EAAC,SAAQJ,GAAC,GAAEC,MAAEG,GAAE,MAAI;AAAC,QAAIwB;AAAE,IAAAb,OAAGV,IAAE,KAAE,IAAGuB,MAAE1C,IAAE,gBAAc,QAAM0C,IAAE,KAAK1C,GAAC;AAAA,EAAC,CAAC,GAAE4B,KAAEV,GAAE,MAAI;AAAC,QAAIwB;AAAE,IAAAb,OAAGV,IAAE,KAAE,IAAGuB,MAAE1C,IAAE,gBAAc,QAAM0C,IAAE,KAAK1C,GAAC;AAAA,EAAC,CAAC;AAAE,SAAO,eAAA8D,QAAE,cAAcrD,GAAE,UAAS,EAAC,OAAMkB,GAAC,GAAE,eAAAmC,QAAE,cAAc5D,GAAE,UAAS,EAAC,OAAMoB,IAAC,GAAE,EAAG,EAAC,UAAS,EAAC,GAAGJ,KAAE,IAAG,eAAA8C,UAAE,UAAS,eAAAF,QAAE,cAAcG,KAAG,EAAC,KAAIzC,IAAE,GAAGN,KAAE,GAAGF,KAAE,aAAYD,KAAE,aAAYa,GAAC,CAAC,EAAC,GAAE,YAAW,CAAC,GAAE,YAAW,eAAAoC,UAAE,UAAS3B,KAAG,SAAQX,OAAI,WAAU,MAAK,aAAY,CAAC,CAAC,CAAC;AAAC;AAAC,SAASwC,IAAGlE,KAAEC,KAAE;AAAC,MAAII,UAAE,eAAAE,YAAEL,EAAC,MAAI,MAAKU,MAAEW,GAAG,MAAI;AAAK,SAAO,eAAAuC,QAAE,cAAc,eAAAA,QAAE,UAAS,MAAK,CAACzD,OAAGO,MAAE,eAAAkD,QAAE,cAAcK,IAAE,EAAC,KAAIlE,KAAE,GAAGD,IAAC,CAAC,IAAE,eAAA8D,QAAE,cAAcG,KAAG,EAAC,KAAIhE,KAAE,GAAGD,IAAC,CAAC,CAAC;AAAC;AAAC,IAAImE,KAAE,EAAEJ,GAAE;AAAV,IAAYE,MAAG,EAAE3B,GAAE;AAAnB,IAAqB8B,MAAG,EAAEF,GAAE;AAA5B,IAA8BG,MAAG,OAAO,OAAOF,IAAE,EAAC,OAAMC,KAAG,MAAKD,GAAC,CAAC;",
  "names": ["$73SJx$react", "$73SJx$useContext", "$73SJx$useRef", "$73SJx$react", "$73SJx$useState", "e", "t", "f", "n", "o", "$12uGp$react", "$12uGp$useRef", "$12uGp$useCallback", "f", "i", "a", "b", "e", "re", "$12uGp$createContext", "e", "$12uGp$useRef", "$12uGp$useCallback", "$12uGp$useEffect", "$12uGp$useRef", "$12uGp$useMemo", "$b5e257d569688ac6$var$defaultContext", "$b5e257d569688ac6$var$SSRContext", "$73SJx$react", "$b5e257d569688ac6$var$IsSSRContext", "$b5e257d569688ac6$var$canUseDOM", "$b5e257d569688ac6$var$componentIds", "$b5e257d569688ac6$var$useCounter", "$73SJx$useContext", "$b5e257d569688ac6$var$SSRContext", "$73SJx$useRef", "$73SJx$react", "$b5e257d569688ac6$var$useLegacySSRSafeId", "$b5e257d569688ac6$var$defaultContext", "$b5e257d569688ac6$var$useModernSSRSafeId", "$73SJx$useState", "$b5e257d569688ac6$export$535bd6ca7f90a273", "$b5e257d569688ac6$export$619500959fc48b26", "$b5e257d569688ac6$var$getSnapshot", "$b5e257d569688ac6$var$getServerSnapshot", "$b5e257d569688ac6$var$subscribe", "$b5e257d569688ac6$var$IsSSRContext", "$bx7SL$react", "$bx7SL$useContext", "_", "$bx7SL$useState", "$bx7SL$useRef", "e", "$bx7SL$useMemo", "pressProps", "$bx7SL$useEffect", "i", "a", "b", "$bx7SL$useRef", "e", "$bx7SL$useCallback", "e", "$bx7SL$useEffect", "e", "$bx7SL$useRef", "$bx7SL$useCallback", "$6nfFC$react", "$6nfFC$useRef", "$6nfFC$useState", "$6nfFC$useCallback", "isFocused", "$6nfFC$react", "$6nfFC$react", "$b5e257d569688ac6$var$defaultContext", "$b5e257d569688ac6$var$SSRContext", "$73SJx$react", "$b5e257d569688ac6$var$IsSSRContext", "$b5e257d569688ac6$var$canUseDOM", "$b5e257d569688ac6$var$componentIds", "$b5e257d569688ac6$var$useCounter", "$73SJx$useContext", "$b5e257d569688ac6$var$SSRContext", "$73SJx$useRef", "$73SJx$react", "$b5e257d569688ac6$var$useLegacySSRSafeId", "$b5e257d569688ac6$var$defaultContext", "$b5e257d569688ac6$var$useModernSSRSafeId", "$73SJx$useState", "$b5e257d569688ac6$export$535bd6ca7f90a273", "$b5e257d569688ac6$export$619500959fc48b26", "$b5e257d569688ac6$var$getSnapshot", "$b5e257d569688ac6$var$getServerSnapshot", "$b5e257d569688ac6$var$subscribe", "$b5e257d569688ac6$var$IsSSRContext", "r", "e", "t", "f", "n", "clsx", "$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c", "$12uGp$react", "$8ae05eaa5c114e9c$export$7f54fc3180508a52", "$12uGp$useRef", "$12uGp$useCallback", "f", "$bdb11010cef70236$var$canUseDOM", "$bdb11010cef70236$var$idsUpdaterMap", "$bdb11010cef70236$export$cd8c9cb68f842629", "$bdb11010cef70236$var$idsUpdaterMap", "$ff5963eb1fccf552$export$e08e3b67e392101e", "$431fbd86ca7dc216$export$b204af158042fbac", "$431fbd86ca7dc216$export$f21a1ffae260145a", "$3ef42575df84b30b$export$9d1611c77c2fe928", "i", "a", "b", "$bdb11010cef70236$export$cd8c9cb68f842629", "$7215afc6de606d6b$export$de79e2c695e052f3", "$7215afc6de606d6b$var$supportsPreventScroll", "$7215afc6de606d6b$var$getScrollableElements", "$7215afc6de606d6b$var$restoreScrollPosition", "$7215afc6de606d6b$var$supportsPreventScrollCached", "e", "$c87311424ea30a05$var$testUserAgent", "re", "$c87311424ea30a05$var$testPlatform", "$c87311424ea30a05$export$9ac100e40613ea10", "$c87311424ea30a05$export$186c6964ca17d99", "$c87311424ea30a05$export$7bef049ce92e4224", "$c87311424ea30a05$export$fedb369cb70207f1", "$c87311424ea30a05$export$78551043582a6a98", "$c87311424ea30a05$var$testUserAgent", "$c87311424ea30a05$export$6446a186d09e379e", "$c87311424ea30a05$export$a11b0059900ceec8", "$c87311424ea30a05$export$b7d78993b74f766d", "$ea8dcbcb9ea1b556$var$RouterContext", "$12uGp$createContext", "$ea8dcbcb9ea1b556$var$openSyntheticLink", "$ea8dcbcb9ea1b556$export$95185d699e05d4d7", "$c87311424ea30a05$export$b7d78993b74f766d", "$c87311424ea30a05$export$9ac100e40613ea10", "$c87311424ea30a05$export$78551043582a6a98", "$c87311424ea30a05$export$7bef049ce92e4224", "$7215afc6de606d6b$export$de79e2c695e052f3", "$ea8dcbcb9ea1b556$var$getSyntheticLink", "$ea8dcbcb9ea1b556$var$openSyntheticLink", "$bbed8b41f857bcc0$var$transitionsByElement", "$bbed8b41f857bcc0$var$transitionCallbacks", "$bbed8b41f857bcc0$var$setupGlobalEvents", "e", "$bbed8b41f857bcc0$export$24490316f764c430", "$03deb23ff14920c4$export$4eaf04e54aa8eed6", "$12uGp$useRef", "$12uGp$useCallback", "$12uGp$useEffect", "$df56164dff5785e2$export$4338b53315abf666", "$12uGp$useRef", "$12uGp$useMemo", "$e7801be82b4b2a53$export$4debdb1a3f0fa79e", "$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c", "$5df64b3807dc15ee$var$visualViewport", "$6a7db85432448f7f$export$60278871457622de", "$c87311424ea30a05$export$a11b0059900ceec8", "$6a7db85432448f7f$export$29bf1b5f2c56cf63", "$14c0b72509d70225$var$state", "$14c0b72509d70225$var$savedUserSelect", "$14c0b72509d70225$var$modifiedElementMap", "$14c0b72509d70225$export$16a4697467175487", "$c87311424ea30a05$export$fedb369cb70207f1", "$431fbd86ca7dc216$export$b204af158042fbac", "$14c0b72509d70225$export$b0d6fa1ab32e3295", "$bbed8b41f857bcc0$export$24490316f764c430", "$ae1eeba8b9eafd08$export$5165eccb35aaadb5", "$bx7SL$react", "$f6c31cce2adf654f$var$usePressResponderContext", "$bx7SL$useContext", "$3ef42575df84b30b$export$9d1611c77c2fe928", "$e7801be82b4b2a53$export$4debdb1a3f0fa79e", "$f6c31cce2adf654f$var$_shouldStopPropagation", "$f6c31cce2adf654f$var$PressEvent", "$f6c31cce2adf654f$var$LINK_CLICKED", "$f6c31cce2adf654f$export$45712eceda6fad21", "_", "$bx7SL$useState", "$bx7SL$useRef", "$03deb23ff14920c4$export$4eaf04e54aa8eed6", "$8ae05eaa5c114e9c$export$7f54fc3180508a52", "e", "$f6c31cce2adf654f$var$createEvent", "$bx7SL$useMemo", "pressProps", "$f6c31cce2adf654f$var$isValidKeyboardEvent", "$f6c31cce2adf654f$var$shouldPreventDefaultKeyboard", "$c87311424ea30a05$export$9ac100e40613ea10", "$ea8dcbcb9ea1b556$export$95185d699e05d4d7", "$6a7db85432448f7f$export$60278871457622de", "$7215afc6de606d6b$export$de79e2c695e052f3", "$f6c31cce2adf654f$var$isHTMLAnchorLink", "$6a7db85432448f7f$export$29bf1b5f2c56cf63", "$f6c31cce2adf654f$var$shouldPreventDefault", "$f6c31cce2adf654f$var$isOverTarget", "$f6c31cce2adf654f$var$getTouchFromEvent", "$431fbd86ca7dc216$export$f21a1ffae260145a", "$f6c31cce2adf654f$var$getTouchById", "$bx7SL$useEffect", "$f6c31cce2adf654f$var$isValidInputKey", "i", "$f6c31cce2adf654f$var$getPointClientRect", "$f6c31cce2adf654f$var$areRectanglesOverlapping", "a", "b", "$f6c31cce2adf654f$var$nonTextInputTypes", "$3b117e43dc0ca95d$export$27c701ed9e449e99", "$df56164dff5785e2$export$4338b53315abf666", "$f1ab8c75478c6f73$export$3351871ee4b288b8", "$507fabe10e71c6fb$var$currentModality", "$507fabe10e71c6fb$var$changeHandlers", "$507fabe10e71c6fb$var$hasEventBeforeFocus", "$507fabe10e71c6fb$var$hasBlurredWindowRecently", "$507fabe10e71c6fb$var$triggerChangeHandlers", "e", "$507fabe10e71c6fb$var$changeHandlers", "$507fabe10e71c6fb$var$isValidKey", "$c87311424ea30a05$export$9ac100e40613ea10", "$507fabe10e71c6fb$var$handleKeyboardEvent", "$507fabe10e71c6fb$var$hasEventBeforeFocus", "$507fabe10e71c6fb$var$currentModality", "$507fabe10e71c6fb$var$handlePointerEvent", "$507fabe10e71c6fb$var$handleClickEvent", "$6a7db85432448f7f$export$60278871457622de", "$507fabe10e71c6fb$var$handleFocusEvent", "$507fabe10e71c6fb$var$hasBlurredWindowRecently", "$507fabe10e71c6fb$var$handleWindowBlur", "$507fabe10e71c6fb$var$setupGlobalFocusEvents", "e", "$bx7SL$useState", "$bx7SL$useRef", "$bx7SL$useEffect", "$bx7SL$useMemo", "triggerHoverEnd", "hoverProps", "import_react", "import_react", "t", "e", "n", "r", "o", "r", "i", "i", "e", "t", "d", "e", "t", "c", "a", "n", "o", "r", "d", "t", "r", "e", "n", "r", "s", "t", "n", "n", "t", "import_react", "n", "e", "t", "f", "c", "t", "e", "o", "o", "n", "r", "e", "t", "s", "a", "a", "o", "r", "t", "n", "e", "s", "i", "c", "i", "n", "e", "l", "r", "t", "o", "d", "l", "t", "n", "s", "i", "o", "e", "r", "c", "a", "t", "e", "o", "e", "n", "t", "a", "o", "c", "d", "i", "r", "a", "e", "r", "n", "f", "o", "i", "import_react", "p", "e", "o", "s", "import_react", "import_react", "s", "e", "r", "t", "n", "o", "t", "e", "s", "a", "r", "import_react", "f", "t", "e", "i", "o", "c", "n", "r", "import_react", "n", "e", "t", "o", "e", "t", "n", "T", "m", "u", "s", "r", "p", "o", "f", "i", "g", "E", "a", "d", "h", "c", "import_react", "e", "r", "a", "i", "l", "t", "o", "n", "import_react", "t", "r", "n", "u", "r", "n", "a", "e", "t", "a", "k", "e", "r", "n", "s", "t", "l", "i", "o", "x", "y", "f", "d", "u", "p", "c", "T", "b", "F", "m", "j", "N", "P", "w", "S", "E", "E", "e", "l", "p", "a", "i", "o", "t", "s", "T", "n", "f", "r", "m", "d", "y", "P", "u", "import_react", "import_react", "T", "l", "r", "c", "i", "s", "f", "e", "t", "o", "u", "d", "n", "import_react", "t", "s", "r", "t", "o", "l", "e", "n", "o", "I", "t", "n", "l", "e", "u", "import_react", "e", "i", "s", "t", "r", "n", "o", "f", "p", "a", "s", "e", "l", "t", "o", "n", "d", "r", "H", "u", "a", "t", "r", "e", "s", "o", "H", "x", "v", "O", "n", "f", "F", "p", "m", "y", "d", "import_react", "e", "d", "u", "i", "f", "t", "r", "n", "r", "n", "e", "l", "t", "i", "import_react", "import_react", "u", "T", "t", "n", "y", "i", "l", "c", "o", "e", "a", "T", "f", "r", "u", "e", "w", "P", "c", "t", "i", "o", "n", "s", "p", "l", "m", "S", "h", "d", "I", "y", "D", "U", "o", "r", "import_react", "c", "D", "P", "r", "h", "l", "I", "a", "e", "o", "w", "R", "T", "t", "s", "i", "p", "u", "d", "m", "k", "N", "G", "y", "g", "n", "L", "b", "E", "x", "C", "f", "U", "a", "h", "y", "C", "I", "k", "u", "x", "g", "o", "E", "i", "v", "d", "P", "D", "s", "F", "r", "t", "T", "A", "R", "w", "_", "p", "c", "W", "K", "e", "H", "b", "B", "f", "m", "L", "M", "S", "O", "U", "n", "i", "_extends", "i", "memo", "getDeps", "fn", "opts", "deps", "initialDeps", "result", "depTime", "key", "debug", "Date", "now", "newDeps", "depsChanged", "length", "some", "dep", "index", "resultTime", "depEndTime", "Math", "round", "resultEndTime", "resultFpsPercentage", "pad", "str", "num", "String", "console", "info", "max", "min", "onChange", "notUndefined", "value", "msg", "undefined", "Error", "approxEqual", "a", "b", "abs", "defaultKeyExtractor", "index", "defaultRangeExtractor", "range", "start", "Math", "max", "startIndex", "overscan", "end", "min", "endIndex", "count", "arr", "i", "push", "observeElementRect", "instance", "cb", "element", "scrollElement", "handler", "rect", "width", "height", "round", "getBoundingClientRect", "observer", "ResizeObserver", "entries", "entry", "borderBoxSize", "box", "inlineSize", "blockSize", "observe", "unobserve", "observeElementOffset", "instance", "cb", "element", "scrollElement", "handler", "options", "horizontal", "addEventListener", "passive", "removeEventListener", "measureElement", "element", "entry", "instance", "borderBoxSize", "box", "size", "Math", "round", "options", "horizontal", "getBoundingClientRect", "elementScroll", "offset", "instance", "adjustments", "behavior", "toOffset", "scrollElement", "scrollTo", "options", "horizontal", "Virtualizer", "opts", "unsubs", "isScrolling", "isScrollingTimeoutId", "scrollToIndexTimeoutId", "measurementsCache", "itemSizeCache", "Map", "pendingMeasuredCacheIndexes", "scrollDirection", "scrollAdjustments", "measureElementCache", "observer", "_ro", "get", "ResizeObserver", "entries", "forEach", "entry", "_measureElement", "target", "disconnect", "observe", "box", "unobserve", "range", "startIndex", "endIndex", "setOptions", "Object", "key", "value", "_extends", "debug", "initialOffset", "overscan", "paddingStart", "paddingEnd", "scrollPaddingStart", "scrollPaddingEnd", "getItemKey", "defaultKeyExtractor", "rangeExtractor", "defaultRangeExtractor", "onChange", "measureElement", "initialRect", "width", "height", "scrollMargin", "scrollingDelay", "indexAttribute", "initialMeasurementsCache", "lanes", "notify", "cleanup", "filter", "Boolean", "d", "_didMount", "_willUpdate", "getScrollElement", "_scrollToOffset", "scrollOffset", "undefined", "push", "observeElementRect", "rect", "prev", "scrollRect", "maybeNotify", "observeElementOffset", "clearTimeout", "setTimeout", "getSize", "memoOptions", "memo", "count", "getFurthestMeasurement", "measurements", "index", "furthestMeasurementsFound", "furthestMeasurements", "m", "measurement", "has", "lane", "previousFurthestMeasurement", "end", "set", "size", "Array", "from", "values", "sort", "a", "b", "getMeasurements", "min", "length", "Math", "slice", "i", "furthestMeasurement", "start", "measuredSize", "estimateSize", "calculateRange", "outerSize", "initialDeps", "getIndexes", "indexFromElement", "node", "attributeName", "indexStr", "getAttribute", "console", "warn", "parseInt", "item", "cached", "prevNode", "isConnected", "measuredItemSize", "resizeItem", "itemSize", "delta", "info", "getVirtualItems", "indexes", "virtualItems", "k", "len", "getVirtualItemForOffset", "notUndefined", "findNearestBinarySearch", "getOffsetForAlignment", "align", "scrollSizeProp", "scrollSize", "document", "documentElement", "maxOffset", "max", "getOffsetForIndex", "isDynamicMode", "cancelScrollToIndex", "scrollToOffset", "scrollToIndex", "initialAlign", "elementInDOM", "approxEqual", "scrollBy", "getTotalSize", "scrollToFn", "measure", "low", "high", "getCurrentValue", "middle", "currentValue", "getOffset", "useIsomorphicLayoutEffect", "document", "useLayoutEffect", "useEffect", "useVirtualizerBase", "options", "rerender", "useReducer", "resolvedOptions", "onChange", "instance", "React", "useState", "Virtualizer", "setOptions", "_didMount", "_willUpdate", "useVirtualizer", "observeElementRect", "observeElementOffset", "scrollToFn", "elementScroll", "import_react", "import_react", "i", "t", "r", "T", "n", "e", "o", "import_react", "f", "e", "p", "F", "n", "T", "o", "y", "t", "b", "r", "S", "h", "u", "j", "w", "H", "I", "O", "c", "l", "P", "s", "a", "x", "M", "m", "d", "i", "import_react", "d", "e", "r", "n", "o", "s", "m", "t", "u", "import_react", "s", "e", "r", "n", "o", "d", "t", "i", "w", "s", "m", "a", "i", "f", "d", "c", "e", "r", "t", "E", "u", "n", "h", "o", "import_react", "i", "t", "n", "e", "T", "u", "o", "import_react", "t", "e", "u", "o", "r", "n", "import_react", "F", "e", "t", "r", "c", "o", "E", "l", "m", "n", "f", "p", "d", "i", "u", "import_react", "m", "u", "t", "e", "f", "r", "o", "s", "n", "a", "l", "React", "import_react", "getComputedStyle", "v", "bt", "platform", "x", "y", "i", "platform", "placements", "sides", "side", "d", "a", "b", "placement", "overflow", "platform", "x", "y", "min", "max", "platform", "getComputedStyle", "$", "x", "y", "e", "window", "io", "timeoutId", "shift", "flip", "size", "computePosition", "React", "import_react", "a", "b", "i", "platform", "computePosition", "data", "x", "y", "candidateSelectors", "candidateSelector", "join", "NoElement", "Element", "matches", "prototype", "msMatchesSelector", "webkitMatchesSelector", "getRootNode", "element", "_element$getRootNode", "call", "ownerDocument", "focusableCandidateSelector", "candidateSelectors", "concat", "join", "import_react_dom", "React", "index", "offset", "i", "j", "a", "b", "map", "Composite", "e", "CompositeItem", "_extends", "FloatingArrow", "arrow", "d", "isRTL", "l", "FocusGuard", "index", "_extends", "VisuallyHiddenDismiss", "_extends", "FloatingOverlay", "index", "_extends", "useFloating", "open", "index", "node", "_", "index", "e", "d", "j", "import_react", "y", "_", "$", "b", "xe", "e", "t", "ae", "n", "v", "s", "a", "l", "T", "M", "ue", "m", "o", "r", "x", "I", "R", "p", "d", "i", "u", "F", "w", "f", "useFloating", "shift", "flip", "P", "k", "N", "c", "C", "H", "B", "O", "g", "h", "U", "S", "W", "size", "A", "V", "G", "K", "Q", "X", "Y", "L", "D", "import_react", "n", "l", "d", "e", "u", "p", "s", "o", "r", "t", "t", "n", "e", "t", "e", "n", "r", "u", "l", "c", "i", "f", "n", "t", "r", "s", "e", "t", "l", "a", "ce", "e", "n", "p", "f", "b", "r", "o", "i", "c", "v", "T", "d", "A", "fe", "se", "de", "z", "j", "De", "w", "ve", "u", "O", "h", "L", "y", "m", "F", "_", "Ve", "_e", "V", "H", "k", "N", "S", "E", "G", "X", "g", "R", "Oe", "s", "C", "U", "ne", "Te", "W", "ue", "pe", "J", "Q", "Z", "ee", "te", "D", "I", "B", "import_react", "y", "A", "E", "a", "o", "n", "e", "p", "t", "s", "r", "i", "T", "l", "D", "C", "import_react", "import_react", "E", "n", "e", "a", "t", "i", "s", "d", "r", "o", "u", "t", "b", "r", "l", "n", "o", "e", "a", "d", "i", "f", "import_react", "j", "o", "r", "u", "f", "t", "M", "l", "n", "c", "i", "s", "a", "e", "L", "d", "m", "H", "y", "import_react", "e", "r", "a", "c", "l", "o", "t", "import_react", "a", "c", "s", "e", "x", "m", "b", "i", "r", "n", "u", "l", "o", "t", "d", "import_react", "import_react", "f", "e", "r", "n", "import_react", "c", "t", "r", "o", "e", "n", "u", "import_react", "s", "r", "n", "e", "t", "o", "S", "t", "o", "e", "z", "h", "r", "L", "n", "y", "c", "p", "u", "l", "s", "$", "U", "D", "w", "b", "v", "a", "i", "N", "P", "F", "B", "H", "x", "E", "j", "d", "m", "f", "T", "import_react", "import_react_dom", "F", "a", "l", "n", "s", "C", "e", "p", "o", "R", "t", "r", "d", "U", "T", "D", "g", "y", "u", "i", "f", "v", "c", "M", "N", "m", "S", "P", "$", "j", "W", "w", "r", "e", "t", "I", "_e", "F", "z", "a", "i", "n", "u", "Ve", "l", "p", "T", "m", "M", "f", "W", "Oe", "Y", "Q", "A", "d", "c", "re", "y", "g", "$", "j", "b", "ne", "Ce", "Re", "o", "J", "L", "x", "K", "le", "ae", "ie", "G", "h", "se", "pe", "V", "de", "ue", "q", "D", "fe", "ge", "Te", "w", "ce", "E", "De", "H", "S", "me", "ye", "Pe", "P", "X", "Ee", "Ae", "s", "U", "import_react", "import_react", "t", "a", "r", "i", "l", "ae", "t", "e", "u", "n", "F", "x", "k", "L", "M", "V", "H", "ce", "de", "fe", "K", "i", "f", "b", "o", "y", "T", "d", "r", "Z", "c", "a", "p", "D", "P", "m", "A", "S", "R", "s", "De", "N", "G", "I", "j", "E", "U", "h", "q", "w", "z", "ye", "me", "Re", "import_react", "A", "L", "i", "d", "l", "I", "t", "s", "w", "p", "n", "a", "e", "o", "m", "F", "r", "f", "W", "import_react", "y", "E", "r", "o", "l", "a", "e", "s", "i", "d", "w", "p", "t", "_", "import_react", "R", "L", "o", "l", "s", "i", "I", "p", "u", "a", "d", "e", "t", "f", "m", "T", "w", "r", "b", "n", "y", "c", "v", "S", "import_react", "o", "n", "t", "p", "g", "import_react", "import_react", "i", "e", "o", "u", "t", "s", "r", "n", "import_react", "u", "e", "r", "t", "f", "l", "o", "n", "i", "import_react", "a", "o", "e", "r", "i", "n", "t", "u", "f", "l", "g", "s", "c", "t", "l", "r", "o", "e", "u", "n", "g", "import_react", "J", "f", "s", "i", "a", "d", "p", "e", "z", "K", "Q", "I", "l", "c", "L", "h", "E", "T", "F", "m", "O", "y", "r", "n", "b", "H", "$", "D", "M", "u", "_", "j", "C", "t", "v", "N", "x", "S", "o", "w", "V", "pe", "rt", "o", "at", "lt", "t", "ie", "e", "i", "r", "c", "n", "pt", "s", "l", "d", "p", "m", "T", "f", "b", "re", "Y", "X", "Z", "J", "z", "u", "q", "le", "a", "C", "k", "y", "P", "g", "h", "v", "Ae", "Pe", "_", "G", "M", "U", "w", "A", "se", "x", "S", "N", "I", "L", "B", "$", "E", "F", "ae", "fe", "Te", "Le", "be", "xe", "me", "Oe", "ye", "ge", "ve", "D", "O", "ce", "pe", "Ee", "St", "so", "po", "import_react", "import_react", "p", "e", "r", "t", "o", "n", "u", "l", "n", "t", "Q", "e", "r", "a", "s", "i", "l", "u", "m", "c", "d", "M", "f", "p", "J", "ae", "ie", "Ne", "W", "le", "X", "y", "w", "A", "P", "h", "o", "U", "b", "We", "Ke", "D", "F", "I", "xe", "C", "S", "v", "x", "_", "O", "T", "je", "Qe", "Je", "g", "se", "L", "V", "G", "j", "pe", "Ve", "Xe", "$", "$e", "qe", "ze", "Ye", "Ze", "et", "tt", "nt", "rt", "ot", "at", "it", "st", "kt", "import_react", "qe", "f", "ze", "n", "Qe", "e", "l", "u", "de", "Z", "ee", "le", "ce", "ve", "Fe", "ae", "Ze", "et", "tt", "ot", "P", "O", "C", "q", "a", "y", "T", "o", "x", "xe", "me", "t", "p", "A", "s", "k", "m", "d", "i", "b", "h", "E", "c", "F", "r", "v", "M", "g", "L", "R", "_", "K", "te", "j", "$", "I", "w", "B", "D", "J", "rt", "nt", "ye", "G", "H", "lt", "at", "pt", "st", "ut", "it", "Te", "pe", "Me", "ft", "Pt", "dt", "ct", "vt", "Tt", "mt", "import_react", "Ce", "t", "he", "e", "o", "a", "y", "J", "Z", "X", "ee", "z", "q", "Le", "u", "ke", "Fe", "I", "C", "h", "b", "p", "f", "w", "T", "c", "R", "ye", "l", "L", "s", "g", "U", "D", "B", "O", "n", "A", "_", "x", "r", "P", "i", "d", "k", "H", "m", "v", "F", "E", "W", "M", "de", "ue", "ce", "fe", "Te", "me", "G", "Ie", "we", "Ue", "Me", "Se", "He", "dt", "Ne", "We", "ut", "import_react", "B", "G", "o", "n", "a", "d", "I", "p", "u", "c", "e", "t", "m", "f", "T", "w", "r", "b", "l", "y", "s", "E", "P", "S", "g", "i", "j", "import_react", "b", "q", "ye", "$", "Se", "o", "i", "r", "s", "L", "d", "f", "w", "h", "t", "p", "C", "c", "T", "l", "u", "we", "_e", "v", "I", "a", "F", "R", "y", "Q", "S", "Y", "A", "n", "k", "_", "P", "H", "e", "M", "U", "B", "E", "K", "g", "W", "D", "O", "N", "J", "X", "z", "Pe", "Ee", "ge", "De", "Xe", "import_react", "import_react", "b", "n", "r", "o", "c", "u", "f", "s", "H", "a", "e", "i", "t", "r", "s", "a", "n", "t", "c", "e", "l", "o", "i", "u", "C", "d", "f", "Ee", "t", "Le", "l", "Re", "r", "_e", "e", "n", "u", "T", "s", "a", "i", "f", "c", "q", "ne", "h", "re", "z", "V", "De", "Fe", "de", "Se", "R", "y", "d", "ce", "D", "b", "x", "g", "S", "o", "p", "L", "_", "v", "O", "A", "j", "W", "M", "C", "Ie", "he", "ve", "Ce", "Q", "Y", "Z", "ee", "I", "X", "K", "E", "J", "te", "pe", "P", "F", "se", "ie", "Me", "Ge", "we", "Ue", "He", "H", "ke", "Oe", "Ne", "Be", "We", "it", "import_react", "H", "X", "a", "i", "s", "n", "I", "d", "u", "T", "p", "e", "o", "f", "m", "w", "r", "b", "t", "y", "x", "c", "P", "l", "J", "import_react", "import_react", "c", "a", "l", "r", "f", "t", "o", "n", "e", "u", "m", "s", "g", "l", "r", "e", "t", "v", "t", "e", "f", "F", "i", "o", "u", "a", "m", "d", "l", "r", "p", "n", "T", "y", "D", "t", "s", "n", "u", "a", "c", "l", "f", "d", "p", "e", "r", "o", "i", "y", "S", "t", "n", "w", "$", "Se", "r", "ye", "W", "xe", "M", "U", "se", "s", "c", "R", "f", "D", "p", "o", "i", "e", "k", "a", "u", "x", "C", "h", "v", "N", "d", "ee", "Ne", "Pe", "ae", "Re", "pe", "De", "le", "_e", "Q", "Y", "y", "T", "l", "j", "J", "z", "L", "A", "O", "G", "Te", "K", "de", "_", "fe", "g", "me", "I", "B", "P", "ce", "m", "He", "Z", "ue", "Fe", "q", "Le", "qe"]
}
